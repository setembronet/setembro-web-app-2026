{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sergio/Documents/antigravity/setembro.net/site_setembro/src/lib/supabase/server.ts"],"sourcesContent":["import { createServerClient } from \"@supabase/ssr\";\r\nimport { cookies } from \"next/headers\";\r\n\r\nexport async function createClient() {\r\n    const cookieStore = await cookies();\r\n\r\n    return createServerClient(\r\n        process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n        process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n        {\r\n            cookies: {\r\n                getAll() {\r\n                    return cookieStore.getAll();\r\n                },\r\n                setAll(cookiesToSet) {\r\n                    try {\r\n                        cookiesToSet.forEach(({ name, value, options }) =>\r\n                            cookieStore.set(name, value, options)\r\n                        );\r\n                    } catch {\r\n                        // The `setAll` method was called from a Server Component.\r\n                        // This can be ignored if you have middleware refreshing\r\n                        // user sessions.\r\n                    }\r\n                },\r\n            },\r\n        }\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AAAA;AACA;;;AAEO,eAAe;IAClB,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,OAAO,IAAA,+LAAkB,oKAGrB;QACI,SAAS;YACL;gBACI,OAAO,YAAY,MAAM;YAC7B;YACA,QAAO,YAAY;gBACf,IAAI;oBACA,aAAa,OAAO,CAAC,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAC1C,YAAY,GAAG,CAAC,MAAM,OAAO;gBAErC,EAAE,OAAM;gBACJ,0DAA0D;gBAC1D,wDAAwD;gBACxD,iBAAiB;gBACrB;YACJ;QACJ;IACJ;AAER"}},
    {"offset": {"line": 36, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sergio/Documents/antigravity/setembro.net/site_setembro/src/lib/ai/gemini.ts"],"sourcesContent":["// src/lib/ai/gemini.ts\r\n\r\nexport async function generateEmbedding(text: string): Promise<number[] | null> {\r\n    if (!text || text.trim() === '') return null;\r\n\r\n    // Note: In Next.js Server Actions, process.env is securely available.\r\n    const apiKey = process.env.GEMINI_API_KEY;\r\n    if (!apiKey) {\r\n        console.warn(\"GEMINI_API_KEY is not set. Embedding generation will fail.\");\r\n        return null;\r\n    }\r\n\r\n    try {\r\n        const response = await fetch(\r\n            `https://generativelanguage.googleapis.com/v1beta/models/text-embedding-004:embedContent?key=${apiKey}`,\r\n            {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({\r\n                    model: \"models/text-embedding-004\",\r\n                    content: { parts: [{ text }] }\r\n                })\r\n            }\r\n        );\r\n\r\n        if (!response.ok) {\r\n            console.error(\"Gemini API falhou com status:\", response.status);\r\n            return null;\r\n        }\r\n\r\n        const data = await response.json();\r\n\r\n        if (data.embedding && data.embedding.values) {\r\n            return data.embedding.values;\r\n        }\r\n\r\n        return null;\r\n    } catch (error) {\r\n        console.error(\"Failed to generate embedding with Gemini:\", error);\r\n        return null;\r\n    }\r\n}\r\n"],"names":[],"mappings":"AAAA,uBAAuB;;;;;AAEhB,eAAe,kBAAkB,IAAY;IAChD,IAAI,CAAC,QAAQ,KAAK,IAAI,OAAO,IAAI,OAAO;IAExC,sEAAsE;IACtE,MAAM,SAAS,QAAQ,GAAG,CAAC,cAAc;IACzC,IAAI,CAAC,QAAQ;QACT,QAAQ,IAAI,CAAC;QACb,OAAO;IACX;IAEA,IAAI;QACA,MAAM,WAAW,MAAM,MACnB,CAAC,4FAA4F,EAAE,QAAQ,EACvG;YACI,QAAQ;YACR,SAAS;gBAAE,gBAAgB;YAAmB;YAC9C,MAAM,KAAK,SAAS,CAAC;gBACjB,OAAO;gBACP,SAAS;oBAAE,OAAO;wBAAC;4BAAE;wBAAK;qBAAE;gBAAC;YACjC;QACJ;QAGJ,IAAI,CAAC,SAAS,EAAE,EAAE;YACd,QAAQ,KAAK,CAAC,iCAAiC,SAAS,MAAM;YAC9D,OAAO;QACX;QAEA,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,KAAK,SAAS,IAAI,KAAK,SAAS,CAAC,MAAM,EAAE;YACzC,OAAO,KAAK,SAAS,CAAC,MAAM;QAChC;QAEA,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,6CAA6C;QAC3D,OAAO;IACX;AACJ"}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sergio/Documents/antigravity/setembro.net/site_setembro/src/actions/search-posts.ts"],"sourcesContent":["'use server';\r\n\r\nimport { createClient } from '@/lib/supabase/server';\r\nimport { generateEmbedding } from '@/lib/ai/gemini';\r\n\r\nexport type SearchResult = {\r\n    id: string;\r\n    title: string;\r\n    slug: string;\r\n    excerpt: string;\r\n    featured_image: string;\r\n    published_at: string;\r\n    category_id: string;\r\n    semantic_similarity: number;\r\n    keyword_score: number;\r\n};\r\n\r\nexport async function searchPosts(query: string, limit: number = 5): Promise<SearchResult[]> {\r\n    if (!query || query.trim().length === 0) return [];\r\n\r\n    const supabase = await createClient();\r\n\r\n    // 1. Generate an embedding for the user's search query using Gemini (Julia)\r\n    const queryEmbedding = await generateEmbedding(query);\r\n\r\n    // Fallback: If AI fails or doesn't return vector, use zero-vector to run keyword-only search\r\n    const vectorStr = queryEmbedding\r\n        ? `[${queryEmbedding.join(',')}]`\r\n        : `[${new Array(768).fill(0).join(',')}]`;\r\n\r\n    // 2. Call the hybrid search RPC function we created in Supabase\r\n    const { data, error } = await supabase.rpc('search_posts_hybrid', {\r\n        query_embedding: vectorStr,\r\n        query_text: query,\r\n        match_count: limit\r\n    });\r\n\r\n    if (error) {\r\n        console.error(\"Hybrid Search Error:\", error.message);\r\n        return [];\r\n    }\r\n\r\n    return (data as SearchResult[]) || [];\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;;;AAcO,eAAe,YAAY,KAAa,EAAE,QAAgB,CAAC;IAC9D,IAAI,CAAC,SAAS,MAAM,IAAI,GAAG,MAAM,KAAK,GAAG,OAAO,EAAE;IAElD,MAAM,WAAW,MAAM,IAAA,gJAAY;IAEnC,4EAA4E;IAC5E,MAAM,iBAAiB,MAAM,IAAA,+IAAiB,EAAC;IAE/C,6FAA6F;IAC7F,MAAM,YAAY,iBACZ,CAAC,CAAC,EAAE,eAAe,IAAI,CAAC,KAAK,CAAC,CAAC,GAC/B,CAAC,CAAC,EAAE,IAAI,MAAM,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;IAE7C,gEAAgE;IAChE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,SAAS,GAAG,CAAC,uBAAuB;QAC9D,iBAAiB;QACjB,YAAY;QACZ,aAAa;IACjB;IAEA,IAAI,OAAO;QACP,QAAQ,KAAK,CAAC,wBAAwB,MAAM,OAAO;QACnD,OAAO,EAAE;IACb;IAEA,OAAO,AAAC,QAA2B,EAAE;AACzC;;;IA1BsB;;AAAA,+OAAA"}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sergio/Documents/antigravity/setembro.net/site_setembro/src/components/ui/table.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Table = registerClientReference(\n    function() { throw new Error(\"Attempted to call Table() from the server but Table is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/table.tsx <module evaluation>\",\n    \"Table\",\n);\nexport const TableBody = registerClientReference(\n    function() { throw new Error(\"Attempted to call TableBody() from the server but TableBody is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/table.tsx <module evaluation>\",\n    \"TableBody\",\n);\nexport const TableCaption = registerClientReference(\n    function() { throw new Error(\"Attempted to call TableCaption() from the server but TableCaption is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/table.tsx <module evaluation>\",\n    \"TableCaption\",\n);\nexport const TableCell = registerClientReference(\n    function() { throw new Error(\"Attempted to call TableCell() from the server but TableCell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/table.tsx <module evaluation>\",\n    \"TableCell\",\n);\nexport const TableFooter = registerClientReference(\n    function() { throw new Error(\"Attempted to call TableFooter() from the server but TableFooter is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/table.tsx <module evaluation>\",\n    \"TableFooter\",\n);\nexport const TableHead = registerClientReference(\n    function() { throw new Error(\"Attempted to call TableHead() from the server but TableHead is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/table.tsx <module evaluation>\",\n    \"TableHead\",\n);\nexport const TableHeader = registerClientReference(\n    function() { throw new Error(\"Attempted to call TableHeader() from the server but TableHeader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/table.tsx <module evaluation>\",\n    \"TableHeader\",\n);\nexport const TableRow = registerClientReference(\n    function() { throw new Error(\"Attempted to call TableRow() from the server but TableRow is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/table.tsx <module evaluation>\",\n    \"TableRow\",\n);\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,QAAQ,IAAA,wQAAuB,EACxC;IAAa,MAAM,IAAI,MAAM;AAA0N,GACvP,6DACA;AAEG,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,6DACA;AAEG,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,6DACA;AAEG,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,6DACA;AAEG,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,6DACA;AAEG,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,6DACA;AAEG,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,6DACA;AAEG,MAAM,WAAW,IAAA,wQAAuB,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,6DACA","ignoreList":[0]}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sergio/Documents/antigravity/setembro.net/site_setembro/src/components/ui/table.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const Table = registerClientReference(\n    function() { throw new Error(\"Attempted to call Table() from the server but Table is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/table.tsx\",\n    \"Table\",\n);\nexport const TableBody = registerClientReference(\n    function() { throw new Error(\"Attempted to call TableBody() from the server but TableBody is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/table.tsx\",\n    \"TableBody\",\n);\nexport const TableCaption = registerClientReference(\n    function() { throw new Error(\"Attempted to call TableCaption() from the server but TableCaption is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/table.tsx\",\n    \"TableCaption\",\n);\nexport const TableCell = registerClientReference(\n    function() { throw new Error(\"Attempted to call TableCell() from the server but TableCell is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/table.tsx\",\n    \"TableCell\",\n);\nexport const TableFooter = registerClientReference(\n    function() { throw new Error(\"Attempted to call TableFooter() from the server but TableFooter is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/table.tsx\",\n    \"TableFooter\",\n);\nexport const TableHead = registerClientReference(\n    function() { throw new Error(\"Attempted to call TableHead() from the server but TableHead is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/table.tsx\",\n    \"TableHead\",\n);\nexport const TableHeader = registerClientReference(\n    function() { throw new Error(\"Attempted to call TableHeader() from the server but TableHeader is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/table.tsx\",\n    \"TableHeader\",\n);\nexport const TableRow = registerClientReference(\n    function() { throw new Error(\"Attempted to call TableRow() from the server but TableRow is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/ui/table.tsx\",\n    \"TableRow\",\n);\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,QAAQ,IAAA,wQAAuB,EACxC;IAAa,MAAM,IAAI,MAAM;AAA0N,GACvP,yCACA;AAEG,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,yCACA;AAEG,MAAM,eAAe,IAAA,wQAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,yCACA;AAEG,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,yCACA;AAEG,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,yCACA;AAEG,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,yCACA;AAEG,MAAM,cAAc,IAAA,wQAAuB,EAC9C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,yCACA;AAEG,MAAM,WAAW,IAAA,wQAAuB,EAC3C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,yCACA","ignoreList":[0]}},
    {"offset": {"line": 221, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 229, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sergio/Documents/antigravity/setembro.net/site_setembro/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,sKAAO,EAAC,IAAA,6IAAI,EAAC;AACtB"}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sergio/Documents/antigravity/setembro.net/site_setembro/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { Slot } from \"radix-ui\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        xs: \"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-xs\": \"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant = \"default\",\n  size = \"default\",\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot.Root : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      data-variant={variant}\n      data-size={size}\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,uKAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,UAAU,SAAS,EACnB,OAAO,SAAS,EAChB,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,uOAAI,CAAC,IAAI,GAAG;IAEnC,qBACE,8OAAC;QACC,aAAU;QACV,gBAAc;QACd,aAAW;QACX,WAAW,IAAA,yHAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 307, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sergio/Documents/antigravity/setembro.net/site_setembro/src/app/admin/categories/actions.ts"],"sourcesContent":["\r\n'use server'\r\n\r\nimport { createClient } from \"@/lib/supabase/server\";\r\nimport { revalidatePath } from \"next/cache\";\r\nimport { redirect } from \"next/navigation\";\r\nimport { z } from \"zod\";\r\n\r\nconst CategorySchema = z.object({\r\n    name: z.string().min(1, \"Nome é obrigatório\"),\r\n    slug: z.string().min(1, \"Slug é obrigatório\").regex(/^[a-z0-9-]+$/, \"Slug deve conter apenas letras minúsculas, números e hífens\"),\r\n    description: z.string().optional(),\r\n});\r\n\r\nexport async function createCategory(prevState: any, formData: FormData) {\r\n    const supabase = await createClient();\r\n\r\n    const validatedFields = CategorySchema.safeParse({\r\n        name: formData.get(\"name\"),\r\n        slug: formData.get(\"slug\"),\r\n        description: formData.get(\"description\"),\r\n    });\r\n\r\n    if (!validatedFields.success) {\r\n        return {\r\n            errors: validatedFields.error.flatten().fieldErrors,\r\n            message: \"Erro nos campos. Verifique o formulário.\",\r\n        };\r\n    }\r\n\r\n    const { name, slug, description } = validatedFields.data;\r\n\r\n    try {\r\n        const { error } = await supabase\r\n            .from(\"categories\")\r\n            .insert({ name, slug, description });\r\n\r\n        if (error) {\r\n            if (error.code === '23505') { // Unique violation for slug\r\n                return { message: \"Este slug já está sendo usado.\" };\r\n            }\r\n            return { message: \"Erro ao criar categoria: \" + error.message };\r\n        }\r\n    } catch (error) {\r\n        return { message: \"Erro inesperado.\" };\r\n    }\r\n\r\n    revalidatePath(\"/admin/categories\");\r\n    redirect(\"/admin/categories\");\r\n}\r\n\r\nexport async function updateCategory(id: string, prevState: any, formData: FormData) {\r\n    const supabase = await createClient();\r\n\r\n    const validatedFields = CategorySchema.safeParse({\r\n        name: formData.get(\"name\"),\r\n        slug: formData.get(\"slug\"),\r\n        description: formData.get(\"description\"),\r\n    });\r\n\r\n    if (!validatedFields.success) {\r\n        return {\r\n            errors: validatedFields.error.flatten().fieldErrors,\r\n            message: \"Erro nos campos. Verifique o formulário.\",\r\n        };\r\n    }\r\n\r\n    const { name, slug, description } = validatedFields.data;\r\n\r\n    try {\r\n        const { error } = await supabase\r\n            .from(\"categories\")\r\n            .update({ name, slug, description, updated_at: new Date().toISOString() })\r\n            .eq(\"id\", id);\r\n\r\n        if (error) {\r\n            if (error.code === '23505') { // Unique violation for slug\r\n                return { message: \"Este slug já está sendo usado.\" };\r\n            }\r\n            return { message: \"Erro ao atualizar categoria: \" + error.message };\r\n        }\r\n    } catch (error) {\r\n        return { message: \"Erro inesperado.\" };\r\n    }\r\n\r\n    revalidatePath(\"/admin/categories\");\r\n    revalidatePath(`/admin/categories/${id}`);\r\n    redirect(\"/admin/categories\");\r\n}\r\n\r\nexport async function deleteCategory(id: string) {\r\n    const supabase = await createClient();\r\n\r\n    try {\r\n        const { error } = await supabase\r\n            .from(\"categories\")\r\n            .delete()\r\n            .eq(\"id\", id);\r\n\r\n        if (error) throw error;\r\n\r\n        revalidatePath(\"/admin/categories\");\r\n        return { message: \"Categoria removida com sucesso.\" };\r\n    } catch (error) {\r\n        return { message: \"Erro ao remover categoria. Verifique se existem posts vinculados.\" };\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 438, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sergio/Documents/antigravity/setembro.net/site_setembro/src/app/admin/categories/page.tsx"],"sourcesContent":["\r\nimport { createClient } from \"@/lib/supabase/server\";\r\nimport {\r\n    Table,\r\n    TableBody,\r\n    TableCell,\r\n    TableHead,\r\n    TableHeader,\r\n    TableRow,\r\n} from \"@/components/ui/table\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { PlusCircle, Edit, Trash } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { deleteCategory } from \"./actions\";\r\n\r\nexport default async function CategoriesPage() {\r\n    const supabase = await createClient();\r\n    const { data: categories } = await supabase\r\n        .from(\"categories\")\r\n        .select(\"*\")\r\n        .order(\"name\");\r\n\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <h1 className=\"text-3xl font-bold tracking-tight\">Categorias</h1>\r\n                    <p className=\"text-muted-foreground\">Gerencie as categorias do blog.</p>\r\n                </div>\r\n                <Button asChild>\r\n                    <Link href=\"/admin/categories/new\">\r\n                        <PlusCircle className=\"mr-2 h-4 w-4\" />\r\n                        Nova Categoria\r\n                    </Link>\r\n                </Button>\r\n            </div>\r\n\r\n            <div className=\"rounded-md border bg-card\">\r\n                <Table>\r\n                    <TableHeader>\r\n                        <TableRow>\r\n                            <TableHead>Nome</TableHead>\r\n                            <TableHead>Slug</TableHead>\r\n                            <TableHead>Descrição</TableHead>\r\n                            <TableHead className=\"text-right\">Ações</TableHead>\r\n                        </TableRow>\r\n                    </TableHeader>\r\n                    <TableBody>\r\n                        {categories && categories.length > 0 ? (\r\n                            categories.map((category) => (\r\n                                <TableRow key={category.id}>\r\n                                    <TableCell className=\"font-medium\">{category.name}</TableCell>\r\n                                    <TableCell>{category.slug}</TableCell>\r\n                                    <TableCell className=\"max-w-md truncate\">{category.description || '-'}</TableCell>\r\n                                    <TableCell className=\"text-right\">\r\n                                        <div className=\"flex justify-end gap-2\">\r\n                                            <Link href={`/admin/categories/${category.id}`}>\r\n                                                <div className=\"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10\">\r\n                                                    <Edit className=\"h-4 w-4\" />\r\n                                                </div>\r\n                                            </Link>\r\n                                            <form action={async () => {\r\n                                                'use server';\r\n                                                await deleteCategory(category.id);\r\n                                            }}>\r\n                                                <Button\r\n                                                    size=\"icon\"\r\n                                                    variant=\"ghost\"\r\n                                                    className=\"text-red-500 hover:text-red-700 hover:bg-red-50\"\r\n                                                    type=\"submit\"\r\n                                                >\r\n                                                    <Trash className=\"h-4 w-4\" />\r\n                                                </Button>\r\n                                            </form>\r\n                                        </div>\r\n                                    </TableCell>\r\n                                </TableRow>\r\n                            ))\r\n                        ) : (\r\n                            <TableRow>\r\n                                <TableCell colSpan={4} className=\"h-24 text-center\">\r\n                                    Nenhuma categoria encontrada.\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        )}\r\n                    </TableBody>\r\n                </Table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;+HACA;AACA;AAQA;AACA;AAAA;AAAA;AACA;AACA;;;;;;;;;;MAgD0D,uCAAR;;IAEF,MAAM,IAAA,8JAAc;AACxB;AAHc,+OAAA;AA9C3C,eAAe;IAC1B,MAAM,WAAW,MAAM,IAAA,gJAAY;IACnC,MAAM,EAAE,MAAM,UAAU,EAAE,GAAG,MAAM,SAC9B,IAAI,CAAC,cACL,MAAM,CAAC,KACP,KAAK,CAAC;IAEX,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;;0CACG,8OAAC;gCAAG,WAAU;0CAAoC;;;;;;0CAClD,8OAAC;gCAAE,WAAU;0CAAwB;;;;;;;;;;;;kCAEzC,8OAAC,4IAAM;wBAAC,OAAO;kCACX,cAAA,8OAAC,0LAAI;4BAAC,MAAK;;8CACP,8OAAC,gOAAU;oCAAC,WAAU;;;;;;gCAAiB;;;;;;;;;;;;;;;;;;0BAMnD,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC,0IAAK;;sCACF,8OAAC,gJAAW;sCACR,cAAA,8OAAC,6IAAQ;;kDACL,8OAAC,8IAAS;kDAAC;;;;;;kDACX,8OAAC,8IAAS;kDAAC;;;;;;kDACX,8OAAC,8IAAS;kDAAC;;;;;;kDACX,8OAAC,8IAAS;wCAAC,WAAU;kDAAa;;;;;;;;;;;;;;;;;sCAG1C,8OAAC,8IAAS;sCACL,cAAc,WAAW,MAAM,GAAG,IAC/B,WAAW,GAAG,CAAC,CAAC,yBACZ,8OAAC,6IAAQ;;sDACL,8OAAC,8IAAS;4CAAC,WAAU;sDAAe,SAAS,IAAI;;;;;;sDACjD,8OAAC,8IAAS;sDAAE,SAAS,IAAI;;;;;;sDACzB,8OAAC,8IAAS;4CAAC,WAAU;sDAAqB,SAAS,WAAW,IAAI;;;;;;sDAClE,8OAAC,8IAAS;4CAAC,WAAU;sDACjB,cAAA,8OAAC;gDAAI,WAAU;;kEACX,8OAAC,0LAAI;wDAAC,MAAM,CAAC,kBAAkB,EAAE,SAAS,EAAE,EAAE;kEAC1C,cAAA,8OAAC;4DAAI,WAAU;sEACX,cAAA,8OAAC,mNAAI;gEAAC,WAAU;;;;;;;;;;;;;;;;kEAGxB,8OAAC;wDAAK,MAAM,EAAE;kEAIV,cAAA,8OAAC,4IAAM;4DACH,MAAK;4DACL,SAAQ;4DACR,WAAU;4DACV,MAAK;sEAEL,cAAA,8OAAC,6MAAK;gEAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;mCArBtB,SAAS,EAAE;;;;0DA6B9B,8OAAC,6IAAQ;0CACL,cAAA,8OAAC,8IAAS;oCAAC,SAAS;oCAAG,WAAU;8CAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUpF"}},
    {"offset": {"line": 713, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Sergio/Documents/antigravity/setembro.net/site_setembro/.next-internal/server/app/admin/categories/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {searchPosts as '6001eda03d383734b42166c9fafa36b61d552e9557'} from 'ACTIONS_MODULE0'\nexport {$$RSC_SERVER_ACTION_0 as '40d9aa354994903aa271857329b75d8eae47ed2eb6'} from 'ACTIONS_MODULE1'\nexport {deleteCategory as '4036c84ba34f23d9a6b0f4e7d8651b67a6b8ecd753'} from 'ACTIONS_MODULE2'\nexport {createCategory as '600b019fec858fef1d1b58feeb27d88c87391ec24a'} from 'ACTIONS_MODULE2'\nexport {updateCategory as '708827be12ebf1fc0288d8ece1c4ee73c0c2f1067d'} from 'ACTIONS_MODULE2'\n"],"names":[],"mappings":";AAAA;AACA;AACA"}}]
}