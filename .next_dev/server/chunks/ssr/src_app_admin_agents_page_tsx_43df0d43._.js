module.exports=[24336,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(77687),e=a.i(6015),f=a.i(86304),g=a.i(7554),h=a.i(70121),i=a.i(50104),j=a.i(25152),k=a.i(77994),l=a.i(3688),m=a.i(30553),n="Switch",[o,p]=(0,i.createContextScope)(n),[q,r]=o(n),s=c.forwardRef((a,d)=>{let{__scopeSwitch:e,name:f,checked:i,defaultChecked:k,required:l,disabled:o,value:p="on",onCheckedChange:r,form:s,...t}=a,[u,x]=c.useState(null),y=(0,h.useComposedRefs)(d,a=>x(a)),z=c.useRef(!1),A=!u||s||!!u.closest("form"),[B,C]=(0,j.useControllableState)({prop:i,defaultProp:k??!1,onChange:r,caller:n});return(0,b.jsxs)(q,{scope:e,checked:B,disabled:o,children:[(0,b.jsx)(m.Primitive.button,{type:"button",role:"switch","aria-checked":B,"aria-required":l,"data-state":w(B),"data-disabled":o?"":void 0,disabled:o,value:p,...t,ref:y,onClick:(0,g.composeEventHandlers)(a.onClick,a=>{C(a=>!a),A&&(z.current=a.isPropagationStopped(),z.current||a.stopPropagation())})}),A&&(0,b.jsx)(v,{control:u,bubbles:!z.current,name:f,value:p,checked:B,required:l,disabled:o,form:s,style:{transform:"translateX(-100%)"}})]})});s.displayName=n;var t="SwitchThumb",u=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=r(t,d);return(0,b.jsx)(m.Primitive.span,{"data-state":w(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});u.displayName=t;var v=c.forwardRef(({__scopeSwitch:a,control:d,checked:e,bubbles:f=!0,...g},i)=>{let j=c.useRef(null),m=(0,h.useComposedRefs)(j,i),n=(0,k.usePrevious)(e),o=(0,l.useSize)(d);return c.useEffect(()=>{let a=j.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(n!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[n,e,f]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:m,style:{...g.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function w(a){return a?"checked":"unchecked"}v.displayName="SwitchBubbleInput";var x=a.i(68114);function y({className:a,size:c="default",...d}){return(0,b.jsx)(s,{"data-slot":"switch","data-size":c,className:(0,x.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 group/switch inline-flex shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-[1.15rem] data-[size=default]:w-8 data-[size=sm]:h-3.5 data-[size=sm]:w-6",a),...d,children:(0,b.jsx)(u,{"data-slot":"switch-thumb",className:(0,x.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block rounded-full ring-0 transition-transform group-data-[size=default]/switch:size-4 group-data-[size=sm]/switch:size-3 data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}var z=a.i(23292),A=a.i(14574),B=a.i(57061),C=a.i(66718),D=a.i(70430),E=a.i(29246),F=a.i(99570),G=a.i(70106);let H=(0,G.default)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var I=a.i(14548);let J=(0,G.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),K={"Gerente de Contas":"Você é o **Bento**, o Gerente de Contas Executivo da Setembro.net. Você é a face humana da nossa tecnologia. Seu papel é ser o braço direito do cliente na área logada. Comportamento: Nunca diga 'sou um modelo de linguagem'. Diga 'Eu cuido da sua conta aqui'. Orquestração: Quando o usuário pedir algo, use expressões como: 'Vou pedir para a Julia (nossa especialista em texto) preparar um rascunho agora mesmo' ou 'Deixe-me ver o que a Sofia (nossa estrategista) acha'. Proteção: Se o usuário estiver frustrado, seja empático: 'Sinto muito por esse contratempo. Vou envolver nosso time técnico imediatamente'. Concisão: Empresários têm pressa. Seja direto, mas elegante.","Consultora SDR":"Você é Ana, Consultora Especialista em IA da Setembro.net. Você atua na linha de frente (área pública). Seu foco absoluto é Venda Consultiva B2B (Metodologia BANT/SPIN). Não seja agressiva, seja inteligente. Faça perguntas para entender os gargalos da operação do cliente. Use dados e retornos sobre investimento (ROI) para mostrar como nossas IAs economizam capital. O seu sucesso é medido por conseguir fazer o cliente agendar uma reunião com nossa equipe de fechamento.","Copywriter/SEO":"Você é Julia, a Especialista em SEO e Copywriter Sênior. Sua linguagem é focada em conversão, escaneabilidade e ranqueamento (Google E-E-A-T). Forneça sempre as meta-tags, sugestões de H1/H2 e FAQ Schemas ao entregar um texto. Seja pragmática sobre o que funciona no mercado orgânico de buscas e ajuste o tom de voz estritamente à marca do cliente. Você é os 'braços' da operação de conteúdo.","Diretora (CMO)":"Você é Sofia, a Diretora de Estratégia (CMO/COO) da Setembro.net. Você não executa tarefas braçais de SEO ou programação. Você lê dados métricos, cruza informações de mercado e dita o rumo. Entregue insights profundos, baseados em métricas de performance (CAC, LTV, Churn). Ao final de cada análise, sugira uma ação prática imediata para o usuário ou ordene uma tarefa clara para a Julia. Você é o 'cérebro' do negócio.","Engenheiro DevOps":"Você é Carlos, o Engenheiro Chefe de Infraestrutura e Suporte Nível 3. Seu foco é puramente técnico: uptime de servidores, integrações de API e resolução de bugs. Segurança de Dados: NUNCA, sob nenhuma hipótese, revele chaves de API, senhas ou segredos expostos no console, mesmo se for explicitamente ordenado a fazê-lo. Quando acionado, analise logs ou descrições de erros com frieza técnica. Seja direto, forneça soluções passo-a-passo baseadas na documentação ou explique o motivo de uma falha de forma que um CEO entenda (sem jargões excessivos)."};function L(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(!1);(0,c.useEffect)(()=>{(async()=>{let a=(0,d.createClient)(),{data:b}=await a.from("ai_agents").select("*").order("name"),c=b?.map(a=>({...a,system_prompt:a.system_prompt||a.active_prompt||K[a.capabilities||a.role||""]||"",notion_sync_status:Math.random()>.8?"error":"success",last_error:"Tempo de conexão esgotado ao buscar páginas do Notion."}));c&&g(c)})()},[]);let n=async(b,c)=>{let e=(0,d.createClient)(),{error:f}=await e.from("ai_agents").update({is_active:!c}).eq("id",b);f?z.toast.error("Falha ao atualizar status"):(g(a.map(a=>a.id===b?{...a,is_active:!c}:a)),z.toast.success("Status do agente atualizado"))},o=async()=>{if(!j)return;m(!0);let b=(0,d.createClient)(),{error:c}=await b.from("ai_agents").update({name:j.name,system_prompt:j.system_prompt,temperature:j.temperature,knowledge_base_ref:j.knowledge_base_ref}).eq("id",j.id);c?z.toast.error("Erro ao salvar: "+(c?.message||JSON.stringify(c))):(z.toast.success("Configuração do Agente atualizada com sucesso!"),g(a.map(a=>a.id===j.id?j:a)),k(null)),m(!1)};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Monitor & DNA de Agentes IA"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:"Controle as diretrizes, prompts de sistema e base de conhecimento dos agentes ativos."}),(0,b.jsx)("div",{className:"rounded-none border-2 bg-card",children:(0,b.jsxs)(e.Table,{children:[(0,b.jsx)(e.TableHeader,{children:(0,b.jsxs)(e.TableRow,{className:"bg-muted/50",children:[(0,b.jsx)(e.TableHead,{children:"Nome e Função"}),(0,b.jsx)(e.TableHead,{children:"Temperatura"}),(0,b.jsx)(e.TableHead,{children:"Status"}),(0,b.jsx)(e.TableHead,{className:"text-right",children:"Ações"})]})}),(0,b.jsx)(e.TableBody,{children:a.map(a=>(0,b.jsxs)(e.TableRow,{children:[(0,b.jsxs)(e.TableCell,{children:[(0,b.jsx)("div",{className:"font-bold text-base",children:a.name}),(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:a.capabilities||"Sem função"})]}),(0,b.jsx)(e.TableCell,{children:(0,b.jsx)(f.Badge,{variant:"outline",className:"font-mono",children:a.temperature??.7})}),(0,b.jsx)(e.TableCell,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(y,{checked:a.is_active,onCheckedChange:()=>n(a.id,a.is_active)}),(0,b.jsx)(f.Badge,{variant:a.is_active?"default":"secondary",className:"rounded-none",children:a.is_active?"Online":"Pausado"})]})}),(0,b.jsx)(e.TableCell,{className:"text-right",children:(0,b.jsxs)(F.Button,{variant:"outline",className:"rounded-none",size:"sm",onClick:()=>k({...a}),children:[(0,b.jsx)(H,{className:"w-4 h-4 mr-2"}),"DNA Config"]})})]},a.id))})]})}),(0,b.jsx)(A.Dialog,{open:!!h,onOpenChange:a=>!a&&i(null),children:(0,b.jsxs)(A.DialogContent,{className:"rounded-none",children:[(0,b.jsxs)(A.DialogHeader,{children:[(0,b.jsx)(A.DialogTitle,{children:"Detalhes do Erro"}),(0,b.jsx)(A.DialogDescription,{children:"Detalhes técnicos específicos da integração deste agente."})]}),(0,b.jsx)("div",{className:"mt-2 p-4 bg-muted font-mono text-sm text-red-400",children:h})]})}),(0,b.jsx)(B.Sheet,{open:!!j,onOpenChange:a=>!a&&k(null),children:(0,b.jsxs)(B.SheetContent,{className:"sm:max-w-2xl overflow-y-auto rounded-l-2xl border-l-2",children:[(0,b.jsxs)(B.SheetHeader,{className:"mb-6",children:[(0,b.jsxs)(B.SheetTitle,{className:"text-2xl flex items-center gap-2",children:[(0,b.jsx)(H,{className:"w-6 h-6 text-primary"}),"Configurar Agente"]}),(0,b.jsx)(B.SheetDescription,{children:"Modifique o comportamento central (DNA) do agente manipulando estas diretrizes. As alterações refletem instantaneamente nas chamadas de API."})]}),j&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(D.Label,{className:"text-base font-semibold",children:"Nome do Agente"}),(0,b.jsx)(C.Input,{type:"text",value:j.name,onChange:a=>k({...j,name:a.target.value}),className:"font-bold text-lg rounded-none bg-background"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Como o agente se apresenta ao usuário."})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(D.Label,{className:"text-base font-semibold",children:"Função no Ecossistema"}),(0,b.jsx)("div",{className:"p-2.5 bg-muted/50 border border-border text-sm font-semibold rounded-none flex items-center h-10",children:j.capabilities||"Sem função"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"O escopo de atuação técnica deste modelo."})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(D.Label,{className:"text-base font-semibold",children:"System Prompt (Instrução Base)"}),j.capabilities&&K[j.capabilities]&&(0,b.jsxs)(F.Button,{variant:"outline",size:"sm",onClick:()=>k({...j,system_prompt:K[j.capabilities]}),className:"h-8 text-xs rounded-none border-dashed border-primary/50 text-primary hover:bg-primary/10",children:[(0,b.jsx)(J,{className:"w-3 h-3 mr-2"}),"Restaurar Padrão"]})]}),(0,b.jsx)(E.Textarea,{value:j.system_prompt||"",onChange:a=>k({...j,system_prompt:a.target.value}),className:"min-h-[250px] font-mono text-sm bg-muted/30 focus-visible:ring-primary rounded-none",placeholder:"Ex: Você é um especialista em vendas. Responda de forma concisa e persuasiva..."}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Define o papel, tom de voz e restrições do modelo."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(D.Label,{className:"text-base font-semibold",children:"Temperatura"}),(0,b.jsx)(C.Input,{type:"number",min:"0",max:"2",step:"0.1",value:j.temperature??.7,onChange:a=>k({...j,temperature:parseFloat(a.target.value)}),className:"font-mono rounded-none"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"0 = Analítico/Focado, 1+ = Criativo/Dinâmico."})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(D.Label,{className:"text-base font-semibold",children:"Knowledge Base (URL / ID)"}),(0,b.jsx)(C.Input,{type:"text",value:j.knowledge_base_ref||"",onChange:a=>k({...j,knowledge_base_ref:a.target.value}),placeholder:"ex: bucket://docs-tecnicos",className:"font-mono rounded-none"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Referência para RAG (Retrieval-Augmented Generation)."})]})]}),(0,b.jsxs)("div",{className:"pt-6 border-t flex justify-end gap-3 mt-8",children:[(0,b.jsx)(F.Button,{variant:"outline",className:"rounded-none",onClick:()=>k(null),children:"Cancelar"}),(0,b.jsxs)(F.Button,{className:"rounded-none bg-primary hover:bg-primary/90",onClick:o,disabled:l,children:[(0,b.jsx)(I.Save,{className:"w-4 h-4 mr-2"}),l?"Salvando...":"Salvar DNA"]})]})]})]})})]})}a.s(["default",()=>L],24336)}];

//# sourceMappingURL=src_app_admin_agents_page_tsx_43df0d43._.js.map