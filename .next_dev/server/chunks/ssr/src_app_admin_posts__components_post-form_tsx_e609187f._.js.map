{"version":3,"sources":["../../../../src/app/admin/posts/_components/post-form.tsx","../../../../node_modules/zod/v4/core/registries.js","../../../../src/components/ui/form.tsx","../../../../node_modules/%40radix-ui/number/dist/index.mjs","../../../../node_modules/%40radix-ui/react-select/dist/index.mjs","../../../../src/components/ui/select.tsx","../../../../src/app/admin/posts/_components/seo-field.tsx","../../../../node_modules/%40radix-ui/react-progress/dist/index.mjs","../../../../src/components/ui/progress.tsx","../../../../node_modules/orderedmap/dist/index.js","../../../../node_modules/%40tiptap/core/dist/index.js","../../../../node_modules/%40tiptap/core/dist/jsx-runtime/jsx-runtime.js","../../../../node_modules/linkifyjs/dist/linkify.mjs","../../../../node_modules/%40tiptap/extension-list/dist/index.js","../../../../node_modules/rope-sequence/dist/index.js","../../../../node_modules/%40radix-ui/react-toggle/dist/index.mjs","../../../../src/components/ui/toggle.tsx","../../../../src/components/ui/rich-text-editor.tsx","../../../../node_modules/src/utils.ts","../../../../node_modules/zod/v4/core/doc.js","../../../../node_modules/zod/v4/core/versions.js","../../../../node_modules/w3c-keyname/index.js","../../../../node_modules/%40hookform/resolvers/src/validateFieldsNatively.ts","../../../../node_modules/%40hookform/resolvers/zod/dist/zod.mjs","../../../../node_modules/%40hookform/resolvers/src/toNestErrors.ts","../../../../node_modules/zod/v4/locales/eo.js","../../../../node_modules/zod/v4/locales/is.js","../../../../node_modules/zod/v4/locales/it.js","../../../../node_modules/zod/v4/locales/ja.js","../../../../node_modules/zod/v4/locales/ka.js","../../../../node_modules/zod/v4/locales/km.js","../../../../node_modules/zod/v4/locales/ko.js","../../../../node_modules/zod/v4/locales/lt.js","../../../../node_modules/zod/v4/locales/mk.js","../../../../node_modules/zod/v4/locales/ms.js","../../../../node_modules/zod/v4/locales/nl.js","../../../../node_modules/zod/v4/locales/no.js","../../../../node_modules/zod/v4/locales/ota.js","../../../../node_modules/zod/v4/locales/ps.js","../../../../node_modules/zod/v4/locales/pl.js","../../../../node_modules/zod/v4/locales/pt.js","../../../../node_modules/zod/v4/locales/ru.js","../../../../node_modules/zod/v4/locales/sl.js","../../../../node_modules/zod/v4/locales/sv.js","../../../../node_modules/zod/v4/locales/ta.js","../../../../node_modules/zod/v4/locales/th.js","../../../../node_modules/zod/v4/locales/tr.js","../../../../node_modules/zod/v4/locales/uk.js","../../../../node_modules/zod/v4/locales/ur.js","../../../../node_modules/zod/v4/locales/uz.js","../../../../node_modules/zod/v4/locales/vi.js","../../../../node_modules/zod/v4/locales/zh-CN.js","../../../../node_modules/zod/v4/locales/zh-TW.js","../../../../node_modules/zod/v4/locales/yo.js","../../../../node_modules/zod/v4/locales/en.js","../../../../node_modules/zod/v4/locales/de.js","../../../../node_modules/zod/v4/locales/es.js","../../../../node_modules/zod/v4/locales/fa.js","../../../../node_modules/zod/v4/locales/fi.js","../../../../node_modules/zod/v4/locales/fr.js","../../../../node_modules/zod/v4/locales/fr-CA.js","../../../../node_modules/zod/v4/locales/ar.js","../../../../node_modules/zod/v4/locales/az.js","../../../../node_modules/zod/v4/locales/be.js","../../../../node_modules/zod/v4/locales/he.js","../../../../node_modules/zod/v4/locales/hu.js","../../../../node_modules/zod/v4/locales/hy.js","../../../../src/app/admin/posts/_components/faq-manager.tsx","../../../../node_modules/zod/v4/locales/ca.js","../../../../node_modules/zod/v4/locales/cs.js","../../../../node_modules/zod/v4/locales/bg.js","../../../../node_modules/zod/v4/locales/da.js","../../../../node_modules/zod/v4/locales/id.js","../../../../node_modules/zod/v4/core/core.js","../../../../node_modules/zod/v4/core/util.js","../../../../node_modules/zod/v4/core/regexes.js","../../../../node_modules/zod/v4/core/errors.js","../../../../node_modules/zod/v4/core/json-schema-processors.js","../../../../src/app/admin/posts/_components/seo-score.tsx","../../../../node_modules/prosemirror-model/dist/index.js","../../../../node_modules/prosemirror-transform/dist/index.js","../../../../node_modules/%40tiptap/extension-code/dist/index.js","../../../../node_modules/%40tiptap/extension-document/dist/index.js","../../../../node_modules/%40tiptap/extension-hard-break/dist/index.js","../../../../node_modules/%40tiptap/extension-heading/dist/index.js","../../../../node_modules/%40tiptap/extension-italic/dist/index.js","../../../../node_modules/%40tiptap/extension-paragraph/dist/index.js","../../../../node_modules/%40tiptap/extension-strike/dist/index.js","../../../../node_modules/%40tiptap/extension-text/dist/index.js","../../../../node_modules/%40tiptap/extension-underline/dist/index.js","../../../../node_modules/%40tiptap/extension-image/dist/index.js","../../../../node_modules/%40tiptap/extension-text-align/dist/index.js","../../../../node_modules/zod/v4/classic/parse.js","../../../../node_modules/zod/v4/classic/iso.js","../../../../node_modules/zod/v4/locales/kh.js","../../../../node_modules/zod/v4/locales/ua.js","../../../../node_modules/%40tiptap/extension-placeholder/dist/index.js","../../../../node_modules/prosemirror-state/dist/index.js","../../../../node_modules/prosemirror-keymap/dist/index.js","../../../../node_modules/%40tiptap/extension-blockquote/dist/index.js","../../../../node_modules/%40tiptap/extension-bold/dist/index.js","../../../../node_modules/%40tiptap/extension-code-block/dist/index.js","../../../../node_modules/%40tiptap/extension-horizontal-rule/dist/index.js","../../../../node_modules/prosemirror-dropcursor/dist/index.js","../../../../node_modules/zod/v4/classic/errors.js","../../../../node_modules/%40tiptap/extensions/dist/index.js","../../../../node_modules/%40radix-ui/react-progress/node_modules/%40radix-ui/react-context/dist/index.mjs","../../../../node_modules/%40radix-ui/react-progress/node_modules/%40radix-ui/react-primitive/dist/index.mjs","../../../../node_modules/zod/v4/core/parse.js","../../../../node_modules/prosemirror-history/dist/index.js","../../../../node_modules/%40radix-ui/react-select/node_modules/%40radix-ui/react-slot/dist/index.mjs","../../../../node_modules/prosemirror-commands/dist/index.js","../../../../node_modules/prosemirror-schema-list/dist/index.js","../../../../node_modules/prosemirror-view/dist/index.js","../../../../node_modules/zod/v4/core/checks.js","../../../../node_modules/react-hook-form/src/utils/isDateObject.ts","../../../../node_modules/prosemirror-gapcursor/dist/index.js","../../../../node_modules/zod/v4/core/api.js","../../../../node_modules/%40tiptap/react/dist/index.js","../../../../node_modules/zod/v4/core/schemas.js","../../../../node_modules/zod/v4/classic/schemas.js","../../../../node_modules/react-hook-form/src/utils/isObject.ts","../../../../node_modules/%40tiptap/extension-link/dist/index.js","../../../../node_modules/zod/v4/core/to-json-schema.js","../../../../node_modules/lucide-react/src/icons/circle-alert.ts","../../../../node_modules/lucide-react/src/icons/image.ts","../../../../node_modules/lucide-react/src/icons/link.ts","../../../../node_modules/lucide-react/src/icons/text-align-end.ts","../../../../node_modules/lucide-react/src/icons/redo.ts","../../../../node_modules/lucide-react/src/icons/italic.ts","../../../../node_modules/lucide-react/src/icons/grip-vertical.ts","../../../../node_modules/lucide-react/src/icons/bold.ts","../../../../node_modules/lucide-react/src/icons/heading-2.ts","../../../../node_modules/lucide-react/src/icons/heading-3.ts","../../../../node_modules/lucide-react/src/icons/wand-sparkles.ts","../../../../node_modules/%40tiptap/core/src/jsx-runtime.ts","../../../../node_modules/lucide-react/src/icons/list-ordered.ts","../../../../node_modules/%40radix-ui/react-select/node_modules/%40radix-ui/react-slot/src/slot.tsx","../../../../node_modules/%40tiptap/starter-kit/dist/index.js","../../../../node_modules/zod/v4/core/json-schema-generator.js","../../../../node_modules/react-hook-form/src/logic/getNodeParentName.ts","../../../../node_modules/react-hook-form/src/logic/isNameInFieldArray.ts","../../../../node_modules/react-hook-form/src/utils/isPlainObject.ts","../../../../node_modules/react-hook-form/src/utils/isWeb.ts","../../../../node_modules/react-hook-form/src/utils/cloneObject.ts","../../../../node_modules/react-hook-form/src/utils/stringToPath.ts","../../../../node_modules/react-hook-form/src/utils/get.ts","../../../../node_modules/src/equals.ts","../../../../node_modules/react-hook-form/src/utils/isFunction.ts","../../../../node_modules/react-hook-form/src/utils/set.ts","../../../../node_modules/react-hook-form/src/constants.ts","../../../../node_modules/react-hook-form/src/useFormControlContext.ts","../../../../node_modules/react-hook-form/src/logic/getProxyFormState.ts","../../../../node_modules/react-hook-form/src/useIsomorphicLayoutEffect.ts","../../../../node_modules/react-hook-form/src/useFormState.ts","../../../../node_modules/react-hook-form/src/utils/isString.ts","../../../../node_modules/react-hook-form/src/logic/generateWatchOutput.ts","../../../../node_modules/%40tiptap/extension-link/src/link.ts","../../../../node_modules/react-hook-form/src/utils/isPrimitive.ts","../../../../node_modules/react-hook-form/src/utils/deepEqual.ts","../../../../node_modules/%40tiptap/extension-list/src/keymap/listHelpers/hasListBefore.ts","../../../../node_modules/%40tiptap/core/src/commands/clearNodes.ts","../../../../node_modules/react-hook-form/src/useWatch.ts","../../../../node_modules/%40tiptap/extension-code-block/src/code-block.ts","../../../../node_modules/%40tiptap/extensions/src/trailing-node/trailing-node.ts","../../../../node_modules/%40radix-ui/react-select/src/select.tsx","../../../../node_modules/src/comparator.ts","../../../../node_modules/%40tiptap/react/src/useEditor.ts","../../../../node_modules/%40tiptap/extensions/src/undo-redo/undo-redo.ts","../../../../node_modules/%40tiptap/core/src/commands/exitCode.ts","../../../../node_modules/react-hook-form/src/useController.ts","../../../../node_modules/%40tiptap/extension-list/src/keymap/list-keymap.ts","../../../../node_modules/%40tiptap/core/src/commands/first.ts","../../../../node_modules/%40tiptap/core/src/helpers/isTextSelection.ts","../../../../node_modules/%40tiptap/extension-list/src/ordered-list/utils.ts","../../../../node_modules/react-hook-form/src/controller.tsx","../../../../node_modules/react-hook-form/src/utils/flatten.ts","../../../../node_modules/react-hook-form/src/useFormContext.tsx","../../../../node_modules/src/index.ts","../../../../node_modules/%40tiptap/react/src/NodeViewWrapper.tsx","../../../../node_modules/%40tiptap/core/src/helpers/createNodeFromContent.ts","../../../../node_modules/react-hook-form/src/form.tsx","../../../../node_modules/%40tiptap/extension-list/src/task-item/task-item.ts","../../../../node_modules/react-hook-form/src/formStateSubscribe.tsx","../../../../node_modules/react-hook-form/src/logic/appendErrors.ts","../../../../node_modules/react-hook-form/src/utils/convertToArrayPayload.ts","../../../../node_modules/react-hook-form/src/utils/createSubject.ts","../../../../node_modules/%40tiptap/core/src/commands/insertContentAt.ts","../../../../node_modules/react-hook-form/src/utils/extractFormValues.ts","../../../../node_modules/react-hook-form/src/utils/isEmptyObject.ts","../../../../node_modules/react-hook-form/src/utils/isFileInput.ts","../../../../node_modules/react-hook-form/src/utils/isHTMLElement.ts","../../../../node_modules/react-hook-form/src/utils/isMultipleSelect.ts","../../../../node_modules/react-hook-form/src/utils/isRadioInput.ts","../../../../node_modules/react-hook-form/src/utils/isRadioOrCheckbox.ts","../../../../node_modules/react-hook-form/src/utils/live.ts","../../../../node_modules/react-hook-form/src/utils/unset.ts","../../../../node_modules/%40tiptap/core/src/commands/joinTextblockForward.ts","../../../../node_modules/react-hook-form/src/utils/objectHasFunction.ts","../../../../node_modules/react-hook-form/src/logic/getDirtyFields.ts","../../../../node_modules/%40tiptap/react/src/ReactNodeViewRenderer.tsx","../../../../node_modules/%40tiptap/core/src/commands/keyboardShortcut.ts","../../../../node_modules/react-hook-form/src/logic/getCheckboxValue.ts","../../../../node_modules/react-hook-form/src/logic/getFieldValueAs.ts","../../../../node_modules/react-hook-form/src/logic/getRadioValue.ts","../../../../node_modules/react-hook-form/src/logic/getFieldValue.ts","../../../../node_modules/react-hook-form/src/logic/getResolverOptions.ts","../../../../node_modules/react-hook-form/src/utils/isRegex.ts","../../../../node_modules/react-hook-form/src/logic/getRuleValue.ts","../../../../node_modules/react-hook-form/src/logic/getValidationModes.ts","../../../../node_modules/react-hook-form/src/logic/hasPromiseValidation.ts","../../../../node_modules/%40tiptap/extension-list/src/task-list/task-list.ts","../../../../node_modules/react-hook-form/src/logic/hasValidation.ts","../../../../node_modules/react-hook-form/src/logic/isWatched.ts","../../../../node_modules/react-hook-form/src/logic/iterateFieldsByAction.ts","../../../../node_modules/%40tiptap/react/src/Tiptap.tsx","../../../../node_modules/react-hook-form/src/logic/schemaErrorLookup.ts","../../../../node_modules/%40tiptap/react/src/index.ts","../../../../node_modules/%40tiptap/core/src/commands/selectNodeBackward.ts","../../../../node_modules/%40tiptap/core/src/commands/selectNodeForward.ts","../../../../node_modules/react-hook-form/src/logic/shouldRenderFormState.ts","../../../../node_modules/react-hook-form/src/logic/shouldSubscribeByName.ts","../../../../node_modules/react-hook-form/src/logic/skipValidation.ts","../../../../node_modules/react-hook-form/src/logic/unsetEmptyArray.ts","../../../../node_modules/react-hook-form/src/logic/updateFieldArrayRootError.ts","../../../../node_modules/react-hook-form/src/logic/getValidateError.ts","../../../../node_modules/%40tiptap/core/src/helpers/getMarkAttributes.ts","../../../../node_modules/react-hook-form/src/logic/getValueAndMessage.ts","../../../../node_modules/react-hook-form/src/logic/validateField.ts","../../../../node_modules/%40tiptap/core/src/helpers/findChildren.ts","../../../../node_modules/%40tiptap/core/src/helpers/findParentNodeClosestToPos.ts","../../../../node_modules/%40tiptap/core/src/helpers/getExtensionField.ts","../../../../node_modules/%40tiptap/core/src/helpers/flattenExtensions.ts","../../../../node_modules/%40tiptap/core/src/helpers/getHTMLFromFragment.ts","../../../../node_modules/%40tiptap/core/src/helpers/getAttributesFromExtensions.ts","../../../../node_modules/react-hook-form/src/logic/createFormControl.ts","../../../../node_modules/%40tiptap/core/src/utilities/mergeAttributes.ts","../../../../node_modules/%40tiptap/core/src/helpers/getSchemaByResolvedExtensions.ts","../../../../node_modules/%40tiptap/core/src/helpers/sortExtensions.ts","../../../../node_modules/%40tiptap/core/src/helpers/generateJSON.ts","../../../../node_modules/%40tiptap/core/src/helpers/generateText.ts","../../../../node_modules/%40tiptap/core/src/helpers/getNodeAttributes.ts","../../../../node_modules/%40tiptap/core/src/helpers/getChangedRanges.ts","../../../../node_modules/%40tiptap/core/src/helpers/getSchemaTypeByName.ts","../../../../node_modules/%40tiptap/core/src/helpers/isMarkActive.ts","../../../../node_modules/%40tiptap/core/src/helpers/isNodeSelection.ts","../../../../node_modules/%40tiptap/core/src/commands/setMark.ts","../../../../node_modules/%40tiptap/core/src/commands/setNode.ts","../../../../node_modules/%40tiptap/core/src/commands/splitBlock.ts","../../../../node_modules/react-hook-form/src/logic/generateId.ts","../../../../node_modules/react-hook-form/src/logic/getFocusFieldName.ts","../../../../node_modules/react-hook-form/src/utils/append.ts","../../../../node_modules/react-hook-form/src/utils/fillEmptyArray.ts","../../../../node_modules/react-hook-form/src/utils/insert.ts","../../../../node_modules/react-hook-form/src/utils/move.ts","../../../../node_modules/%40tiptap/core/src/commands/splitListItem.ts","../../../../node_modules/react-hook-form/src/utils/prepend.ts","../../../../node_modules/react-hook-form/src/utils/remove.ts","../../../../node_modules/react-hook-form/src/utils/swap.ts","../../../../node_modules/react-hook-form/src/utils/update.ts","../../../../node_modules/react-hook-form/src/useFieldArray.ts","../../../../node_modules/%40tiptap/core/src/commands/toggleList.ts","../../../../node_modules/%40tiptap/core/src/commands/toggleWrap.ts","../../../../node_modules/%40tiptap/core/src/commands/undoInputRule.ts","../../../../node_modules/react-hook-form/src/useForm.ts","../../../../node_modules/%40tiptap/core/src/commands/wrapIn.ts","../../../../node_modules/%40tiptap/core/src/commands/wrapInList.ts","../../../../node_modules/react-hook-form/src/watch.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport * as z from \"zod\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n    Form,\r\n    FormControl,\r\n    FormField,\r\n    FormItem,\r\n    FormLabel,\r\n    FormMessage,\r\n    FormDescription,\r\n} from \"@/components/ui/form\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { toast } from \"sonner\";\r\nimport { Loader2, Wand2, Plus, Calendar, Save, Globe } from \"lucide-react\";\r\nimport { SEOField } from \"./seo-field\";\r\nimport { FAQManager, FAQItem } from \"./faq-manager\";\r\nimport { SEOScore } from \"./seo-score\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport {\r\n    Card,\r\n    CardContent,\r\n    CardHeader,\r\n    CardTitle,\r\n} from \"@/components/ui/card\";\r\nimport { RichTextEditor } from \"@/components/ui/rich-text-editor\";\r\n\r\n\r\n// Schema\r\nconst formSchema = z.object({\r\n    title: z.string().min(2, {\r\n        message: \"O título deve ter pelo menos 2 caracteres.\",\r\n    }),\r\n    slug: z.string().min(2, {\r\n        message: \"O slug deve ter pelo menos 2 caracteres.\",\r\n    }),\r\n    category_id: z.string().min(1, {\r\n        message: \"Por favor, selecione uma categoria.\",\r\n    }),\r\n    excerpt: z.string().optional(),\r\n    content: z.string().optional(),\r\n    image: z.string().url({ message: \"URL inválida\" }).optional().or(z.literal(\"\")),\r\n    featured_image_alt: z.string().optional(),\r\n    is_published: z.boolean(),\r\n    status: z.enum([\"draft\", \"published\", \"scheduled\", \"pending\", \"private\", \"trash\"]),\r\n    published_at: z.string().optional(),\r\n    is_featured: z.boolean(),\r\n    meta_title: z.string().optional(),\r\n    meta_description: z.string().optional(),\r\n    canonical_url: z.string().url({ message: \"URL inválida\" }).optional().or(z.literal(\"\")),\r\n    faq_items: z.array(z.object({ question: z.string(), answer: z.string() })).optional(),\r\n});\r\n\r\nexport interface Category {\r\n    id: string;\r\n    name: string;\r\n}\r\n\r\ninterface PostFormProps {\r\n    initialData?: any;\r\n    isEditing?: boolean;\r\n    categories?: Category[];\r\n}\r\n\r\nexport function PostForm({ initialData, isEditing = false, categories = [] }: PostFormProps) {\r\n    const router = useRouter();\r\n    const [isSubmitting, setIsSubmitting] = useState(false);\r\n    const [isGeneratingSEO, setIsGeneratingSEO] = useState(false);\r\n    const [isGeneratingDraft, setIsGeneratingDraft] = useState(false);\r\n\r\n    const form = useForm<z.infer<typeof formSchema>>({\r\n        resolver: zodResolver(formSchema),\r\n        defaultValues: {\r\n            title: initialData?.title || \"\",\r\n            slug: initialData?.slug || \"\",\r\n            category_id: initialData?.category_id || \"\",\r\n            excerpt: initialData?.excerpt || \"\",\r\n            content: initialData?.content || \"\",\r\n            image: initialData?.image || \"\",\r\n            featured_image_alt: initialData?.featured_image_alt || \"\",\r\n            is_published: initialData?.is_published || false,\r\n            status: initialData?.status || \"draft\",\r\n            published_at: initialData?.published_at || new Date().toISOString(),\r\n            is_featured: initialData?.is_featured || false,\r\n            meta_title: initialData?.meta_title || \"\",\r\n            meta_description: initialData?.meta_description || \"\",\r\n            canonical_url: initialData?.canonical_url || \"\",\r\n            faq_items: initialData?.faq_items || [],\r\n        },\r\n    });\r\n\r\n    // Auto-slug\r\n    const title = form.watch(\"title\");\r\n    useEffect(() => {\r\n        if (!isEditing && title) {\r\n            const slug = title\r\n                .toLowerCase()\r\n                .normalize(\"NFD\")\r\n                .replace(/[\\u0300-\\u036f]/g, \"\")\r\n                .replace(/[^a-z0-9]+/g, \"-\")\r\n                .replace(/(^-|-$)+/g, \"\");\r\n            form.setValue(\"slug\", slug);\r\n        }\r\n    }, [title, isEditing, form]);\r\n\r\n    async function handleGenerateSEO() {\r\n        const content = form.getValues(\"content\");\r\n        if (!content) {\r\n            toast.error(\"Por favor, adicione algum conteúdo primeiro.\");\r\n            return;\r\n        }\r\n\r\n        setIsGeneratingSEO(true);\r\n        try {\r\n            const response = await fetch(\"/api/ai/generate-seo\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ content }),\r\n            });\r\n            const data = await response.json();\r\n\r\n            if (data.error) throw new Error(data.error);\r\n\r\n            form.setValue(\"meta_title\", data.title);\r\n            form.setValue(\"meta_description\", data.description);\r\n            if (!form.getValues(\"excerpt\")) {\r\n                form.setValue(\"excerpt\", data.excerpt);\r\n            }\r\n            if (data.faq_items && Array.isArray(data.faq_items)) {\r\n                form.setValue(\"faq_items\", data.faq_items);\r\n            }\r\n            toast.success(\"Metadados SEO gerados!\");\r\n        } catch (error) {\r\n            toast.error(\"Falha ao gerar SEO\");\r\n        } finally {\r\n            setIsGeneratingSEO(false);\r\n        }\r\n    }\r\n\r\n    async function handleGenerateDraft() {\r\n        const topic = window.prompt(\"Qual o tópico desejado para o artigo da IA?\");\r\n        if (!topic) return;\r\n\r\n        setIsGeneratingDraft(true);\r\n        toast.info(\"Iniciando modo criativo (Agente Julia)... isso pode levar um momento.\");\r\n\r\n        try {\r\n            const response = await fetch(\"/api/generate-post\", {\r\n                method: \"POST\",\r\n                headers: { \"Content-Type\": \"application/json\" },\r\n                body: JSON.stringify({ topic }),\r\n            });\r\n            const data = await response.json();\r\n\r\n            if (data.error) throw new Error(data.error);\r\n\r\n            const currentContent = form.getValues(\"content\") || \"\";\r\n            const newContent = currentContent\r\n                ? `${currentContent}\\n\\n<hr class=\"my-8 border-t-2 border-dashed border-primary\" />\\n\\n${data.content}`\r\n                : data.content;\r\n\r\n            form.setValue(\"content\", newContent);\r\n            toast.success(\"Rascunho gerado perfeitamente!\");\r\n        } catch (error) {\r\n            toast.error(\"Falha ao gerar o rascunho com IA.\");\r\n        } finally {\r\n            setIsGeneratingDraft(false);\r\n        }\r\n    }\r\n\r\n    const insertCTA = () => {\r\n        const currentContent = form.getValues(\"content\") || \"\";\r\n        const ctaBlock = `\\n\\n<div className=\"cta-block bg-primary/10 p-6 rounded-lg my-8 text-center\">\\n  <h3 className=\"text-xl font-bold mb-2\">Quer saber mais?</h3>\\n  <p className=\"mb-4\">Entre em contato hoje para discutir seu projeto.</p>\\n  <a href=\"/contact\" className=\"inline-block bg-primary text-primary-foreground px-4 py-2 rounded-md font-medium hover:bg-primary/90\">Fale Conosco</a>\\n</div>\\n\\n`;\r\n        form.setValue(\"content\", currentContent + ctaBlock);\r\n        toast.info(\"Bloco CTA adicionado!\");\r\n    };\r\n\r\n    async function onSubmit(values: z.infer<typeof formSchema>) {\r\n        setIsSubmitting(true);\r\n        const supabase = createClient();\r\n\r\n        try {\r\n            const user = (await supabase.auth.getUser()).data.user;\r\n\r\n            const formData = new FormData();\r\n            if (isEditing && initialData?.id) {\r\n                formData.append('id', initialData.id);\r\n            }\r\n\r\n            Object.entries(values).forEach(([key, value]) => {\r\n                if (key === 'faq_items') {\r\n                    formData.append(key, JSON.stringify(value));\r\n                } else if (typeof value === 'boolean') {\r\n                    if (value) formData.append(key, 'on');\r\n                } else {\r\n                    formData.append(key, value as string || \"\");\r\n                }\r\n            });\r\n\r\n            let result;\r\n            if (isEditing) {\r\n                const { updatePost } = await import(\"@/actions/update-post\");\r\n                result = await updatePost(null, formData);\r\n            } else {\r\n                const { createPost } = await import(\"@/actions/create-post\");\r\n                result = await createPost(null, formData);\r\n            }\r\n\r\n            if (result?.success === false) {\r\n                throw new Error(result?.message || \"Operação falhou\");\r\n            }\r\n\r\n        } catch (error: any) {\r\n            if (error.message === \"NEXT_REDIRECT\") {\r\n                return;\r\n            }\r\n            console.error(error);\r\n            toast.error(\"Falha ao salvar post: \" + error.message);\r\n            setIsSubmitting(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Form {...form}>\r\n            <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-8\">\r\n\r\n                {/* Header Actions */}\r\n                <div className=\"flex justify-between items-center bg-card p-4 rounded-lg border shadow-sm sticky top-4 z-10\">\r\n                    <h2 className=\"text-xl font-semibold tracking-tight\">\r\n                        {isEditing ? \"Editar Post\" : \"Novo Post\"}\r\n                    </h2>\r\n                    <div className=\"flex gap-2\">\r\n                        <Button type=\"button\" variant=\"ghost\" onClick={() => router.back()}>\r\n                            Cancelar\r\n                        </Button>\r\n                        <Button type=\"submit\" disabled={isSubmitting} className=\"min-w-[140px]\">\r\n                            {isSubmitting ? (\r\n                                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n                            ) : (\r\n                                <Save className=\"mr-2 h-4 w-4\" />\r\n                            )}\r\n                            {isEditing ? \"Salvar Alterações\" : \"Salvar Post\"}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n                    {/* LEFT COLUMN - Main Content */}\r\n                    <div className=\"lg:col-span-2 space-y-8\">\r\n\r\n                        {/* Title & Slug */}\r\n                        <div className=\"space-y-4 bg-card p-6 rounded-lg border shadow-sm\">\r\n                            <FormField\r\n                                control={form.control}\r\n                                name=\"title\"\r\n                                render={({ field }) => (\r\n                                    <FormItem>\r\n                                        <FormLabel className=\"text-lg\">Título do Artigo</FormLabel>\r\n                                        <FormControl>\r\n                                            <Input placeholder=\"Digite o título principal...\" className=\"text-lg py-6\" {...field} />\r\n                                        </FormControl>\r\n                                        <FormMessage />\r\n                                    </FormItem>\r\n                                )}\r\n                            />\r\n\r\n                            {/* Slug Field (Simple for now, can be moved to SEO tab but good here for visibility) */}\r\n                            <div className=\"flex items-center gap-2 text-sm text-muted-foreground p-2 bg-muted/50 rounded pointer-events-none opacity-80\">\r\n                                <Globe className=\"h-3 w-3\" />\r\n                                <span>/blog/{form.watch('slug')}</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Tabs for Content / FAQ */}\r\n                        <Tabs defaultValue=\"content\" className=\"w-full\">\r\n                            <TabsList className=\"grid w-full grid-cols-2 mb-4\">\r\n                                <TabsTrigger value=\"content\">Conteúdo Principal</TabsTrigger>\r\n                                <TabsTrigger value=\"faq\">Perguntas Frequentes (FAQ)</TabsTrigger>\r\n                            </TabsList>\r\n\r\n                            <TabsContent value=\"content\" className=\"space-y-6\">\r\n                                {/* Excerpt */}\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"excerpt\"\r\n                                    render={({ field }) => (\r\n                                        <FormItem>\r\n                                            <FormLabel>Resumo (Excerpt)</FormLabel>\r\n                                            <FormControl>\r\n                                                <Textarea\r\n                                                    placeholder=\"Breve resumo para a listagem do blog...\"\r\n                                                    className=\"resize-none h-24\"\r\n                                                    {...field}\r\n                                                />\r\n                                            </FormControl>\r\n                                            <FormDescription>\r\n                                                Aparece nos cards de listagem e no header do post.\r\n                                            </FormDescription>\r\n                                            <FormMessage />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n\r\n                                {/* Main Content (Editor placeholder) */}\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"content\"\r\n                                    render={({ field }) => (\r\n                                        <FormItem>\r\n                                            <div className=\"flex justify-between items-center mb-1\">\r\n                                                <FormLabel>Corpo do Texto</FormLabel>\r\n                                                <Button\r\n                                                    type=\"button\"\r\n                                                    variant=\"outline\"\r\n                                                    size=\"sm\"\r\n                                                    onClick={handleGenerateDraft}\r\n                                                    disabled={isGeneratingDraft}\r\n                                                    className=\"h-8 bg-indigo-50 text-indigo-700 border-indigo-200 hover:bg-indigo-100 dark:bg-indigo-900/30 dark:text-indigo-300 dark:border-indigo-800\"\r\n                                                >\r\n                                                    {isGeneratingDraft ? (\r\n                                                        <Loader2 className=\"w-3 h-3 mr-2 animate-spin\" />\r\n                                                    ) : (\r\n                                                        <Wand2 className=\"w-3 h-3 mr-2\" />\r\n                                                    )}\r\n                                                    Gerar Rascunho com IA\r\n                                                </Button>\r\n                                            </div>\r\n                                            <FormControl>\r\n                                                <RichTextEditor\r\n                                                    placeholder=\"Escreva seu artigo aqui...\"\r\n                                                    value={field.value || \"\"}\r\n                                                    onChange={field.onChange}\r\n                                                />\r\n                                            </FormControl>\r\n                                            <FormMessage />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n                            </TabsContent>\r\n\r\n                            <TabsContent value=\"faq\">\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"faq_items\"\r\n                                    render={({ field }) => (\r\n                                        <FormItem>\r\n                                            <FormControl>\r\n                                                <FAQManager\r\n                                                    value={field.value}\r\n                                                    onChange={field.onChange}\r\n                                                />\r\n                                            </FormControl>\r\n                                            <FormMessage />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n                            </TabsContent>\r\n                        </Tabs>\r\n\r\n                    </div>\r\n\r\n                    {/* RIGHT COLUMN - Sidebar */}\r\n                    <div className=\"space-y-6\">\r\n\r\n                        {/* SEO Score Card */}\r\n                        <SEOScore\r\n                            title={form.watch(\"title\") || \"\"}\r\n                            description={form.watch(\"meta_description\") || \"\"}\r\n                            content={form.watch(\"content\") || \"\"}\r\n                            featuredImage={form.watch(\"image\") || \"\"}\r\n                            featuredImageAlt={form.watch(\"featured_image_alt\") || \"\"}\r\n                        />\r\n\r\n                        {/* Publishing Status */}\r\n                        <Card className=\"shadow-sm\">\r\n                            <CardHeader className=\"pb-3\">\r\n                                <CardTitle className=\"text-base font-medium\">Publicação</CardTitle>\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-4\">\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"status\"\r\n                                    render={({ field }) => (\r\n                                        <FormItem>\r\n                                            <FormLabel>Status</FormLabel>\r\n                                            <Select onValueChange={field.onChange} defaultValue={field.value}>\r\n                                                <FormControl>\r\n                                                    <SelectTrigger>\r\n                                                        <SelectValue />\r\n                                                    </SelectTrigger>\r\n                                                </FormControl>\r\n                                                <SelectContent>\r\n                                                    <SelectItem value=\"draft\">Draft (Rascunho)</SelectItem>\r\n                                                    <SelectItem value=\"pending\">Pendente</SelectItem>\r\n                                                    <SelectItem value=\"published\">Publicado</SelectItem>\r\n                                                    <SelectItem value=\"scheduled\">Agendado</SelectItem>\r\n                                                    <SelectItem value=\"private\">Privado</SelectItem>\r\n                                                    <SelectItem value=\"trash\">Lixeira</SelectItem>\r\n                                                </SelectContent>\r\n                                            </Select>\r\n                                            <FormMessage />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"published_at\"\r\n                                    render={({ field }) => (\r\n                                        <FormItem>\r\n                                            <FormLabel>Data</FormLabel>\r\n                                            <FormControl>\r\n                                                <Input\r\n                                                    type=\"datetime-local\"\r\n                                                    {...field}\r\n                                                    min={new Date().toISOString().slice(0, 16)}\r\n                                                />\r\n                                            </FormControl>\r\n                                            {field.value && new Date(field.value) > new Date() && (\r\n                                                <FormDescription className=\"text-yellow-600 dark:text-yellow-400 text-xs flex items-center gap-1\">\r\n                                                    <Calendar className=\"h-3 w-3\" />\r\n                                                    Será publicado futuramente\r\n                                                </FormDescription>\r\n                                            )}\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        {/* Category */}\r\n                        <Card className=\"shadow-sm\">\r\n                            <CardHeader className=\"pb-3\">\r\n                                <CardTitle className=\"text-base font-medium\">Organização</CardTitle>\r\n                            </CardHeader>\r\n                            <CardContent>\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"category_id\"\r\n                                    render={({ field }) => (\r\n                                        <FormItem>\r\n                                            <FormLabel>Categoria</FormLabel>\r\n                                            <Select onValueChange={field.onChange} defaultValue={field.value}>\r\n                                                <FormControl>\r\n                                                    <SelectTrigger>\r\n                                                        <SelectValue placeholder=\"Selecione...\" />\r\n                                                    </SelectTrigger>\r\n                                                </FormControl>\r\n                                                <SelectContent>\r\n                                                    {categories.map((category) => (\r\n                                                        <SelectItem key={category.id} value={category.id}>\r\n                                                            {category.name}\r\n                                                        </SelectItem>\r\n                                                    ))}\r\n                                                </SelectContent>\r\n                                            </Select>\r\n                                            <FormMessage />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        {/* Featured Image */}\r\n                        <Card className=\"shadow-sm\">\r\n                            <CardHeader className=\"pb-3\">\r\n                                <CardTitle className=\"text-base font-medium\">Imagem Destacada</CardTitle>\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-4\">\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"image\"\r\n                                    render={({ field }) => (\r\n                                        <FormItem>\r\n                                            <FormLabel>URL da Imagem</FormLabel>\r\n                                            <FormControl>\r\n                                                <Input placeholder=\"https://...\" {...field} />\r\n                                            </FormControl>\r\n                                            <FormMessage />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n\r\n                                {form.watch(\"image\") && (\r\n                                    <div className=\"aspect-video w-full rounded-md overflow-hidden bg-muted relative border\">\r\n                                        <img\r\n                                            src={form.watch(\"image\") || \"\"}\r\n                                            alt=\"Preview\"\r\n                                            className=\"object-cover w-full h-full\"\r\n                                            onError={(e) => { (e.target as HTMLImageElement).style.display = 'none' }}\r\n                                        />\r\n                                    </div>\r\n                                )}\r\n\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"featured_image_alt\"\r\n                                    render={({ field }) => (\r\n                                        <FormItem>\r\n                                            <FormLabel>Texto Alternativo (Alt)</FormLabel>\r\n                                            <FormControl>\r\n                                                <Input placeholder=\"Descreva a imagem...\" {...field} />\r\n                                            </FormControl>\r\n                                            <FormMessage />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        {/* SEO Metadata */}\r\n                        <Card className=\"shadow-sm\">\r\n                            <CardHeader className=\"pb-3\">\r\n                                <div className=\"flex justify-between items-center\">\r\n                                    <CardTitle className=\"text-base font-medium\">Metadados SEO</CardTitle>\r\n                                    <Button\r\n                                        type=\"button\"\r\n                                        variant=\"ghost\"\r\n                                        size=\"sm\"\r\n                                        onClick={handleGenerateSEO}\r\n                                        disabled={isGeneratingSEO}\r\n                                        className=\"h-8 px-2\"\r\n                                    >\r\n                                        <Wand2 className=\"w-3 h-3 mr-1\" />\r\n                                        Gerar\r\n                                    </Button>\r\n                                </div>\r\n                            </CardHeader>\r\n                            <CardContent className=\"space-y-4\">\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"meta_title\"\r\n                                    render={({ field }) => (\r\n                                        <SEOField\r\n                                            label=\"Meta Title\"\r\n                                            value={field.value || \"\"}\r\n                                            onChange={field.onChange}\r\n                                            maxLength={60}\r\n                                            recommendedMin={30}\r\n                                            recommendedMax={60}\r\n                                        />\r\n                                    )}\r\n                                />\r\n\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"meta_description\"\r\n                                    render={({ field }) => (\r\n                                        <SEOField\r\n                                            label=\"Meta Description\"\r\n                                            value={field.value || \"\"}\r\n                                            onChange={field.onChange}\r\n                                            maxLength={160}\r\n                                            recommendedMin={120}\r\n                                            recommendedMax={160}\r\n                                            multiline\r\n                                        />\r\n                                    )}\r\n                                />\r\n\r\n                                <FormField\r\n                                    control={form.control}\r\n                                    name=\"canonical_url\"\r\n                                    render={({ field }) => (\r\n                                        <FormItem>\r\n                                            <FormLabel>URL Canônica</FormLabel>\r\n                                            <FormControl>\r\n                                                <Input placeholder=\"https://...\" {...field} />\r\n                                            </FormControl>\r\n                                            <FormMessage />\r\n                                        </FormItem>\r\n                                    )}\r\n                                />\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                    </div>\r\n                </div>\r\n            </form >\r\n        </Form >\r\n    );\r\n}\r\n","var _a;\nexport const $output = Symbol(\"ZodOutput\");\nexport const $input = Symbol(\"ZodInput\");\nexport class $ZodRegistry {\n    constructor() {\n        this._map = new WeakMap();\n        this._idmap = new Map();\n    }\n    add(schema, ..._meta) {\n        const meta = _meta[0];\n        this._map.set(schema, meta);\n        if (meta && typeof meta === \"object\" && \"id\" in meta) {\n            this._idmap.set(meta.id, schema);\n        }\n        return this;\n    }\n    clear() {\n        this._map = new WeakMap();\n        this._idmap = new Map();\n        return this;\n    }\n    remove(schema) {\n        const meta = this._map.get(schema);\n        if (meta && typeof meta === \"object\" && \"id\" in meta) {\n            this._idmap.delete(meta.id);\n        }\n        this._map.delete(schema);\n        return this;\n    }\n    get(schema) {\n        // return this._map.get(schema) as any;\n        // inherit metadata\n        const p = schema._zod.parent;\n        if (p) {\n            const pm = { ...(this.get(p) ?? {}) };\n            delete pm.id; // do not inherit id\n            const f = { ...pm, ...this._map.get(schema) };\n            return Object.keys(f).length ? f : undefined;\n        }\n        return this._map.get(schema);\n    }\n    has(schema) {\n        return this._map.has(schema);\n    }\n}\n// registries\nexport function registry() {\n    return new $ZodRegistry();\n}\n(_a = globalThis).__zod_globalRegistry ?? (_a.__zod_globalRegistry = registry());\nexport const globalRegistry = globalThis.__zod_globalRegistry;\n","\"use client\"\n\nimport * as React from \"react\"\nimport type { Label as LabelPrimitive } from \"radix-ui\"\nimport { Slot } from \"radix-ui\"\nimport {\n  Controller,\n  FormProvider,\n  useFormContext,\n  useFormState,\n  type ControllerProps,\n  type FieldPath,\n  type FieldValues,\n} from \"react-hook-form\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Label } from \"@/components/ui/label\"\n\nconst Form = FormProvider\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n  name: TName\n}\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>(\n  {} as FormFieldContextValue\n)\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  )\n}\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext)\n  const itemContext = React.useContext(FormItemContext)\n  const { getFieldState } = useFormContext()\n  const formState = useFormState({ name: fieldContext.name })\n  const fieldState = getFieldState(fieldContext.name, formState)\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\")\n  }\n\n  const { id } = itemContext\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  }\n}\n\ntype FormItemContextValue = {\n  id: string\n}\n\nconst FormItemContext = React.createContext<FormItemContextValue>(\n  {} as FormItemContextValue\n)\n\nfunction FormItem({ className, ...props }: React.ComponentProps<\"div\">) {\n  const id = React.useId()\n\n  return (\n    <FormItemContext.Provider value={{ id }}>\n      <div\n        data-slot=\"form-item\"\n        className={cn(\"grid gap-2\", className)}\n        {...props}\n      />\n    </FormItemContext.Provider>\n  )\n}\n\nfunction FormLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  const { error, formItemId } = useFormField()\n\n  return (\n    <Label\n      data-slot=\"form-label\"\n      data-error={!!error}\n      className={cn(\"data-[error=true]:text-destructive\", className)}\n      htmlFor={formItemId}\n      {...props}\n    />\n  )\n}\n\nfunction FormControl({ ...props }: React.ComponentProps<typeof Slot.Root>) {\n  const { error, formItemId, formDescriptionId, formMessageId } = useFormField()\n\n  return (\n    <Slot.Root\n      data-slot=\"form-control\"\n      id={formItemId}\n      aria-describedby={\n        !error\n          ? `${formDescriptionId}`\n          : `${formDescriptionId} ${formMessageId}`\n      }\n      aria-invalid={!!error}\n      {...props}\n    />\n  )\n}\n\nfunction FormDescription({ className, ...props }: React.ComponentProps<\"p\">) {\n  const { formDescriptionId } = useFormField()\n\n  return (\n    <p\n      data-slot=\"form-description\"\n      id={formDescriptionId}\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction FormMessage({ className, ...props }: React.ComponentProps<\"p\">) {\n  const { error, formMessageId } = useFormField()\n  const body = error ? String(error?.message ?? \"\") : props.children\n\n  if (!body) {\n    return null\n  }\n\n  return (\n    <p\n      data-slot=\"form-message\"\n      id={formMessageId}\n      className={cn(\"text-destructive text-sm\", className)}\n      {...props}\n    >\n      {body}\n    </p>\n  )\n}\n\nexport {\n  useFormField,\n  Form,\n  FormItem,\n  FormLabel,\n  FormControl,\n  FormDescription,\n  FormMessage,\n  FormField,\n}\n","// packages/core/number/src/number.ts\nfunction clamp(value, [min, max]) {\n  return Math.min(max, Math.max(min, value));\n}\nexport {\n  clamp\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/select.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { clamp } from \"@radix-ui/number\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useLayoutEffect } from \"@radix-ui/react-use-layout-effect\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { VISUALLY_HIDDEN_STYLES } from \"@radix-ui/react-visually-hidden\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar OPEN_KEYS = [\" \", \"Enter\", \"ArrowUp\", \"ArrowDown\"];\nvar SELECTION_KEYS = [\" \", \"Enter\"];\nvar SELECT_NAME = \"Select\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(SELECT_NAME);\nvar [createSelectContext, createSelectScope] = createContextScope(SELECT_NAME, [\n  createCollectionScope,\n  createPopperScope\n]);\nvar usePopperScope = createPopperScope();\nvar [SelectProvider, useSelectContext] = createSelectContext(SELECT_NAME);\nvar [SelectNativeOptionsProvider, useSelectNativeOptionsContext] = createSelectContext(SELECT_NAME);\nvar Select = (props) => {\n  const {\n    __scopeSelect,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    value: valueProp,\n    defaultValue,\n    onValueChange,\n    dir,\n    name,\n    autoComplete,\n    disabled,\n    required,\n    form\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n  const [trigger, setTrigger] = React.useState(null);\n  const [valueNode, setValueNode] = React.useState(null);\n  const [valueNodeHasChildren, setValueNodeHasChildren] = React.useState(false);\n  const direction = useDirection(dir);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: SELECT_NAME\n  });\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue,\n    onChange: onValueChange,\n    caller: SELECT_NAME\n  });\n  const triggerPointerDownPosRef = React.useRef(null);\n  const isFormControl = trigger ? form || !!trigger.closest(\"form\") : true;\n  const [nativeOptionsSet, setNativeOptionsSet] = React.useState(/* @__PURE__ */ new Set());\n  const nativeSelectKey = Array.from(nativeOptionsSet).map((option) => option.props.value).join(\";\");\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsxs(\n    SelectProvider,\n    {\n      required,\n      scope: __scopeSelect,\n      trigger,\n      onTriggerChange: setTrigger,\n      valueNode,\n      onValueNodeChange: setValueNode,\n      valueNodeHasChildren,\n      onValueNodeHasChildrenChange: setValueNodeHasChildren,\n      contentId: useId(),\n      value,\n      onValueChange: setValue,\n      open,\n      onOpenChange: setOpen,\n      dir: direction,\n      triggerPointerDownPosRef,\n      disabled,\n      children: [\n        /* @__PURE__ */ jsx(Collection.Provider, { scope: __scopeSelect, children: /* @__PURE__ */ jsx(\n          SelectNativeOptionsProvider,\n          {\n            scope: props.__scopeSelect,\n            onNativeOptionAdd: React.useCallback((option) => {\n              setNativeOptionsSet((prev) => new Set(prev).add(option));\n            }, []),\n            onNativeOptionRemove: React.useCallback((option) => {\n              setNativeOptionsSet((prev) => {\n                const optionsSet = new Set(prev);\n                optionsSet.delete(option);\n                return optionsSet;\n              });\n            }, []),\n            children\n          }\n        ) }),\n        isFormControl ? /* @__PURE__ */ jsxs(\n          SelectBubbleInput,\n          {\n            \"aria-hidden\": true,\n            required,\n            tabIndex: -1,\n            name,\n            autoComplete,\n            value,\n            onChange: (event) => setValue(event.target.value),\n            disabled,\n            form,\n            children: [\n              value === void 0 ? /* @__PURE__ */ jsx(\"option\", { value: \"\" }) : null,\n              Array.from(nativeOptionsSet)\n            ]\n          },\n          nativeSelectKey\n        ) : null\n      ]\n    }\n  ) });\n};\nSelect.displayName = SELECT_NAME;\nvar TRIGGER_NAME = \"SelectTrigger\";\nvar SelectTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, disabled = false, ...triggerProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(TRIGGER_NAME, __scopeSelect);\n    const isDisabled = context.disabled || disabled;\n    const composedRefs = useComposedRefs(forwardedRef, context.onTriggerChange);\n    const getItems = useCollection(__scopeSelect);\n    const pointerTypeRef = React.useRef(\"touch\");\n    const [searchRef, handleTypeaheadSearch, resetTypeahead] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.value === context.value);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem !== void 0) {\n        context.onValueChange(nextItem.value);\n      }\n    });\n    const handleOpen = (pointerEvent) => {\n      if (!isDisabled) {\n        context.onOpenChange(true);\n        resetTypeahead();\n      }\n      if (pointerEvent) {\n        context.triggerPointerDownPosRef.current = {\n          x: Math.round(pointerEvent.pageX),\n          y: Math.round(pointerEvent.pageY)\n        };\n      }\n    };\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { asChild: true, ...popperScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        role: \"combobox\",\n        \"aria-controls\": context.contentId,\n        \"aria-expanded\": context.open,\n        \"aria-required\": context.required,\n        \"aria-autocomplete\": \"none\",\n        dir: context.dir,\n        \"data-state\": context.open ? \"open\" : \"closed\",\n        disabled: isDisabled,\n        \"data-disabled\": isDisabled ? \"\" : void 0,\n        \"data-placeholder\": shouldShowPlaceholder(context.value) ? \"\" : void 0,\n        ...triggerProps,\n        ref: composedRefs,\n        onClick: composeEventHandlers(triggerProps.onClick, (event) => {\n          event.currentTarget.focus();\n          if (pointerTypeRef.current !== \"mouse\") {\n            handleOpen(event);\n          }\n        }),\n        onPointerDown: composeEventHandlers(triggerProps.onPointerDown, (event) => {\n          pointerTypeRef.current = event.pointerType;\n          const target = event.target;\n          if (target.hasPointerCapture(event.pointerId)) {\n            target.releasePointerCapture(event.pointerId);\n          }\n          if (event.button === 0 && event.ctrlKey === false && event.pointerType === \"mouse\") {\n            handleOpen(event);\n            event.preventDefault();\n          }\n        }),\n        onKeyDown: composeEventHandlers(triggerProps.onKeyDown, (event) => {\n          const isTypingAhead = searchRef.current !== \"\";\n          const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n          if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n          if (isTypingAhead && event.key === \" \") return;\n          if (OPEN_KEYS.includes(event.key)) {\n            handleOpen();\n            event.preventDefault();\n          }\n        })\n      }\n    ) });\n  }\n);\nSelectTrigger.displayName = TRIGGER_NAME;\nvar VALUE_NAME = \"SelectValue\";\nvar SelectValue = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, className, style, children, placeholder = \"\", ...valueProps } = props;\n    const context = useSelectContext(VALUE_NAME, __scopeSelect);\n    const { onValueNodeHasChildrenChange } = context;\n    const hasChildren = children !== void 0;\n    const composedRefs = useComposedRefs(forwardedRef, context.onValueNodeChange);\n    useLayoutEffect(() => {\n      onValueNodeHasChildrenChange(hasChildren);\n    }, [onValueNodeHasChildrenChange, hasChildren]);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        ...valueProps,\n        ref: composedRefs,\n        style: { pointerEvents: \"none\" },\n        children: shouldShowPlaceholder(context.value) ? /* @__PURE__ */ jsx(Fragment, { children: placeholder }) : children\n      }\n    );\n  }\n);\nSelectValue.displayName = VALUE_NAME;\nvar ICON_NAME = \"SelectIcon\";\nvar SelectIcon = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, children, ...iconProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.span, { \"aria-hidden\": true, ...iconProps, ref: forwardedRef, children: children || \"\\u25BC\" });\n  }\n);\nSelectIcon.displayName = ICON_NAME;\nvar PORTAL_NAME = \"SelectPortal\";\nvar SelectPortal = (props) => {\n  return /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, ...props });\n};\nSelectPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"SelectContent\";\nvar SelectContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useSelectContext(CONTENT_NAME, props.__scopeSelect);\n    const [fragment, setFragment] = React.useState();\n    useLayoutEffect(() => {\n      setFragment(new DocumentFragment());\n    }, []);\n    if (!context.open) {\n      const frag = fragment;\n      return frag ? ReactDOM.createPortal(\n        /* @__PURE__ */ jsx(SelectContentProvider, { scope: props.__scopeSelect, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeSelect, children: /* @__PURE__ */ jsx(\"div\", { children: props.children }) }) }),\n        frag\n      ) : null;\n    }\n    return /* @__PURE__ */ jsx(SelectContentImpl, { ...props, ref: forwardedRef });\n  }\n);\nSelectContent.displayName = CONTENT_NAME;\nvar CONTENT_MARGIN = 10;\nvar [SelectContentProvider, useSelectContentContext] = createSelectContext(CONTENT_NAME);\nvar CONTENT_IMPL_NAME = \"SelectContentImpl\";\nvar Slot = createSlot(\"SelectContent.RemoveScroll\");\nvar SelectContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSelect,\n      position = \"item-aligned\",\n      onCloseAutoFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      //\n      // PopperContent props\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      arrowPadding,\n      collisionBoundary,\n      collisionPadding,\n      sticky,\n      hideWhenDetached,\n      avoidCollisions,\n      //\n      ...contentProps\n    } = props;\n    const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n    const [content, setContent] = React.useState(null);\n    const [viewport, setViewport] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n    const [selectedItem, setSelectedItem] = React.useState(null);\n    const [selectedItemText, setSelectedItemText] = React.useState(\n      null\n    );\n    const getItems = useCollection(__scopeSelect);\n    const [isPositioned, setIsPositioned] = React.useState(false);\n    const firstValidItemFoundRef = React.useRef(false);\n    React.useEffect(() => {\n      if (content) return hideOthers(content);\n    }, [content]);\n    useFocusGuards();\n    const focusFirst = React.useCallback(\n      (candidates) => {\n        const [firstItem, ...restItems] = getItems().map((item) => item.ref.current);\n        const [lastItem] = restItems.slice(-1);\n        const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n        for (const candidate of candidates) {\n          if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n          candidate?.scrollIntoView({ block: \"nearest\" });\n          if (candidate === firstItem && viewport) viewport.scrollTop = 0;\n          if (candidate === lastItem && viewport) viewport.scrollTop = viewport.scrollHeight;\n          candidate?.focus();\n          if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n        }\n      },\n      [getItems, viewport]\n    );\n    const focusSelectedItem = React.useCallback(\n      () => focusFirst([selectedItem, content]),\n      [focusFirst, selectedItem, content]\n    );\n    React.useEffect(() => {\n      if (isPositioned) {\n        focusSelectedItem();\n      }\n    }, [isPositioned, focusSelectedItem]);\n    const { onOpenChange, triggerPointerDownPosRef } = context;\n    React.useEffect(() => {\n      if (content) {\n        let pointerMoveDelta = { x: 0, y: 0 };\n        const handlePointerMove = (event) => {\n          pointerMoveDelta = {\n            x: Math.abs(Math.round(event.pageX) - (triggerPointerDownPosRef.current?.x ?? 0)),\n            y: Math.abs(Math.round(event.pageY) - (triggerPointerDownPosRef.current?.y ?? 0))\n          };\n        };\n        const handlePointerUp = (event) => {\n          if (pointerMoveDelta.x <= 10 && pointerMoveDelta.y <= 10) {\n            event.preventDefault();\n          } else {\n            if (!content.contains(event.target)) {\n              onOpenChange(false);\n            }\n          }\n          document.removeEventListener(\"pointermove\", handlePointerMove);\n          triggerPointerDownPosRef.current = null;\n        };\n        if (triggerPointerDownPosRef.current !== null) {\n          document.addEventListener(\"pointermove\", handlePointerMove);\n          document.addEventListener(\"pointerup\", handlePointerUp, { capture: true, once: true });\n        }\n        return () => {\n          document.removeEventListener(\"pointermove\", handlePointerMove);\n          document.removeEventListener(\"pointerup\", handlePointerUp, { capture: true });\n        };\n      }\n    }, [content, onOpenChange, triggerPointerDownPosRef]);\n    React.useEffect(() => {\n      const close = () => onOpenChange(false);\n      window.addEventListener(\"blur\", close);\n      window.addEventListener(\"resize\", close);\n      return () => {\n        window.removeEventListener(\"blur\", close);\n        window.removeEventListener(\"resize\", close);\n      };\n    }, [onOpenChange]);\n    const [searchRef, handleTypeaheadSearch] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.ref.current === document.activeElement);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem) {\n        setTimeout(() => nextItem.ref.current.focus());\n      }\n    });\n    const itemRefCallback = React.useCallback(\n      (node, value, disabled) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== void 0 && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItem(node);\n          if (isFirstValidItem) firstValidItemFoundRef.current = true;\n        }\n      },\n      [context.value]\n    );\n    const handleItemLeave = React.useCallback(() => content?.focus(), [content]);\n    const itemTextRefCallback = React.useCallback(\n      (node, value, disabled) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== void 0 && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItemText(node);\n        }\n      },\n      [context.value]\n    );\n    const SelectPosition = position === \"popper\" ? SelectPopperPosition : SelectItemAlignedPosition;\n    const popperContentProps = SelectPosition === SelectPopperPosition ? {\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      arrowPadding,\n      collisionBoundary,\n      collisionPadding,\n      sticky,\n      hideWhenDetached,\n      avoidCollisions\n    } : {};\n    return /* @__PURE__ */ jsx(\n      SelectContentProvider,\n      {\n        scope: __scopeSelect,\n        content,\n        viewport,\n        onViewportChange: setViewport,\n        itemRefCallback,\n        selectedItem,\n        onItemLeave: handleItemLeave,\n        itemTextRefCallback,\n        focusSelectedItem,\n        selectedItemText,\n        position,\n        isPositioned,\n        searchRef,\n        children: /* @__PURE__ */ jsx(RemoveScroll, { as: Slot, allowPinchZoom: true, children: /* @__PURE__ */ jsx(\n          FocusScope,\n          {\n            asChild: true,\n            trapped: context.open,\n            onMountAutoFocus: (event) => {\n              event.preventDefault();\n            },\n            onUnmountAutoFocus: composeEventHandlers(onCloseAutoFocus, (event) => {\n              context.trigger?.focus({ preventScroll: true });\n              event.preventDefault();\n            }),\n            children: /* @__PURE__ */ jsx(\n              DismissableLayer,\n              {\n                asChild: true,\n                disableOutsidePointerEvents: true,\n                onEscapeKeyDown,\n                onPointerDownOutside,\n                onFocusOutside: (event) => event.preventDefault(),\n                onDismiss: () => context.onOpenChange(false),\n                children: /* @__PURE__ */ jsx(\n                  SelectPosition,\n                  {\n                    role: \"listbox\",\n                    id: context.contentId,\n                    \"data-state\": context.open ? \"open\" : \"closed\",\n                    dir: context.dir,\n                    onContextMenu: (event) => event.preventDefault(),\n                    ...contentProps,\n                    ...popperContentProps,\n                    onPlaced: () => setIsPositioned(true),\n                    ref: composedRefs,\n                    style: {\n                      // flex layout so we can place the scroll buttons properly\n                      display: \"flex\",\n                      flexDirection: \"column\",\n                      // reset the outline by default as the content MAY get focused\n                      outline: \"none\",\n                      ...contentProps.style\n                    },\n                    onKeyDown: composeEventHandlers(contentProps.onKeyDown, (event) => {\n                      const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                      if (event.key === \"Tab\") event.preventDefault();\n                      if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n                      if ([\"ArrowUp\", \"ArrowDown\", \"Home\", \"End\"].includes(event.key)) {\n                        const items = getItems().filter((item) => !item.disabled);\n                        let candidateNodes = items.map((item) => item.ref.current);\n                        if ([\"ArrowUp\", \"End\"].includes(event.key)) {\n                          candidateNodes = candidateNodes.slice().reverse();\n                        }\n                        if ([\"ArrowUp\", \"ArrowDown\"].includes(event.key)) {\n                          const currentElement = event.target;\n                          const currentIndex = candidateNodes.indexOf(currentElement);\n                          candidateNodes = candidateNodes.slice(currentIndex + 1);\n                        }\n                        setTimeout(() => focusFirst(candidateNodes));\n                        event.preventDefault();\n                      }\n                    })\n                  }\n                )\n              }\n            )\n          }\n        ) })\n      }\n    );\n  }\n);\nSelectContentImpl.displayName = CONTENT_IMPL_NAME;\nvar ITEM_ALIGNED_POSITION_NAME = \"SelectItemAlignedPosition\";\nvar SelectItemAlignedPosition = React.forwardRef((props, forwardedRef) => {\n  const { __scopeSelect, onPlaced, ...popperProps } = props;\n  const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n  const contentContext = useSelectContentContext(CONTENT_NAME, __scopeSelect);\n  const [contentWrapper, setContentWrapper] = React.useState(null);\n  const [content, setContent] = React.useState(null);\n  const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n  const getItems = useCollection(__scopeSelect);\n  const shouldExpandOnScrollRef = React.useRef(false);\n  const shouldRepositionRef = React.useRef(true);\n  const { viewport, selectedItem, selectedItemText, focusSelectedItem } = contentContext;\n  const position = React.useCallback(() => {\n    if (context.trigger && context.valueNode && contentWrapper && content && viewport && selectedItem && selectedItemText) {\n      const triggerRect = context.trigger.getBoundingClientRect();\n      const contentRect = content.getBoundingClientRect();\n      const valueNodeRect = context.valueNode.getBoundingClientRect();\n      const itemTextRect = selectedItemText.getBoundingClientRect();\n      if (context.dir !== \"rtl\") {\n        const itemTextOffset = itemTextRect.left - contentRect.left;\n        const left = valueNodeRect.left - itemTextOffset;\n        const leftDelta = triggerRect.left - left;\n        const minContentWidth = triggerRect.width + leftDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const rightEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedLeft = clamp(left, [\n          CONTENT_MARGIN,\n          // Prevents the content from going off the starting edge of the\n          // viewport. It may still go off the ending edge, but this can be\n          // controlled by the user since they may want to manage overflow in a\n          // specific way.\n          // https://github.com/radix-ui/primitives/issues/2049\n          Math.max(CONTENT_MARGIN, rightEdge - contentWidth)\n        ]);\n        contentWrapper.style.minWidth = minContentWidth + \"px\";\n        contentWrapper.style.left = clampedLeft + \"px\";\n      } else {\n        const itemTextOffset = contentRect.right - itemTextRect.right;\n        const right = window.innerWidth - valueNodeRect.right - itemTextOffset;\n        const rightDelta = window.innerWidth - triggerRect.right - right;\n        const minContentWidth = triggerRect.width + rightDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const leftEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedRight = clamp(right, [\n          CONTENT_MARGIN,\n          Math.max(CONTENT_MARGIN, leftEdge - contentWidth)\n        ]);\n        contentWrapper.style.minWidth = minContentWidth + \"px\";\n        contentWrapper.style.right = clampedRight + \"px\";\n      }\n      const items = getItems();\n      const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n      const itemsHeight = viewport.scrollHeight;\n      const contentStyles = window.getComputedStyle(content);\n      const contentBorderTopWidth = parseInt(contentStyles.borderTopWidth, 10);\n      const contentPaddingTop = parseInt(contentStyles.paddingTop, 10);\n      const contentBorderBottomWidth = parseInt(contentStyles.borderBottomWidth, 10);\n      const contentPaddingBottom = parseInt(contentStyles.paddingBottom, 10);\n      const fullContentHeight = contentBorderTopWidth + contentPaddingTop + itemsHeight + contentPaddingBottom + contentBorderBottomWidth;\n      const minContentHeight = Math.min(selectedItem.offsetHeight * 5, fullContentHeight);\n      const viewportStyles = window.getComputedStyle(viewport);\n      const viewportPaddingTop = parseInt(viewportStyles.paddingTop, 10);\n      const viewportPaddingBottom = parseInt(viewportStyles.paddingBottom, 10);\n      const topEdgeToTriggerMiddle = triggerRect.top + triggerRect.height / 2 - CONTENT_MARGIN;\n      const triggerMiddleToBottomEdge = availableHeight - topEdgeToTriggerMiddle;\n      const selectedItemHalfHeight = selectedItem.offsetHeight / 2;\n      const itemOffsetMiddle = selectedItem.offsetTop + selectedItemHalfHeight;\n      const contentTopToItemMiddle = contentBorderTopWidth + contentPaddingTop + itemOffsetMiddle;\n      const itemMiddleToContentBottom = fullContentHeight - contentTopToItemMiddle;\n      const willAlignWithoutTopOverflow = contentTopToItemMiddle <= topEdgeToTriggerMiddle;\n      if (willAlignWithoutTopOverflow) {\n        const isLastItem = items.length > 0 && selectedItem === items[items.length - 1].ref.current;\n        contentWrapper.style.bottom = \"0px\";\n        const viewportOffsetBottom = content.clientHeight - viewport.offsetTop - viewport.offsetHeight;\n        const clampedTriggerMiddleToBottomEdge = Math.max(\n          triggerMiddleToBottomEdge,\n          selectedItemHalfHeight + // viewport might have padding bottom, include it to avoid a scrollable viewport\n          (isLastItem ? viewportPaddingBottom : 0) + viewportOffsetBottom + contentBorderBottomWidth\n        );\n        const height = contentTopToItemMiddle + clampedTriggerMiddleToBottomEdge;\n        contentWrapper.style.height = height + \"px\";\n      } else {\n        const isFirstItem = items.length > 0 && selectedItem === items[0].ref.current;\n        contentWrapper.style.top = \"0px\";\n        const clampedTopEdgeToTriggerMiddle = Math.max(\n          topEdgeToTriggerMiddle,\n          contentBorderTopWidth + viewport.offsetTop + // viewport might have padding top, include it to avoid a scrollable viewport\n          (isFirstItem ? viewportPaddingTop : 0) + selectedItemHalfHeight\n        );\n        const height = clampedTopEdgeToTriggerMiddle + itemMiddleToContentBottom;\n        contentWrapper.style.height = height + \"px\";\n        viewport.scrollTop = contentTopToItemMiddle - topEdgeToTriggerMiddle + viewport.offsetTop;\n      }\n      contentWrapper.style.margin = `${CONTENT_MARGIN}px 0`;\n      contentWrapper.style.minHeight = minContentHeight + \"px\";\n      contentWrapper.style.maxHeight = availableHeight + \"px\";\n      onPlaced?.();\n      requestAnimationFrame(() => shouldExpandOnScrollRef.current = true);\n    }\n  }, [\n    getItems,\n    context.trigger,\n    context.valueNode,\n    contentWrapper,\n    content,\n    viewport,\n    selectedItem,\n    selectedItemText,\n    context.dir,\n    onPlaced\n  ]);\n  useLayoutEffect(() => position(), [position]);\n  const [contentZIndex, setContentZIndex] = React.useState();\n  useLayoutEffect(() => {\n    if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n  }, [content]);\n  const handleScrollButtonChange = React.useCallback(\n    (node) => {\n      if (node && shouldRepositionRef.current === true) {\n        position();\n        focusSelectedItem?.();\n        shouldRepositionRef.current = false;\n      }\n    },\n    [position, focusSelectedItem]\n  );\n  return /* @__PURE__ */ jsx(\n    SelectViewportProvider,\n    {\n      scope: __scopeSelect,\n      contentWrapper,\n      shouldExpandOnScrollRef,\n      onScrollButtonChange: handleScrollButtonChange,\n      children: /* @__PURE__ */ jsx(\n        \"div\",\n        {\n          ref: setContentWrapper,\n          style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            position: \"fixed\",\n            zIndex: contentZIndex\n          },\n          children: /* @__PURE__ */ jsx(\n            Primitive.div,\n            {\n              ...popperProps,\n              ref: composedRefs,\n              style: {\n                // When we get the height of the content, it includes borders. If we were to set\n                // the height without having `boxSizing: 'border-box'` it would be too big.\n                boxSizing: \"border-box\",\n                // We need to ensure the content doesn't get taller than the wrapper\n                maxHeight: \"100%\",\n                ...popperProps.style\n              }\n            }\n          )\n        }\n      )\n    }\n  );\n});\nSelectItemAlignedPosition.displayName = ITEM_ALIGNED_POSITION_NAME;\nvar POPPER_POSITION_NAME = \"SelectPopperPosition\";\nvar SelectPopperPosition = React.forwardRef((props, forwardedRef) => {\n  const {\n    __scopeSelect,\n    align = \"start\",\n    collisionPadding = CONTENT_MARGIN,\n    ...popperProps\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n  return /* @__PURE__ */ jsx(\n    PopperPrimitive.Content,\n    {\n      ...popperScope,\n      ...popperProps,\n      ref: forwardedRef,\n      align,\n      collisionPadding,\n      style: {\n        // Ensure border-box for floating-ui calculations\n        boxSizing: \"border-box\",\n        ...popperProps.style,\n        // re-namespace exposed content custom properties\n        ...{\n          \"--radix-select-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n          \"--radix-select-content-available-width\": \"var(--radix-popper-available-width)\",\n          \"--radix-select-content-available-height\": \"var(--radix-popper-available-height)\",\n          \"--radix-select-trigger-width\": \"var(--radix-popper-anchor-width)\",\n          \"--radix-select-trigger-height\": \"var(--radix-popper-anchor-height)\"\n        }\n      }\n    }\n  );\n});\nSelectPopperPosition.displayName = POPPER_POSITION_NAME;\nvar [SelectViewportProvider, useSelectViewportContext] = createSelectContext(CONTENT_NAME, {});\nvar VIEWPORT_NAME = \"SelectViewport\";\nvar SelectViewport = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, nonce, ...viewportProps } = props;\n    const contentContext = useSelectContentContext(VIEWPORT_NAME, __scopeSelect);\n    const viewportContext = useSelectViewportContext(VIEWPORT_NAME, __scopeSelect);\n    const composedRefs = useComposedRefs(forwardedRef, contentContext.onViewportChange);\n    const prevScrollTopRef = React.useRef(0);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\n        \"style\",\n        {\n          dangerouslySetInnerHTML: {\n            __html: `[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}`\n          },\n          nonce\n        }\n      ),\n      /* @__PURE__ */ jsx(Collection.Slot, { scope: __scopeSelect, children: /* @__PURE__ */ jsx(\n        Primitive.div,\n        {\n          \"data-radix-select-viewport\": \"\",\n          role: \"presentation\",\n          ...viewportProps,\n          ref: composedRefs,\n          style: {\n            // we use position: 'relative' here on the `viewport` so that when we call\n            // `selectedItem.offsetTop` in calculations, the offset is relative to the viewport\n            // (independent of the scrollUpButton).\n            position: \"relative\",\n            flex: 1,\n            // Viewport should only be scrollable in the vertical direction.\n            // This won't work in vertical writing modes, so we'll need to\n            // revisit this if/when that is supported\n            // https://developer.chrome.com/blog/vertical-form-controls\n            overflow: \"hidden auto\",\n            ...viewportProps.style\n          },\n          onScroll: composeEventHandlers(viewportProps.onScroll, (event) => {\n            const viewport = event.currentTarget;\n            const { contentWrapper, shouldExpandOnScrollRef } = viewportContext;\n            if (shouldExpandOnScrollRef?.current && contentWrapper) {\n              const scrolledBy = Math.abs(prevScrollTopRef.current - viewport.scrollTop);\n              if (scrolledBy > 0) {\n                const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n                const cssMinHeight = parseFloat(contentWrapper.style.minHeight);\n                const cssHeight = parseFloat(contentWrapper.style.height);\n                const prevHeight = Math.max(cssMinHeight, cssHeight);\n                if (prevHeight < availableHeight) {\n                  const nextHeight = prevHeight + scrolledBy;\n                  const clampedNextHeight = Math.min(availableHeight, nextHeight);\n                  const heightDiff = nextHeight - clampedNextHeight;\n                  contentWrapper.style.height = clampedNextHeight + \"px\";\n                  if (contentWrapper.style.bottom === \"0px\") {\n                    viewport.scrollTop = heightDiff > 0 ? heightDiff : 0;\n                    contentWrapper.style.justifyContent = \"flex-end\";\n                  }\n                }\n              }\n            }\n            prevScrollTopRef.current = viewport.scrollTop;\n          })\n        }\n      ) })\n    ] });\n  }\n);\nSelectViewport.displayName = VIEWPORT_NAME;\nvar GROUP_NAME = \"SelectGroup\";\nvar [SelectGroupContextProvider, useSelectGroupContext] = createSelectContext(GROUP_NAME);\nvar SelectGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...groupProps } = props;\n    const groupId = useId();\n    return /* @__PURE__ */ jsx(SelectGroupContextProvider, { scope: __scopeSelect, id: groupId, children: /* @__PURE__ */ jsx(Primitive.div, { role: \"group\", \"aria-labelledby\": groupId, ...groupProps, ref: forwardedRef }) });\n  }\n);\nSelectGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"SelectLabel\";\nvar SelectLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...labelProps } = props;\n    const groupContext = useSelectGroupContext(LABEL_NAME, __scopeSelect);\n    return /* @__PURE__ */ jsx(Primitive.div, { id: groupContext.id, ...labelProps, ref: forwardedRef });\n  }\n);\nSelectLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"SelectItem\";\nvar [SelectItemContextProvider, useSelectItemContext] = createSelectContext(ITEM_NAME);\nvar SelectItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSelect,\n      value,\n      disabled = false,\n      textValue: textValueProp,\n      ...itemProps\n    } = props;\n    const context = useSelectContext(ITEM_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_NAME, __scopeSelect);\n    const isSelected = context.value === value;\n    const [textValue, setTextValue] = React.useState(textValueProp ?? \"\");\n    const [isFocused, setIsFocused] = React.useState(false);\n    const composedRefs = useComposedRefs(\n      forwardedRef,\n      (node) => contentContext.itemRefCallback?.(node, value, disabled)\n    );\n    const textId = useId();\n    const pointerTypeRef = React.useRef(\"touch\");\n    const handleSelect = () => {\n      if (!disabled) {\n        context.onValueChange(value);\n        context.onOpenChange(false);\n      }\n    };\n    if (value === \"\") {\n      throw new Error(\n        \"A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.\"\n      );\n    }\n    return /* @__PURE__ */ jsx(\n      SelectItemContextProvider,\n      {\n        scope: __scopeSelect,\n        value,\n        disabled,\n        textId,\n        isSelected,\n        onItemTextChange: React.useCallback((node) => {\n          setTextValue((prevTextValue) => prevTextValue || (node?.textContent ?? \"\").trim());\n        }, []),\n        children: /* @__PURE__ */ jsx(\n          Collection.ItemSlot,\n          {\n            scope: __scopeSelect,\n            value,\n            disabled,\n            textValue,\n            children: /* @__PURE__ */ jsx(\n              Primitive.div,\n              {\n                role: \"option\",\n                \"aria-labelledby\": textId,\n                \"data-highlighted\": isFocused ? \"\" : void 0,\n                \"aria-selected\": isSelected && isFocused,\n                \"data-state\": isSelected ? \"checked\" : \"unchecked\",\n                \"aria-disabled\": disabled || void 0,\n                \"data-disabled\": disabled ? \"\" : void 0,\n                tabIndex: disabled ? void 0 : -1,\n                ...itemProps,\n                ref: composedRefs,\n                onFocus: composeEventHandlers(itemProps.onFocus, () => setIsFocused(true)),\n                onBlur: composeEventHandlers(itemProps.onBlur, () => setIsFocused(false)),\n                onClick: composeEventHandlers(itemProps.onClick, () => {\n                  if (pointerTypeRef.current !== \"mouse\") handleSelect();\n                }),\n                onPointerUp: composeEventHandlers(itemProps.onPointerUp, () => {\n                  if (pointerTypeRef.current === \"mouse\") handleSelect();\n                }),\n                onPointerDown: composeEventHandlers(itemProps.onPointerDown, (event) => {\n                  pointerTypeRef.current = event.pointerType;\n                }),\n                onPointerMove: composeEventHandlers(itemProps.onPointerMove, (event) => {\n                  pointerTypeRef.current = event.pointerType;\n                  if (disabled) {\n                    contentContext.onItemLeave?.();\n                  } else if (pointerTypeRef.current === \"mouse\") {\n                    event.currentTarget.focus({ preventScroll: true });\n                  }\n                }),\n                onPointerLeave: composeEventHandlers(itemProps.onPointerLeave, (event) => {\n                  if (event.currentTarget === document.activeElement) {\n                    contentContext.onItemLeave?.();\n                  }\n                }),\n                onKeyDown: composeEventHandlers(itemProps.onKeyDown, (event) => {\n                  const isTypingAhead = contentContext.searchRef?.current !== \"\";\n                  if (isTypingAhead && event.key === \" \") return;\n                  if (SELECTION_KEYS.includes(event.key)) handleSelect();\n                  if (event.key === \" \") event.preventDefault();\n                })\n              }\n            )\n          }\n        )\n      }\n    );\n  }\n);\nSelectItem.displayName = ITEM_NAME;\nvar ITEM_TEXT_NAME = \"SelectItemText\";\nvar SelectItemText = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, className, style, ...itemTextProps } = props;\n    const context = useSelectContext(ITEM_TEXT_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_TEXT_NAME, __scopeSelect);\n    const itemContext = useSelectItemContext(ITEM_TEXT_NAME, __scopeSelect);\n    const nativeOptionsContext = useSelectNativeOptionsContext(ITEM_TEXT_NAME, __scopeSelect);\n    const [itemTextNode, setItemTextNode] = React.useState(null);\n    const composedRefs = useComposedRefs(\n      forwardedRef,\n      (node) => setItemTextNode(node),\n      itemContext.onItemTextChange,\n      (node) => contentContext.itemTextRefCallback?.(node, itemContext.value, itemContext.disabled)\n    );\n    const textContent = itemTextNode?.textContent;\n    const nativeOption = React.useMemo(\n      () => /* @__PURE__ */ jsx(\"option\", { value: itemContext.value, disabled: itemContext.disabled, children: textContent }, itemContext.value),\n      [itemContext.disabled, itemContext.value, textContent]\n    );\n    const { onNativeOptionAdd, onNativeOptionRemove } = nativeOptionsContext;\n    useLayoutEffect(() => {\n      onNativeOptionAdd(nativeOption);\n      return () => onNativeOptionRemove(nativeOption);\n    }, [onNativeOptionAdd, onNativeOptionRemove, nativeOption]);\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(Primitive.span, { id: itemContext.textId, ...itemTextProps, ref: composedRefs }),\n      itemContext.isSelected && context.valueNode && !context.valueNodeHasChildren ? ReactDOM.createPortal(itemTextProps.children, context.valueNode) : null\n    ] });\n  }\n);\nSelectItemText.displayName = ITEM_TEXT_NAME;\nvar ITEM_INDICATOR_NAME = \"SelectItemIndicator\";\nvar SelectItemIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...itemIndicatorProps } = props;\n    const itemContext = useSelectItemContext(ITEM_INDICATOR_NAME, __scopeSelect);\n    return itemContext.isSelected ? /* @__PURE__ */ jsx(Primitive.span, { \"aria-hidden\": true, ...itemIndicatorProps, ref: forwardedRef }) : null;\n  }\n);\nSelectItemIndicator.displayName = ITEM_INDICATOR_NAME;\nvar SCROLL_UP_BUTTON_NAME = \"SelectScrollUpButton\";\nvar SelectScrollUpButton = React.forwardRef((props, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollUp, setCanScrollUp] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      let handleScroll2 = function() {\n        const canScrollUp2 = viewport.scrollTop > 0;\n        setCanScrollUp(canScrollUp2);\n      };\n      var handleScroll = handleScroll2;\n      const viewport = contentContext.viewport;\n      handleScroll2();\n      viewport.addEventListener(\"scroll\", handleScroll2);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll2);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n  return canScrollUp ? /* @__PURE__ */ jsx(\n    SelectScrollButtonImpl,\n    {\n      ...props,\n      ref: composedRefs,\n      onAutoScroll: () => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop - selectedItem.offsetHeight;\n        }\n      }\n    }\n  ) : null;\n});\nSelectScrollUpButton.displayName = SCROLL_UP_BUTTON_NAME;\nvar SCROLL_DOWN_BUTTON_NAME = \"SelectScrollDownButton\";\nvar SelectScrollDownButton = React.forwardRef((props, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollDown, setCanScrollDown] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      let handleScroll2 = function() {\n        const maxScroll = viewport.scrollHeight - viewport.clientHeight;\n        const canScrollDown2 = Math.ceil(viewport.scrollTop) < maxScroll;\n        setCanScrollDown(canScrollDown2);\n      };\n      var handleScroll = handleScroll2;\n      const viewport = contentContext.viewport;\n      handleScroll2();\n      viewport.addEventListener(\"scroll\", handleScroll2);\n      return () => viewport.removeEventListener(\"scroll\", handleScroll2);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n  return canScrollDown ? /* @__PURE__ */ jsx(\n    SelectScrollButtonImpl,\n    {\n      ...props,\n      ref: composedRefs,\n      onAutoScroll: () => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop + selectedItem.offsetHeight;\n        }\n      }\n    }\n  ) : null;\n});\nSelectScrollDownButton.displayName = SCROLL_DOWN_BUTTON_NAME;\nvar SelectScrollButtonImpl = React.forwardRef((props, forwardedRef) => {\n  const { __scopeSelect, onAutoScroll, ...scrollIndicatorProps } = props;\n  const contentContext = useSelectContentContext(\"SelectScrollButton\", __scopeSelect);\n  const autoScrollTimerRef = React.useRef(null);\n  const getItems = useCollection(__scopeSelect);\n  const clearAutoScrollTimer = React.useCallback(() => {\n    if (autoScrollTimerRef.current !== null) {\n      window.clearInterval(autoScrollTimerRef.current);\n      autoScrollTimerRef.current = null;\n    }\n  }, []);\n  React.useEffect(() => {\n    return () => clearAutoScrollTimer();\n  }, [clearAutoScrollTimer]);\n  useLayoutEffect(() => {\n    const activeItem = getItems().find((item) => item.ref.current === document.activeElement);\n    activeItem?.ref.current?.scrollIntoView({ block: \"nearest\" });\n  }, [getItems]);\n  return /* @__PURE__ */ jsx(\n    Primitive.div,\n    {\n      \"aria-hidden\": true,\n      ...scrollIndicatorProps,\n      ref: forwardedRef,\n      style: { flexShrink: 0, ...scrollIndicatorProps.style },\n      onPointerDown: composeEventHandlers(scrollIndicatorProps.onPointerDown, () => {\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      }),\n      onPointerMove: composeEventHandlers(scrollIndicatorProps.onPointerMove, () => {\n        contentContext.onItemLeave?.();\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      }),\n      onPointerLeave: composeEventHandlers(scrollIndicatorProps.onPointerLeave, () => {\n        clearAutoScrollTimer();\n      })\n    }\n  );\n});\nvar SEPARATOR_NAME = \"SelectSeparator\";\nvar SelectSeparator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...separatorProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { \"aria-hidden\": true, ...separatorProps, ref: forwardedRef });\n  }\n);\nSelectSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"SelectArrow\";\nvar SelectArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSelect, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(ARROW_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ARROW_NAME, __scopeSelect);\n    return context.open && contentContext.position === \"popper\" ? /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef }) : null;\n  }\n);\nSelectArrow.displayName = ARROW_NAME;\nvar BUBBLE_INPUT_NAME = \"SelectBubbleInput\";\nvar SelectBubbleInput = React.forwardRef(\n  ({ __scopeSelect, value, ...props }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const prevValue = usePrevious(value);\n    React.useEffect(() => {\n      const select = ref.current;\n      if (!select) return;\n      const selectProto = window.HTMLSelectElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        selectProto,\n        \"value\"\n      );\n      const setValue = descriptor.set;\n      if (prevValue !== value && setValue) {\n        const event = new Event(\"change\", { bubbles: true });\n        setValue.call(select, value);\n        select.dispatchEvent(event);\n      }\n    }, [prevValue, value]);\n    return /* @__PURE__ */ jsx(\n      Primitive.select,\n      {\n        ...props,\n        style: { ...VISUALLY_HIDDEN_STYLES, ...props.style },\n        ref: composedRefs,\n        defaultValue: value\n      }\n    );\n  }\n);\nSelectBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction shouldShowPlaceholder(value) {\n  return value === \"\" || value === void 0;\n}\nfunction useTypeaheadSearch(onSearchChange) {\n  const handleSearchChange = useCallbackRef(onSearchChange);\n  const searchRef = React.useRef(\"\");\n  const timerRef = React.useRef(0);\n  const handleTypeaheadSearch = React.useCallback(\n    (key) => {\n      const search = searchRef.current + key;\n      handleSearchChange(search);\n      (function updateSearch(value) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        if (value !== \"\") timerRef.current = window.setTimeout(() => updateSearch(\"\"), 1e3);\n      })(search);\n    },\n    [handleSearchChange]\n  );\n  const resetTypeahead = React.useCallback(() => {\n    searchRef.current = \"\";\n    window.clearTimeout(timerRef.current);\n  }, []);\n  React.useEffect(() => {\n    return () => window.clearTimeout(timerRef.current);\n  }, []);\n  return [searchRef, handleTypeaheadSearch, resetTypeahead];\n}\nfunction findNextItem(items, search, currentItem) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0] : search;\n  const currentItemIndex = currentItem ? items.indexOf(currentItem) : -1;\n  let wrappedItems = wrapArray(items, Math.max(currentItemIndex, 0));\n  const excludeCurrentItem = normalizedSearch.length === 1;\n  if (excludeCurrentItem) wrappedItems = wrappedItems.filter((v) => v !== currentItem);\n  const nextItem = wrappedItems.find(\n    (item) => item.textValue.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextItem !== currentItem ? nextItem : void 0;\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nvar Root2 = Select;\nvar Trigger = SelectTrigger;\nvar Value = SelectValue;\nvar Icon = SelectIcon;\nvar Portal = SelectPortal;\nvar Content2 = SelectContent;\nvar Viewport = SelectViewport;\nvar Group = SelectGroup;\nvar Label = SelectLabel;\nvar Item = SelectItem;\nvar ItemText = SelectItemText;\nvar ItemIndicator = SelectItemIndicator;\nvar ScrollUpButton = SelectScrollUpButton;\nvar ScrollDownButton = SelectScrollDownButton;\nvar Separator = SelectSeparator;\nvar Arrow2 = SelectArrow;\nexport {\n  Arrow2 as Arrow,\n  Content2 as Content,\n  Group,\n  Icon,\n  Item,\n  ItemIndicator,\n  ItemText,\n  Label,\n  Portal,\n  Root2 as Root,\n  ScrollDownButton,\n  ScrollUpButton,\n  Select,\n  SelectArrow,\n  SelectContent,\n  SelectGroup,\n  SelectIcon,\n  SelectItem,\n  SelectItemIndicator,\n  SelectItemText,\n  SelectLabel,\n  SelectPortal,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n  SelectViewport,\n  Separator,\n  Trigger,\n  Value,\n  Viewport,\n  createSelectScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\n\nimport * as React from \"react\"\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from \"lucide-react\"\nimport { Select as SelectPrimitive } from \"radix-ui\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = \"default\",\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: \"sm\" | \"default\"\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = \"item-aligned\",\n  align = \"center\",\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",\n          position === \"popper\" &&\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n          className\n        )}\n        position={position}\n        align={align}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            \"p-1\",\n            position === \"popper\" &&\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\"\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className\n      )}\n      {...props}\n    >\n      <span\n        data-slot=\"select-item-indicator\"\n        className=\"absolute right-2 flex size-3.5 items-center justify-center\"\n      >\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n","\"use client\";\r\n\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface SEOFieldProps {\r\n    label: string;\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    recommendedMin?: number;\r\n    recommendedMax?: number;\r\n    maxLength?: number;\r\n    type?: \"text\" | \"textarea\";\r\n    placeholder?: string;\r\n    multiline?: boolean;\r\n}\r\n\r\nexport function SEOField({\r\n    label,\r\n    value = \"\",\r\n    onChange,\r\n    recommendedMin = 0,\r\n    recommendedMax = 100,\r\n    maxLength,\r\n    type = \"text\",\r\n    placeholder,\r\n    multiline = false,\r\n}: SEOFieldProps) {\r\n    const length = value.length;\r\n    let color = \"bg-slate-200\";\r\n\r\n    if (length > 0) {\r\n        if (length < recommendedMin) color = \"bg-yellow-500\";\r\n        else if (length <= recommendedMax) color = \"bg-green-500\";\r\n        else color = \"bg-red-500\";\r\n    }\r\n\r\n    const percentage = Math.min(100, (length / recommendedMax) * 100);\r\n\r\n    const InputComponent = multiline || type === \"textarea\" ? Textarea : Input;\r\n\r\n    return (\r\n        <div className=\"space-y-2\">\r\n            <div className=\"flex justify-between\">\r\n                <label className=\"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\">\r\n                    {label}\r\n                </label>\r\n                <div className=\"flex gap-2 items-center\">\r\n                    <span className={cn(\"text-xs font-mono\", length > recommendedMax ? \"text-red-500 font-bold\" : \"text-muted-foreground\")}>\r\n                        {length} / {recommendedMax}\r\n                    </span>\r\n                    {maxLength && (\r\n                        <span className=\"text-[10px] text-muted-foreground/70\">\r\n                            (Max: {maxLength})\r\n                        </span>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            <InputComponent\r\n                value={value}\r\n                onChange={(e) => onChange(e.target.value)}\r\n                placeholder={placeholder}\r\n                maxLength={maxLength}\r\n                className={multiline || type === \"textarea\" ? \"resize-none min-h-[80px]\" : \"\"}\r\n                {...(multiline || type === \"textarea\" ? { rows: 4 } : {})}\r\n            />\r\n\r\n            <div className=\"h-2 w-full bg-secondary rounded-full overflow-hidden\">\r\n                <div\r\n                    className={cn(\"h-full transition-all duration-300\", color)}\r\n                    style={{ width: `${percentage}%` }}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","\"use client\";\n\n// src/progress.tsx\nimport * as React from \"react\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar PROGRESS_NAME = \"Progress\";\nvar DEFAULT_MAX = 100;\nvar [createProgressContext, createProgressScope] = createContextScope(PROGRESS_NAME);\nvar [ProgressProvider, useProgressContext] = createProgressContext(PROGRESS_NAME);\nvar Progress = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeProgress,\n      value: valueProp = null,\n      max: maxProp,\n      getValueLabel = defaultGetValueLabel,\n      ...progressProps\n    } = props;\n    if ((maxProp || maxProp === 0) && !isValidMaxNumber(maxProp)) {\n      console.error(getInvalidMaxError(`${maxProp}`, \"Progress\"));\n    }\n    const max = isValidMaxNumber(maxProp) ? maxProp : DEFAULT_MAX;\n    if (valueProp !== null && !isValidValueNumber(valueProp, max)) {\n      console.error(getInvalidValueError(`${valueProp}`, \"Progress\"));\n    }\n    const value = isValidValueNumber(valueProp, max) ? valueProp : null;\n    const valueLabel = isNumber(value) ? getValueLabel(value, max) : void 0;\n    return /* @__PURE__ */ jsx(ProgressProvider, { scope: __scopeProgress, value, max, children: /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"aria-valuemax\": max,\n        \"aria-valuemin\": 0,\n        \"aria-valuenow\": isNumber(value) ? value : void 0,\n        \"aria-valuetext\": valueLabel,\n        role: \"progressbar\",\n        \"data-state\": getProgressState(value, max),\n        \"data-value\": value ?? void 0,\n        \"data-max\": max,\n        ...progressProps,\n        ref: forwardedRef\n      }\n    ) });\n  }\n);\nProgress.displayName = PROGRESS_NAME;\nvar INDICATOR_NAME = \"ProgressIndicator\";\nvar ProgressIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeProgress, ...indicatorProps } = props;\n    const context = useProgressContext(INDICATOR_NAME, __scopeProgress);\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"data-state\": getProgressState(context.value, context.max),\n        \"data-value\": context.value ?? void 0,\n        \"data-max\": context.max,\n        ...indicatorProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nProgressIndicator.displayName = INDICATOR_NAME;\nfunction defaultGetValueLabel(value, max) {\n  return `${Math.round(value / max * 100)}%`;\n}\nfunction getProgressState(value, maxValue) {\n  return value == null ? \"indeterminate\" : value === maxValue ? \"complete\" : \"loading\";\n}\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\nfunction isValidMaxNumber(max) {\n  return isNumber(max) && !isNaN(max) && max > 0;\n}\nfunction isValidValueNumber(value, max) {\n  return isNumber(value) && !isNaN(value) && value <= max && value >= 0;\n}\nfunction getInvalidMaxError(propValue, componentName) {\n  return `Invalid prop \\`max\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. Only numbers greater than 0 are valid max values. Defaulting to \\`${DEFAULT_MAX}\\`.`;\n}\nfunction getInvalidValueError(propValue, componentName) {\n  return `Invalid prop \\`value\\` of value \\`${propValue}\\` supplied to \\`${componentName}\\`. The \\`value\\` prop must be:\n  - a positive number\n  - less than the value passed to \\`max\\` (or ${DEFAULT_MAX} if no \\`max\\` prop is set)\n  - \\`null\\` or \\`undefined\\` if the progress is indeterminate.\n\nDefaulting to \\`null\\`.`;\n}\nvar Root = Progress;\nvar Indicator = ProgressIndicator;\nexport {\n  Indicator,\n  Progress,\n  ProgressIndicator,\n  Root,\n  createProgressScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Progress = React.forwardRef<\r\n    React.ElementRef<typeof ProgressPrimitive.Root>,\r\n    React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\r\n>(({ className, value, ...props }, ref) => (\r\n    <ProgressPrimitive.Root\r\n        ref={ref}\r\n        className={cn(\r\n            \"relative h-4 w-full overflow-hidden rounded-full bg-secondary\",\r\n            className\r\n        )}\r\n        {...props}\r\n    >\r\n        <ProgressPrimitive.Indicator\r\n            className=\"h-full w-full flex-1 bg-primary transition-all\"\r\n            style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\r\n        />\r\n    </ProgressPrimitive.Root>\r\n))\r\nProgress.displayName = ProgressPrimitive.Root.displayName\r\n\r\nexport { Progress }\r\n","// ::- Persistent data structure representing an ordered mapping from\n// strings to values, with some convenient update methods.\nfunction OrderedMap(content) {\n  this.content = content;\n}\n\nOrderedMap.prototype = {\n  constructor: OrderedMap,\n\n  find: function(key) {\n    for (var i = 0; i < this.content.length; i += 2)\n      if (this.content[i] === key) return i\n    return -1\n  },\n\n  // :: (string) → ?any\n  // Retrieve the value stored under `key`, or return undefined when\n  // no such key exists.\n  get: function(key) {\n    var found = this.find(key);\n    return found == -1 ? undefined : this.content[found + 1]\n  },\n\n  // :: (string, any, ?string) → OrderedMap\n  // Create a new map by replacing the value of `key` with a new\n  // value, or adding a binding to the end of the map. If `newKey` is\n  // given, the key of the binding will be replaced with that key.\n  update: function(key, value, newKey) {\n    var self = newKey && newKey != key ? this.remove(newKey) : this;\n    var found = self.find(key), content = self.content.slice();\n    if (found == -1) {\n      content.push(newKey || key, value);\n    } else {\n      content[found + 1] = value;\n      if (newKey) content[found] = newKey;\n    }\n    return new OrderedMap(content)\n  },\n\n  // :: (string) → OrderedMap\n  // Return a map with the given key removed, if it existed.\n  remove: function(key) {\n    var found = this.find(key);\n    if (found == -1) return this\n    var content = this.content.slice();\n    content.splice(found, 2);\n    return new OrderedMap(content)\n  },\n\n  // :: (string, any) → OrderedMap\n  // Add a new key to the start of the map.\n  addToStart: function(key, value) {\n    return new OrderedMap([key, value].concat(this.remove(key).content))\n  },\n\n  // :: (string, any) → OrderedMap\n  // Add a new key to the end of the map.\n  addToEnd: function(key, value) {\n    var content = this.remove(key).content.slice();\n    content.push(key, value);\n    return new OrderedMap(content)\n  },\n\n  // :: (string, string, any) → OrderedMap\n  // Add a key after the given key. If `place` is not found, the new\n  // key is added to the end.\n  addBefore: function(place, key, value) {\n    var without = this.remove(key), content = without.content.slice();\n    var found = without.find(place);\n    content.splice(found == -1 ? content.length : found, 0, key, value);\n    return new OrderedMap(content)\n  },\n\n  // :: ((key: string, value: any))\n  // Call the given function for each key/value pair in the map, in\n  // order.\n  forEach: function(f) {\n    for (var i = 0; i < this.content.length; i += 2)\n      f(this.content[i], this.content[i + 1]);\n  },\n\n  // :: (union<Object, OrderedMap>) → OrderedMap\n  // Create a new map by prepending the keys in this map that don't\n  // appear in `map` before the keys in `map`.\n  prepend: function(map) {\n    map = OrderedMap.from(map);\n    if (!map.size) return this\n    return new OrderedMap(map.content.concat(this.subtract(map).content))\n  },\n\n  // :: (union<Object, OrderedMap>) → OrderedMap\n  // Create a new map by appending the keys in this map that don't\n  // appear in `map` after the keys in `map`.\n  append: function(map) {\n    map = OrderedMap.from(map);\n    if (!map.size) return this\n    return new OrderedMap(this.subtract(map).content.concat(map.content))\n  },\n\n  // :: (union<Object, OrderedMap>) → OrderedMap\n  // Create a map containing all the keys in this map that don't\n  // appear in `map`.\n  subtract: function(map) {\n    var result = this;\n    map = OrderedMap.from(map);\n    for (var i = 0; i < map.content.length; i += 2)\n      result = result.remove(map.content[i]);\n    return result\n  },\n\n  // :: () → Object\n  // Turn ordered map into a plain object.\n  toObject: function() {\n    var result = {};\n    this.forEach(function(key, value) { result[key] = value; });\n    return result\n  },\n\n  // :: number\n  // The amount of keys in this map.\n  get size() {\n    return this.content.length >> 1\n  }\n};\n\n// :: (?union<Object, OrderedMap>) → OrderedMap\n// Return a map with the given content. If null, create an empty\n// map. If given an ordered map, return that map itself. If given an\n// object, create a map from the object's properties.\nOrderedMap.from = function(value) {\n  if (value instanceof OrderedMap) return value\n  var content = [];\n  if (value) for (var prop in value) content.push(prop, value[prop]);\n  return new OrderedMap(content)\n};\n\nexport default OrderedMap;\n","var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// src/helpers/createChainableState.ts\nfunction createChainableState(config) {\n  const { state, transaction } = config;\n  let { selection } = transaction;\n  let { doc } = transaction;\n  let { storedMarks } = transaction;\n  return {\n    ...state,\n    apply: state.apply.bind(state),\n    applyTransaction: state.applyTransaction.bind(state),\n    plugins: state.plugins,\n    schema: state.schema,\n    reconfigure: state.reconfigure.bind(state),\n    toJSON: state.toJSON.bind(state),\n    get storedMarks() {\n      return storedMarks;\n    },\n    get selection() {\n      return selection;\n    },\n    get doc() {\n      return doc;\n    },\n    get tr() {\n      selection = transaction.selection;\n      doc = transaction.doc;\n      storedMarks = transaction.storedMarks;\n      return transaction;\n    }\n  };\n}\n\n// src/CommandManager.ts\nvar CommandManager = class {\n  constructor(props) {\n    this.editor = props.editor;\n    this.rawCommands = this.editor.extensionManager.commands;\n    this.customState = props.state;\n  }\n  get hasCustomState() {\n    return !!this.customState;\n  }\n  get state() {\n    return this.customState || this.editor.state;\n  }\n  get commands() {\n    const { rawCommands, editor, state } = this;\n    const { view } = editor;\n    const { tr } = state;\n    const props = this.buildProps(tr);\n    return Object.fromEntries(\n      Object.entries(rawCommands).map(([name, command2]) => {\n        const method = (...args) => {\n          const callback = command2(...args)(props);\n          if (!tr.getMeta(\"preventDispatch\") && !this.hasCustomState) {\n            view.dispatch(tr);\n          }\n          return callback;\n        };\n        return [name, method];\n      })\n    );\n  }\n  get chain() {\n    return () => this.createChain();\n  }\n  get can() {\n    return () => this.createCan();\n  }\n  createChain(startTr, shouldDispatch = true) {\n    const { rawCommands, editor, state } = this;\n    const { view } = editor;\n    const callbacks = [];\n    const hasStartTransaction = !!startTr;\n    const tr = startTr || state.tr;\n    const run3 = () => {\n      if (!hasStartTransaction && shouldDispatch && !tr.getMeta(\"preventDispatch\") && !this.hasCustomState) {\n        view.dispatch(tr);\n      }\n      return callbacks.every((callback) => callback === true);\n    };\n    const chain = {\n      ...Object.fromEntries(\n        Object.entries(rawCommands).map(([name, command2]) => {\n          const chainedCommand = (...args) => {\n            const props = this.buildProps(tr, shouldDispatch);\n            const callback = command2(...args)(props);\n            callbacks.push(callback);\n            return chain;\n          };\n          return [name, chainedCommand];\n        })\n      ),\n      run: run3\n    };\n    return chain;\n  }\n  createCan(startTr) {\n    const { rawCommands, state } = this;\n    const dispatch = false;\n    const tr = startTr || state.tr;\n    const props = this.buildProps(tr, dispatch);\n    const formattedCommands = Object.fromEntries(\n      Object.entries(rawCommands).map(([name, command2]) => {\n        return [name, (...args) => command2(...args)({ ...props, dispatch: void 0 })];\n      })\n    );\n    return {\n      ...formattedCommands,\n      chain: () => this.createChain(tr, dispatch)\n    };\n  }\n  buildProps(tr, shouldDispatch = true) {\n    const { rawCommands, editor, state } = this;\n    const { view } = editor;\n    const props = {\n      tr,\n      editor,\n      view,\n      state: createChainableState({\n        state,\n        transaction: tr\n      }),\n      dispatch: shouldDispatch ? () => void 0 : void 0,\n      chain: () => this.createChain(tr, shouldDispatch),\n      can: () => this.createCan(tr),\n      get commands() {\n        return Object.fromEntries(\n          Object.entries(rawCommands).map(([name, command2]) => {\n            return [name, (...args) => command2(...args)(props)];\n          })\n        );\n      }\n    };\n    return props;\n  }\n};\n\n// src/commands/index.ts\nvar commands_exports = {};\n__export(commands_exports, {\n  blur: () => blur,\n  clearContent: () => clearContent,\n  clearNodes: () => clearNodes,\n  command: () => command,\n  createParagraphNear: () => createParagraphNear,\n  cut: () => cut,\n  deleteCurrentNode: () => deleteCurrentNode,\n  deleteNode: () => deleteNode,\n  deleteRange: () => deleteRange,\n  deleteSelection: () => deleteSelection,\n  enter: () => enter,\n  exitCode: () => exitCode,\n  extendMarkRange: () => extendMarkRange,\n  first: () => first,\n  focus: () => focus,\n  forEach: () => forEach,\n  insertContent: () => insertContent,\n  insertContentAt: () => insertContentAt,\n  joinBackward: () => joinBackward,\n  joinDown: () => joinDown,\n  joinForward: () => joinForward,\n  joinItemBackward: () => joinItemBackward,\n  joinItemForward: () => joinItemForward,\n  joinTextblockBackward: () => joinTextblockBackward,\n  joinTextblockForward: () => joinTextblockForward,\n  joinUp: () => joinUp,\n  keyboardShortcut: () => keyboardShortcut,\n  lift: () => lift,\n  liftEmptyBlock: () => liftEmptyBlock,\n  liftListItem: () => liftListItem,\n  newlineInCode: () => newlineInCode,\n  resetAttributes: () => resetAttributes,\n  scrollIntoView: () => scrollIntoView,\n  selectAll: () => selectAll,\n  selectNodeBackward: () => selectNodeBackward,\n  selectNodeForward: () => selectNodeForward,\n  selectParentNode: () => selectParentNode,\n  selectTextblockEnd: () => selectTextblockEnd,\n  selectTextblockStart: () => selectTextblockStart,\n  setContent: () => setContent,\n  setMark: () => setMark,\n  setMeta: () => setMeta,\n  setNode: () => setNode,\n  setNodeSelection: () => setNodeSelection,\n  setTextDirection: () => setTextDirection,\n  setTextSelection: () => setTextSelection,\n  sinkListItem: () => sinkListItem,\n  splitBlock: () => splitBlock,\n  splitListItem: () => splitListItem,\n  toggleList: () => toggleList,\n  toggleMark: () => toggleMark,\n  toggleNode: () => toggleNode,\n  toggleWrap: () => toggleWrap,\n  undoInputRule: () => undoInputRule,\n  unsetAllMarks: () => unsetAllMarks,\n  unsetMark: () => unsetMark,\n  unsetTextDirection: () => unsetTextDirection,\n  updateAttributes: () => updateAttributes,\n  wrapIn: () => wrapIn,\n  wrapInList: () => wrapInList\n});\n\n// src/commands/blur.ts\nvar blur = () => ({ editor, view }) => {\n  requestAnimationFrame(() => {\n    var _a;\n    if (!editor.isDestroyed) {\n      ;\n      view.dom.blur();\n      (_a = window == null ? void 0 : window.getSelection()) == null ? void 0 : _a.removeAllRanges();\n    }\n  });\n  return true;\n};\n\n// src/commands/clearContent.ts\nvar clearContent = (emitUpdate = true) => ({ commands }) => {\n  return commands.setContent(\"\", { emitUpdate });\n};\n\n// src/commands/clearNodes.ts\nimport { liftTarget } from \"@tiptap/pm/transform\";\nvar clearNodes = () => ({ state, tr, dispatch }) => {\n  const { selection } = tr;\n  const { ranges } = selection;\n  if (!dispatch) {\n    return true;\n  }\n  ranges.forEach(({ $from, $to }) => {\n    state.doc.nodesBetween($from.pos, $to.pos, (node, pos) => {\n      if (node.type.isText) {\n        return;\n      }\n      const { doc, mapping } = tr;\n      const $mappedFrom = doc.resolve(mapping.map(pos));\n      const $mappedTo = doc.resolve(mapping.map(pos + node.nodeSize));\n      const nodeRange = $mappedFrom.blockRange($mappedTo);\n      if (!nodeRange) {\n        return;\n      }\n      const targetLiftDepth = liftTarget(nodeRange);\n      if (node.type.isTextblock) {\n        const { defaultType } = $mappedFrom.parent.contentMatchAt($mappedFrom.index());\n        tr.setNodeMarkup(nodeRange.start, defaultType);\n      }\n      if (targetLiftDepth || targetLiftDepth === 0) {\n        tr.lift(nodeRange, targetLiftDepth);\n      }\n    });\n  });\n  return true;\n};\n\n// src/commands/command.ts\nvar command = (fn) => (props) => {\n  return fn(props);\n};\n\n// src/commands/createParagraphNear.ts\nimport { createParagraphNear as originalCreateParagraphNear } from \"@tiptap/pm/commands\";\nvar createParagraphNear = () => ({ state, dispatch }) => {\n  return originalCreateParagraphNear(state, dispatch);\n};\n\n// src/commands/cut.ts\nimport { TextSelection } from \"@tiptap/pm/state\";\nvar cut = (originRange, targetPos) => ({ editor, tr }) => {\n  const { state } = editor;\n  const contentSlice = state.doc.slice(originRange.from, originRange.to);\n  tr.deleteRange(originRange.from, originRange.to);\n  const newPos = tr.mapping.map(targetPos);\n  tr.insert(newPos, contentSlice.content);\n  tr.setSelection(new TextSelection(tr.doc.resolve(Math.max(newPos - 1, 0))));\n  return true;\n};\n\n// src/commands/deleteCurrentNode.ts\nvar deleteCurrentNode = () => ({ tr, dispatch }) => {\n  const { selection } = tr;\n  const currentNode = selection.$anchor.node();\n  if (currentNode.content.size > 0) {\n    return false;\n  }\n  const $pos = tr.selection.$anchor;\n  for (let depth = $pos.depth; depth > 0; depth -= 1) {\n    const node = $pos.node(depth);\n    if (node.type === currentNode.type) {\n      if (dispatch) {\n        const from = $pos.before(depth);\n        const to = $pos.after(depth);\n        tr.delete(from, to).scrollIntoView();\n      }\n      return true;\n    }\n  }\n  return false;\n};\n\n// src/helpers/getNodeType.ts\nfunction getNodeType(nameOrType, schema) {\n  if (typeof nameOrType === \"string\") {\n    if (!schema.nodes[nameOrType]) {\n      throw Error(`There is no node type named '${nameOrType}'. Maybe you forgot to add the extension?`);\n    }\n    return schema.nodes[nameOrType];\n  }\n  return nameOrType;\n}\n\n// src/commands/deleteNode.ts\nvar deleteNode = (typeOrName) => ({ tr, state, dispatch }) => {\n  const type = getNodeType(typeOrName, state.schema);\n  const $pos = tr.selection.$anchor;\n  for (let depth = $pos.depth; depth > 0; depth -= 1) {\n    const node = $pos.node(depth);\n    if (node.type === type) {\n      if (dispatch) {\n        const from = $pos.before(depth);\n        const to = $pos.after(depth);\n        tr.delete(from, to).scrollIntoView();\n      }\n      return true;\n    }\n  }\n  return false;\n};\n\n// src/commands/deleteRange.ts\nvar deleteRange = (range) => ({ tr, dispatch }) => {\n  const { from, to } = range;\n  if (dispatch) {\n    tr.delete(from, to);\n  }\n  return true;\n};\n\n// src/commands/deleteSelection.ts\nimport { deleteSelection as originalDeleteSelection } from \"@tiptap/pm/commands\";\nvar deleteSelection = () => ({ state, dispatch }) => {\n  return originalDeleteSelection(state, dispatch);\n};\n\n// src/commands/enter.ts\nvar enter = () => ({ commands }) => {\n  return commands.keyboardShortcut(\"Enter\");\n};\n\n// src/commands/exitCode.ts\nimport { exitCode as originalExitCode } from \"@tiptap/pm/commands\";\nvar exitCode = () => ({ state, dispatch }) => {\n  return originalExitCode(state, dispatch);\n};\n\n// src/commands/extendMarkRange.ts\nimport { TextSelection as TextSelection2 } from \"@tiptap/pm/state\";\n\n// src/utilities/isRegExp.ts\nfunction isRegExp(value) {\n  return Object.prototype.toString.call(value) === \"[object RegExp]\";\n}\n\n// src/utilities/objectIncludes.ts\nfunction objectIncludes(object1, object2, options = { strict: true }) {\n  const keys = Object.keys(object2);\n  if (!keys.length) {\n    return true;\n  }\n  return keys.every((key) => {\n    if (options.strict) {\n      return object2[key] === object1[key];\n    }\n    if (isRegExp(object2[key])) {\n      return object2[key].test(object1[key]);\n    }\n    return object2[key] === object1[key];\n  });\n}\n\n// src/helpers/getMarkRange.ts\nfunction findMarkInSet(marks, type, attributes = {}) {\n  return marks.find((item) => {\n    return item.type === type && objectIncludes(\n      // Only check equality for the attributes that are provided\n      Object.fromEntries(Object.keys(attributes).map((k) => [k, item.attrs[k]])),\n      attributes\n    );\n  });\n}\nfunction isMarkInSet(marks, type, attributes = {}) {\n  return !!findMarkInSet(marks, type, attributes);\n}\nfunction getMarkRange($pos, type, attributes) {\n  var _a;\n  if (!$pos || !type) {\n    return;\n  }\n  let start = $pos.parent.childAfter($pos.parentOffset);\n  if (!start.node || !start.node.marks.some((mark2) => mark2.type === type)) {\n    start = $pos.parent.childBefore($pos.parentOffset);\n  }\n  if (!start.node || !start.node.marks.some((mark2) => mark2.type === type)) {\n    return;\n  }\n  attributes = attributes || ((_a = start.node.marks[0]) == null ? void 0 : _a.attrs);\n  const mark = findMarkInSet([...start.node.marks], type, attributes);\n  if (!mark) {\n    return;\n  }\n  let startIndex = start.index;\n  let startPos = $pos.start() + start.offset;\n  let endIndex = startIndex + 1;\n  let endPos = startPos + start.node.nodeSize;\n  while (startIndex > 0 && isMarkInSet([...$pos.parent.child(startIndex - 1).marks], type, attributes)) {\n    startIndex -= 1;\n    startPos -= $pos.parent.child(startIndex).nodeSize;\n  }\n  while (endIndex < $pos.parent.childCount && isMarkInSet([...$pos.parent.child(endIndex).marks], type, attributes)) {\n    endPos += $pos.parent.child(endIndex).nodeSize;\n    endIndex += 1;\n  }\n  return {\n    from: startPos,\n    to: endPos\n  };\n}\n\n// src/helpers/getMarkType.ts\nfunction getMarkType(nameOrType, schema) {\n  if (typeof nameOrType === \"string\") {\n    if (!schema.marks[nameOrType]) {\n      throw Error(`There is no mark type named '${nameOrType}'. Maybe you forgot to add the extension?`);\n    }\n    return schema.marks[nameOrType];\n  }\n  return nameOrType;\n}\n\n// src/commands/extendMarkRange.ts\nvar extendMarkRange = (typeOrName, attributes = {}) => ({ tr, state, dispatch }) => {\n  const type = getMarkType(typeOrName, state.schema);\n  const { doc, selection } = tr;\n  const { $from, from, to } = selection;\n  if (dispatch) {\n    const range = getMarkRange($from, type, attributes);\n    if (range && range.from <= from && range.to >= to) {\n      const newSelection = TextSelection2.create(doc, range.from, range.to);\n      tr.setSelection(newSelection);\n    }\n  }\n  return true;\n};\n\n// src/commands/first.ts\nvar first = (commands) => (props) => {\n  const items = typeof commands === \"function\" ? commands(props) : commands;\n  for (let i = 0; i < items.length; i += 1) {\n    if (items[i](props)) {\n      return true;\n    }\n  }\n  return false;\n};\n\n// src/helpers/isTextSelection.ts\nimport { TextSelection as TextSelection3 } from \"@tiptap/pm/state\";\nfunction isTextSelection(value) {\n  return value instanceof TextSelection3;\n}\n\n// src/helpers/resolveFocusPosition.ts\nimport { Selection, TextSelection as TextSelection4 } from \"@tiptap/pm/state\";\n\n// src/utilities/minMax.ts\nfunction minMax(value = 0, min = 0, max = 0) {\n  return Math.min(Math.max(value, min), max);\n}\n\n// src/helpers/resolveFocusPosition.ts\nfunction resolveFocusPosition(doc, position = null) {\n  if (!position) {\n    return null;\n  }\n  const selectionAtStart = Selection.atStart(doc);\n  const selectionAtEnd = Selection.atEnd(doc);\n  if (position === \"start\" || position === true) {\n    return selectionAtStart;\n  }\n  if (position === \"end\") {\n    return selectionAtEnd;\n  }\n  const minPos = selectionAtStart.from;\n  const maxPos = selectionAtEnd.to;\n  if (position === \"all\") {\n    return TextSelection4.create(doc, minMax(0, minPos, maxPos), minMax(doc.content.size, minPos, maxPos));\n  }\n  return TextSelection4.create(doc, minMax(position, minPos, maxPos), minMax(position, minPos, maxPos));\n}\n\n// src/utilities/isAndroid.ts\nfunction isAndroid() {\n  return navigator.platform === \"Android\" || /android/i.test(navigator.userAgent);\n}\n\n// src/utilities/isiOS.ts\nfunction isiOS() {\n  return [\"iPad Simulator\", \"iPhone Simulator\", \"iPod Simulator\", \"iPad\", \"iPhone\", \"iPod\"].includes(navigator.platform) || // iPad on iOS 13 detection\n  navigator.userAgent.includes(\"Mac\") && \"ontouchend\" in document;\n}\n\n// src/utilities/isSafari.ts\nfunction isSafari() {\n  return typeof navigator !== \"undefined\" ? /^((?!chrome|android).)*safari/i.test(navigator.userAgent) : false;\n}\n\n// src/commands/focus.ts\nvar focus = (position = null, options = {}) => ({ editor, view, tr, dispatch }) => {\n  options = {\n    scrollIntoView: true,\n    ...options\n  };\n  const delayedFocus = () => {\n    if (isiOS() || isAndroid()) {\n      ;\n      view.dom.focus();\n    }\n    if (isSafari() && !isiOS() && !isAndroid()) {\n      ;\n      view.dom.focus({ preventScroll: true });\n    }\n    requestAnimationFrame(() => {\n      if (!editor.isDestroyed) {\n        view.focus();\n        if (options == null ? void 0 : options.scrollIntoView) {\n          editor.commands.scrollIntoView();\n        }\n      }\n    });\n  };\n  try {\n    if (view.hasFocus() && position === null || position === false) {\n      return true;\n    }\n  } catch {\n    return false;\n  }\n  if (dispatch && position === null && !isTextSelection(editor.state.selection)) {\n    delayedFocus();\n    return true;\n  }\n  const selection = resolveFocusPosition(tr.doc, position) || editor.state.selection;\n  const isSameSelection = editor.state.selection.eq(selection);\n  if (dispatch) {\n    if (!isSameSelection) {\n      tr.setSelection(selection);\n    }\n    if (isSameSelection && tr.storedMarks) {\n      tr.setStoredMarks(tr.storedMarks);\n    }\n    delayedFocus();\n  }\n  return true;\n};\n\n// src/commands/forEach.ts\nvar forEach = (items, fn) => (props) => {\n  return items.every((item, index) => fn(item, { ...props, index }));\n};\n\n// src/commands/insertContent.ts\nvar insertContent = (value, options) => ({ tr, commands }) => {\n  return commands.insertContentAt({ from: tr.selection.from, to: tr.selection.to }, value, options);\n};\n\n// src/commands/insertContentAt.ts\nimport { Fragment as Fragment2 } from \"@tiptap/pm/model\";\n\n// src/helpers/createNodeFromContent.ts\nimport { DOMParser, Fragment, Node as ProseMirrorNode, Schema } from \"@tiptap/pm/model\";\n\n// src/utilities/elementFromString.ts\nvar removeWhitespaces = (node) => {\n  const children = node.childNodes;\n  for (let i = children.length - 1; i >= 0; i -= 1) {\n    const child = children[i];\n    if (child.nodeType === 3 && child.nodeValue && /^(\\n\\s\\s|\\n)$/.test(child.nodeValue)) {\n      node.removeChild(child);\n    } else if (child.nodeType === 1) {\n      removeWhitespaces(child);\n    }\n  }\n  return node;\n};\nfunction elementFromString(value) {\n  if (typeof window === \"undefined\") {\n    throw new Error(\"[tiptap error]: there is no window object available, so this function cannot be used\");\n  }\n  const wrappedValue = `<body>${value}</body>`;\n  const html = new window.DOMParser().parseFromString(wrappedValue, \"text/html\").body;\n  return removeWhitespaces(html);\n}\n\n// src/helpers/createNodeFromContent.ts\nfunction createNodeFromContent(content, schema, options) {\n  if (content instanceof ProseMirrorNode || content instanceof Fragment) {\n    return content;\n  }\n  options = {\n    slice: true,\n    parseOptions: {},\n    ...options\n  };\n  const isJSONContent = typeof content === \"object\" && content !== null;\n  const isTextContent = typeof content === \"string\";\n  if (isJSONContent) {\n    try {\n      const isArrayContent = Array.isArray(content) && content.length > 0;\n      if (isArrayContent) {\n        return Fragment.fromArray(content.map((item) => schema.nodeFromJSON(item)));\n      }\n      const node = schema.nodeFromJSON(content);\n      if (options.errorOnInvalidContent) {\n        node.check();\n      }\n      return node;\n    } catch (error) {\n      if (options.errorOnInvalidContent) {\n        throw new Error(\"[tiptap error]: Invalid JSON content\", { cause: error });\n      }\n      console.warn(\"[tiptap warn]: Invalid content.\", \"Passed value:\", content, \"Error:\", error);\n      return createNodeFromContent(\"\", schema, options);\n    }\n  }\n  if (isTextContent) {\n    if (options.errorOnInvalidContent) {\n      let hasInvalidContent = false;\n      let invalidContent = \"\";\n      const contentCheckSchema = new Schema({\n        topNode: schema.spec.topNode,\n        marks: schema.spec.marks,\n        // Prosemirror's schemas are executed such that: the last to execute, matches last\n        // This means that we can add a catch-all node at the end of the schema to catch any content that we don't know how to handle\n        nodes: schema.spec.nodes.append({\n          __tiptap__private__unknown__catch__all__node: {\n            content: \"inline*\",\n            group: \"block\",\n            parseDOM: [\n              {\n                tag: \"*\",\n                getAttrs: (e) => {\n                  hasInvalidContent = true;\n                  invalidContent = typeof e === \"string\" ? e : e.outerHTML;\n                  return null;\n                }\n              }\n            ]\n          }\n        })\n      });\n      if (options.slice) {\n        DOMParser.fromSchema(contentCheckSchema).parseSlice(elementFromString(content), options.parseOptions);\n      } else {\n        DOMParser.fromSchema(contentCheckSchema).parse(elementFromString(content), options.parseOptions);\n      }\n      if (options.errorOnInvalidContent && hasInvalidContent) {\n        throw new Error(\"[tiptap error]: Invalid HTML content\", {\n          cause: new Error(`Invalid element found: ${invalidContent}`)\n        });\n      }\n    }\n    const parser = DOMParser.fromSchema(schema);\n    if (options.slice) {\n      return parser.parseSlice(elementFromString(content), options.parseOptions).content;\n    }\n    return parser.parse(elementFromString(content), options.parseOptions);\n  }\n  return createNodeFromContent(\"\", schema, options);\n}\n\n// src/helpers/selectionToInsertionEnd.ts\nimport { Selection as Selection2 } from \"@tiptap/pm/state\";\nimport { ReplaceAroundStep, ReplaceStep } from \"@tiptap/pm/transform\";\nfunction selectionToInsertionEnd(tr, startLen, bias) {\n  const last = tr.steps.length - 1;\n  if (last < startLen) {\n    return;\n  }\n  const step = tr.steps[last];\n  if (!(step instanceof ReplaceStep || step instanceof ReplaceAroundStep)) {\n    return;\n  }\n  const map = tr.mapping.maps[last];\n  let end = 0;\n  map.forEach((_from, _to, _newFrom, newTo) => {\n    if (end === 0) {\n      end = newTo;\n    }\n  });\n  tr.setSelection(Selection2.near(tr.doc.resolve(end), bias));\n}\n\n// src/commands/insertContentAt.ts\nvar isFragment = (nodeOrFragment) => {\n  return !(\"type\" in nodeOrFragment);\n};\nvar insertContentAt = (position, value, options) => ({ tr, dispatch, editor }) => {\n  var _a;\n  if (dispatch) {\n    options = {\n      parseOptions: editor.options.parseOptions,\n      updateSelection: true,\n      applyInputRules: false,\n      applyPasteRules: false,\n      ...options\n    };\n    let content;\n    const emitContentError = (error) => {\n      editor.emit(\"contentError\", {\n        editor,\n        error,\n        disableCollaboration: () => {\n          if (\"collaboration\" in editor.storage && typeof editor.storage.collaboration === \"object\" && editor.storage.collaboration) {\n            ;\n            editor.storage.collaboration.isDisabled = true;\n          }\n        }\n      });\n    };\n    const parseOptions = {\n      preserveWhitespace: \"full\",\n      ...options.parseOptions\n    };\n    if (!options.errorOnInvalidContent && !editor.options.enableContentCheck && editor.options.emitContentError) {\n      try {\n        createNodeFromContent(value, editor.schema, {\n          parseOptions,\n          errorOnInvalidContent: true\n        });\n      } catch (e) {\n        emitContentError(e);\n      }\n    }\n    try {\n      content = createNodeFromContent(value, editor.schema, {\n        parseOptions,\n        errorOnInvalidContent: (_a = options.errorOnInvalidContent) != null ? _a : editor.options.enableContentCheck\n      });\n    } catch (e) {\n      emitContentError(e);\n      return false;\n    }\n    let { from, to } = typeof position === \"number\" ? { from: position, to: position } : { from: position.from, to: position.to };\n    let isOnlyTextContent = true;\n    let isOnlyBlockContent = true;\n    const nodes = isFragment(content) ? content : [content];\n    nodes.forEach((node) => {\n      node.check();\n      isOnlyTextContent = isOnlyTextContent ? node.isText && node.marks.length === 0 : false;\n      isOnlyBlockContent = isOnlyBlockContent ? node.isBlock : false;\n    });\n    if (from === to && isOnlyBlockContent) {\n      const { parent } = tr.doc.resolve(from);\n      const isEmptyTextBlock = parent.isTextblock && !parent.type.spec.code && !parent.childCount;\n      if (isEmptyTextBlock) {\n        from -= 1;\n        to += 1;\n      }\n    }\n    let newContent;\n    if (isOnlyTextContent) {\n      if (Array.isArray(value)) {\n        newContent = value.map((v) => v.text || \"\").join(\"\");\n      } else if (value instanceof Fragment2) {\n        let text = \"\";\n        value.forEach((node) => {\n          if (node.text) {\n            text += node.text;\n          }\n        });\n        newContent = text;\n      } else if (typeof value === \"object\" && !!value && !!value.text) {\n        newContent = value.text;\n      } else {\n        newContent = value;\n      }\n      tr.insertText(newContent, from, to);\n    } else {\n      newContent = content;\n      const $from = tr.doc.resolve(from);\n      const $fromNode = $from.node();\n      const fromSelectionAtStart = $from.parentOffset === 0;\n      const isTextSelection2 = $fromNode.isText || $fromNode.isTextblock;\n      const hasContent = $fromNode.content.size > 0;\n      if (fromSelectionAtStart && isTextSelection2 && hasContent) {\n        from = Math.max(0, from - 1);\n      }\n      tr.replaceWith(from, to, newContent);\n    }\n    if (options.updateSelection) {\n      selectionToInsertionEnd(tr, tr.steps.length - 1, -1);\n    }\n    if (options.applyInputRules) {\n      tr.setMeta(\"applyInputRules\", { from, text: newContent });\n    }\n    if (options.applyPasteRules) {\n      tr.setMeta(\"applyPasteRules\", { from, text: newContent });\n    }\n  }\n  return true;\n};\n\n// src/commands/join.ts\nimport {\n  joinBackward as originalJoinBackward,\n  joinDown as originalJoinDown,\n  joinForward as originalJoinForward,\n  joinUp as originalJoinUp\n} from \"@tiptap/pm/commands\";\nvar joinUp = () => ({ state, dispatch }) => {\n  return originalJoinUp(state, dispatch);\n};\nvar joinDown = () => ({ state, dispatch }) => {\n  return originalJoinDown(state, dispatch);\n};\nvar joinBackward = () => ({ state, dispatch }) => {\n  return originalJoinBackward(state, dispatch);\n};\nvar joinForward = () => ({ state, dispatch }) => {\n  return originalJoinForward(state, dispatch);\n};\n\n// src/commands/joinItemBackward.ts\nimport { joinPoint } from \"@tiptap/pm/transform\";\nvar joinItemBackward = () => ({ state, dispatch, tr }) => {\n  try {\n    const point = joinPoint(state.doc, state.selection.$from.pos, -1);\n    if (point === null || point === void 0) {\n      return false;\n    }\n    tr.join(point, 2);\n    if (dispatch) {\n      dispatch(tr);\n    }\n    return true;\n  } catch {\n    return false;\n  }\n};\n\n// src/commands/joinItemForward.ts\nimport { joinPoint as joinPoint2 } from \"@tiptap/pm/transform\";\nvar joinItemForward = () => ({ state, dispatch, tr }) => {\n  try {\n    const point = joinPoint2(state.doc, state.selection.$from.pos, 1);\n    if (point === null || point === void 0) {\n      return false;\n    }\n    tr.join(point, 2);\n    if (dispatch) {\n      dispatch(tr);\n    }\n    return true;\n  } catch {\n    return false;\n  }\n};\n\n// src/commands/joinTextblockBackward.ts\nimport { joinTextblockBackward as originalCommand } from \"@tiptap/pm/commands\";\nvar joinTextblockBackward = () => ({ state, dispatch }) => {\n  return originalCommand(state, dispatch);\n};\n\n// src/commands/joinTextblockForward.ts\nimport { joinTextblockForward as originalCommand2 } from \"@tiptap/pm/commands\";\nvar joinTextblockForward = () => ({ state, dispatch }) => {\n  return originalCommand2(state, dispatch);\n};\n\n// src/utilities/isMacOS.ts\nfunction isMacOS() {\n  return typeof navigator !== \"undefined\" ? /Mac/.test(navigator.platform) : false;\n}\n\n// src/commands/keyboardShortcut.ts\nfunction normalizeKeyName(name) {\n  const parts = name.split(/-(?!$)/);\n  let result = parts[parts.length - 1];\n  if (result === \"Space\") {\n    result = \" \";\n  }\n  let alt;\n  let ctrl;\n  let shift;\n  let meta;\n  for (let i = 0; i < parts.length - 1; i += 1) {\n    const mod = parts[i];\n    if (/^(cmd|meta|m)$/i.test(mod)) {\n      meta = true;\n    } else if (/^a(lt)?$/i.test(mod)) {\n      alt = true;\n    } else if (/^(c|ctrl|control)$/i.test(mod)) {\n      ctrl = true;\n    } else if (/^s(hift)?$/i.test(mod)) {\n      shift = true;\n    } else if (/^mod$/i.test(mod)) {\n      if (isiOS() || isMacOS()) {\n        meta = true;\n      } else {\n        ctrl = true;\n      }\n    } else {\n      throw new Error(`Unrecognized modifier name: ${mod}`);\n    }\n  }\n  if (alt) {\n    result = `Alt-${result}`;\n  }\n  if (ctrl) {\n    result = `Ctrl-${result}`;\n  }\n  if (meta) {\n    result = `Meta-${result}`;\n  }\n  if (shift) {\n    result = `Shift-${result}`;\n  }\n  return result;\n}\nvar keyboardShortcut = (name) => ({ editor, view, tr, dispatch }) => {\n  const keys = normalizeKeyName(name).split(/-(?!$)/);\n  const key = keys.find((item) => ![\"Alt\", \"Ctrl\", \"Meta\", \"Shift\"].includes(item));\n  const event = new KeyboardEvent(\"keydown\", {\n    key: key === \"Space\" ? \" \" : key,\n    altKey: keys.includes(\"Alt\"),\n    ctrlKey: keys.includes(\"Ctrl\"),\n    metaKey: keys.includes(\"Meta\"),\n    shiftKey: keys.includes(\"Shift\"),\n    bubbles: true,\n    cancelable: true\n  });\n  const capturedTransaction = editor.captureTransaction(() => {\n    view.someProp(\"handleKeyDown\", (f) => f(view, event));\n  });\n  capturedTransaction == null ? void 0 : capturedTransaction.steps.forEach((step) => {\n    const newStep = step.map(tr.mapping);\n    if (newStep && dispatch) {\n      tr.maybeStep(newStep);\n    }\n  });\n  return true;\n};\n\n// src/commands/lift.ts\nimport { lift as originalLift } from \"@tiptap/pm/commands\";\n\n// src/helpers/isNodeActive.ts\nfunction isNodeActive(state, typeOrName, attributes = {}) {\n  const { from, to, empty } = state.selection;\n  const type = typeOrName ? getNodeType(typeOrName, state.schema) : null;\n  const nodeRanges = [];\n  state.doc.nodesBetween(from, to, (node, pos) => {\n    if (node.isText) {\n      return;\n    }\n    const relativeFrom = Math.max(from, pos);\n    const relativeTo = Math.min(to, pos + node.nodeSize);\n    nodeRanges.push({\n      node,\n      from: relativeFrom,\n      to: relativeTo\n    });\n  });\n  const selectionRange = to - from;\n  const matchedNodeRanges = nodeRanges.filter((nodeRange) => {\n    if (!type) {\n      return true;\n    }\n    return type.name === nodeRange.node.type.name;\n  }).filter((nodeRange) => objectIncludes(nodeRange.node.attrs, attributes, { strict: false }));\n  if (empty) {\n    return !!matchedNodeRanges.length;\n  }\n  const range = matchedNodeRanges.reduce((sum, nodeRange) => sum + nodeRange.to - nodeRange.from, 0);\n  return range >= selectionRange;\n}\n\n// src/commands/lift.ts\nvar lift = (typeOrName, attributes = {}) => ({ state, dispatch }) => {\n  const type = getNodeType(typeOrName, state.schema);\n  const isActive2 = isNodeActive(state, type, attributes);\n  if (!isActive2) {\n    return false;\n  }\n  return originalLift(state, dispatch);\n};\n\n// src/commands/liftEmptyBlock.ts\nimport { liftEmptyBlock as originalLiftEmptyBlock } from \"@tiptap/pm/commands\";\nvar liftEmptyBlock = () => ({ state, dispatch }) => {\n  return originalLiftEmptyBlock(state, dispatch);\n};\n\n// src/commands/liftListItem.ts\nimport { liftListItem as originalLiftListItem } from \"@tiptap/pm/schema-list\";\nvar liftListItem = (typeOrName) => ({ state, dispatch }) => {\n  const type = getNodeType(typeOrName, state.schema);\n  return originalLiftListItem(type)(state, dispatch);\n};\n\n// src/commands/newlineInCode.ts\nimport { newlineInCode as originalNewlineInCode } from \"@tiptap/pm/commands\";\nvar newlineInCode = () => ({ state, dispatch }) => {\n  return originalNewlineInCode(state, dispatch);\n};\n\n// src/helpers/getSchemaTypeNameByName.ts\nfunction getSchemaTypeNameByName(name, schema) {\n  if (schema.nodes[name]) {\n    return \"node\";\n  }\n  if (schema.marks[name]) {\n    return \"mark\";\n  }\n  return null;\n}\n\n// src/utilities/deleteProps.ts\nfunction deleteProps(obj, propOrProps) {\n  const props = typeof propOrProps === \"string\" ? [propOrProps] : propOrProps;\n  return Object.keys(obj).reduce((newObj, prop) => {\n    if (!props.includes(prop)) {\n      newObj[prop] = obj[prop];\n    }\n    return newObj;\n  }, {});\n}\n\n// src/commands/resetAttributes.ts\nvar resetAttributes = (typeOrName, attributes) => ({ tr, state, dispatch }) => {\n  let nodeType = null;\n  let markType = null;\n  const schemaType = getSchemaTypeNameByName(\n    typeof typeOrName === \"string\" ? typeOrName : typeOrName.name,\n    state.schema\n  );\n  if (!schemaType) {\n    return false;\n  }\n  if (schemaType === \"node\") {\n    nodeType = getNodeType(typeOrName, state.schema);\n  }\n  if (schemaType === \"mark\") {\n    markType = getMarkType(typeOrName, state.schema);\n  }\n  let canReset = false;\n  tr.selection.ranges.forEach((range) => {\n    state.doc.nodesBetween(range.$from.pos, range.$to.pos, (node, pos) => {\n      if (nodeType && nodeType === node.type) {\n        canReset = true;\n        if (dispatch) {\n          tr.setNodeMarkup(pos, void 0, deleteProps(node.attrs, attributes));\n        }\n      }\n      if (markType && node.marks.length) {\n        node.marks.forEach((mark) => {\n          if (markType === mark.type) {\n            canReset = true;\n            if (dispatch) {\n              tr.addMark(pos, pos + node.nodeSize, markType.create(deleteProps(mark.attrs, attributes)));\n            }\n          }\n        });\n      }\n    });\n  });\n  return canReset;\n};\n\n// src/commands/scrollIntoView.ts\nvar scrollIntoView = () => ({ tr, dispatch }) => {\n  if (dispatch) {\n    tr.scrollIntoView();\n  }\n  return true;\n};\n\n// src/commands/selectAll.ts\nimport { AllSelection } from \"@tiptap/pm/state\";\nvar selectAll = () => ({ tr, dispatch }) => {\n  if (dispatch) {\n    const selection = new AllSelection(tr.doc);\n    tr.setSelection(selection);\n  }\n  return true;\n};\n\n// src/commands/selectNodeBackward.ts\nimport { selectNodeBackward as originalSelectNodeBackward } from \"@tiptap/pm/commands\";\nvar selectNodeBackward = () => ({ state, dispatch }) => {\n  return originalSelectNodeBackward(state, dispatch);\n};\n\n// src/commands/selectNodeForward.ts\nimport { selectNodeForward as originalSelectNodeForward } from \"@tiptap/pm/commands\";\nvar selectNodeForward = () => ({ state, dispatch }) => {\n  return originalSelectNodeForward(state, dispatch);\n};\n\n// src/commands/selectParentNode.ts\nimport { selectParentNode as originalSelectParentNode } from \"@tiptap/pm/commands\";\nvar selectParentNode = () => ({ state, dispatch }) => {\n  return originalSelectParentNode(state, dispatch);\n};\n\n// src/commands/selectTextblockEnd.ts\nimport { selectTextblockEnd as originalSelectTextblockEnd } from \"@tiptap/pm/commands\";\nvar selectTextblockEnd = () => ({ state, dispatch }) => {\n  return originalSelectTextblockEnd(state, dispatch);\n};\n\n// src/commands/selectTextblockStart.ts\nimport { selectTextblockStart as originalSelectTextblockStart } from \"@tiptap/pm/commands\";\nvar selectTextblockStart = () => ({ state, dispatch }) => {\n  return originalSelectTextblockStart(state, dispatch);\n};\n\n// src/helpers/createDocument.ts\nfunction createDocument(content, schema, parseOptions = {}, options = {}) {\n  return createNodeFromContent(content, schema, {\n    slice: false,\n    parseOptions,\n    errorOnInvalidContent: options.errorOnInvalidContent\n  });\n}\n\n// src/commands/setContent.ts\nvar setContent = (content, { errorOnInvalidContent, emitUpdate = true, parseOptions = {} } = {}) => ({ editor, tr, dispatch, commands }) => {\n  const { doc } = tr;\n  if (parseOptions.preserveWhitespace !== \"full\") {\n    const document2 = createDocument(content, editor.schema, parseOptions, {\n      errorOnInvalidContent: errorOnInvalidContent != null ? errorOnInvalidContent : editor.options.enableContentCheck\n    });\n    if (dispatch) {\n      tr.replaceWith(0, doc.content.size, document2).setMeta(\"preventUpdate\", !emitUpdate);\n    }\n    return true;\n  }\n  if (dispatch) {\n    tr.setMeta(\"preventUpdate\", !emitUpdate);\n  }\n  return commands.insertContentAt({ from: 0, to: doc.content.size }, content, {\n    parseOptions,\n    errorOnInvalidContent: errorOnInvalidContent != null ? errorOnInvalidContent : editor.options.enableContentCheck\n  });\n};\n\n// src/helpers/getMarkAttributes.ts\nfunction getMarkAttributes(state, typeOrName) {\n  const type = getMarkType(typeOrName, state.schema);\n  const { from, to, empty } = state.selection;\n  const marks = [];\n  if (empty) {\n    if (state.storedMarks) {\n      marks.push(...state.storedMarks);\n    }\n    marks.push(...state.selection.$head.marks());\n  } else {\n    state.doc.nodesBetween(from, to, (node) => {\n      marks.push(...node.marks);\n    });\n  }\n  const mark = marks.find((markItem) => markItem.type.name === type.name);\n  if (!mark) {\n    return {};\n  }\n  return { ...mark.attrs };\n}\n\n// src/helpers/combineTransactionSteps.ts\nimport { Transform } from \"@tiptap/pm/transform\";\nfunction combineTransactionSteps(oldDoc, transactions) {\n  const transform = new Transform(oldDoc);\n  transactions.forEach((transaction) => {\n    transaction.steps.forEach((step) => {\n      transform.step(step);\n    });\n  });\n  return transform;\n}\n\n// src/helpers/defaultBlockAt.ts\nfunction defaultBlockAt(match) {\n  for (let i = 0; i < match.edgeCount; i += 1) {\n    const { type } = match.edge(i);\n    if (type.isTextblock && !type.hasRequiredAttrs()) {\n      return type;\n    }\n  }\n  return null;\n}\n\n// src/helpers/findChildren.ts\nfunction findChildren(node, predicate) {\n  const nodesWithPos = [];\n  node.descendants((child, pos) => {\n    if (predicate(child)) {\n      nodesWithPos.push({\n        node: child,\n        pos\n      });\n    }\n  });\n  return nodesWithPos;\n}\n\n// src/helpers/findChildrenInRange.ts\nfunction findChildrenInRange(node, range, predicate) {\n  const nodesWithPos = [];\n  node.nodesBetween(range.from, range.to, (child, pos) => {\n    if (predicate(child)) {\n      nodesWithPos.push({\n        node: child,\n        pos\n      });\n    }\n  });\n  return nodesWithPos;\n}\n\n// src/helpers/findParentNodeClosestToPos.ts\nfunction findParentNodeClosestToPos($pos, predicate) {\n  for (let i = $pos.depth; i > 0; i -= 1) {\n    const node = $pos.node(i);\n    if (predicate(node)) {\n      return {\n        pos: i > 0 ? $pos.before(i) : 0,\n        start: $pos.start(i),\n        depth: i,\n        node\n      };\n    }\n  }\n}\n\n// src/helpers/findParentNode.ts\nfunction findParentNode(predicate) {\n  return (selection) => findParentNodeClosestToPos(selection.$from, predicate);\n}\n\n// src/helpers/getExtensionField.ts\nfunction getExtensionField(extension, field, context) {\n  if (extension.config[field] === void 0 && extension.parent) {\n    return getExtensionField(extension.parent, field, context);\n  }\n  if (typeof extension.config[field] === \"function\") {\n    const value = extension.config[field].bind({\n      ...context,\n      parent: extension.parent ? getExtensionField(extension.parent, field, context) : null\n    });\n    return value;\n  }\n  return extension.config[field];\n}\n\n// src/helpers/flattenExtensions.ts\nfunction flattenExtensions(extensions) {\n  return extensions.map((extension) => {\n    const context = {\n      name: extension.name,\n      options: extension.options,\n      storage: extension.storage\n    };\n    const addExtensions = getExtensionField(extension, \"addExtensions\", context);\n    if (addExtensions) {\n      return [extension, ...flattenExtensions(addExtensions())];\n    }\n    return extension;\n  }).flat(10);\n}\n\n// src/helpers/generateHTML.ts\nimport { Node } from \"@tiptap/pm/model\";\n\n// src/helpers/getHTMLFromFragment.ts\nimport { DOMSerializer } from \"@tiptap/pm/model\";\nfunction getHTMLFromFragment(fragment, schema) {\n  const documentFragment = DOMSerializer.fromSchema(schema).serializeFragment(fragment);\n  const temporaryDocument = document.implementation.createHTMLDocument();\n  const container = temporaryDocument.createElement(\"div\");\n  container.appendChild(documentFragment);\n  return container.innerHTML;\n}\n\n// src/helpers/getSchemaByResolvedExtensions.ts\nimport { Schema as Schema2 } from \"@tiptap/pm/model\";\n\n// src/utilities/isFunction.ts\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\n// src/utilities/callOrReturn.ts\nfunction callOrReturn(value, context = void 0, ...props) {\n  if (isFunction(value)) {\n    if (context) {\n      return value.bind(context)(...props);\n    }\n    return value(...props);\n  }\n  return value;\n}\n\n// src/utilities/isEmptyObject.ts\nfunction isEmptyObject(value = {}) {\n  return Object.keys(value).length === 0 && value.constructor === Object;\n}\n\n// src/helpers/splitExtensions.ts\nfunction splitExtensions(extensions) {\n  const baseExtensions = extensions.filter((extension) => extension.type === \"extension\");\n  const nodeExtensions = extensions.filter((extension) => extension.type === \"node\");\n  const markExtensions = extensions.filter((extension) => extension.type === \"mark\");\n  return {\n    baseExtensions,\n    nodeExtensions,\n    markExtensions\n  };\n}\n\n// src/helpers/getAttributesFromExtensions.ts\nfunction getAttributesFromExtensions(extensions) {\n  const extensionAttributes = [];\n  const { nodeExtensions, markExtensions } = splitExtensions(extensions);\n  const nodeAndMarkExtensions = [...nodeExtensions, ...markExtensions];\n  const defaultAttribute = {\n    default: null,\n    validate: void 0,\n    rendered: true,\n    renderHTML: null,\n    parseHTML: null,\n    keepOnSplit: true,\n    isRequired: false\n  };\n  const nodeExtensionTypes = nodeExtensions.filter((ext) => ext.name !== \"text\").map((ext) => ext.name);\n  const markExtensionTypes = markExtensions.map((ext) => ext.name);\n  const allExtensionTypes = [...nodeExtensionTypes, ...markExtensionTypes];\n  extensions.forEach((extension) => {\n    const context = {\n      name: extension.name,\n      options: extension.options,\n      storage: extension.storage,\n      extensions: nodeAndMarkExtensions\n    };\n    const addGlobalAttributes = getExtensionField(\n      extension,\n      \"addGlobalAttributes\",\n      context\n    );\n    if (!addGlobalAttributes) {\n      return;\n    }\n    const globalAttributes = addGlobalAttributes();\n    globalAttributes.forEach((globalAttribute) => {\n      let resolvedTypes;\n      if (Array.isArray(globalAttribute.types)) {\n        resolvedTypes = globalAttribute.types;\n      } else if (globalAttribute.types === \"*\") {\n        resolvedTypes = allExtensionTypes;\n      } else if (globalAttribute.types === \"nodes\") {\n        resolvedTypes = nodeExtensionTypes;\n      } else if (globalAttribute.types === \"marks\") {\n        resolvedTypes = markExtensionTypes;\n      } else {\n        resolvedTypes = [];\n      }\n      resolvedTypes.forEach((type) => {\n        Object.entries(globalAttribute.attributes).forEach(([name, attribute]) => {\n          extensionAttributes.push({\n            type,\n            name,\n            attribute: {\n              ...defaultAttribute,\n              ...attribute\n            }\n          });\n        });\n      });\n    });\n  });\n  nodeAndMarkExtensions.forEach((extension) => {\n    const context = {\n      name: extension.name,\n      options: extension.options,\n      storage: extension.storage\n    };\n    const addAttributes = getExtensionField(\n      extension,\n      \"addAttributes\",\n      context\n    );\n    if (!addAttributes) {\n      return;\n    }\n    const attributes = addAttributes();\n    Object.entries(attributes).forEach(([name, attribute]) => {\n      const mergedAttr = {\n        ...defaultAttribute,\n        ...attribute\n      };\n      if (typeof (mergedAttr == null ? void 0 : mergedAttr.default) === \"function\") {\n        mergedAttr.default = mergedAttr.default();\n      }\n      if ((mergedAttr == null ? void 0 : mergedAttr.isRequired) && (mergedAttr == null ? void 0 : mergedAttr.default) === void 0) {\n        delete mergedAttr.default;\n      }\n      extensionAttributes.push({\n        type: extension.name,\n        name,\n        attribute: mergedAttr\n      });\n    });\n  });\n  return extensionAttributes;\n}\n\n// src/utilities/mergeAttributes.ts\nfunction mergeAttributes(...objects) {\n  return objects.filter((item) => !!item).reduce((items, item) => {\n    const mergedAttributes = { ...items };\n    Object.entries(item).forEach(([key, value]) => {\n      const exists = mergedAttributes[key];\n      if (!exists) {\n        mergedAttributes[key] = value;\n        return;\n      }\n      if (key === \"class\") {\n        const valueClasses = value ? String(value).split(\" \") : [];\n        const existingClasses = mergedAttributes[key] ? mergedAttributes[key].split(\" \") : [];\n        const insertClasses = valueClasses.filter((valueClass) => !existingClasses.includes(valueClass));\n        mergedAttributes[key] = [...existingClasses, ...insertClasses].join(\" \");\n      } else if (key === \"style\") {\n        const newStyles = value ? value.split(\";\").map((style2) => style2.trim()).filter(Boolean) : [];\n        const existingStyles = mergedAttributes[key] ? mergedAttributes[key].split(\";\").map((style2) => style2.trim()).filter(Boolean) : [];\n        const styleMap = /* @__PURE__ */ new Map();\n        existingStyles.forEach((style2) => {\n          const [property, val] = style2.split(\":\").map((part) => part.trim());\n          styleMap.set(property, val);\n        });\n        newStyles.forEach((style2) => {\n          const [property, val] = style2.split(\":\").map((part) => part.trim());\n          styleMap.set(property, val);\n        });\n        mergedAttributes[key] = Array.from(styleMap.entries()).map(([property, val]) => `${property}: ${val}`).join(\"; \");\n      } else {\n        mergedAttributes[key] = value;\n      }\n    });\n    return mergedAttributes;\n  }, {});\n}\n\n// src/helpers/getRenderedAttributes.ts\nfunction getRenderedAttributes(nodeOrMark, extensionAttributes) {\n  return extensionAttributes.filter((attribute) => attribute.type === nodeOrMark.type.name).filter((item) => item.attribute.rendered).map((item) => {\n    if (!item.attribute.renderHTML) {\n      return {\n        [item.name]: nodeOrMark.attrs[item.name]\n      };\n    }\n    return item.attribute.renderHTML(nodeOrMark.attrs) || {};\n  }).reduce((attributes, attribute) => mergeAttributes(attributes, attribute), {});\n}\n\n// src/utilities/fromString.ts\nfunction fromString(value) {\n  if (typeof value !== \"string\") {\n    return value;\n  }\n  if (value.match(/^[+-]?(?:\\d*\\.)?\\d+$/)) {\n    return Number(value);\n  }\n  if (value === \"true\") {\n    return true;\n  }\n  if (value === \"false\") {\n    return false;\n  }\n  return value;\n}\n\n// src/helpers/injectExtensionAttributesToParseRule.ts\nfunction injectExtensionAttributesToParseRule(parseRule, extensionAttributes) {\n  if (\"style\" in parseRule) {\n    return parseRule;\n  }\n  return {\n    ...parseRule,\n    getAttrs: (node) => {\n      const oldAttributes = parseRule.getAttrs ? parseRule.getAttrs(node) : parseRule.attrs;\n      if (oldAttributes === false) {\n        return false;\n      }\n      const newAttributes = extensionAttributes.reduce((items, item) => {\n        const value = item.attribute.parseHTML ? item.attribute.parseHTML(node) : fromString(node.getAttribute(item.name));\n        if (value === null || value === void 0) {\n          return items;\n        }\n        return {\n          ...items,\n          [item.name]: value\n        };\n      }, {});\n      return { ...oldAttributes, ...newAttributes };\n    }\n  };\n}\n\n// src/helpers/getSchemaByResolvedExtensions.ts\nfunction cleanUpSchemaItem(data) {\n  return Object.fromEntries(\n    // @ts-ignore\n    Object.entries(data).filter(([key, value]) => {\n      if (key === \"attrs\" && isEmptyObject(value)) {\n        return false;\n      }\n      return value !== null && value !== void 0;\n    })\n  );\n}\nfunction buildAttributeSpec(extensionAttribute) {\n  var _a, _b;\n  const spec = {};\n  if (!((_a = extensionAttribute == null ? void 0 : extensionAttribute.attribute) == null ? void 0 : _a.isRequired) && \"default\" in ((extensionAttribute == null ? void 0 : extensionAttribute.attribute) || {})) {\n    spec.default = extensionAttribute.attribute.default;\n  }\n  if (((_b = extensionAttribute == null ? void 0 : extensionAttribute.attribute) == null ? void 0 : _b.validate) !== void 0) {\n    spec.validate = extensionAttribute.attribute.validate;\n  }\n  return [extensionAttribute.name, spec];\n}\nfunction getSchemaByResolvedExtensions(extensions, editor) {\n  var _a;\n  const allAttributes = getAttributesFromExtensions(extensions);\n  const { nodeExtensions, markExtensions } = splitExtensions(extensions);\n  const topNode = (_a = nodeExtensions.find((extension) => getExtensionField(extension, \"topNode\"))) == null ? void 0 : _a.name;\n  const nodes = Object.fromEntries(\n    nodeExtensions.map((extension) => {\n      const extensionAttributes = allAttributes.filter((attribute) => attribute.type === extension.name);\n      const context = {\n        name: extension.name,\n        options: extension.options,\n        storage: extension.storage,\n        editor\n      };\n      const extraNodeFields = extensions.reduce((fields, e) => {\n        const extendNodeSchema = getExtensionField(e, \"extendNodeSchema\", context);\n        return {\n          ...fields,\n          ...extendNodeSchema ? extendNodeSchema(extension) : {}\n        };\n      }, {});\n      const schema = cleanUpSchemaItem({\n        ...extraNodeFields,\n        content: callOrReturn(getExtensionField(extension, \"content\", context)),\n        marks: callOrReturn(getExtensionField(extension, \"marks\", context)),\n        group: callOrReturn(getExtensionField(extension, \"group\", context)),\n        inline: callOrReturn(getExtensionField(extension, \"inline\", context)),\n        atom: callOrReturn(getExtensionField(extension, \"atom\", context)),\n        selectable: callOrReturn(getExtensionField(extension, \"selectable\", context)),\n        draggable: callOrReturn(getExtensionField(extension, \"draggable\", context)),\n        code: callOrReturn(getExtensionField(extension, \"code\", context)),\n        whitespace: callOrReturn(getExtensionField(extension, \"whitespace\", context)),\n        linebreakReplacement: callOrReturn(\n          getExtensionField(extension, \"linebreakReplacement\", context)\n        ),\n        defining: callOrReturn(getExtensionField(extension, \"defining\", context)),\n        isolating: callOrReturn(getExtensionField(extension, \"isolating\", context)),\n        attrs: Object.fromEntries(extensionAttributes.map(buildAttributeSpec))\n      });\n      const parseHTML = callOrReturn(getExtensionField(extension, \"parseHTML\", context));\n      if (parseHTML) {\n        schema.parseDOM = parseHTML.map(\n          (parseRule) => injectExtensionAttributesToParseRule(parseRule, extensionAttributes)\n        );\n      }\n      const renderHTML = getExtensionField(extension, \"renderHTML\", context);\n      if (renderHTML) {\n        schema.toDOM = (node) => renderHTML({\n          node,\n          HTMLAttributes: getRenderedAttributes(node, extensionAttributes)\n        });\n      }\n      const renderText = getExtensionField(extension, \"renderText\", context);\n      if (renderText) {\n        schema.toText = renderText;\n      }\n      return [extension.name, schema];\n    })\n  );\n  const marks = Object.fromEntries(\n    markExtensions.map((extension) => {\n      const extensionAttributes = allAttributes.filter((attribute) => attribute.type === extension.name);\n      const context = {\n        name: extension.name,\n        options: extension.options,\n        storage: extension.storage,\n        editor\n      };\n      const extraMarkFields = extensions.reduce((fields, e) => {\n        const extendMarkSchema = getExtensionField(e, \"extendMarkSchema\", context);\n        return {\n          ...fields,\n          ...extendMarkSchema ? extendMarkSchema(extension) : {}\n        };\n      }, {});\n      const schema = cleanUpSchemaItem({\n        ...extraMarkFields,\n        inclusive: callOrReturn(getExtensionField(extension, \"inclusive\", context)),\n        excludes: callOrReturn(getExtensionField(extension, \"excludes\", context)),\n        group: callOrReturn(getExtensionField(extension, \"group\", context)),\n        spanning: callOrReturn(getExtensionField(extension, \"spanning\", context)),\n        code: callOrReturn(getExtensionField(extension, \"code\", context)),\n        attrs: Object.fromEntries(extensionAttributes.map(buildAttributeSpec))\n      });\n      const parseHTML = callOrReturn(getExtensionField(extension, \"parseHTML\", context));\n      if (parseHTML) {\n        schema.parseDOM = parseHTML.map(\n          (parseRule) => injectExtensionAttributesToParseRule(parseRule, extensionAttributes)\n        );\n      }\n      const renderHTML = getExtensionField(extension, \"renderHTML\", context);\n      if (renderHTML) {\n        schema.toDOM = (mark) => renderHTML({\n          mark,\n          HTMLAttributes: getRenderedAttributes(mark, extensionAttributes)\n        });\n      }\n      return [extension.name, schema];\n    })\n  );\n  return new Schema2({\n    topNode,\n    nodes,\n    marks\n  });\n}\n\n// src/utilities/findDuplicates.ts\nfunction findDuplicates(items) {\n  const filtered = items.filter((el, index) => items.indexOf(el) !== index);\n  return Array.from(new Set(filtered));\n}\n\n// src/helpers/sortExtensions.ts\nfunction sortExtensions(extensions) {\n  const defaultPriority = 100;\n  return extensions.sort((a, b) => {\n    const priorityA = getExtensionField(a, \"priority\") || defaultPriority;\n    const priorityB = getExtensionField(b, \"priority\") || defaultPriority;\n    if (priorityA > priorityB) {\n      return -1;\n    }\n    if (priorityA < priorityB) {\n      return 1;\n    }\n    return 0;\n  });\n}\n\n// src/helpers/resolveExtensions.ts\nfunction resolveExtensions(extensions) {\n  const resolvedExtensions = sortExtensions(flattenExtensions(extensions));\n  const duplicatedNames = findDuplicates(resolvedExtensions.map((extension) => extension.name));\n  if (duplicatedNames.length) {\n    console.warn(\n      `[tiptap warn]: Duplicate extension names found: [${duplicatedNames.map((item) => `'${item}'`).join(\", \")}]. This can lead to issues.`\n    );\n  }\n  return resolvedExtensions;\n}\n\n// src/helpers/getSchema.ts\nfunction getSchema(extensions, editor) {\n  const resolvedExtensions = resolveExtensions(extensions);\n  return getSchemaByResolvedExtensions(resolvedExtensions, editor);\n}\n\n// src/helpers/generateHTML.ts\nfunction generateHTML(doc, extensions) {\n  const schema = getSchema(extensions);\n  const contentNode = Node.fromJSON(schema, doc);\n  return getHTMLFromFragment(contentNode.content, schema);\n}\n\n// src/helpers/generateJSON.ts\nimport { DOMParser as DOMParser2 } from \"@tiptap/pm/model\";\nfunction generateJSON(html, extensions) {\n  const schema = getSchema(extensions);\n  const dom = elementFromString(html);\n  return DOMParser2.fromSchema(schema).parse(dom).toJSON();\n}\n\n// src/helpers/generateText.ts\nimport { Node as Node2 } from \"@tiptap/pm/model\";\n\n// src/helpers/getTextBetween.ts\nfunction getTextBetween(startNode, range, options) {\n  const { from, to } = range;\n  const { blockSeparator = \"\\n\\n\", textSerializers = {} } = options || {};\n  let text = \"\";\n  startNode.nodesBetween(from, to, (node, pos, parent, index) => {\n    var _a;\n    if (node.isBlock && pos > from) {\n      text += blockSeparator;\n    }\n    const textSerializer = textSerializers == null ? void 0 : textSerializers[node.type.name];\n    if (textSerializer) {\n      if (parent) {\n        text += textSerializer({\n          node,\n          pos,\n          parent,\n          index,\n          range\n        });\n      }\n      return false;\n    }\n    if (node.isText) {\n      text += (_a = node == null ? void 0 : node.text) == null ? void 0 : _a.slice(Math.max(from, pos) - pos, to - pos);\n    }\n  });\n  return text;\n}\n\n// src/helpers/getText.ts\nfunction getText(node, options) {\n  const range = {\n    from: 0,\n    to: node.content.size\n  };\n  return getTextBetween(node, range, options);\n}\n\n// src/helpers/getTextSerializersFromSchema.ts\nfunction getTextSerializersFromSchema(schema) {\n  return Object.fromEntries(\n    Object.entries(schema.nodes).filter(([, node]) => node.spec.toText).map(([name, node]) => [name, node.spec.toText])\n  );\n}\n\n// src/helpers/generateText.ts\nfunction generateText(doc, extensions, options) {\n  const { blockSeparator = \"\\n\\n\", textSerializers = {} } = options || {};\n  const schema = getSchema(extensions);\n  const contentNode = Node2.fromJSON(schema, doc);\n  return getText(contentNode, {\n    blockSeparator,\n    textSerializers: {\n      ...getTextSerializersFromSchema(schema),\n      ...textSerializers\n    }\n  });\n}\n\n// src/helpers/getNodeAttributes.ts\nfunction getNodeAttributes(state, typeOrName) {\n  const type = getNodeType(typeOrName, state.schema);\n  const { from, to } = state.selection;\n  const nodes = [];\n  state.doc.nodesBetween(from, to, (node2) => {\n    nodes.push(node2);\n  });\n  const node = nodes.reverse().find((nodeItem) => nodeItem.type.name === type.name);\n  if (!node) {\n    return {};\n  }\n  return { ...node.attrs };\n}\n\n// src/helpers/getAttributes.ts\nfunction getAttributes(state, typeOrName) {\n  const schemaType = getSchemaTypeNameByName(\n    typeof typeOrName === \"string\" ? typeOrName : typeOrName.name,\n    state.schema\n  );\n  if (schemaType === \"node\") {\n    return getNodeAttributes(state, typeOrName);\n  }\n  if (schemaType === \"mark\") {\n    return getMarkAttributes(state, typeOrName);\n  }\n  return {};\n}\n\n// src/utilities/removeDuplicates.ts\nfunction removeDuplicates(array, by = JSON.stringify) {\n  const seen = {};\n  return array.filter((item) => {\n    const key = by(item);\n    return Object.prototype.hasOwnProperty.call(seen, key) ? false : seen[key] = true;\n  });\n}\n\n// src/helpers/getChangedRanges.ts\nfunction simplifyChangedRanges(changes) {\n  const uniqueChanges = removeDuplicates(changes);\n  return uniqueChanges.length === 1 ? uniqueChanges : uniqueChanges.filter((change, index) => {\n    const rest = uniqueChanges.filter((_, i) => i !== index);\n    return !rest.some((otherChange) => {\n      return change.oldRange.from >= otherChange.oldRange.from && change.oldRange.to <= otherChange.oldRange.to && change.newRange.from >= otherChange.newRange.from && change.newRange.to <= otherChange.newRange.to;\n    });\n  });\n}\nfunction getChangedRanges(transform) {\n  const { mapping, steps } = transform;\n  const changes = [];\n  mapping.maps.forEach((stepMap, index) => {\n    const ranges = [];\n    if (!stepMap.ranges.length) {\n      const { from, to } = steps[index];\n      if (from === void 0 || to === void 0) {\n        return;\n      }\n      ranges.push({ from, to });\n    } else {\n      stepMap.forEach((from, to) => {\n        ranges.push({ from, to });\n      });\n    }\n    ranges.forEach(({ from, to }) => {\n      const newStart = mapping.slice(index).map(from, -1);\n      const newEnd = mapping.slice(index).map(to);\n      const oldStart = mapping.invert().map(newStart, -1);\n      const oldEnd = mapping.invert().map(newEnd);\n      changes.push({\n        oldRange: {\n          from: oldStart,\n          to: oldEnd\n        },\n        newRange: {\n          from: newStart,\n          to: newEnd\n        }\n      });\n    });\n  });\n  return simplifyChangedRanges(changes);\n}\n\n// src/helpers/getDebugJSON.ts\nfunction getDebugJSON(node, startOffset = 0) {\n  const isTopNode = node.type === node.type.schema.topNodeType;\n  const increment = isTopNode ? 0 : 1;\n  const from = startOffset;\n  const to = from + node.nodeSize;\n  const marks = node.marks.map((mark) => {\n    const output2 = {\n      type: mark.type.name\n    };\n    if (Object.keys(mark.attrs).length) {\n      output2.attrs = { ...mark.attrs };\n    }\n    return output2;\n  });\n  const attrs = { ...node.attrs };\n  const output = {\n    type: node.type.name,\n    from,\n    to\n  };\n  if (Object.keys(attrs).length) {\n    output.attrs = attrs;\n  }\n  if (marks.length) {\n    output.marks = marks;\n  }\n  if (node.content.childCount) {\n    output.content = [];\n    node.forEach((child, offset) => {\n      var _a;\n      (_a = output.content) == null ? void 0 : _a.push(getDebugJSON(child, startOffset + offset + increment));\n    });\n  }\n  if (node.text) {\n    output.text = node.text;\n  }\n  return output;\n}\n\n// src/helpers/getMarksBetween.ts\nfunction getMarksBetween(from, to, doc) {\n  const marks = [];\n  if (from === to) {\n    doc.resolve(from).marks().forEach((mark) => {\n      const $pos = doc.resolve(from);\n      const range = getMarkRange($pos, mark.type);\n      if (!range) {\n        return;\n      }\n      marks.push({\n        mark,\n        ...range\n      });\n    });\n  } else {\n    doc.nodesBetween(from, to, (node, pos) => {\n      if (!node || (node == null ? void 0 : node.nodeSize) === void 0) {\n        return;\n      }\n      marks.push(\n        ...node.marks.map((mark) => ({\n          from: pos,\n          to: pos + node.nodeSize,\n          mark\n        }))\n      );\n    });\n  }\n  return marks;\n}\n\n// src/helpers/getNodeAtPosition.ts\nvar getNodeAtPosition = (state, typeOrName, pos, maxDepth = 20) => {\n  const $pos = state.doc.resolve(pos);\n  let currentDepth = maxDepth;\n  let node = null;\n  while (currentDepth > 0 && node === null) {\n    const currentNode = $pos.node(currentDepth);\n    if ((currentNode == null ? void 0 : currentNode.type.name) === typeOrName) {\n      node = currentNode;\n    } else {\n      currentDepth -= 1;\n    }\n  }\n  return [node, currentDepth];\n};\n\n// src/helpers/getSchemaTypeByName.ts\nfunction getSchemaTypeByName(name, schema) {\n  return schema.nodes[name] || schema.marks[name] || null;\n}\n\n// src/helpers/getSplittedAttributes.ts\nfunction getSplittedAttributes(extensionAttributes, typeName, attributes) {\n  return Object.fromEntries(\n    Object.entries(attributes).filter(([name]) => {\n      const extensionAttribute = extensionAttributes.find((item) => {\n        return item.type === typeName && item.name === name;\n      });\n      if (!extensionAttribute) {\n        return false;\n      }\n      return extensionAttribute.attribute.keepOnSplit;\n    })\n  );\n}\n\n// src/helpers/getTextContentFromNodes.ts\nvar getTextContentFromNodes = ($from, maxMatch = 500) => {\n  let textBefore = \"\";\n  const sliceEndPos = $from.parentOffset;\n  $from.parent.nodesBetween(Math.max(0, sliceEndPos - maxMatch), sliceEndPos, (node, pos, parent, index) => {\n    var _a, _b;\n    const chunk = ((_b = (_a = node.type.spec).toText) == null ? void 0 : _b.call(_a, {\n      node,\n      pos,\n      parent,\n      index\n    })) || node.textContent || \"%leaf%\";\n    textBefore += node.isAtom && !node.isText ? chunk : chunk.slice(0, Math.max(0, sliceEndPos - pos));\n  });\n  return textBefore;\n};\n\n// src/helpers/isMarkActive.ts\nfunction isMarkActive(state, typeOrName, attributes = {}) {\n  const { empty, ranges } = state.selection;\n  const type = typeOrName ? getMarkType(typeOrName, state.schema) : null;\n  if (empty) {\n    return !!(state.storedMarks || state.selection.$from.marks()).filter((mark) => {\n      if (!type) {\n        return true;\n      }\n      return type.name === mark.type.name;\n    }).find((mark) => objectIncludes(mark.attrs, attributes, { strict: false }));\n  }\n  let selectionRange = 0;\n  const markRanges = [];\n  ranges.forEach(({ $from, $to }) => {\n    const from = $from.pos;\n    const to = $to.pos;\n    state.doc.nodesBetween(from, to, (node, pos) => {\n      if (type && node.inlineContent && !node.type.allowsMarkType(type)) {\n        return false;\n      }\n      if (!node.isText && !node.marks.length) {\n        return;\n      }\n      const relativeFrom = Math.max(from, pos);\n      const relativeTo = Math.min(to, pos + node.nodeSize);\n      const range2 = relativeTo - relativeFrom;\n      selectionRange += range2;\n      markRanges.push(\n        ...node.marks.map((mark) => ({\n          mark,\n          from: relativeFrom,\n          to: relativeTo\n        }))\n      );\n    });\n  });\n  if (selectionRange === 0) {\n    return false;\n  }\n  const matchedRange = markRanges.filter((markRange) => {\n    if (!type) {\n      return true;\n    }\n    return type.name === markRange.mark.type.name;\n  }).filter((markRange) => objectIncludes(markRange.mark.attrs, attributes, { strict: false })).reduce((sum, markRange) => sum + markRange.to - markRange.from, 0);\n  const excludedRange = markRanges.filter((markRange) => {\n    if (!type) {\n      return true;\n    }\n    return markRange.mark.type !== type && markRange.mark.type.excludes(type);\n  }).reduce((sum, markRange) => sum + markRange.to - markRange.from, 0);\n  const range = matchedRange > 0 ? matchedRange + excludedRange : matchedRange;\n  return range >= selectionRange;\n}\n\n// src/helpers/isActive.ts\nfunction isActive(state, name, attributes = {}) {\n  if (!name) {\n    return isNodeActive(state, null, attributes) || isMarkActive(state, null, attributes);\n  }\n  const schemaType = getSchemaTypeNameByName(name, state.schema);\n  if (schemaType === \"node\") {\n    return isNodeActive(state, name, attributes);\n  }\n  if (schemaType === \"mark\") {\n    return isMarkActive(state, name, attributes);\n  }\n  return false;\n}\n\n// src/helpers/isAtEndOfNode.ts\nvar isAtEndOfNode = (state, nodeType) => {\n  const { $from, $to, $anchor } = state.selection;\n  if (nodeType) {\n    const parentNode = findParentNode((node) => node.type.name === nodeType)(state.selection);\n    if (!parentNode) {\n      return false;\n    }\n    const $parentPos = state.doc.resolve(parentNode.pos + 1);\n    if ($anchor.pos + 1 === $parentPos.end()) {\n      return true;\n    }\n    return false;\n  }\n  if ($to.parentOffset < $to.parent.nodeSize - 2 || $from.pos !== $to.pos) {\n    return false;\n  }\n  return true;\n};\n\n// src/helpers/isAtStartOfNode.ts\nvar isAtStartOfNode = (state) => {\n  const { $from, $to } = state.selection;\n  if ($from.parentOffset > 0 || $from.pos !== $to.pos) {\n    return false;\n  }\n  return true;\n};\n\n// src/helpers/isExtensionRulesEnabled.ts\nfunction isExtensionRulesEnabled(extension, enabled) {\n  if (Array.isArray(enabled)) {\n    return enabled.some((enabledExtension) => {\n      const name = typeof enabledExtension === \"string\" ? enabledExtension : enabledExtension.name;\n      return name === extension.name;\n    });\n  }\n  return enabled;\n}\n\n// src/helpers/isList.ts\nfunction isList(name, extensions) {\n  const { nodeExtensions } = splitExtensions(extensions);\n  const extension = nodeExtensions.find((item) => item.name === name);\n  if (!extension) {\n    return false;\n  }\n  const context = {\n    name: extension.name,\n    options: extension.options,\n    storage: extension.storage\n  };\n  const group = callOrReturn(getExtensionField(extension, \"group\", context));\n  if (typeof group !== \"string\") {\n    return false;\n  }\n  return group.split(\" \").includes(\"list\");\n}\n\n// src/helpers/isNodeEmpty.ts\nfunction isNodeEmpty(node, {\n  checkChildren = true,\n  ignoreWhitespace = false\n} = {}) {\n  var _a;\n  if (ignoreWhitespace) {\n    if (node.type.name === \"hardBreak\") {\n      return true;\n    }\n    if (node.isText) {\n      return /^\\s*$/m.test((_a = node.text) != null ? _a : \"\");\n    }\n  }\n  if (node.isText) {\n    return !node.text;\n  }\n  if (node.isAtom || node.isLeaf) {\n    return false;\n  }\n  if (node.content.childCount === 0) {\n    return true;\n  }\n  if (checkChildren) {\n    let isContentEmpty = true;\n    node.content.forEach((childNode) => {\n      if (isContentEmpty === false) {\n        return;\n      }\n      if (!isNodeEmpty(childNode, { ignoreWhitespace, checkChildren })) {\n        isContentEmpty = false;\n      }\n    });\n    return isContentEmpty;\n  }\n  return false;\n}\n\n// src/helpers/isNodeSelection.ts\nimport { NodeSelection } from \"@tiptap/pm/state\";\nfunction isNodeSelection(value) {\n  return value instanceof NodeSelection;\n}\n\n// src/helpers/MappablePosition.ts\nvar MappablePosition = class _MappablePosition {\n  constructor(position) {\n    this.position = position;\n  }\n  /**\n   * Creates a MappablePosition from a JSON object.\n   */\n  static fromJSON(json) {\n    return new _MappablePosition(json.position);\n  }\n  /**\n   * Converts the MappablePosition to a JSON object.\n   */\n  toJSON() {\n    return {\n      position: this.position\n    };\n  }\n};\nfunction getUpdatedPosition(position, transaction) {\n  const mapResult = transaction.mapping.mapResult(position.position);\n  return {\n    position: new MappablePosition(mapResult.pos),\n    mapResult\n  };\n}\nfunction createMappablePosition(position) {\n  return new MappablePosition(position);\n}\n\n// src/helpers/posToDOMRect.ts\nfunction posToDOMRect(view, from, to) {\n  const minPos = 0;\n  const maxPos = view.state.doc.content.size;\n  const resolvedFrom = minMax(from, minPos, maxPos);\n  const resolvedEnd = minMax(to, minPos, maxPos);\n  const start = view.coordsAtPos(resolvedFrom);\n  const end = view.coordsAtPos(resolvedEnd, -1);\n  const top = Math.min(start.top, end.top);\n  const bottom = Math.max(start.bottom, end.bottom);\n  const left = Math.min(start.left, end.left);\n  const right = Math.max(start.right, end.right);\n  const width = right - left;\n  const height = bottom - top;\n  const x = left;\n  const y = top;\n  const data = {\n    top,\n    bottom,\n    left,\n    right,\n    width,\n    height,\n    x,\n    y\n  };\n  return {\n    ...data,\n    toJSON: () => data\n  };\n}\n\n// src/helpers/rewriteUnknownContent.ts\nfunction rewriteUnknownContentInner({\n  json,\n  validMarks,\n  validNodes,\n  options,\n  rewrittenContent = []\n}) {\n  if (json.marks && Array.isArray(json.marks)) {\n    json.marks = json.marks.filter((mark) => {\n      const name = typeof mark === \"string\" ? mark : mark.type;\n      if (validMarks.has(name)) {\n        return true;\n      }\n      rewrittenContent.push({\n        original: JSON.parse(JSON.stringify(mark)),\n        unsupported: name\n      });\n      return false;\n    });\n  }\n  if (json.content && Array.isArray(json.content)) {\n    json.content = json.content.map(\n      (value) => rewriteUnknownContentInner({\n        json: value,\n        validMarks,\n        validNodes,\n        options,\n        rewrittenContent\n      }).json\n    ).filter((a) => a !== null && a !== void 0);\n  }\n  if (json.type && !validNodes.has(json.type)) {\n    rewrittenContent.push({\n      original: JSON.parse(JSON.stringify(json)),\n      unsupported: json.type\n    });\n    if (json.content && Array.isArray(json.content) && (options == null ? void 0 : options.fallbackToParagraph) !== false) {\n      json.type = \"paragraph\";\n      return {\n        json,\n        rewrittenContent\n      };\n    }\n    return {\n      json: null,\n      rewrittenContent\n    };\n  }\n  return { json, rewrittenContent };\n}\nfunction rewriteUnknownContent(json, schema, options) {\n  return rewriteUnknownContentInner({\n    json,\n    validNodes: new Set(Object.keys(schema.nodes)),\n    validMarks: new Set(Object.keys(schema.marks)),\n    options\n  });\n}\n\n// src/commands/setMark.ts\nfunction canSetMark(state, tr, newMarkType) {\n  var _a;\n  const { selection } = tr;\n  let cursor = null;\n  if (isTextSelection(selection)) {\n    cursor = selection.$cursor;\n  }\n  if (cursor) {\n    const currentMarks = (_a = state.storedMarks) != null ? _a : cursor.marks();\n    const parentAllowsMarkType = cursor.parent.type.allowsMarkType(newMarkType);\n    return parentAllowsMarkType && (!!newMarkType.isInSet(currentMarks) || !currentMarks.some((mark) => mark.type.excludes(newMarkType)));\n  }\n  const { ranges } = selection;\n  return ranges.some(({ $from, $to }) => {\n    let someNodeSupportsMark = $from.depth === 0 ? state.doc.inlineContent && state.doc.type.allowsMarkType(newMarkType) : false;\n    state.doc.nodesBetween($from.pos, $to.pos, (node, _pos, parent) => {\n      if (someNodeSupportsMark) {\n        return false;\n      }\n      if (node.isInline) {\n        const parentAllowsMarkType = !parent || parent.type.allowsMarkType(newMarkType);\n        const currentMarksAllowMarkType = !!newMarkType.isInSet(node.marks) || !node.marks.some((otherMark) => otherMark.type.excludes(newMarkType));\n        someNodeSupportsMark = parentAllowsMarkType && currentMarksAllowMarkType;\n      }\n      return !someNodeSupportsMark;\n    });\n    return someNodeSupportsMark;\n  });\n}\nvar setMark = (typeOrName, attributes = {}) => ({ tr, state, dispatch }) => {\n  const { selection } = tr;\n  const { empty, ranges } = selection;\n  const type = getMarkType(typeOrName, state.schema);\n  if (dispatch) {\n    if (empty) {\n      const oldAttributes = getMarkAttributes(state, type);\n      tr.addStoredMark(\n        type.create({\n          ...oldAttributes,\n          ...attributes\n        })\n      );\n    } else {\n      ranges.forEach((range) => {\n        const from = range.$from.pos;\n        const to = range.$to.pos;\n        state.doc.nodesBetween(from, to, (node, pos) => {\n          const trimmedFrom = Math.max(pos, from);\n          const trimmedTo = Math.min(pos + node.nodeSize, to);\n          const someHasMark = node.marks.find((mark) => mark.type === type);\n          if (someHasMark) {\n            node.marks.forEach((mark) => {\n              if (type === mark.type) {\n                tr.addMark(\n                  trimmedFrom,\n                  trimmedTo,\n                  type.create({\n                    ...mark.attrs,\n                    ...attributes\n                  })\n                );\n              }\n            });\n          } else {\n            tr.addMark(trimmedFrom, trimmedTo, type.create(attributes));\n          }\n        });\n      });\n    }\n  }\n  return canSetMark(state, tr, type);\n};\n\n// src/commands/setMeta.ts\nvar setMeta = (key, value) => ({ tr }) => {\n  tr.setMeta(key, value);\n  return true;\n};\n\n// src/commands/setNode.ts\nimport { setBlockType } from \"@tiptap/pm/commands\";\nvar setNode = (typeOrName, attributes = {}) => ({ state, dispatch, chain }) => {\n  const type = getNodeType(typeOrName, state.schema);\n  let attributesToCopy;\n  if (state.selection.$anchor.sameParent(state.selection.$head)) {\n    attributesToCopy = state.selection.$anchor.parent.attrs;\n  }\n  if (!type.isTextblock) {\n    console.warn('[tiptap warn]: Currently \"setNode()\" only supports text block nodes.');\n    return false;\n  }\n  return chain().command(({ commands }) => {\n    const canSetBlock = setBlockType(type, { ...attributesToCopy, ...attributes })(state);\n    if (canSetBlock) {\n      return true;\n    }\n    return commands.clearNodes();\n  }).command(({ state: updatedState }) => {\n    return setBlockType(type, { ...attributesToCopy, ...attributes })(updatedState, dispatch);\n  }).run();\n};\n\n// src/commands/setNodeSelection.ts\nimport { NodeSelection as NodeSelection2 } from \"@tiptap/pm/state\";\nvar setNodeSelection = (position) => ({ tr, dispatch }) => {\n  if (dispatch) {\n    const { doc } = tr;\n    const from = minMax(position, 0, doc.content.size);\n    const selection = NodeSelection2.create(doc, from);\n    tr.setSelection(selection);\n  }\n  return true;\n};\n\n// src/commands/setTextDirection.ts\nvar setTextDirection = (direction, position) => ({ tr, state, dispatch }) => {\n  const { selection } = state;\n  let from;\n  let to;\n  if (typeof position === \"number\") {\n    from = position;\n    to = position;\n  } else if (position && \"from\" in position && \"to\" in position) {\n    from = position.from;\n    to = position.to;\n  } else {\n    from = selection.from;\n    to = selection.to;\n  }\n  if (dispatch) {\n    tr.doc.nodesBetween(from, to, (node, pos) => {\n      if (node.isText) {\n        return;\n      }\n      tr.setNodeMarkup(pos, void 0, {\n        ...node.attrs,\n        dir: direction\n      });\n    });\n  }\n  return true;\n};\n\n// src/commands/setTextSelection.ts\nimport { TextSelection as TextSelection5 } from \"@tiptap/pm/state\";\nvar setTextSelection = (position) => ({ tr, dispatch }) => {\n  if (dispatch) {\n    const { doc } = tr;\n    const { from, to } = typeof position === \"number\" ? { from: position, to: position } : position;\n    const minPos = TextSelection5.atStart(doc).from;\n    const maxPos = TextSelection5.atEnd(doc).to;\n    const resolvedFrom = minMax(from, minPos, maxPos);\n    const resolvedEnd = minMax(to, minPos, maxPos);\n    const selection = TextSelection5.create(doc, resolvedFrom, resolvedEnd);\n    tr.setSelection(selection);\n  }\n  return true;\n};\n\n// src/commands/sinkListItem.ts\nimport { sinkListItem as originalSinkListItem } from \"@tiptap/pm/schema-list\";\nvar sinkListItem = (typeOrName) => ({ state, dispatch }) => {\n  const type = getNodeType(typeOrName, state.schema);\n  return originalSinkListItem(type)(state, dispatch);\n};\n\n// src/commands/splitBlock.ts\nimport { NodeSelection as NodeSelection3, TextSelection as TextSelection6 } from \"@tiptap/pm/state\";\nimport { canSplit } from \"@tiptap/pm/transform\";\nfunction ensureMarks(state, splittableMarks) {\n  const marks = state.storedMarks || state.selection.$to.parentOffset && state.selection.$from.marks();\n  if (marks) {\n    const filteredMarks = marks.filter((mark) => splittableMarks == null ? void 0 : splittableMarks.includes(mark.type.name));\n    state.tr.ensureMarks(filteredMarks);\n  }\n}\nvar splitBlock = ({ keepMarks = true } = {}) => ({ tr, state, dispatch, editor }) => {\n  const { selection, doc } = tr;\n  const { $from, $to } = selection;\n  const extensionAttributes = editor.extensionManager.attributes;\n  const newAttributes = getSplittedAttributes(extensionAttributes, $from.node().type.name, $from.node().attrs);\n  if (selection instanceof NodeSelection3 && selection.node.isBlock) {\n    if (!$from.parentOffset || !canSplit(doc, $from.pos)) {\n      return false;\n    }\n    if (dispatch) {\n      if (keepMarks) {\n        ensureMarks(state, editor.extensionManager.splittableMarks);\n      }\n      tr.split($from.pos).scrollIntoView();\n    }\n    return true;\n  }\n  if (!$from.parent.isBlock) {\n    return false;\n  }\n  const atEnd = $to.parentOffset === $to.parent.content.size;\n  const deflt = $from.depth === 0 ? void 0 : defaultBlockAt($from.node(-1).contentMatchAt($from.indexAfter(-1)));\n  let types = atEnd && deflt ? [\n    {\n      type: deflt,\n      attrs: newAttributes\n    }\n  ] : void 0;\n  let can = canSplit(tr.doc, tr.mapping.map($from.pos), 1, types);\n  if (!types && !can && canSplit(tr.doc, tr.mapping.map($from.pos), 1, deflt ? [{ type: deflt }] : void 0)) {\n    can = true;\n    types = deflt ? [\n      {\n        type: deflt,\n        attrs: newAttributes\n      }\n    ] : void 0;\n  }\n  if (dispatch) {\n    if (can) {\n      if (selection instanceof TextSelection6) {\n        tr.deleteSelection();\n      }\n      tr.split(tr.mapping.map($from.pos), 1, types);\n      if (deflt && !atEnd && !$from.parentOffset && $from.parent.type !== deflt) {\n        const first2 = tr.mapping.map($from.before());\n        const $first = tr.doc.resolve(first2);\n        if ($from.node(-1).canReplaceWith($first.index(), $first.index() + 1, deflt)) {\n          tr.setNodeMarkup(tr.mapping.map($from.before()), deflt);\n        }\n      }\n    }\n    if (keepMarks) {\n      ensureMarks(state, editor.extensionManager.splittableMarks);\n    }\n    tr.scrollIntoView();\n  }\n  return can;\n};\n\n// src/commands/splitListItem.ts\nimport { Fragment as Fragment3, Slice } from \"@tiptap/pm/model\";\nimport { TextSelection as TextSelection7 } from \"@tiptap/pm/state\";\nimport { canSplit as canSplit2 } from \"@tiptap/pm/transform\";\nvar splitListItem = (typeOrName, overrideAttrs = {}) => ({ tr, state, dispatch, editor }) => {\n  var _a;\n  const type = getNodeType(typeOrName, state.schema);\n  const { $from, $to } = state.selection;\n  const node = state.selection.node;\n  if (node && node.isBlock || $from.depth < 2 || !$from.sameParent($to)) {\n    return false;\n  }\n  const grandParent = $from.node(-1);\n  if (grandParent.type !== type) {\n    return false;\n  }\n  const extensionAttributes = editor.extensionManager.attributes;\n  if ($from.parent.content.size === 0 && $from.node(-1).childCount === $from.indexAfter(-1)) {\n    if ($from.depth === 2 || $from.node(-3).type !== type || $from.index(-2) !== $from.node(-2).childCount - 1) {\n      return false;\n    }\n    if (dispatch) {\n      let wrap = Fragment3.empty;\n      const depthBefore = $from.index(-1) ? 1 : $from.index(-2) ? 2 : 3;\n      for (let d = $from.depth - depthBefore; d >= $from.depth - 3; d -= 1) {\n        wrap = Fragment3.from($from.node(d).copy(wrap));\n      }\n      const depthAfter = (\n        // eslint-disable-next-line no-nested-ternary\n        $from.indexAfter(-1) < $from.node(-2).childCount ? 1 : $from.indexAfter(-2) < $from.node(-3).childCount ? 2 : 3\n      );\n      const newNextTypeAttributes2 = {\n        ...getSplittedAttributes(extensionAttributes, $from.node().type.name, $from.node().attrs),\n        ...overrideAttrs\n      };\n      const nextType2 = ((_a = type.contentMatch.defaultType) == null ? void 0 : _a.createAndFill(newNextTypeAttributes2)) || void 0;\n      wrap = wrap.append(Fragment3.from(type.createAndFill(null, nextType2) || void 0));\n      const start = $from.before($from.depth - (depthBefore - 1));\n      tr.replace(start, $from.after(-depthAfter), new Slice(wrap, 4 - depthBefore, 0));\n      let sel = -1;\n      tr.doc.nodesBetween(start, tr.doc.content.size, (n, pos) => {\n        if (sel > -1) {\n          return false;\n        }\n        if (n.isTextblock && n.content.size === 0) {\n          sel = pos + 1;\n        }\n      });\n      if (sel > -1) {\n        tr.setSelection(TextSelection7.near(tr.doc.resolve(sel)));\n      }\n      tr.scrollIntoView();\n    }\n    return true;\n  }\n  const nextType = $to.pos === $from.end() ? grandParent.contentMatchAt(0).defaultType : null;\n  const newTypeAttributes = {\n    ...getSplittedAttributes(extensionAttributes, grandParent.type.name, grandParent.attrs),\n    ...overrideAttrs\n  };\n  const newNextTypeAttributes = {\n    ...getSplittedAttributes(extensionAttributes, $from.node().type.name, $from.node().attrs),\n    ...overrideAttrs\n  };\n  tr.delete($from.pos, $to.pos);\n  const types = nextType ? [\n    { type, attrs: newTypeAttributes },\n    { type: nextType, attrs: newNextTypeAttributes }\n  ] : [{ type, attrs: newTypeAttributes }];\n  if (!canSplit2(tr.doc, $from.pos, 2)) {\n    return false;\n  }\n  if (dispatch) {\n    const { selection, storedMarks } = state;\n    const { splittableMarks } = editor.extensionManager;\n    const marks = storedMarks || selection.$to.parentOffset && selection.$from.marks();\n    tr.split($from.pos, 2, types).scrollIntoView();\n    if (!marks || !dispatch) {\n      return true;\n    }\n    const filteredMarks = marks.filter((mark) => splittableMarks.includes(mark.type.name));\n    tr.ensureMarks(filteredMarks);\n  }\n  return true;\n};\n\n// src/commands/toggleList.ts\nimport { canJoin } from \"@tiptap/pm/transform\";\nvar joinListBackwards = (tr, listType) => {\n  const list = findParentNode((node) => node.type === listType)(tr.selection);\n  if (!list) {\n    return true;\n  }\n  const before = tr.doc.resolve(Math.max(0, list.pos - 1)).before(list.depth);\n  if (before === void 0) {\n    return true;\n  }\n  const nodeBefore = tr.doc.nodeAt(before);\n  const canJoinBackwards = list.node.type === (nodeBefore == null ? void 0 : nodeBefore.type) && canJoin(tr.doc, list.pos);\n  if (!canJoinBackwards) {\n    return true;\n  }\n  tr.join(list.pos);\n  return true;\n};\nvar joinListForwards = (tr, listType) => {\n  const list = findParentNode((node) => node.type === listType)(tr.selection);\n  if (!list) {\n    return true;\n  }\n  const after = tr.doc.resolve(list.start).after(list.depth);\n  if (after === void 0) {\n    return true;\n  }\n  const nodeAfter = tr.doc.nodeAt(after);\n  const canJoinForwards = list.node.type === (nodeAfter == null ? void 0 : nodeAfter.type) && canJoin(tr.doc, after);\n  if (!canJoinForwards) {\n    return true;\n  }\n  tr.join(after);\n  return true;\n};\nvar toggleList = (listTypeOrName, itemTypeOrName, keepMarks, attributes = {}) => ({ editor, tr, state, dispatch, chain, commands, can }) => {\n  const { extensions, splittableMarks } = editor.extensionManager;\n  const listType = getNodeType(listTypeOrName, state.schema);\n  const itemType = getNodeType(itemTypeOrName, state.schema);\n  const { selection, storedMarks } = state;\n  const { $from, $to } = selection;\n  const range = $from.blockRange($to);\n  const marks = storedMarks || selection.$to.parentOffset && selection.$from.marks();\n  if (!range) {\n    return false;\n  }\n  const parentList = findParentNode((node) => isList(node.type.name, extensions))(selection);\n  if (range.depth >= 1 && parentList && range.depth - parentList.depth <= 1) {\n    if (parentList.node.type === listType) {\n      return commands.liftListItem(itemType);\n    }\n    if (isList(parentList.node.type.name, extensions) && listType.validContent(parentList.node.content) && dispatch) {\n      return chain().command(() => {\n        tr.setNodeMarkup(parentList.pos, listType);\n        return true;\n      }).command(() => joinListBackwards(tr, listType)).command(() => joinListForwards(tr, listType)).run();\n    }\n  }\n  if (!keepMarks || !marks || !dispatch) {\n    return chain().command(() => {\n      const canWrapInList = can().wrapInList(listType, attributes);\n      if (canWrapInList) {\n        return true;\n      }\n      return commands.clearNodes();\n    }).wrapInList(listType, attributes).command(() => joinListBackwards(tr, listType)).command(() => joinListForwards(tr, listType)).run();\n  }\n  return chain().command(() => {\n    const canWrapInList = can().wrapInList(listType, attributes);\n    const filteredMarks = marks.filter((mark) => splittableMarks.includes(mark.type.name));\n    tr.ensureMarks(filteredMarks);\n    if (canWrapInList) {\n      return true;\n    }\n    return commands.clearNodes();\n  }).wrapInList(listType, attributes).command(() => joinListBackwards(tr, listType)).command(() => joinListForwards(tr, listType)).run();\n};\n\n// src/commands/toggleMark.ts\nvar toggleMark = (typeOrName, attributes = {}, options = {}) => ({ state, commands }) => {\n  const { extendEmptyMarkRange = false } = options;\n  const type = getMarkType(typeOrName, state.schema);\n  const isActive2 = isMarkActive(state, type, attributes);\n  if (isActive2) {\n    return commands.unsetMark(type, { extendEmptyMarkRange });\n  }\n  return commands.setMark(type, attributes);\n};\n\n// src/commands/toggleNode.ts\nvar toggleNode = (typeOrName, toggleTypeOrName, attributes = {}) => ({ state, commands }) => {\n  const type = getNodeType(typeOrName, state.schema);\n  const toggleType = getNodeType(toggleTypeOrName, state.schema);\n  const isActive2 = isNodeActive(state, type, attributes);\n  let attributesToCopy;\n  if (state.selection.$anchor.sameParent(state.selection.$head)) {\n    attributesToCopy = state.selection.$anchor.parent.attrs;\n  }\n  if (isActive2) {\n    return commands.setNode(toggleType, attributesToCopy);\n  }\n  return commands.setNode(type, { ...attributesToCopy, ...attributes });\n};\n\n// src/commands/toggleWrap.ts\nvar toggleWrap = (typeOrName, attributes = {}) => ({ state, commands }) => {\n  const type = getNodeType(typeOrName, state.schema);\n  const isActive2 = isNodeActive(state, type, attributes);\n  if (isActive2) {\n    return commands.lift(type);\n  }\n  return commands.wrapIn(type, attributes);\n};\n\n// src/commands/undoInputRule.ts\nvar undoInputRule = () => ({ state, dispatch }) => {\n  const plugins = state.plugins;\n  for (let i = 0; i < plugins.length; i += 1) {\n    const plugin = plugins[i];\n    let undoable;\n    if (plugin.spec.isInputRules && (undoable = plugin.getState(state))) {\n      if (dispatch) {\n        const tr = state.tr;\n        const toUndo = undoable.transform;\n        for (let j = toUndo.steps.length - 1; j >= 0; j -= 1) {\n          tr.step(toUndo.steps[j].invert(toUndo.docs[j]));\n        }\n        if (undoable.text) {\n          const marks = tr.doc.resolve(undoable.from).marks();\n          tr.replaceWith(undoable.from, undoable.to, state.schema.text(undoable.text, marks));\n        } else {\n          tr.delete(undoable.from, undoable.to);\n        }\n      }\n      return true;\n    }\n  }\n  return false;\n};\n\n// src/commands/unsetAllMarks.ts\nvar unsetAllMarks = () => ({ tr, dispatch }) => {\n  const { selection } = tr;\n  const { empty, ranges } = selection;\n  if (empty) {\n    return true;\n  }\n  if (dispatch) {\n    ranges.forEach((range) => {\n      tr.removeMark(range.$from.pos, range.$to.pos);\n    });\n  }\n  return true;\n};\n\n// src/commands/unsetMark.ts\nvar unsetMark = (typeOrName, options = {}) => ({ tr, state, dispatch }) => {\n  var _a;\n  const { extendEmptyMarkRange = false } = options;\n  const { selection } = tr;\n  const type = getMarkType(typeOrName, state.schema);\n  const { $from, empty, ranges } = selection;\n  if (!dispatch) {\n    return true;\n  }\n  if (empty && extendEmptyMarkRange) {\n    let { from, to } = selection;\n    const attrs = (_a = $from.marks().find((mark) => mark.type === type)) == null ? void 0 : _a.attrs;\n    const range = getMarkRange($from, type, attrs);\n    if (range) {\n      from = range.from;\n      to = range.to;\n    }\n    tr.removeMark(from, to, type);\n  } else {\n    ranges.forEach((range) => {\n      tr.removeMark(range.$from.pos, range.$to.pos, type);\n    });\n  }\n  tr.removeStoredMark(type);\n  return true;\n};\n\n// src/commands/unsetTextDirection.ts\nvar unsetTextDirection = (position) => ({ tr, state, dispatch }) => {\n  const { selection } = state;\n  let from;\n  let to;\n  if (typeof position === \"number\") {\n    from = position;\n    to = position;\n  } else if (position && \"from\" in position && \"to\" in position) {\n    from = position.from;\n    to = position.to;\n  } else {\n    from = selection.from;\n    to = selection.to;\n  }\n  if (dispatch) {\n    tr.doc.nodesBetween(from, to, (node, pos) => {\n      if (node.isText) {\n        return;\n      }\n      const newAttrs = { ...node.attrs };\n      delete newAttrs.dir;\n      tr.setNodeMarkup(pos, void 0, newAttrs);\n    });\n  }\n  return true;\n};\n\n// src/commands/updateAttributes.ts\nvar updateAttributes = (typeOrName, attributes = {}) => ({ tr, state, dispatch }) => {\n  let nodeType = null;\n  let markType = null;\n  const schemaType = getSchemaTypeNameByName(\n    typeof typeOrName === \"string\" ? typeOrName : typeOrName.name,\n    state.schema\n  );\n  if (!schemaType) {\n    return false;\n  }\n  if (schemaType === \"node\") {\n    nodeType = getNodeType(typeOrName, state.schema);\n  }\n  if (schemaType === \"mark\") {\n    markType = getMarkType(typeOrName, state.schema);\n  }\n  let canUpdate = false;\n  tr.selection.ranges.forEach((range) => {\n    const from = range.$from.pos;\n    const to = range.$to.pos;\n    let lastPos;\n    let lastNode;\n    let trimmedFrom;\n    let trimmedTo;\n    if (tr.selection.empty) {\n      state.doc.nodesBetween(from, to, (node, pos) => {\n        if (nodeType && nodeType === node.type) {\n          canUpdate = true;\n          trimmedFrom = Math.max(pos, from);\n          trimmedTo = Math.min(pos + node.nodeSize, to);\n          lastPos = pos;\n          lastNode = node;\n        }\n      });\n    } else {\n      state.doc.nodesBetween(from, to, (node, pos) => {\n        if (pos < from && nodeType && nodeType === node.type) {\n          canUpdate = true;\n          trimmedFrom = Math.max(pos, from);\n          trimmedTo = Math.min(pos + node.nodeSize, to);\n          lastPos = pos;\n          lastNode = node;\n        }\n        if (pos >= from && pos <= to) {\n          if (nodeType && nodeType === node.type) {\n            canUpdate = true;\n            if (dispatch) {\n              tr.setNodeMarkup(pos, void 0, {\n                ...node.attrs,\n                ...attributes\n              });\n            }\n          }\n          if (markType && node.marks.length) {\n            node.marks.forEach((mark) => {\n              if (markType === mark.type) {\n                canUpdate = true;\n                if (dispatch) {\n                  const trimmedFrom2 = Math.max(pos, from);\n                  const trimmedTo2 = Math.min(pos + node.nodeSize, to);\n                  tr.addMark(\n                    trimmedFrom2,\n                    trimmedTo2,\n                    markType.create({\n                      ...mark.attrs,\n                      ...attributes\n                    })\n                  );\n                }\n              }\n            });\n          }\n        }\n      });\n    }\n    if (lastNode) {\n      if (lastPos !== void 0 && dispatch) {\n        tr.setNodeMarkup(lastPos, void 0, {\n          ...lastNode.attrs,\n          ...attributes\n        });\n      }\n      if (markType && lastNode.marks.length) {\n        lastNode.marks.forEach((mark) => {\n          if (markType === mark.type && dispatch) {\n            tr.addMark(\n              trimmedFrom,\n              trimmedTo,\n              markType.create({\n                ...mark.attrs,\n                ...attributes\n              })\n            );\n          }\n        });\n      }\n    }\n  });\n  return canUpdate;\n};\n\n// src/commands/wrapIn.ts\nimport { wrapIn as originalWrapIn } from \"@tiptap/pm/commands\";\nvar wrapIn = (typeOrName, attributes = {}) => ({ state, dispatch }) => {\n  const type = getNodeType(typeOrName, state.schema);\n  return originalWrapIn(type, attributes)(state, dispatch);\n};\n\n// src/commands/wrapInList.ts\nimport { wrapInList as originalWrapInList } from \"@tiptap/pm/schema-list\";\nvar wrapInList = (typeOrName, attributes = {}) => ({ state, dispatch }) => {\n  const type = getNodeType(typeOrName, state.schema);\n  return originalWrapInList(type, attributes)(state, dispatch);\n};\n\n// src/Editor.ts\nimport { EditorState } from \"@tiptap/pm/state\";\nimport { EditorView } from \"@tiptap/pm/view\";\n\n// src/EventEmitter.ts\nvar EventEmitter = class {\n  constructor() {\n    this.callbacks = {};\n  }\n  on(event, fn) {\n    if (!this.callbacks[event]) {\n      this.callbacks[event] = [];\n    }\n    this.callbacks[event].push(fn);\n    return this;\n  }\n  emit(event, ...args) {\n    const callbacks = this.callbacks[event];\n    if (callbacks) {\n      callbacks.forEach((callback) => callback.apply(this, args));\n    }\n    return this;\n  }\n  off(event, fn) {\n    const callbacks = this.callbacks[event];\n    if (callbacks) {\n      if (fn) {\n        this.callbacks[event] = callbacks.filter((callback) => callback !== fn);\n      } else {\n        delete this.callbacks[event];\n      }\n    }\n    return this;\n  }\n  once(event, fn) {\n    const onceFn = (...args) => {\n      this.off(event, onceFn);\n      fn.apply(this, args);\n    };\n    return this.on(event, onceFn);\n  }\n  removeAllListeners() {\n    this.callbacks = {};\n  }\n};\n\n// src/ExtensionManager.ts\nimport { keymap } from \"@tiptap/pm/keymap\";\n\n// src/InputRule.ts\nimport { Fragment as Fragment4 } from \"@tiptap/pm/model\";\nimport { Plugin } from \"@tiptap/pm/state\";\nvar InputRule = class {\n  constructor(config) {\n    var _a;\n    this.find = config.find;\n    this.handler = config.handler;\n    this.undoable = (_a = config.undoable) != null ? _a : true;\n  }\n};\nvar inputRuleMatcherHandler = (text, find) => {\n  if (isRegExp(find)) {\n    return find.exec(text);\n  }\n  const inputRuleMatch = find(text);\n  if (!inputRuleMatch) {\n    return null;\n  }\n  const result = [inputRuleMatch.text];\n  result.index = inputRuleMatch.index;\n  result.input = text;\n  result.data = inputRuleMatch.data;\n  if (inputRuleMatch.replaceWith) {\n    if (!inputRuleMatch.text.includes(inputRuleMatch.replaceWith)) {\n      console.warn('[tiptap warn]: \"inputRuleMatch.replaceWith\" must be part of \"inputRuleMatch.text\".');\n    }\n    result.push(inputRuleMatch.replaceWith);\n  }\n  return result;\n};\nfunction run(config) {\n  var _a;\n  const { editor, from, to, text, rules, plugin } = config;\n  const { view } = editor;\n  if (view.composing) {\n    return false;\n  }\n  const $from = view.state.doc.resolve(from);\n  if (\n    // check for code node\n    $from.parent.type.spec.code || // check for code mark\n    !!((_a = $from.nodeBefore || $from.nodeAfter) == null ? void 0 : _a.marks.find((mark) => mark.type.spec.code))\n  ) {\n    return false;\n  }\n  let matched = false;\n  const textBefore = getTextContentFromNodes($from) + text;\n  rules.forEach((rule) => {\n    if (matched) {\n      return;\n    }\n    const match = inputRuleMatcherHandler(textBefore, rule.find);\n    if (!match) {\n      return;\n    }\n    const tr = view.state.tr;\n    const state = createChainableState({\n      state: view.state,\n      transaction: tr\n    });\n    const range = {\n      from: from - (match[0].length - text.length),\n      to\n    };\n    const { commands, chain, can } = new CommandManager({\n      editor,\n      state\n    });\n    const handler = rule.handler({\n      state,\n      range,\n      match,\n      commands,\n      chain,\n      can\n    });\n    if (handler === null || !tr.steps.length) {\n      return;\n    }\n    if (rule.undoable) {\n      tr.setMeta(plugin, {\n        transform: tr,\n        from,\n        to,\n        text\n      });\n    }\n    view.dispatch(tr);\n    matched = true;\n  });\n  return matched;\n}\nfunction inputRulesPlugin(props) {\n  const { editor, rules } = props;\n  const plugin = new Plugin({\n    state: {\n      init() {\n        return null;\n      },\n      apply(tr, prev, state) {\n        const stored = tr.getMeta(plugin);\n        if (stored) {\n          return stored;\n        }\n        const simulatedInputMeta = tr.getMeta(\"applyInputRules\");\n        const isSimulatedInput = !!simulatedInputMeta;\n        if (isSimulatedInput) {\n          setTimeout(() => {\n            let { text } = simulatedInputMeta;\n            if (typeof text === \"string\") {\n              text = text;\n            } else {\n              text = getHTMLFromFragment(Fragment4.from(text), state.schema);\n            }\n            const { from } = simulatedInputMeta;\n            const to = from + text.length;\n            run({\n              editor,\n              from,\n              to,\n              text,\n              rules,\n              plugin\n            });\n          });\n        }\n        return tr.selectionSet || tr.docChanged ? null : prev;\n      }\n    },\n    props: {\n      handleTextInput(view, from, to, text) {\n        return run({\n          editor,\n          from,\n          to,\n          text,\n          rules,\n          plugin\n        });\n      },\n      handleDOMEvents: {\n        compositionend: (view) => {\n          setTimeout(() => {\n            const { $cursor } = view.state.selection;\n            if ($cursor) {\n              run({\n                editor,\n                from: $cursor.pos,\n                to: $cursor.pos,\n                text: \"\",\n                rules,\n                plugin\n              });\n            }\n          });\n          return false;\n        }\n      },\n      // add support for input rules to trigger on enter\n      // this is useful for example for code blocks\n      handleKeyDown(view, event) {\n        if (event.key !== \"Enter\") {\n          return false;\n        }\n        const { $cursor } = view.state.selection;\n        if ($cursor) {\n          return run({\n            editor,\n            from: $cursor.pos,\n            to: $cursor.pos,\n            text: \"\\n\",\n            rules,\n            plugin\n          });\n        }\n        return false;\n      }\n    },\n    // @ts-ignore\n    isInputRules: true\n  });\n  return plugin;\n}\n\n// src/utilities/isPlainObject.ts\nfunction getType(value) {\n  return Object.prototype.toString.call(value).slice(8, -1);\n}\nfunction isPlainObject(value) {\n  if (getType(value) !== \"Object\") {\n    return false;\n  }\n  return value.constructor === Object && Object.getPrototypeOf(value) === Object.prototype;\n}\n\n// src/utilities/mergeDeep.ts\nfunction mergeDeep(target, source) {\n  const output = { ...target };\n  if (isPlainObject(target) && isPlainObject(source)) {\n    Object.keys(source).forEach((key) => {\n      if (isPlainObject(source[key]) && isPlainObject(target[key])) {\n        output[key] = mergeDeep(target[key], source[key]);\n      } else {\n        output[key] = source[key];\n      }\n    });\n  }\n  return output;\n}\n\n// src/Extendable.ts\nvar Extendable = class {\n  constructor(config = {}) {\n    this.type = \"extendable\";\n    this.parent = null;\n    this.child = null;\n    this.name = \"\";\n    this.config = {\n      name: this.name\n    };\n    this.config = {\n      ...this.config,\n      ...config\n    };\n    this.name = this.config.name;\n  }\n  get options() {\n    return {\n      ...callOrReturn(\n        getExtensionField(this, \"addOptions\", {\n          name: this.name\n        })\n      ) || {}\n    };\n  }\n  get storage() {\n    return {\n      ...callOrReturn(\n        getExtensionField(this, \"addStorage\", {\n          name: this.name,\n          options: this.options\n        })\n      ) || {}\n    };\n  }\n  configure(options = {}) {\n    const extension = this.extend({\n      ...this.config,\n      addOptions: () => {\n        return mergeDeep(this.options, options);\n      }\n    });\n    extension.name = this.name;\n    extension.parent = this.parent;\n    return extension;\n  }\n  extend(extendedConfig = {}) {\n    const extension = new this.constructor({ ...this.config, ...extendedConfig });\n    extension.parent = this;\n    this.child = extension;\n    extension.name = \"name\" in extendedConfig ? extendedConfig.name : extension.parent.name;\n    return extension;\n  }\n};\n\n// src/Mark.ts\nvar Mark = class _Mark extends Extendable {\n  constructor() {\n    super(...arguments);\n    this.type = \"mark\";\n  }\n  /**\n   * Create a new Mark instance\n   * @param config - Mark configuration object or a function that returns a configuration object\n   */\n  static create(config = {}) {\n    const resolvedConfig = typeof config === \"function\" ? config() : config;\n    return new _Mark(resolvedConfig);\n  }\n  static handleExit({ editor, mark }) {\n    const { tr } = editor.state;\n    const currentPos = editor.state.selection.$from;\n    const isAtEnd = currentPos.pos === currentPos.end();\n    if (isAtEnd) {\n      const currentMarks = currentPos.marks();\n      const isInMark = !!currentMarks.find((m) => (m == null ? void 0 : m.type.name) === mark.name);\n      if (!isInMark) {\n        return false;\n      }\n      const removeMark = currentMarks.find((m) => (m == null ? void 0 : m.type.name) === mark.name);\n      if (removeMark) {\n        tr.removeStoredMark(removeMark);\n      }\n      tr.insertText(\" \", currentPos.pos);\n      editor.view.dispatch(tr);\n      return true;\n    }\n    return false;\n  }\n  configure(options) {\n    return super.configure(options);\n  }\n  extend(extendedConfig) {\n    const resolvedConfig = typeof extendedConfig === \"function\" ? extendedConfig() : extendedConfig;\n    return super.extend(resolvedConfig);\n  }\n};\n\n// src/PasteRule.ts\nimport { Fragment as Fragment5 } from \"@tiptap/pm/model\";\nimport { Plugin as Plugin2 } from \"@tiptap/pm/state\";\n\n// src/utilities/isNumber.ts\nfunction isNumber(value) {\n  return typeof value === \"number\";\n}\n\n// src/PasteRule.ts\nvar PasteRule = class {\n  constructor(config) {\n    this.find = config.find;\n    this.handler = config.handler;\n  }\n};\nvar pasteRuleMatcherHandler = (text, find, event) => {\n  if (isRegExp(find)) {\n    return [...text.matchAll(find)];\n  }\n  const matches = find(text, event);\n  if (!matches) {\n    return [];\n  }\n  return matches.map((pasteRuleMatch) => {\n    const result = [pasteRuleMatch.text];\n    result.index = pasteRuleMatch.index;\n    result.input = text;\n    result.data = pasteRuleMatch.data;\n    if (pasteRuleMatch.replaceWith) {\n      if (!pasteRuleMatch.text.includes(pasteRuleMatch.replaceWith)) {\n        console.warn('[tiptap warn]: \"pasteRuleMatch.replaceWith\" must be part of \"pasteRuleMatch.text\".');\n      }\n      result.push(pasteRuleMatch.replaceWith);\n    }\n    return result;\n  });\n};\nfunction run2(config) {\n  const { editor, state, from, to, rule, pasteEvent, dropEvent } = config;\n  const { commands, chain, can } = new CommandManager({\n    editor,\n    state\n  });\n  const handlers = [];\n  state.doc.nodesBetween(from, to, (node, pos) => {\n    var _a, _b, _c, _d, _e;\n    if (((_b = (_a = node.type) == null ? void 0 : _a.spec) == null ? void 0 : _b.code) || !(node.isText || node.isTextblock || node.isInline)) {\n      return;\n    }\n    const contentSize = (_e = (_d = (_c = node.content) == null ? void 0 : _c.size) != null ? _d : node.nodeSize) != null ? _e : 0;\n    const resolvedFrom = Math.max(from, pos);\n    const resolvedTo = Math.min(to, pos + contentSize);\n    if (resolvedFrom >= resolvedTo) {\n      return;\n    }\n    const textToMatch = node.isText ? node.text || \"\" : node.textBetween(resolvedFrom - pos, resolvedTo - pos, void 0, \"\\uFFFC\");\n    const matches = pasteRuleMatcherHandler(textToMatch, rule.find, pasteEvent);\n    matches.forEach((match) => {\n      if (match.index === void 0) {\n        return;\n      }\n      const start = resolvedFrom + match.index + 1;\n      const end = start + match[0].length;\n      const range = {\n        from: state.tr.mapping.map(start),\n        to: state.tr.mapping.map(end)\n      };\n      const handler = rule.handler({\n        state,\n        range,\n        match,\n        commands,\n        chain,\n        can,\n        pasteEvent,\n        dropEvent\n      });\n      handlers.push(handler);\n    });\n  });\n  const success = handlers.every((handler) => handler !== null);\n  return success;\n}\nvar tiptapDragFromOtherEditor = null;\nvar createClipboardPasteEvent = (text) => {\n  var _a;\n  const event = new ClipboardEvent(\"paste\", {\n    clipboardData: new DataTransfer()\n  });\n  (_a = event.clipboardData) == null ? void 0 : _a.setData(\"text/html\", text);\n  return event;\n};\nfunction pasteRulesPlugin(props) {\n  const { editor, rules } = props;\n  let dragSourceElement = null;\n  let isPastedFromProseMirror = false;\n  let isDroppedFromProseMirror = false;\n  let pasteEvent = typeof ClipboardEvent !== \"undefined\" ? new ClipboardEvent(\"paste\") : null;\n  let dropEvent;\n  try {\n    dropEvent = typeof DragEvent !== \"undefined\" ? new DragEvent(\"drop\") : null;\n  } catch {\n    dropEvent = null;\n  }\n  const processEvent = ({\n    state,\n    from,\n    to,\n    rule,\n    pasteEvt\n  }) => {\n    const tr = state.tr;\n    const chainableState = createChainableState({\n      state,\n      transaction: tr\n    });\n    const handler = run2({\n      editor,\n      state: chainableState,\n      from: Math.max(from - 1, 0),\n      to: to.b - 1,\n      rule,\n      pasteEvent: pasteEvt,\n      dropEvent\n    });\n    if (!handler || !tr.steps.length) {\n      return;\n    }\n    try {\n      dropEvent = typeof DragEvent !== \"undefined\" ? new DragEvent(\"drop\") : null;\n    } catch {\n      dropEvent = null;\n    }\n    pasteEvent = typeof ClipboardEvent !== \"undefined\" ? new ClipboardEvent(\"paste\") : null;\n    return tr;\n  };\n  const plugins = rules.map((rule) => {\n    return new Plugin2({\n      // we register a global drag handler to track the current drag source element\n      view(view) {\n        const handleDragstart = (event) => {\n          var _a;\n          dragSourceElement = ((_a = view.dom.parentElement) == null ? void 0 : _a.contains(event.target)) ? view.dom.parentElement : null;\n          if (dragSourceElement) {\n            tiptapDragFromOtherEditor = editor;\n          }\n        };\n        const handleDragend = () => {\n          if (tiptapDragFromOtherEditor) {\n            tiptapDragFromOtherEditor = null;\n          }\n        };\n        window.addEventListener(\"dragstart\", handleDragstart);\n        window.addEventListener(\"dragend\", handleDragend);\n        return {\n          destroy() {\n            window.removeEventListener(\"dragstart\", handleDragstart);\n            window.removeEventListener(\"dragend\", handleDragend);\n          }\n        };\n      },\n      props: {\n        handleDOMEvents: {\n          drop: (view, event) => {\n            isDroppedFromProseMirror = dragSourceElement === view.dom.parentElement;\n            dropEvent = event;\n            if (!isDroppedFromProseMirror) {\n              const dragFromOtherEditor = tiptapDragFromOtherEditor;\n              if (dragFromOtherEditor == null ? void 0 : dragFromOtherEditor.isEditable) {\n                setTimeout(() => {\n                  const selection = dragFromOtherEditor.state.selection;\n                  if (selection) {\n                    dragFromOtherEditor.commands.deleteRange({ from: selection.from, to: selection.to });\n                  }\n                }, 10);\n              }\n            }\n            return false;\n          },\n          paste: (_view, event) => {\n            var _a;\n            const html = (_a = event.clipboardData) == null ? void 0 : _a.getData(\"text/html\");\n            pasteEvent = event;\n            isPastedFromProseMirror = !!(html == null ? void 0 : html.includes(\"data-pm-slice\"));\n            return false;\n          }\n        }\n      },\n      appendTransaction: (transactions, oldState, state) => {\n        const transaction = transactions[0];\n        const isPaste = transaction.getMeta(\"uiEvent\") === \"paste\" && !isPastedFromProseMirror;\n        const isDrop = transaction.getMeta(\"uiEvent\") === \"drop\" && !isDroppedFromProseMirror;\n        const simulatedPasteMeta = transaction.getMeta(\"applyPasteRules\");\n        const isSimulatedPaste = !!simulatedPasteMeta;\n        if (!isPaste && !isDrop && !isSimulatedPaste) {\n          return;\n        }\n        if (isSimulatedPaste) {\n          let { text } = simulatedPasteMeta;\n          if (typeof text === \"string\") {\n            text = text;\n          } else {\n            text = getHTMLFromFragment(Fragment5.from(text), state.schema);\n          }\n          const { from: from2 } = simulatedPasteMeta;\n          const to2 = from2 + text.length;\n          const pasteEvt = createClipboardPasteEvent(text);\n          return processEvent({\n            rule,\n            state,\n            from: from2,\n            to: { b: to2 },\n            pasteEvt\n          });\n        }\n        const from = oldState.doc.content.findDiffStart(state.doc.content);\n        const to = oldState.doc.content.findDiffEnd(state.doc.content);\n        if (!isNumber(from) || !to || from === to.b) {\n          return;\n        }\n        return processEvent({\n          rule,\n          state,\n          from,\n          to,\n          pasteEvt: pasteEvent\n        });\n      }\n    });\n  });\n  return plugins;\n}\n\n// src/ExtensionManager.ts\nvar ExtensionManager = class {\n  constructor(extensions, editor) {\n    this.splittableMarks = [];\n    this.editor = editor;\n    this.baseExtensions = extensions;\n    this.extensions = resolveExtensions(extensions);\n    this.schema = getSchemaByResolvedExtensions(this.extensions, editor);\n    this.setupExtensions();\n  }\n  /**\n   * Get all commands from the extensions.\n   * @returns An object with all commands where the key is the command name and the value is the command function\n   */\n  get commands() {\n    return this.extensions.reduce((commands, extension) => {\n      const context = {\n        name: extension.name,\n        options: extension.options,\n        storage: this.editor.extensionStorage[extension.name],\n        editor: this.editor,\n        type: getSchemaTypeByName(extension.name, this.schema)\n      };\n      const addCommands = getExtensionField(extension, \"addCommands\", context);\n      if (!addCommands) {\n        return commands;\n      }\n      return {\n        ...commands,\n        ...addCommands()\n      };\n    }, {});\n  }\n  /**\n   * Get all registered Prosemirror plugins from the extensions.\n   * @returns An array of Prosemirror plugins\n   */\n  get plugins() {\n    const { editor } = this;\n    const extensions = sortExtensions([...this.extensions].reverse());\n    const allPlugins = extensions.flatMap((extension) => {\n      const context = {\n        name: extension.name,\n        options: extension.options,\n        storage: this.editor.extensionStorage[extension.name],\n        editor,\n        type: getSchemaTypeByName(extension.name, this.schema)\n      };\n      const plugins = [];\n      const addKeyboardShortcuts = getExtensionField(\n        extension,\n        \"addKeyboardShortcuts\",\n        context\n      );\n      let defaultBindings = {};\n      if (extension.type === \"mark\" && getExtensionField(extension, \"exitable\", context)) {\n        defaultBindings.ArrowRight = () => Mark.handleExit({ editor, mark: extension });\n      }\n      if (addKeyboardShortcuts) {\n        const bindings = Object.fromEntries(\n          Object.entries(addKeyboardShortcuts()).map(([shortcut, method]) => {\n            return [shortcut, () => method({ editor })];\n          })\n        );\n        defaultBindings = { ...defaultBindings, ...bindings };\n      }\n      const keyMapPlugin = keymap(defaultBindings);\n      plugins.push(keyMapPlugin);\n      const addInputRules = getExtensionField(extension, \"addInputRules\", context);\n      if (isExtensionRulesEnabled(extension, editor.options.enableInputRules) && addInputRules) {\n        const rules = addInputRules();\n        if (rules && rules.length) {\n          const inputResult = inputRulesPlugin({\n            editor,\n            rules\n          });\n          const inputPlugins = Array.isArray(inputResult) ? inputResult : [inputResult];\n          plugins.push(...inputPlugins);\n        }\n      }\n      const addPasteRules = getExtensionField(extension, \"addPasteRules\", context);\n      if (isExtensionRulesEnabled(extension, editor.options.enablePasteRules) && addPasteRules) {\n        const rules = addPasteRules();\n        if (rules && rules.length) {\n          const pasteRules = pasteRulesPlugin({ editor, rules });\n          plugins.push(...pasteRules);\n        }\n      }\n      const addProseMirrorPlugins = getExtensionField(\n        extension,\n        \"addProseMirrorPlugins\",\n        context\n      );\n      if (addProseMirrorPlugins) {\n        const proseMirrorPlugins = addProseMirrorPlugins();\n        plugins.push(...proseMirrorPlugins);\n      }\n      return plugins;\n    });\n    return allPlugins;\n  }\n  /**\n   * Get all attributes from the extensions.\n   * @returns An array of attributes\n   */\n  get attributes() {\n    return getAttributesFromExtensions(this.extensions);\n  }\n  /**\n   * Get all node views from the extensions.\n   * @returns An object with all node views where the key is the node name and the value is the node view function\n   */\n  get nodeViews() {\n    const { editor } = this;\n    const { nodeExtensions } = splitExtensions(this.extensions);\n    return Object.fromEntries(\n      nodeExtensions.filter((extension) => !!getExtensionField(extension, \"addNodeView\")).map((extension) => {\n        const extensionAttributes = this.attributes.filter((attribute) => attribute.type === extension.name);\n        const context = {\n          name: extension.name,\n          options: extension.options,\n          storage: this.editor.extensionStorage[extension.name],\n          editor,\n          type: getNodeType(extension.name, this.schema)\n        };\n        const addNodeView = getExtensionField(extension, \"addNodeView\", context);\n        if (!addNodeView) {\n          return [];\n        }\n        const nodeViewResult = addNodeView();\n        if (!nodeViewResult) {\n          return [];\n        }\n        const nodeview = (node, view, getPos, decorations, innerDecorations) => {\n          const HTMLAttributes = getRenderedAttributes(node, extensionAttributes);\n          return nodeViewResult({\n            // pass-through\n            node,\n            view,\n            getPos,\n            decorations,\n            innerDecorations,\n            // tiptap-specific\n            editor,\n            extension,\n            HTMLAttributes\n          });\n        };\n        return [extension.name, nodeview];\n      })\n    );\n  }\n  /**\n   * Get the composed dispatchTransaction function from all extensions.\n   * @param baseDispatch The base dispatch function (e.g. from the editor or user props)\n   * @returns A composed dispatch function\n   */\n  dispatchTransaction(baseDispatch) {\n    const { editor } = this;\n    const extensions = sortExtensions([...this.extensions].reverse());\n    return extensions.reduceRight((next, extension) => {\n      const context = {\n        name: extension.name,\n        options: extension.options,\n        storage: this.editor.extensionStorage[extension.name],\n        editor,\n        type: getSchemaTypeByName(extension.name, this.schema)\n      };\n      const dispatchTransaction = getExtensionField(\n        extension,\n        \"dispatchTransaction\",\n        context\n      );\n      if (!dispatchTransaction) {\n        return next;\n      }\n      return (transaction) => {\n        dispatchTransaction.call(context, { transaction, next });\n      };\n    }, baseDispatch);\n  }\n  /**\n   * Get the composed transformPastedHTML function from all extensions.\n   * @param baseTransform The base transform function (e.g. from the editor props)\n   * @returns A composed transform function that chains all extension transforms\n   */\n  transformPastedHTML(baseTransform) {\n    const { editor } = this;\n    const extensions = sortExtensions([...this.extensions]);\n    return extensions.reduce(\n      (transform, extension) => {\n        const context = {\n          name: extension.name,\n          options: extension.options,\n          storage: this.editor.extensionStorage[extension.name],\n          editor,\n          type: getSchemaTypeByName(extension.name, this.schema)\n        };\n        const extensionTransform = getExtensionField(\n          extension,\n          \"transformPastedHTML\",\n          context\n        );\n        if (!extensionTransform) {\n          return transform;\n        }\n        return (html, view) => {\n          const transformedHtml = transform(html, view);\n          return extensionTransform.call(context, transformedHtml);\n        };\n      },\n      baseTransform || ((html) => html)\n    );\n  }\n  get markViews() {\n    const { editor } = this;\n    const { markExtensions } = splitExtensions(this.extensions);\n    return Object.fromEntries(\n      markExtensions.filter((extension) => !!getExtensionField(extension, \"addMarkView\")).map((extension) => {\n        const extensionAttributes = this.attributes.filter((attribute) => attribute.type === extension.name);\n        const context = {\n          name: extension.name,\n          options: extension.options,\n          storage: this.editor.extensionStorage[extension.name],\n          editor,\n          type: getMarkType(extension.name, this.schema)\n        };\n        const addMarkView = getExtensionField(extension, \"addMarkView\", context);\n        if (!addMarkView) {\n          return [];\n        }\n        const markView = (mark, view, inline) => {\n          const HTMLAttributes = getRenderedAttributes(mark, extensionAttributes);\n          return addMarkView()({\n            // pass-through\n            mark,\n            view,\n            inline,\n            // tiptap-specific\n            editor,\n            extension,\n            HTMLAttributes,\n            updateAttributes: (attrs) => {\n              updateMarkViewAttributes(mark, editor, attrs);\n            }\n          });\n        };\n        return [extension.name, markView];\n      })\n    );\n  }\n  /**\n   * Go through all extensions, create extension storages & setup marks\n   * & bind editor event listener.\n   */\n  setupExtensions() {\n    const extensions = this.extensions;\n    this.editor.extensionStorage = Object.fromEntries(\n      extensions.map((extension) => [extension.name, extension.storage])\n    );\n    extensions.forEach((extension) => {\n      var _a;\n      const context = {\n        name: extension.name,\n        options: extension.options,\n        storage: this.editor.extensionStorage[extension.name],\n        editor: this.editor,\n        type: getSchemaTypeByName(extension.name, this.schema)\n      };\n      if (extension.type === \"mark\") {\n        const keepOnSplit = (_a = callOrReturn(getExtensionField(extension, \"keepOnSplit\", context))) != null ? _a : true;\n        if (keepOnSplit) {\n          this.splittableMarks.push(extension.name);\n        }\n      }\n      const onBeforeCreate = getExtensionField(extension, \"onBeforeCreate\", context);\n      const onCreate = getExtensionField(extension, \"onCreate\", context);\n      const onUpdate = getExtensionField(extension, \"onUpdate\", context);\n      const onSelectionUpdate = getExtensionField(\n        extension,\n        \"onSelectionUpdate\",\n        context\n      );\n      const onTransaction = getExtensionField(extension, \"onTransaction\", context);\n      const onFocus = getExtensionField(extension, \"onFocus\", context);\n      const onBlur = getExtensionField(extension, \"onBlur\", context);\n      const onDestroy = getExtensionField(extension, \"onDestroy\", context);\n      if (onBeforeCreate) {\n        this.editor.on(\"beforeCreate\", onBeforeCreate);\n      }\n      if (onCreate) {\n        this.editor.on(\"create\", onCreate);\n      }\n      if (onUpdate) {\n        this.editor.on(\"update\", onUpdate);\n      }\n      if (onSelectionUpdate) {\n        this.editor.on(\"selectionUpdate\", onSelectionUpdate);\n      }\n      if (onTransaction) {\n        this.editor.on(\"transaction\", onTransaction);\n      }\n      if (onFocus) {\n        this.editor.on(\"focus\", onFocus);\n      }\n      if (onBlur) {\n        this.editor.on(\"blur\", onBlur);\n      }\n      if (onDestroy) {\n        this.editor.on(\"destroy\", onDestroy);\n      }\n    });\n  }\n};\nExtensionManager.resolve = resolveExtensions;\nExtensionManager.sort = sortExtensions;\nExtensionManager.flatten = flattenExtensions;\n\n// src/extensions/index.ts\nvar extensions_exports = {};\n__export(extensions_exports, {\n  ClipboardTextSerializer: () => ClipboardTextSerializer,\n  Commands: () => Commands,\n  Delete: () => Delete,\n  Drop: () => Drop,\n  Editable: () => Editable,\n  FocusEvents: () => FocusEvents,\n  Keymap: () => Keymap,\n  Paste: () => Paste,\n  Tabindex: () => Tabindex,\n  TextDirection: () => TextDirection,\n  focusEventsPluginKey: () => focusEventsPluginKey\n});\n\n// src/extensions/clipboardTextSerializer.ts\nimport { Plugin as Plugin3, PluginKey } from \"@tiptap/pm/state\";\n\n// src/Extension.ts\nvar Extension = class _Extension extends Extendable {\n  constructor() {\n    super(...arguments);\n    this.type = \"extension\";\n  }\n  /**\n   * Create a new Extension instance\n   * @param config - Extension configuration object or a function that returns a configuration object\n   */\n  static create(config = {}) {\n    const resolvedConfig = typeof config === \"function\" ? config() : config;\n    return new _Extension(resolvedConfig);\n  }\n  configure(options) {\n    return super.configure(options);\n  }\n  extend(extendedConfig) {\n    const resolvedConfig = typeof extendedConfig === \"function\" ? extendedConfig() : extendedConfig;\n    return super.extend(resolvedConfig);\n  }\n};\n\n// src/extensions/clipboardTextSerializer.ts\nvar ClipboardTextSerializer = Extension.create({\n  name: \"clipboardTextSerializer\",\n  addOptions() {\n    return {\n      blockSeparator: void 0\n    };\n  },\n  addProseMirrorPlugins() {\n    return [\n      new Plugin3({\n        key: new PluginKey(\"clipboardTextSerializer\"),\n        props: {\n          clipboardTextSerializer: () => {\n            const { editor } = this;\n            const { state, schema } = editor;\n            const { doc, selection } = state;\n            const { ranges } = selection;\n            const from = Math.min(...ranges.map((range2) => range2.$from.pos));\n            const to = Math.max(...ranges.map((range2) => range2.$to.pos));\n            const textSerializers = getTextSerializersFromSchema(schema);\n            const range = { from, to };\n            return getTextBetween(doc, range, {\n              ...this.options.blockSeparator !== void 0 ? { blockSeparator: this.options.blockSeparator } : {},\n              textSerializers\n            });\n          }\n        }\n      })\n    ];\n  }\n});\n\n// src/extensions/commands.ts\nvar Commands = Extension.create({\n  name: \"commands\",\n  addCommands() {\n    return {\n      ...commands_exports\n    };\n  }\n});\n\n// src/extensions/delete.ts\nimport { RemoveMarkStep } from \"@tiptap/pm/transform\";\nvar Delete = Extension.create({\n  name: \"delete\",\n  onUpdate({ transaction, appendedTransactions }) {\n    var _a, _b, _c;\n    const callback = () => {\n      var _a2, _b2, _c2, _d;\n      if ((_d = (_c2 = (_b2 = (_a2 = this.editor.options.coreExtensionOptions) == null ? void 0 : _a2.delete) == null ? void 0 : _b2.filterTransaction) == null ? void 0 : _c2.call(_b2, transaction)) != null ? _d : transaction.getMeta(\"y-sync$\")) {\n        return;\n      }\n      const nextTransaction = combineTransactionSteps(transaction.before, [transaction, ...appendedTransactions]);\n      const changes = getChangedRanges(nextTransaction);\n      changes.forEach((change) => {\n        if (nextTransaction.mapping.mapResult(change.oldRange.from).deletedAfter && nextTransaction.mapping.mapResult(change.oldRange.to).deletedBefore) {\n          nextTransaction.before.nodesBetween(change.oldRange.from, change.oldRange.to, (node, from) => {\n            const to = from + node.nodeSize - 2;\n            const isFullyWithinRange = change.oldRange.from <= from && to <= change.oldRange.to;\n            this.editor.emit(\"delete\", {\n              type: \"node\",\n              node,\n              from,\n              to,\n              newFrom: nextTransaction.mapping.map(from),\n              newTo: nextTransaction.mapping.map(to),\n              deletedRange: change.oldRange,\n              newRange: change.newRange,\n              partial: !isFullyWithinRange,\n              editor: this.editor,\n              transaction,\n              combinedTransform: nextTransaction\n            });\n          });\n        }\n      });\n      const mapping = nextTransaction.mapping;\n      nextTransaction.steps.forEach((step, index) => {\n        var _a3, _b3;\n        if (step instanceof RemoveMarkStep) {\n          const newStart = mapping.slice(index).map(step.from, -1);\n          const newEnd = mapping.slice(index).map(step.to);\n          const oldStart = mapping.invert().map(newStart, -1);\n          const oldEnd = mapping.invert().map(newEnd);\n          const foundBeforeMark = (_a3 = nextTransaction.doc.nodeAt(newStart - 1)) == null ? void 0 : _a3.marks.some((mark) => mark.eq(step.mark));\n          const foundAfterMark = (_b3 = nextTransaction.doc.nodeAt(newEnd)) == null ? void 0 : _b3.marks.some((mark) => mark.eq(step.mark));\n          this.editor.emit(\"delete\", {\n            type: \"mark\",\n            mark: step.mark,\n            from: step.from,\n            to: step.to,\n            deletedRange: {\n              from: oldStart,\n              to: oldEnd\n            },\n            newRange: {\n              from: newStart,\n              to: newEnd\n            },\n            partial: Boolean(foundAfterMark || foundBeforeMark),\n            editor: this.editor,\n            transaction,\n            combinedTransform: nextTransaction\n          });\n        }\n      });\n    };\n    if ((_c = (_b = (_a = this.editor.options.coreExtensionOptions) == null ? void 0 : _a.delete) == null ? void 0 : _b.async) != null ? _c : true) {\n      setTimeout(callback, 0);\n    } else {\n      callback();\n    }\n  }\n});\n\n// src/extensions/drop.ts\nimport { Plugin as Plugin4, PluginKey as PluginKey2 } from \"@tiptap/pm/state\";\nvar Drop = Extension.create({\n  name: \"drop\",\n  addProseMirrorPlugins() {\n    return [\n      new Plugin4({\n        key: new PluginKey2(\"tiptapDrop\"),\n        props: {\n          handleDrop: (_, e, slice, moved) => {\n            this.editor.emit(\"drop\", {\n              editor: this.editor,\n              event: e,\n              slice,\n              moved\n            });\n          }\n        }\n      })\n    ];\n  }\n});\n\n// src/extensions/editable.ts\nimport { Plugin as Plugin5, PluginKey as PluginKey3 } from \"@tiptap/pm/state\";\nvar Editable = Extension.create({\n  name: \"editable\",\n  addProseMirrorPlugins() {\n    return [\n      new Plugin5({\n        key: new PluginKey3(\"editable\"),\n        props: {\n          editable: () => this.editor.options.editable\n        }\n      })\n    ];\n  }\n});\n\n// src/extensions/focusEvents.ts\nimport { Plugin as Plugin6, PluginKey as PluginKey4 } from \"@tiptap/pm/state\";\nvar focusEventsPluginKey = new PluginKey4(\"focusEvents\");\nvar FocusEvents = Extension.create({\n  name: \"focusEvents\",\n  addProseMirrorPlugins() {\n    const { editor } = this;\n    return [\n      new Plugin6({\n        key: focusEventsPluginKey,\n        props: {\n          handleDOMEvents: {\n            focus: (view, event) => {\n              editor.isFocused = true;\n              const transaction = editor.state.tr.setMeta(\"focus\", { event }).setMeta(\"addToHistory\", false);\n              view.dispatch(transaction);\n              return false;\n            },\n            blur: (view, event) => {\n              editor.isFocused = false;\n              const transaction = editor.state.tr.setMeta(\"blur\", { event }).setMeta(\"addToHistory\", false);\n              view.dispatch(transaction);\n              return false;\n            }\n          }\n        }\n      })\n    ];\n  }\n});\n\n// src/extensions/keymap.ts\nimport { Plugin as Plugin7, PluginKey as PluginKey5, Selection as Selection3 } from \"@tiptap/pm/state\";\nvar Keymap = Extension.create({\n  name: \"keymap\",\n  addKeyboardShortcuts() {\n    const handleBackspace = () => this.editor.commands.first(({ commands }) => [\n      () => commands.undoInputRule(),\n      // maybe convert first text block node to default node\n      () => commands.command(({ tr }) => {\n        const { selection, doc } = tr;\n        const { empty, $anchor } = selection;\n        const { pos, parent } = $anchor;\n        const $parentPos = $anchor.parent.isTextblock && pos > 0 ? tr.doc.resolve(pos - 1) : $anchor;\n        const parentIsIsolating = $parentPos.parent.type.spec.isolating;\n        const parentPos = $anchor.pos - $anchor.parentOffset;\n        const isAtStart = parentIsIsolating && $parentPos.parent.childCount === 1 ? parentPos === $anchor.pos : Selection3.atStart(doc).from === pos;\n        if (!empty || !parent.type.isTextblock || parent.textContent.length || !isAtStart || isAtStart && $anchor.parent.type.name === \"paragraph\") {\n          return false;\n        }\n        return commands.clearNodes();\n      }),\n      () => commands.deleteSelection(),\n      () => commands.joinBackward(),\n      () => commands.selectNodeBackward()\n    ]);\n    const handleDelete = () => this.editor.commands.first(({ commands }) => [\n      () => commands.deleteSelection(),\n      () => commands.deleteCurrentNode(),\n      () => commands.joinForward(),\n      () => commands.selectNodeForward()\n    ]);\n    const handleEnter = () => this.editor.commands.first(({ commands }) => [\n      () => commands.newlineInCode(),\n      () => commands.createParagraphNear(),\n      () => commands.liftEmptyBlock(),\n      () => commands.splitBlock()\n    ]);\n    const baseKeymap = {\n      Enter: handleEnter,\n      \"Mod-Enter\": () => this.editor.commands.exitCode(),\n      Backspace: handleBackspace,\n      \"Mod-Backspace\": handleBackspace,\n      \"Shift-Backspace\": handleBackspace,\n      Delete: handleDelete,\n      \"Mod-Delete\": handleDelete,\n      \"Mod-a\": () => this.editor.commands.selectAll()\n    };\n    const pcKeymap = {\n      ...baseKeymap\n    };\n    const macKeymap = {\n      ...baseKeymap,\n      \"Ctrl-h\": handleBackspace,\n      \"Alt-Backspace\": handleBackspace,\n      \"Ctrl-d\": handleDelete,\n      \"Ctrl-Alt-Backspace\": handleDelete,\n      \"Alt-Delete\": handleDelete,\n      \"Alt-d\": handleDelete,\n      \"Ctrl-a\": () => this.editor.commands.selectTextblockStart(),\n      \"Ctrl-e\": () => this.editor.commands.selectTextblockEnd()\n    };\n    if (isiOS() || isMacOS()) {\n      return macKeymap;\n    }\n    return pcKeymap;\n  },\n  addProseMirrorPlugins() {\n    return [\n      // With this plugin we check if the whole document was selected and deleted.\n      // In this case we will additionally call `clearNodes()` to convert e.g. a heading\n      // to a paragraph if necessary.\n      // This is an alternative to ProseMirror's `AllSelection`, which doesn’t work well\n      // with many other commands.\n      new Plugin7({\n        key: new PluginKey5(\"clearDocument\"),\n        appendTransaction: (transactions, oldState, newState) => {\n          if (transactions.some((tr2) => tr2.getMeta(\"composition\"))) {\n            return;\n          }\n          const docChanges = transactions.some((transaction) => transaction.docChanged) && !oldState.doc.eq(newState.doc);\n          const ignoreTr = transactions.some((transaction) => transaction.getMeta(\"preventClearDocument\"));\n          if (!docChanges || ignoreTr) {\n            return;\n          }\n          const { empty, from, to } = oldState.selection;\n          const allFrom = Selection3.atStart(oldState.doc).from;\n          const allEnd = Selection3.atEnd(oldState.doc).to;\n          const allWasSelected = from === allFrom && to === allEnd;\n          if (empty || !allWasSelected) {\n            return;\n          }\n          const isEmpty = isNodeEmpty(newState.doc);\n          if (!isEmpty) {\n            return;\n          }\n          const tr = newState.tr;\n          const state = createChainableState({\n            state: newState,\n            transaction: tr\n          });\n          const { commands } = new CommandManager({\n            editor: this.editor,\n            state\n          });\n          commands.clearNodes();\n          if (!tr.steps.length) {\n            return;\n          }\n          return tr;\n        }\n      })\n    ];\n  }\n});\n\n// src/extensions/paste.ts\nimport { Plugin as Plugin8, PluginKey as PluginKey6 } from \"@tiptap/pm/state\";\nvar Paste = Extension.create({\n  name: \"paste\",\n  addProseMirrorPlugins() {\n    return [\n      new Plugin8({\n        key: new PluginKey6(\"tiptapPaste\"),\n        props: {\n          handlePaste: (_view, e, slice) => {\n            this.editor.emit(\"paste\", {\n              editor: this.editor,\n              event: e,\n              slice\n            });\n          }\n        }\n      })\n    ];\n  }\n});\n\n// src/extensions/tabindex.ts\nimport { Plugin as Plugin9, PluginKey as PluginKey7 } from \"@tiptap/pm/state\";\nvar Tabindex = Extension.create({\n  name: \"tabindex\",\n  addProseMirrorPlugins() {\n    return [\n      new Plugin9({\n        key: new PluginKey7(\"tabindex\"),\n        props: {\n          attributes: () => this.editor.isEditable ? { tabindex: \"0\" } : {}\n        }\n      })\n    ];\n  }\n});\n\n// src/extensions/textDirection.ts\nimport { Plugin as Plugin10, PluginKey as PluginKey8 } from \"@tiptap/pm/state\";\nvar TextDirection = Extension.create({\n  name: \"textDirection\",\n  addOptions() {\n    return {\n      direction: void 0\n    };\n  },\n  addGlobalAttributes() {\n    if (!this.options.direction) {\n      return [];\n    }\n    const { nodeExtensions } = splitExtensions(this.extensions);\n    return [\n      {\n        types: nodeExtensions.filter((extension) => extension.name !== \"text\").map((extension) => extension.name),\n        attributes: {\n          dir: {\n            default: this.options.direction,\n            parseHTML: (element) => {\n              const dir = element.getAttribute(\"dir\");\n              if (dir && (dir === \"ltr\" || dir === \"rtl\" || dir === \"auto\")) {\n                return dir;\n              }\n              return this.options.direction;\n            },\n            renderHTML: (attributes) => {\n              if (!attributes.dir) {\n                return {};\n              }\n              return {\n                dir: attributes.dir\n              };\n            }\n          }\n        }\n      }\n    ];\n  },\n  addProseMirrorPlugins() {\n    return [\n      new Plugin10({\n        key: new PluginKey8(\"textDirection\"),\n        props: {\n          attributes: () => {\n            const direction = this.options.direction;\n            if (!direction) {\n              return {};\n            }\n            return {\n              dir: direction\n            };\n          }\n        }\n      })\n    ];\n  }\n});\n\n// src/NodePos.ts\nvar NodePos = class _NodePos {\n  constructor(pos, editor, isBlock = false, node = null) {\n    this.currentNode = null;\n    this.actualDepth = null;\n    this.isBlock = isBlock;\n    this.resolvedPos = pos;\n    this.editor = editor;\n    this.currentNode = node;\n  }\n  get name() {\n    return this.node.type.name;\n  }\n  get node() {\n    return this.currentNode || this.resolvedPos.node();\n  }\n  get element() {\n    return this.editor.view.domAtPos(this.pos).node;\n  }\n  get depth() {\n    var _a;\n    return (_a = this.actualDepth) != null ? _a : this.resolvedPos.depth;\n  }\n  get pos() {\n    return this.resolvedPos.pos;\n  }\n  get content() {\n    return this.node.content;\n  }\n  set content(content) {\n    let from = this.from;\n    let to = this.to;\n    if (this.isBlock) {\n      if (this.content.size === 0) {\n        console.error(`You can\\u2019t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);\n        return;\n      }\n      from = this.from + 1;\n      to = this.to - 1;\n    }\n    this.editor.commands.insertContentAt({ from, to }, content);\n  }\n  get attributes() {\n    return this.node.attrs;\n  }\n  get textContent() {\n    return this.node.textContent;\n  }\n  get size() {\n    return this.node.nodeSize;\n  }\n  get from() {\n    if (this.isBlock) {\n      return this.pos;\n    }\n    return this.resolvedPos.start(this.resolvedPos.depth);\n  }\n  get range() {\n    return {\n      from: this.from,\n      to: this.to\n    };\n  }\n  get to() {\n    if (this.isBlock) {\n      return this.pos + this.size;\n    }\n    return this.resolvedPos.end(this.resolvedPos.depth) + (this.node.isText ? 0 : 1);\n  }\n  get parent() {\n    if (this.depth === 0) {\n      return null;\n    }\n    const parentPos = this.resolvedPos.start(this.resolvedPos.depth - 1);\n    const $pos = this.resolvedPos.doc.resolve(parentPos);\n    return new _NodePos($pos, this.editor);\n  }\n  get before() {\n    let $pos = this.resolvedPos.doc.resolve(this.from - (this.isBlock ? 1 : 2));\n    if ($pos.depth !== this.depth) {\n      $pos = this.resolvedPos.doc.resolve(this.from - 3);\n    }\n    return new _NodePos($pos, this.editor);\n  }\n  get after() {\n    let $pos = this.resolvedPos.doc.resolve(this.to + (this.isBlock ? 2 : 1));\n    if ($pos.depth !== this.depth) {\n      $pos = this.resolvedPos.doc.resolve(this.to + 3);\n    }\n    return new _NodePos($pos, this.editor);\n  }\n  get children() {\n    const children = [];\n    this.node.content.forEach((node, offset) => {\n      const isBlock = node.isBlock && !node.isTextblock;\n      const isNonTextAtom = node.isAtom && !node.isText;\n      const isInline = node.isInline;\n      const targetPos = this.pos + offset + (isNonTextAtom ? 0 : 1);\n      if (targetPos < 0 || targetPos > this.resolvedPos.doc.nodeSize - 2) {\n        return;\n      }\n      const $pos = this.resolvedPos.doc.resolve(targetPos);\n      if (!isBlock && !isInline && $pos.depth <= this.depth) {\n        return;\n      }\n      const childNodePos = new _NodePos($pos, this.editor, isBlock, isBlock || isInline ? node : null);\n      if (isBlock) {\n        childNodePos.actualDepth = this.depth + 1;\n      }\n      children.push(childNodePos);\n    });\n    return children;\n  }\n  get firstChild() {\n    return this.children[0] || null;\n  }\n  get lastChild() {\n    const children = this.children;\n    return children[children.length - 1] || null;\n  }\n  closest(selector, attributes = {}) {\n    let node = null;\n    let currentNode = this.parent;\n    while (currentNode && !node) {\n      if (currentNode.node.type.name === selector) {\n        if (Object.keys(attributes).length > 0) {\n          const nodeAttributes = currentNode.node.attrs;\n          const attrKeys = Object.keys(attributes);\n          for (let index = 0; index < attrKeys.length; index += 1) {\n            const key = attrKeys[index];\n            if (nodeAttributes[key] !== attributes[key]) {\n              break;\n            }\n          }\n        } else {\n          node = currentNode;\n        }\n      }\n      currentNode = currentNode.parent;\n    }\n    return node;\n  }\n  querySelector(selector, attributes = {}) {\n    return this.querySelectorAll(selector, attributes, true)[0] || null;\n  }\n  querySelectorAll(selector, attributes = {}, firstItemOnly = false) {\n    let nodes = [];\n    if (!this.children || this.children.length === 0) {\n      return nodes;\n    }\n    const attrKeys = Object.keys(attributes);\n    this.children.forEach((childPos) => {\n      if (firstItemOnly && nodes.length > 0) {\n        return;\n      }\n      if (childPos.node.type.name === selector) {\n        const doesAllAttributesMatch = attrKeys.every((key) => attributes[key] === childPos.node.attrs[key]);\n        if (doesAllAttributesMatch) {\n          nodes.push(childPos);\n        }\n      }\n      if (firstItemOnly && nodes.length > 0) {\n        return;\n      }\n      nodes = nodes.concat(childPos.querySelectorAll(selector, attributes, firstItemOnly));\n    });\n    return nodes;\n  }\n  setAttribute(attributes) {\n    const { tr } = this.editor.state;\n    tr.setNodeMarkup(this.from, void 0, {\n      ...this.node.attrs,\n      ...attributes\n    });\n    this.editor.view.dispatch(tr);\n  }\n};\n\n// src/style.ts\nvar style = `.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: \"liga\" 0; /* the above doesn't seem to work in Edge */\n}\n\n.ProseMirror [contenteditable=\"false\"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable=\"false\"] [contenteditable=\"true\"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 0 !important;\n  height: 0 !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: \"\";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}`;\n\n// src/utilities/createStyleTag.ts\nfunction createStyleTag(style2, nonce, suffix) {\n  const tiptapStyleTag = document.querySelector(`style[data-tiptap-style${suffix ? `-${suffix}` : \"\"}]`);\n  if (tiptapStyleTag !== null) {\n    return tiptapStyleTag;\n  }\n  const styleNode = document.createElement(\"style\");\n  if (nonce) {\n    styleNode.setAttribute(\"nonce\", nonce);\n  }\n  styleNode.setAttribute(`data-tiptap-style${suffix ? `-${suffix}` : \"\"}`, \"\");\n  styleNode.innerHTML = style2;\n  document.getElementsByTagName(\"head\")[0].appendChild(styleNode);\n  return styleNode;\n}\n\n// src/Editor.ts\nvar Editor = class extends EventEmitter {\n  constructor(options = {}) {\n    super();\n    this.css = null;\n    this.className = \"tiptap\";\n    this.editorView = null;\n    this.isFocused = false;\n    /**\n     * The editor is considered initialized after the `create` event has been emitted.\n     */\n    this.isInitialized = false;\n    this.extensionStorage = {};\n    /**\n     * A unique ID for this editor instance.\n     */\n    this.instanceId = Math.random().toString(36).slice(2, 9);\n    this.options = {\n      element: typeof document !== \"undefined\" ? document.createElement(\"div\") : null,\n      content: \"\",\n      injectCSS: true,\n      injectNonce: void 0,\n      extensions: [],\n      autofocus: false,\n      editable: true,\n      textDirection: void 0,\n      editorProps: {},\n      parseOptions: {},\n      coreExtensionOptions: {},\n      enableInputRules: true,\n      enablePasteRules: true,\n      enableCoreExtensions: true,\n      enableContentCheck: false,\n      emitContentError: false,\n      onBeforeCreate: () => null,\n      onCreate: () => null,\n      onMount: () => null,\n      onUnmount: () => null,\n      onUpdate: () => null,\n      onSelectionUpdate: () => null,\n      onTransaction: () => null,\n      onFocus: () => null,\n      onBlur: () => null,\n      onDestroy: () => null,\n      onContentError: ({ error }) => {\n        throw error;\n      },\n      onPaste: () => null,\n      onDrop: () => null,\n      onDelete: () => null,\n      enableExtensionDispatchTransaction: true\n    };\n    this.isCapturingTransaction = false;\n    this.capturedTransaction = null;\n    /**\n     * Returns a set of utilities for working with positions and ranges.\n     */\n    this.utils = {\n      getUpdatedPosition,\n      createMappablePosition\n    };\n    this.setOptions(options);\n    this.createExtensionManager();\n    this.createCommandManager();\n    this.createSchema();\n    this.on(\"beforeCreate\", this.options.onBeforeCreate);\n    this.emit(\"beforeCreate\", { editor: this });\n    this.on(\"mount\", this.options.onMount);\n    this.on(\"unmount\", this.options.onUnmount);\n    this.on(\"contentError\", this.options.onContentError);\n    this.on(\"create\", this.options.onCreate);\n    this.on(\"update\", this.options.onUpdate);\n    this.on(\"selectionUpdate\", this.options.onSelectionUpdate);\n    this.on(\"transaction\", this.options.onTransaction);\n    this.on(\"focus\", this.options.onFocus);\n    this.on(\"blur\", this.options.onBlur);\n    this.on(\"destroy\", this.options.onDestroy);\n    this.on(\"drop\", ({ event, slice, moved }) => this.options.onDrop(event, slice, moved));\n    this.on(\"paste\", ({ event, slice }) => this.options.onPaste(event, slice));\n    this.on(\"delete\", this.options.onDelete);\n    const initialDoc = this.createDoc();\n    const selection = resolveFocusPosition(initialDoc, this.options.autofocus);\n    this.editorState = EditorState.create({\n      doc: initialDoc,\n      schema: this.schema,\n      selection: selection || void 0\n    });\n    if (this.options.element) {\n      this.mount(this.options.element);\n    }\n  }\n  /**\n   * Attach the editor to the DOM, creating a new editor view.\n   */\n  mount(el) {\n    if (typeof document === \"undefined\") {\n      throw new Error(\n        `[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.`\n      );\n    }\n    this.createView(el);\n    this.emit(\"mount\", { editor: this });\n    if (this.css && !document.head.contains(this.css)) {\n      document.head.appendChild(this.css);\n    }\n    window.setTimeout(() => {\n      if (this.isDestroyed) {\n        return;\n      }\n      if (this.options.autofocus !== false && this.options.autofocus !== null) {\n        this.commands.focus(this.options.autofocus);\n      }\n      this.emit(\"create\", { editor: this });\n      this.isInitialized = true;\n    }, 0);\n  }\n  /**\n   * Remove the editor from the DOM, but still allow remounting at a different point in time\n   */\n  unmount() {\n    if (this.editorView) {\n      const dom = this.editorView.dom;\n      if (dom == null ? void 0 : dom.editor) {\n        delete dom.editor;\n      }\n      this.editorView.destroy();\n    }\n    this.editorView = null;\n    this.isInitialized = false;\n    if (this.css && !document.querySelectorAll(`.${this.className}`).length) {\n      try {\n        if (typeof this.css.remove === \"function\") {\n          this.css.remove();\n        } else if (this.css.parentNode) {\n          this.css.parentNode.removeChild(this.css);\n        }\n      } catch (error) {\n        console.warn(\"Failed to remove CSS element:\", error);\n      }\n    }\n    this.css = null;\n    this.emit(\"unmount\", { editor: this });\n  }\n  /**\n   * Returns the editor storage.\n   */\n  get storage() {\n    return this.extensionStorage;\n  }\n  /**\n   * An object of all registered commands.\n   */\n  get commands() {\n    return this.commandManager.commands;\n  }\n  /**\n   * Create a command chain to call multiple commands at once.\n   */\n  chain() {\n    return this.commandManager.chain();\n  }\n  /**\n   * Check if a command or a command chain can be executed. Without executing it.\n   */\n  can() {\n    return this.commandManager.can();\n  }\n  /**\n   * Inject CSS styles.\n   */\n  injectCSS() {\n    if (this.options.injectCSS && typeof document !== \"undefined\") {\n      this.css = createStyleTag(style, this.options.injectNonce);\n    }\n  }\n  /**\n   * Update editor options.\n   *\n   * @param options A list of options\n   */\n  setOptions(options = {}) {\n    this.options = {\n      ...this.options,\n      ...options\n    };\n    if (!this.editorView || !this.state || this.isDestroyed) {\n      return;\n    }\n    if (this.options.editorProps) {\n      this.view.setProps(this.options.editorProps);\n    }\n    this.view.updateState(this.state);\n  }\n  /**\n   * Update editable state of the editor.\n   */\n  setEditable(editable, emitUpdate = true) {\n    this.setOptions({ editable });\n    if (emitUpdate) {\n      this.emit(\"update\", { editor: this, transaction: this.state.tr, appendedTransactions: [] });\n    }\n  }\n  /**\n   * Returns whether the editor is editable.\n   */\n  get isEditable() {\n    return this.options.editable && this.view && this.view.editable;\n  }\n  /**\n   * Returns the editor view.\n   */\n  get view() {\n    if (this.editorView) {\n      return this.editorView;\n    }\n    return new Proxy(\n      {\n        state: this.editorState,\n        updateState: (state) => {\n          this.editorState = state;\n        },\n        dispatch: (tr) => {\n          this.dispatchTransaction(tr);\n        },\n        // Stub some commonly accessed properties to prevent errors\n        composing: false,\n        dragging: null,\n        editable: true,\n        isDestroyed: false\n      },\n      {\n        get: (obj, key) => {\n          if (this.editorView) {\n            return this.editorView[key];\n          }\n          if (key === \"state\") {\n            return this.editorState;\n          }\n          if (key in obj) {\n            return Reflect.get(obj, key);\n          }\n          throw new Error(\n            `[tiptap error]: The editor view is not available. Cannot access view['${key}']. The editor may not be mounted yet.`\n          );\n        }\n      }\n    );\n  }\n  /**\n   * Returns the editor state.\n   */\n  get state() {\n    if (this.editorView) {\n      this.editorState = this.view.state;\n    }\n    return this.editorState;\n  }\n  /**\n   * Register a ProseMirror plugin.\n   *\n   * @param plugin A ProseMirror plugin\n   * @param handlePlugins Control how to merge the plugin into the existing plugins.\n   * @returns The new editor state\n   */\n  registerPlugin(plugin, handlePlugins) {\n    const plugins = isFunction(handlePlugins) ? handlePlugins(plugin, [...this.state.plugins]) : [...this.state.plugins, plugin];\n    const state = this.state.reconfigure({ plugins });\n    this.view.updateState(state);\n    return state;\n  }\n  /**\n   * Unregister a ProseMirror plugin.\n   *\n   * @param nameOrPluginKeyToRemove The plugins name\n   * @returns The new editor state or undefined if the editor is destroyed\n   */\n  unregisterPlugin(nameOrPluginKeyToRemove) {\n    if (this.isDestroyed) {\n      return void 0;\n    }\n    const prevPlugins = this.state.plugins;\n    let plugins = prevPlugins;\n    [].concat(nameOrPluginKeyToRemove).forEach((nameOrPluginKey) => {\n      const name = typeof nameOrPluginKey === \"string\" ? `${nameOrPluginKey}$` : nameOrPluginKey.key;\n      plugins = plugins.filter((plugin) => !plugin.key.startsWith(name));\n    });\n    if (prevPlugins.length === plugins.length) {\n      return void 0;\n    }\n    const state = this.state.reconfigure({\n      plugins\n    });\n    this.view.updateState(state);\n    return state;\n  }\n  /**\n   * Creates an extension manager.\n   */\n  createExtensionManager() {\n    var _a, _b;\n    const coreExtensions = this.options.enableCoreExtensions ? [\n      Editable,\n      ClipboardTextSerializer.configure({\n        blockSeparator: (_b = (_a = this.options.coreExtensionOptions) == null ? void 0 : _a.clipboardTextSerializer) == null ? void 0 : _b.blockSeparator\n      }),\n      Commands,\n      FocusEvents,\n      Keymap,\n      Tabindex,\n      Drop,\n      Paste,\n      Delete,\n      TextDirection.configure({\n        direction: this.options.textDirection\n      })\n    ].filter((ext) => {\n      if (typeof this.options.enableCoreExtensions === \"object\") {\n        return this.options.enableCoreExtensions[ext.name] !== false;\n      }\n      return true;\n    }) : [];\n    const allExtensions = [...coreExtensions, ...this.options.extensions].filter((extension) => {\n      return [\"extension\", \"node\", \"mark\"].includes(extension == null ? void 0 : extension.type);\n    });\n    this.extensionManager = new ExtensionManager(allExtensions, this);\n  }\n  /**\n   * Creates an command manager.\n   */\n  createCommandManager() {\n    this.commandManager = new CommandManager({\n      editor: this\n    });\n  }\n  /**\n   * Creates a ProseMirror schema.\n   */\n  createSchema() {\n    this.schema = this.extensionManager.schema;\n  }\n  /**\n   * Creates the initial document.\n   */\n  createDoc() {\n    let doc;\n    try {\n      doc = createDocument(this.options.content, this.schema, this.options.parseOptions, {\n        errorOnInvalidContent: this.options.enableContentCheck\n      });\n    } catch (e) {\n      if (!(e instanceof Error) || ![\"[tiptap error]: Invalid JSON content\", \"[tiptap error]: Invalid HTML content\"].includes(e.message)) {\n        throw e;\n      }\n      this.emit(\"contentError\", {\n        editor: this,\n        error: e,\n        disableCollaboration: () => {\n          if (\"collaboration\" in this.storage && typeof this.storage.collaboration === \"object\" && this.storage.collaboration) {\n            ;\n            this.storage.collaboration.isDisabled = true;\n          }\n          this.options.extensions = this.options.extensions.filter((extension) => extension.name !== \"collaboration\");\n          this.createExtensionManager();\n        }\n      });\n      doc = createDocument(this.options.content, this.schema, this.options.parseOptions, {\n        errorOnInvalidContent: false\n      });\n    }\n    return doc;\n  }\n  /**\n   * Creates a ProseMirror view.\n   */\n  createView(element) {\n    const { editorProps, enableExtensionDispatchTransaction } = this.options;\n    const baseDispatch = editorProps.dispatchTransaction || this.dispatchTransaction.bind(this);\n    const dispatch = enableExtensionDispatchTransaction ? this.extensionManager.dispatchTransaction(baseDispatch) : baseDispatch;\n    const baseTransformPastedHTML = editorProps.transformPastedHTML;\n    const transformPastedHTML = this.extensionManager.transformPastedHTML(baseTransformPastedHTML);\n    this.editorView = new EditorView(element, {\n      ...editorProps,\n      attributes: {\n        // add `role=\"textbox\"` to the editor element\n        role: \"textbox\",\n        ...editorProps == null ? void 0 : editorProps.attributes\n      },\n      dispatchTransaction: dispatch,\n      transformPastedHTML,\n      state: this.editorState,\n      markViews: this.extensionManager.markViews,\n      nodeViews: this.extensionManager.nodeViews\n    });\n    const newState = this.state.reconfigure({\n      plugins: this.extensionManager.plugins\n    });\n    this.view.updateState(newState);\n    this.prependClass();\n    this.injectCSS();\n    const dom = this.view.dom;\n    dom.editor = this;\n  }\n  /**\n   * Creates all node and mark views.\n   */\n  createNodeViews() {\n    if (this.view.isDestroyed) {\n      return;\n    }\n    this.view.setProps({\n      markViews: this.extensionManager.markViews,\n      nodeViews: this.extensionManager.nodeViews\n    });\n  }\n  /**\n   * Prepend class name to element.\n   */\n  prependClass() {\n    this.view.dom.className = `${this.className} ${this.view.dom.className}`;\n  }\n  captureTransaction(fn) {\n    this.isCapturingTransaction = true;\n    fn();\n    this.isCapturingTransaction = false;\n    const tr = this.capturedTransaction;\n    this.capturedTransaction = null;\n    return tr;\n  }\n  /**\n   * The callback over which to send transactions (state updates) produced by the view.\n   *\n   * @param transaction An editor state transaction\n   */\n  dispatchTransaction(transaction) {\n    if (this.view.isDestroyed) {\n      return;\n    }\n    if (this.isCapturingTransaction) {\n      if (!this.capturedTransaction) {\n        this.capturedTransaction = transaction;\n        return;\n      }\n      transaction.steps.forEach((step) => {\n        var _a;\n        return (_a = this.capturedTransaction) == null ? void 0 : _a.step(step);\n      });\n      return;\n    }\n    const { state, transactions } = this.state.applyTransaction(transaction);\n    const selectionHasChanged = !this.state.selection.eq(state.selection);\n    const rootTrWasApplied = transactions.includes(transaction);\n    const prevState = this.state;\n    this.emit(\"beforeTransaction\", {\n      editor: this,\n      transaction,\n      nextState: state\n    });\n    if (!rootTrWasApplied) {\n      return;\n    }\n    this.view.updateState(state);\n    this.emit(\"transaction\", {\n      editor: this,\n      transaction,\n      appendedTransactions: transactions.slice(1)\n    });\n    if (selectionHasChanged) {\n      this.emit(\"selectionUpdate\", {\n        editor: this,\n        transaction\n      });\n    }\n    const mostRecentFocusTr = transactions.findLast((tr) => tr.getMeta(\"focus\") || tr.getMeta(\"blur\"));\n    const focus2 = mostRecentFocusTr == null ? void 0 : mostRecentFocusTr.getMeta(\"focus\");\n    const blur2 = mostRecentFocusTr == null ? void 0 : mostRecentFocusTr.getMeta(\"blur\");\n    if (focus2) {\n      this.emit(\"focus\", {\n        editor: this,\n        event: focus2.event,\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        transaction: mostRecentFocusTr\n      });\n    }\n    if (blur2) {\n      this.emit(\"blur\", {\n        editor: this,\n        event: blur2.event,\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        transaction: mostRecentFocusTr\n      });\n    }\n    if (transaction.getMeta(\"preventUpdate\") || !transactions.some((tr) => tr.docChanged) || prevState.doc.eq(state.doc)) {\n      return;\n    }\n    this.emit(\"update\", {\n      editor: this,\n      transaction,\n      appendedTransactions: transactions.slice(1)\n    });\n  }\n  /**\n   * Get attributes of the currently selected node or mark.\n   */\n  getAttributes(nameOrType) {\n    return getAttributes(this.state, nameOrType);\n  }\n  isActive(nameOrAttributes, attributesOrUndefined) {\n    const name = typeof nameOrAttributes === \"string\" ? nameOrAttributes : null;\n    const attributes = typeof nameOrAttributes === \"string\" ? attributesOrUndefined : nameOrAttributes;\n    return isActive(this.state, name, attributes);\n  }\n  /**\n   * Get the document as JSON.\n   */\n  getJSON() {\n    return this.state.doc.toJSON();\n  }\n  /**\n   * Get the document as HTML.\n   */\n  getHTML() {\n    return getHTMLFromFragment(this.state.doc.content, this.schema);\n  }\n  /**\n   * Get the document as text.\n   */\n  getText(options) {\n    const { blockSeparator = \"\\n\\n\", textSerializers = {} } = options || {};\n    return getText(this.state.doc, {\n      blockSeparator,\n      textSerializers: {\n        ...getTextSerializersFromSchema(this.schema),\n        ...textSerializers\n      }\n    });\n  }\n  /**\n   * Check if there is no content.\n   */\n  get isEmpty() {\n    return isNodeEmpty(this.state.doc);\n  }\n  /**\n   * Destroy the editor.\n   */\n  destroy() {\n    this.emit(\"destroy\");\n    this.unmount();\n    this.removeAllListeners();\n  }\n  /**\n   * Check if the editor is already destroyed.\n   */\n  get isDestroyed() {\n    var _a, _b;\n    return (_b = (_a = this.editorView) == null ? void 0 : _a.isDestroyed) != null ? _b : true;\n  }\n  $node(selector, attributes) {\n    var _a;\n    return ((_a = this.$doc) == null ? void 0 : _a.querySelector(selector, attributes)) || null;\n  }\n  $nodes(selector, attributes) {\n    var _a;\n    return ((_a = this.$doc) == null ? void 0 : _a.querySelectorAll(selector, attributes)) || null;\n  }\n  $pos(pos) {\n    const $pos = this.state.doc.resolve(pos);\n    return new NodePos($pos, this);\n  }\n  get $doc() {\n    return this.$pos(0);\n  }\n};\n\n// src/inputRules/markInputRule.ts\nfunction markInputRule(config) {\n  return new InputRule({\n    find: config.find,\n    handler: ({ state, range, match }) => {\n      const attributes = callOrReturn(config.getAttributes, void 0, match);\n      if (attributes === false || attributes === null) {\n        return null;\n      }\n      const { tr } = state;\n      const captureGroup = match[match.length - 1];\n      const fullMatch = match[0];\n      if (captureGroup) {\n        const startSpaces = fullMatch.search(/\\S/);\n        const textStart = range.from + fullMatch.indexOf(captureGroup);\n        const textEnd = textStart + captureGroup.length;\n        const excludedMarks = getMarksBetween(range.from, range.to, state.doc).filter((item) => {\n          const excluded = item.mark.type.excluded;\n          return excluded.find((type) => type === config.type && type !== item.mark.type);\n        }).filter((item) => item.to > textStart);\n        if (excludedMarks.length) {\n          return null;\n        }\n        if (textEnd < range.to) {\n          tr.delete(textEnd, range.to);\n        }\n        if (textStart > range.from) {\n          tr.delete(range.from + startSpaces, textStart);\n        }\n        const markEnd = range.from + startSpaces + captureGroup.length;\n        tr.addMark(range.from + startSpaces, markEnd, config.type.create(attributes || {}));\n        tr.removeStoredMark(config.type);\n      }\n    },\n    undoable: config.undoable\n  });\n}\n\n// src/inputRules/nodeInputRule.ts\nfunction nodeInputRule(config) {\n  return new InputRule({\n    find: config.find,\n    handler: ({ state, range, match }) => {\n      const attributes = callOrReturn(config.getAttributes, void 0, match) || {};\n      const { tr } = state;\n      const start = range.from;\n      let end = range.to;\n      const newNode = config.type.create(attributes);\n      if (match[1]) {\n        const offset = match[0].lastIndexOf(match[1]);\n        let matchStart = start + offset;\n        if (matchStart > end) {\n          matchStart = end;\n        } else {\n          end = matchStart + match[1].length;\n        }\n        const lastChar = match[0][match[0].length - 1];\n        tr.insertText(lastChar, start + match[0].length - 1);\n        tr.replaceWith(matchStart, end, newNode);\n      } else if (match[0]) {\n        const insertionStart = config.type.isInline ? start : start - 1;\n        tr.insert(insertionStart, config.type.create(attributes)).delete(tr.mapping.map(start), tr.mapping.map(end));\n      }\n      tr.scrollIntoView();\n    },\n    undoable: config.undoable\n  });\n}\n\n// src/inputRules/textblockTypeInputRule.ts\nfunction textblockTypeInputRule(config) {\n  return new InputRule({\n    find: config.find,\n    handler: ({ state, range, match }) => {\n      const $start = state.doc.resolve(range.from);\n      const attributes = callOrReturn(config.getAttributes, void 0, match) || {};\n      if (!$start.node(-1).canReplaceWith($start.index(-1), $start.indexAfter(-1), config.type)) {\n        return null;\n      }\n      state.tr.delete(range.from, range.to).setBlockType(range.from, range.from, config.type, attributes);\n    },\n    undoable: config.undoable\n  });\n}\n\n// src/inputRules/textInputRule.ts\nfunction textInputRule(config) {\n  return new InputRule({\n    find: config.find,\n    handler: ({ state, range, match }) => {\n      let insert = config.replace;\n      let start = range.from;\n      const end = range.to;\n      if (match[1]) {\n        const offset = match[0].lastIndexOf(match[1]);\n        insert += match[0].slice(offset + match[1].length);\n        start += offset;\n        const cutOff = start - end;\n        if (cutOff > 0) {\n          insert = match[0].slice(offset - cutOff, offset) + insert;\n          start = end;\n        }\n      }\n      state.tr.insertText(insert, start, end);\n    },\n    undoable: config.undoable\n  });\n}\n\n// src/inputRules/wrappingInputRule.ts\nimport { canJoin as canJoin2, findWrapping } from \"@tiptap/pm/transform\";\nfunction wrappingInputRule(config) {\n  return new InputRule({\n    find: config.find,\n    handler: ({ state, range, match, chain }) => {\n      const attributes = callOrReturn(config.getAttributes, void 0, match) || {};\n      const tr = state.tr.delete(range.from, range.to);\n      const $start = tr.doc.resolve(range.from);\n      const blockRange = $start.blockRange();\n      const wrapping = blockRange && findWrapping(blockRange, config.type, attributes);\n      if (!wrapping) {\n        return null;\n      }\n      tr.wrap(blockRange, wrapping);\n      if (config.keepMarks && config.editor) {\n        const { selection, storedMarks } = state;\n        const { splittableMarks } = config.editor.extensionManager;\n        const marks = storedMarks || selection.$to.parentOffset && selection.$from.marks();\n        if (marks) {\n          const filteredMarks = marks.filter((mark) => splittableMarks.includes(mark.type.name));\n          tr.ensureMarks(filteredMarks);\n        }\n      }\n      if (config.keepAttributes) {\n        const nodeType = config.type.name === \"bulletList\" || config.type.name === \"orderedList\" ? \"listItem\" : \"taskList\";\n        chain().updateAttributes(nodeType, attributes).run();\n      }\n      const before = tr.doc.resolve(range.from - 1).nodeBefore;\n      if (before && before.type === config.type && canJoin2(tr.doc, range.from - 1) && (!config.joinPredicate || config.joinPredicate(match, before))) {\n        tr.join(range.from - 1);\n      }\n    },\n    undoable: config.undoable\n  });\n}\n\n// src/jsx-runtime.ts\nfunction Fragment6(props) {\n  return props.children;\n}\nvar h = (tag, attributes) => {\n  if (tag === \"slot\") {\n    return 0;\n  }\n  if (tag instanceof Function) {\n    return tag(attributes);\n  }\n  const { children, ...rest } = attributes != null ? attributes : {};\n  if (tag === \"svg\") {\n    throw new Error(\"SVG elements are not supported in the JSX syntax, use the array syntax instead\");\n  }\n  return [tag, rest, children];\n};\n\n// src/lib/ResizableNodeView.ts\nvar isTouchEvent = (e) => {\n  return \"touches\" in e;\n};\nvar ResizableNodeView = class {\n  /**\n   * Creates a new ResizableNodeView instance.\n   *\n   * The constructor sets up the resize handles, applies initial sizing from\n   * node attributes, and configures all resize behavior options.\n   *\n   * @param options - Configuration options for the resizable node view\n   */\n  constructor(options) {\n    /** Active resize handle directions */\n    this.directions = [\"bottom-left\", \"bottom-right\", \"top-left\", \"top-right\"];\n    /** Minimum allowed dimensions */\n    this.minSize = {\n      height: 8,\n      width: 8\n    };\n    /** Whether to always preserve aspect ratio */\n    this.preserveAspectRatio = false;\n    /** CSS class names for elements */\n    this.classNames = {\n      container: \"\",\n      wrapper: \"\",\n      handle: \"\",\n      resizing: \"\"\n    };\n    /** Initial width of the element (for aspect ratio calculation) */\n    this.initialWidth = 0;\n    /** Initial height of the element (for aspect ratio calculation) */\n    this.initialHeight = 0;\n    /** Calculated aspect ratio (width / height) */\n    this.aspectRatio = 1;\n    /** Whether a resize operation is currently active */\n    this.isResizing = false;\n    /** The handle currently being dragged */\n    this.activeHandle = null;\n    /** Starting mouse X position when resize began */\n    this.startX = 0;\n    /** Starting mouse Y position when resize began */\n    this.startY = 0;\n    /** Element width when resize began */\n    this.startWidth = 0;\n    /** Element height when resize began */\n    this.startHeight = 0;\n    /** Whether Shift key is currently pressed (for temporary aspect ratio lock) */\n    this.isShiftKeyPressed = false;\n    /** Last known editable state of the editor */\n    this.lastEditableState = void 0;\n    /** Map of handle elements by direction */\n    this.handleMap = /* @__PURE__ */ new Map();\n    /**\n     * Handles mouse movement during an active resize.\n     *\n     * Calculates the delta from the starting position, computes new dimensions\n     * based on the active handle direction, applies constraints and aspect ratio,\n     * then updates the element's style and calls the onResize callback.\n     *\n     * @param event - The mouse move event\n     */\n    this.handleMouseMove = (event) => {\n      if (!this.isResizing || !this.activeHandle) {\n        return;\n      }\n      const deltaX = event.clientX - this.startX;\n      const deltaY = event.clientY - this.startY;\n      this.handleResize(deltaX, deltaY);\n    };\n    this.handleTouchMove = (event) => {\n      if (!this.isResizing || !this.activeHandle) {\n        return;\n      }\n      const touch = event.touches[0];\n      if (!touch) {\n        return;\n      }\n      const deltaX = touch.clientX - this.startX;\n      const deltaY = touch.clientY - this.startY;\n      this.handleResize(deltaX, deltaY);\n    };\n    /**\n     * Completes the resize operation when the mouse button is released.\n     *\n     * Captures final dimensions, calls the onCommit callback to persist changes,\n     * removes the resizing state and class, and cleans up document-level listeners.\n     */\n    this.handleMouseUp = () => {\n      if (!this.isResizing) {\n        return;\n      }\n      const finalWidth = this.element.offsetWidth;\n      const finalHeight = this.element.offsetHeight;\n      this.onCommit(finalWidth, finalHeight);\n      this.isResizing = false;\n      this.activeHandle = null;\n      this.container.dataset.resizeState = \"false\";\n      if (this.classNames.resizing) {\n        this.container.classList.remove(this.classNames.resizing);\n      }\n      document.removeEventListener(\"mousemove\", this.handleMouseMove);\n      document.removeEventListener(\"mouseup\", this.handleMouseUp);\n      document.removeEventListener(\"keydown\", this.handleKeyDown);\n      document.removeEventListener(\"keyup\", this.handleKeyUp);\n    };\n    /**\n     * Tracks Shift key state to enable temporary aspect ratio locking.\n     *\n     * When Shift is pressed during resize, aspect ratio is preserved even if\n     * preserveAspectRatio is false.\n     *\n     * @param event - The keyboard event\n     */\n    this.handleKeyDown = (event) => {\n      if (event.key === \"Shift\") {\n        this.isShiftKeyPressed = true;\n      }\n    };\n    /**\n     * Tracks Shift key release to disable temporary aspect ratio locking.\n     *\n     * @param event - The keyboard event\n     */\n    this.handleKeyUp = (event) => {\n      if (event.key === \"Shift\") {\n        this.isShiftKeyPressed = false;\n      }\n    };\n    var _a, _b, _c, _d, _e, _f;\n    this.node = options.node;\n    this.editor = options.editor;\n    this.element = options.element;\n    this.contentElement = options.contentElement;\n    this.getPos = options.getPos;\n    this.onResize = options.onResize;\n    this.onCommit = options.onCommit;\n    this.onUpdate = options.onUpdate;\n    if ((_a = options.options) == null ? void 0 : _a.min) {\n      this.minSize = {\n        ...this.minSize,\n        ...options.options.min\n      };\n    }\n    if ((_b = options.options) == null ? void 0 : _b.max) {\n      this.maxSize = options.options.max;\n    }\n    if ((_c = options == null ? void 0 : options.options) == null ? void 0 : _c.directions) {\n      this.directions = options.options.directions;\n    }\n    if ((_d = options.options) == null ? void 0 : _d.preserveAspectRatio) {\n      this.preserveAspectRatio = options.options.preserveAspectRatio;\n    }\n    if ((_e = options.options) == null ? void 0 : _e.className) {\n      this.classNames = {\n        container: options.options.className.container || \"\",\n        wrapper: options.options.className.wrapper || \"\",\n        handle: options.options.className.handle || \"\",\n        resizing: options.options.className.resizing || \"\"\n      };\n    }\n    if ((_f = options.options) == null ? void 0 : _f.createCustomHandle) {\n      this.createCustomHandle = options.options.createCustomHandle;\n    }\n    this.wrapper = this.createWrapper();\n    this.container = this.createContainer();\n    this.applyInitialSize();\n    this.attachHandles();\n    this.editor.on(\"update\", this.handleEditorUpdate.bind(this));\n  }\n  /**\n   * Returns the top-level DOM node that should be placed in the editor.\n   *\n   * This is required by the ProseMirror NodeView interface. The container\n   * includes the wrapper, handles, and the actual content element.\n   *\n   * @returns The container element to be inserted into the editor\n   */\n  get dom() {\n    return this.container;\n  }\n  get contentDOM() {\n    var _a;\n    return (_a = this.contentElement) != null ? _a : null;\n  }\n  handleEditorUpdate() {\n    const isEditable = this.editor.isEditable;\n    if (isEditable === this.lastEditableState) {\n      return;\n    }\n    this.lastEditableState = isEditable;\n    if (!isEditable) {\n      this.removeHandles();\n    } else if (isEditable && this.handleMap.size === 0) {\n      this.attachHandles();\n    }\n  }\n  /**\n   * Called when the node's content or attributes change.\n   *\n   * Updates the internal node reference. If a custom `onUpdate` callback\n   * was provided, it will be called to handle additional update logic.\n   *\n   * @param node - The new/updated node\n   * @param decorations - Node decorations\n   * @param innerDecorations - Inner decorations\n   * @returns `false` if the node type has changed (requires full rebuild), otherwise the result of `onUpdate` or `true`\n   */\n  update(node, decorations, innerDecorations) {\n    if (node.type !== this.node.type) {\n      return false;\n    }\n    this.node = node;\n    if (this.onUpdate) {\n      return this.onUpdate(node, decorations, innerDecorations);\n    }\n    return true;\n  }\n  /**\n   * Cleanup method called when the node view is being removed.\n   *\n   * Removes all event listeners to prevent memory leaks. This is required\n   * by the ProseMirror NodeView interface. If a resize is active when\n   * destroy is called, it will be properly cancelled.\n   */\n  destroy() {\n    if (this.isResizing) {\n      this.container.dataset.resizeState = \"false\";\n      if (this.classNames.resizing) {\n        this.container.classList.remove(this.classNames.resizing);\n      }\n      document.removeEventListener(\"mousemove\", this.handleMouseMove);\n      document.removeEventListener(\"mouseup\", this.handleMouseUp);\n      document.removeEventListener(\"keydown\", this.handleKeyDown);\n      document.removeEventListener(\"keyup\", this.handleKeyUp);\n      this.isResizing = false;\n      this.activeHandle = null;\n    }\n    this.editor.off(\"update\", this.handleEditorUpdate.bind(this));\n    this.container.remove();\n  }\n  /**\n   * Creates the outer container element.\n   *\n   * The container is the top-level element returned by the NodeView and\n   * wraps the entire resizable node. It's set up with flexbox to handle\n   * alignment and includes data attributes for styling and identification.\n   *\n   * @returns The container element\n   */\n  createContainer() {\n    const element = document.createElement(\"div\");\n    element.dataset.resizeContainer = \"\";\n    element.dataset.node = this.node.type.name;\n    element.style.display = \"flex\";\n    if (this.classNames.container) {\n      element.className = this.classNames.container;\n    }\n    element.appendChild(this.wrapper);\n    return element;\n  }\n  /**\n   * Creates the wrapper element that contains the content and handles.\n   *\n   * The wrapper uses relative positioning so that resize handles can be\n   * positioned absolutely within it. This is the direct parent of the\n   * content element being made resizable.\n   *\n   * @returns The wrapper element\n   */\n  createWrapper() {\n    const element = document.createElement(\"div\");\n    element.style.position = \"relative\";\n    element.style.display = \"block\";\n    element.dataset.resizeWrapper = \"\";\n    if (this.classNames.wrapper) {\n      element.className = this.classNames.wrapper;\n    }\n    element.appendChild(this.element);\n    return element;\n  }\n  /**\n   * Creates a resize handle element for a specific direction.\n   *\n   * Each handle is absolutely positioned and includes a data attribute\n   * identifying its direction for styling purposes.\n   *\n   * @param direction - The resize direction for this handle\n   * @returns The handle element\n   */\n  createHandle(direction) {\n    const handle = document.createElement(\"div\");\n    handle.dataset.resizeHandle = direction;\n    handle.style.position = \"absolute\";\n    if (this.classNames.handle) {\n      handle.className = this.classNames.handle;\n    }\n    return handle;\n  }\n  /**\n   * Positions a handle element according to its direction.\n   *\n   * Corner handles (e.g., 'top-left') are positioned at the intersection\n   * of two edges. Edge handles (e.g., 'top') span the full width or height.\n   *\n   * @param handle - The handle element to position\n   * @param direction - The direction determining the position\n   */\n  positionHandle(handle, direction) {\n    const isTop = direction.includes(\"top\");\n    const isBottom = direction.includes(\"bottom\");\n    const isLeft = direction.includes(\"left\");\n    const isRight = direction.includes(\"right\");\n    if (isTop) {\n      handle.style.top = \"0\";\n    }\n    if (isBottom) {\n      handle.style.bottom = \"0\";\n    }\n    if (isLeft) {\n      handle.style.left = \"0\";\n    }\n    if (isRight) {\n      handle.style.right = \"0\";\n    }\n    if (direction === \"top\" || direction === \"bottom\") {\n      handle.style.left = \"0\";\n      handle.style.right = \"0\";\n    }\n    if (direction === \"left\" || direction === \"right\") {\n      handle.style.top = \"0\";\n      handle.style.bottom = \"0\";\n    }\n  }\n  /**\n   * Creates and attaches all resize handles to the wrapper.\n   *\n   * Iterates through the configured directions, creates a handle for each,\n   * positions it, attaches the mousedown listener, and appends it to the DOM.\n   */\n  attachHandles() {\n    this.directions.forEach((direction) => {\n      let handle;\n      if (this.createCustomHandle) {\n        handle = this.createCustomHandle(direction);\n      } else {\n        handle = this.createHandle(direction);\n      }\n      if (!(handle instanceof HTMLElement)) {\n        console.warn(\n          `[ResizableNodeView] createCustomHandle(\"${direction}\") did not return an HTMLElement. Falling back to default handle.`\n        );\n        handle = this.createHandle(direction);\n      }\n      if (!this.createCustomHandle) {\n        this.positionHandle(handle, direction);\n      }\n      handle.addEventListener(\"mousedown\", (event) => this.handleResizeStart(event, direction));\n      handle.addEventListener(\"touchstart\", (event) => this.handleResizeStart(event, direction));\n      this.handleMap.set(direction, handle);\n      this.wrapper.appendChild(handle);\n    });\n  }\n  /**\n   * Removes all resize handles from the wrapper.\n   *\n   * Cleans up the handle map and removes each handle element from the DOM.\n   */\n  removeHandles() {\n    this.handleMap.forEach((el) => el.remove());\n    this.handleMap.clear();\n  }\n  /**\n   * Applies initial sizing from node attributes to the element.\n   *\n   * If width/height attributes exist on the node, they're applied to the element.\n   * Otherwise, the element's natural/current dimensions are measured. The aspect\n   * ratio is calculated for later use in aspect-ratio-preserving resizes.\n   */\n  applyInitialSize() {\n    const width = this.node.attrs.width;\n    const height = this.node.attrs.height;\n    if (width) {\n      this.element.style.width = `${width}px`;\n      this.initialWidth = width;\n    } else {\n      this.initialWidth = this.element.offsetWidth;\n    }\n    if (height) {\n      this.element.style.height = `${height}px`;\n      this.initialHeight = height;\n    } else {\n      this.initialHeight = this.element.offsetHeight;\n    }\n    if (this.initialWidth > 0 && this.initialHeight > 0) {\n      this.aspectRatio = this.initialWidth / this.initialHeight;\n    }\n  }\n  /**\n   * Initiates a resize operation when a handle is clicked.\n   *\n   * Captures the starting mouse position and element dimensions, sets up\n   * the resize state, adds the resizing class and state attribute, and\n   * attaches document-level listeners for mouse movement and keyboard input.\n   *\n   * @param event - The mouse down event\n   * @param direction - The direction of the handle being dragged\n   */\n  handleResizeStart(event, direction) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.isResizing = true;\n    this.activeHandle = direction;\n    if (isTouchEvent(event)) {\n      this.startX = event.touches[0].clientX;\n      this.startY = event.touches[0].clientY;\n    } else {\n      this.startX = event.clientX;\n      this.startY = event.clientY;\n    }\n    this.startWidth = this.element.offsetWidth;\n    this.startHeight = this.element.offsetHeight;\n    if (this.startWidth > 0 && this.startHeight > 0) {\n      this.aspectRatio = this.startWidth / this.startHeight;\n    }\n    const pos = this.getPos();\n    if (pos !== void 0) {\n    }\n    this.container.dataset.resizeState = \"true\";\n    if (this.classNames.resizing) {\n      this.container.classList.add(this.classNames.resizing);\n    }\n    document.addEventListener(\"mousemove\", this.handleMouseMove);\n    document.addEventListener(\"touchmove\", this.handleTouchMove);\n    document.addEventListener(\"mouseup\", this.handleMouseUp);\n    document.addEventListener(\"keydown\", this.handleKeyDown);\n    document.addEventListener(\"keyup\", this.handleKeyUp);\n  }\n  handleResize(deltaX, deltaY) {\n    if (!this.activeHandle) {\n      return;\n    }\n    const shouldPreserveAspectRatio = this.preserveAspectRatio || this.isShiftKeyPressed;\n    const { width, height } = this.calculateNewDimensions(this.activeHandle, deltaX, deltaY);\n    const constrained = this.applyConstraints(width, height, shouldPreserveAspectRatio);\n    this.element.style.width = `${constrained.width}px`;\n    this.element.style.height = `${constrained.height}px`;\n    if (this.onResize) {\n      this.onResize(constrained.width, constrained.height);\n    }\n  }\n  /**\n   * Calculates new dimensions based on mouse delta and resize direction.\n   *\n   * Takes the starting dimensions and applies the mouse movement delta\n   * according to the handle direction. For corner handles, both dimensions\n   * are affected. For edge handles, only one dimension changes. If aspect\n   * ratio should be preserved, delegates to applyAspectRatio.\n   *\n   * @param direction - The active resize handle direction\n   * @param deltaX - Horizontal mouse movement since resize start\n   * @param deltaY - Vertical mouse movement since resize start\n   * @returns The calculated width and height\n   */\n  calculateNewDimensions(direction, deltaX, deltaY) {\n    let newWidth = this.startWidth;\n    let newHeight = this.startHeight;\n    const isRight = direction.includes(\"right\");\n    const isLeft = direction.includes(\"left\");\n    const isBottom = direction.includes(\"bottom\");\n    const isTop = direction.includes(\"top\");\n    if (isRight) {\n      newWidth = this.startWidth + deltaX;\n    } else if (isLeft) {\n      newWidth = this.startWidth - deltaX;\n    }\n    if (isBottom) {\n      newHeight = this.startHeight + deltaY;\n    } else if (isTop) {\n      newHeight = this.startHeight - deltaY;\n    }\n    if (direction === \"right\" || direction === \"left\") {\n      newWidth = this.startWidth + (isRight ? deltaX : -deltaX);\n    }\n    if (direction === \"top\" || direction === \"bottom\") {\n      newHeight = this.startHeight + (isBottom ? deltaY : -deltaY);\n    }\n    const shouldPreserveAspectRatio = this.preserveAspectRatio || this.isShiftKeyPressed;\n    if (shouldPreserveAspectRatio) {\n      return this.applyAspectRatio(newWidth, newHeight, direction);\n    }\n    return { width: newWidth, height: newHeight };\n  }\n  /**\n   * Applies min/max constraints to dimensions.\n   *\n   * When aspect ratio is NOT preserved, constraints are applied independently\n   * to width and height. When aspect ratio IS preserved, constraints are\n   * applied while maintaining the aspect ratio—if one dimension hits a limit,\n   * the other is recalculated proportionally.\n   *\n   * This ensures that aspect ratio is never broken when constrained.\n   *\n   * @param width - The unconstrained width\n   * @param height - The unconstrained height\n   * @param preserveAspectRatio - Whether to maintain aspect ratio while constraining\n   * @returns The constrained dimensions\n   */\n  applyConstraints(width, height, preserveAspectRatio) {\n    var _a, _b, _c, _d;\n    if (!preserveAspectRatio) {\n      let constrainedWidth2 = Math.max(this.minSize.width, width);\n      let constrainedHeight2 = Math.max(this.minSize.height, height);\n      if ((_a = this.maxSize) == null ? void 0 : _a.width) {\n        constrainedWidth2 = Math.min(this.maxSize.width, constrainedWidth2);\n      }\n      if ((_b = this.maxSize) == null ? void 0 : _b.height) {\n        constrainedHeight2 = Math.min(this.maxSize.height, constrainedHeight2);\n      }\n      return { width: constrainedWidth2, height: constrainedHeight2 };\n    }\n    let constrainedWidth = width;\n    let constrainedHeight = height;\n    if (constrainedWidth < this.minSize.width) {\n      constrainedWidth = this.minSize.width;\n      constrainedHeight = constrainedWidth / this.aspectRatio;\n    }\n    if (constrainedHeight < this.minSize.height) {\n      constrainedHeight = this.minSize.height;\n      constrainedWidth = constrainedHeight * this.aspectRatio;\n    }\n    if (((_c = this.maxSize) == null ? void 0 : _c.width) && constrainedWidth > this.maxSize.width) {\n      constrainedWidth = this.maxSize.width;\n      constrainedHeight = constrainedWidth / this.aspectRatio;\n    }\n    if (((_d = this.maxSize) == null ? void 0 : _d.height) && constrainedHeight > this.maxSize.height) {\n      constrainedHeight = this.maxSize.height;\n      constrainedWidth = constrainedHeight * this.aspectRatio;\n    }\n    return { width: constrainedWidth, height: constrainedHeight };\n  }\n  /**\n   * Adjusts dimensions to maintain the original aspect ratio.\n   *\n   * For horizontal handles (left/right), uses width as the primary dimension\n   * and calculates height from it. For vertical handles (top/bottom), uses\n   * height as primary and calculates width. For corner handles, uses width\n   * as the primary dimension.\n   *\n   * @param width - The new width\n   * @param height - The new height\n   * @param direction - The active resize direction\n   * @returns Dimensions adjusted to preserve aspect ratio\n   */\n  applyAspectRatio(width, height, direction) {\n    const isHorizontal = direction === \"left\" || direction === \"right\";\n    const isVertical = direction === \"top\" || direction === \"bottom\";\n    if (isHorizontal) {\n      return {\n        width,\n        height: width / this.aspectRatio\n      };\n    }\n    if (isVertical) {\n      return {\n        width: height * this.aspectRatio,\n        height\n      };\n    }\n    return {\n      width,\n      height: width / this.aspectRatio\n    };\n  }\n};\nvar ResizableNodeview = ResizableNodeView;\n\n// src/utilities/canInsertNode.ts\nimport { NodeSelection as NodeSelection4 } from \"@tiptap/pm/state\";\nfunction canInsertNode(state, nodeType) {\n  const { selection } = state;\n  const { $from } = selection;\n  if (selection instanceof NodeSelection4) {\n    const index = $from.index();\n    const parent = $from.parent;\n    return parent.canReplaceWith(index, index + 1, nodeType);\n  }\n  let depth = $from.depth;\n  while (depth >= 0) {\n    const index = $from.index(depth);\n    const parent = $from.node(depth);\n    const match = parent.contentMatchAt(index);\n    if (match.matchType(nodeType)) {\n      return true;\n    }\n    depth -= 1;\n  }\n  return false;\n}\n\n// src/utilities/escapeForRegEx.ts\nfunction escapeForRegEx(string) {\n  return string.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, \"\\\\$&\");\n}\n\n// src/utilities/isFirefox.ts\nfunction isFirefox() {\n  return typeof navigator !== \"undefined\" ? /Firefox/.test(navigator.userAgent) : false;\n}\n\n// src/utilities/isString.ts\nfunction isString(value) {\n  return typeof value === \"string\";\n}\n\n// src/utilities/markdown/index.ts\nvar markdown_exports = {};\n__export(markdown_exports, {\n  createAtomBlockMarkdownSpec: () => createAtomBlockMarkdownSpec,\n  createBlockMarkdownSpec: () => createBlockMarkdownSpec,\n  createInlineMarkdownSpec: () => createInlineMarkdownSpec,\n  parseAttributes: () => parseAttributes,\n  parseIndentedBlocks: () => parseIndentedBlocks,\n  renderNestedMarkdownContent: () => renderNestedMarkdownContent,\n  serializeAttributes: () => serializeAttributes\n});\n\n// src/utilities/markdown/attributeUtils.ts\nfunction parseAttributes(attrString) {\n  if (!(attrString == null ? void 0 : attrString.trim())) {\n    return {};\n  }\n  const attributes = {};\n  const quotedStrings = [];\n  const tempString = attrString.replace(/[\"']([^\"']*)[\"']/g, (match) => {\n    quotedStrings.push(match);\n    return `__QUOTED_${quotedStrings.length - 1}__`;\n  });\n  const classMatches = tempString.match(/(?:^|\\s)\\.([a-zA-Z][\\w-]*)/g);\n  if (classMatches) {\n    const classes = classMatches.map((match) => match.trim().slice(1));\n    attributes.class = classes.join(\" \");\n  }\n  const idMatch = tempString.match(/(?:^|\\s)#([a-zA-Z][\\w-]*)/);\n  if (idMatch) {\n    attributes.id = idMatch[1];\n  }\n  const kvRegex = /([a-zA-Z][\\w-]*)\\s*=\\s*(__QUOTED_\\d+__)/g;\n  const kvMatches = Array.from(tempString.matchAll(kvRegex));\n  kvMatches.forEach(([, key, quotedRef]) => {\n    var _a;\n    const quotedIndex = parseInt(((_a = quotedRef.match(/__QUOTED_(\\d+)__/)) == null ? void 0 : _a[1]) || \"0\", 10);\n    const quotedValue = quotedStrings[quotedIndex];\n    if (quotedValue) {\n      attributes[key] = quotedValue.slice(1, -1);\n    }\n  });\n  const cleanString = tempString.replace(/(?:^|\\s)\\.([a-zA-Z][\\w-]*)/g, \"\").replace(/(?:^|\\s)#([a-zA-Z][\\w-]*)/g, \"\").replace(/([a-zA-Z][\\w-]*)\\s*=\\s*__QUOTED_\\d+__/g, \"\").trim();\n  if (cleanString) {\n    const booleanAttrs = cleanString.split(/\\s+/).filter(Boolean);\n    booleanAttrs.forEach((attr) => {\n      if (attr.match(/^[a-zA-Z][\\w-]*$/)) {\n        attributes[attr] = true;\n      }\n    });\n  }\n  return attributes;\n}\nfunction serializeAttributes(attributes) {\n  if (!attributes || Object.keys(attributes).length === 0) {\n    return \"\";\n  }\n  const parts = [];\n  if (attributes.class) {\n    const classes = String(attributes.class).split(/\\s+/).filter(Boolean);\n    classes.forEach((cls) => parts.push(`.${cls}`));\n  }\n  if (attributes.id) {\n    parts.push(`#${attributes.id}`);\n  }\n  Object.entries(attributes).forEach(([key, value]) => {\n    if (key === \"class\" || key === \"id\") {\n      return;\n    }\n    if (value === true) {\n      parts.push(key);\n    } else if (value !== false && value != null) {\n      parts.push(`${key}=\"${String(value)}\"`);\n    }\n  });\n  return parts.join(\" \");\n}\n\n// src/utilities/markdown/createAtomBlockMarkdownSpec.ts\nfunction createAtomBlockMarkdownSpec(options) {\n  const {\n    nodeName,\n    name: markdownName,\n    parseAttributes: parseAttributes2 = parseAttributes,\n    serializeAttributes: serializeAttributes2 = serializeAttributes,\n    defaultAttributes = {},\n    requiredAttributes = [],\n    allowedAttributes\n  } = options;\n  const blockName = markdownName || nodeName;\n  const filterAttributes = (attrs) => {\n    if (!allowedAttributes) {\n      return attrs;\n    }\n    const filtered = {};\n    allowedAttributes.forEach((key) => {\n      if (key in attrs) {\n        filtered[key] = attrs[key];\n      }\n    });\n    return filtered;\n  };\n  return {\n    parseMarkdown: (token, h2) => {\n      const attrs = { ...defaultAttributes, ...token.attributes };\n      return h2.createNode(nodeName, attrs, []);\n    },\n    markdownTokenizer: {\n      name: nodeName,\n      level: \"block\",\n      start(src) {\n        var _a;\n        const regex = new RegExp(`^:::${blockName}(?:\\\\s|$)`, \"m\");\n        const index = (_a = src.match(regex)) == null ? void 0 : _a.index;\n        return index !== void 0 ? index : -1;\n      },\n      tokenize(src, _tokens, _lexer) {\n        const regex = new RegExp(`^:::${blockName}(?:\\\\s+\\\\{([^}]*)\\\\})?\\\\s*:::(?:\\\\n|$)`);\n        const match = src.match(regex);\n        if (!match) {\n          return void 0;\n        }\n        const attrString = match[1] || \"\";\n        const attributes = parseAttributes2(attrString);\n        const missingRequired = requiredAttributes.find((required) => !(required in attributes));\n        if (missingRequired) {\n          return void 0;\n        }\n        return {\n          type: nodeName,\n          raw: match[0],\n          attributes\n        };\n      }\n    },\n    renderMarkdown: (node) => {\n      const filteredAttrs = filterAttributes(node.attrs || {});\n      const attrs = serializeAttributes2(filteredAttrs);\n      const attrString = attrs ? ` {${attrs}}` : \"\";\n      return `:::${blockName}${attrString} :::`;\n    }\n  };\n}\n\n// src/utilities/markdown/createBlockMarkdownSpec.ts\nfunction createBlockMarkdownSpec(options) {\n  const {\n    nodeName,\n    name: markdownName,\n    getContent,\n    parseAttributes: parseAttributes2 = parseAttributes,\n    serializeAttributes: serializeAttributes2 = serializeAttributes,\n    defaultAttributes = {},\n    content = \"block\",\n    allowedAttributes\n  } = options;\n  const blockName = markdownName || nodeName;\n  const filterAttributes = (attrs) => {\n    if (!allowedAttributes) {\n      return attrs;\n    }\n    const filtered = {};\n    allowedAttributes.forEach((key) => {\n      if (key in attrs) {\n        filtered[key] = attrs[key];\n      }\n    });\n    return filtered;\n  };\n  return {\n    parseMarkdown: (token, h2) => {\n      let nodeContent;\n      if (getContent) {\n        const contentResult = getContent(token);\n        nodeContent = typeof contentResult === \"string\" ? [{ type: \"text\", text: contentResult }] : contentResult;\n      } else if (content === \"block\") {\n        nodeContent = h2.parseChildren(token.tokens || []);\n      } else {\n        nodeContent = h2.parseInline(token.tokens || []);\n      }\n      const attrs = { ...defaultAttributes, ...token.attributes };\n      return h2.createNode(nodeName, attrs, nodeContent);\n    },\n    markdownTokenizer: {\n      name: nodeName,\n      level: \"block\",\n      start(src) {\n        var _a;\n        const regex = new RegExp(`^:::${blockName}`, \"m\");\n        const index = (_a = src.match(regex)) == null ? void 0 : _a.index;\n        return index !== void 0 ? index : -1;\n      },\n      tokenize(src, _tokens, lexer) {\n        var _a;\n        const openingRegex = new RegExp(`^:::${blockName}(?:\\\\s+\\\\{([^}]*)\\\\})?\\\\s*\\\\n`);\n        const openingMatch = src.match(openingRegex);\n        if (!openingMatch) {\n          return void 0;\n        }\n        const [openingTag, attrString = \"\"] = openingMatch;\n        const attributes = parseAttributes2(attrString);\n        let level = 1;\n        const position = openingTag.length;\n        let matchedContent = \"\";\n        const blockPattern = /^:::([\\w-]*)(\\s.*)?/gm;\n        const remaining = src.slice(position);\n        blockPattern.lastIndex = 0;\n        for (; ; ) {\n          const match = blockPattern.exec(remaining);\n          if (match === null) {\n            break;\n          }\n          const matchPos = match.index;\n          const blockType = match[1];\n          if ((_a = match[2]) == null ? void 0 : _a.endsWith(\":::\")) {\n            continue;\n          }\n          if (blockType) {\n            level += 1;\n          } else {\n            level -= 1;\n            if (level === 0) {\n              const rawContent = remaining.slice(0, matchPos);\n              matchedContent = rawContent.trim();\n              const fullMatch = src.slice(0, position + matchPos + match[0].length);\n              let contentTokens = [];\n              if (matchedContent) {\n                if (content === \"block\") {\n                  contentTokens = lexer.blockTokens(rawContent);\n                  contentTokens.forEach((token) => {\n                    if (token.text && (!token.tokens || token.tokens.length === 0)) {\n                      token.tokens = lexer.inlineTokens(token.text);\n                    }\n                  });\n                  while (contentTokens.length > 0) {\n                    const lastToken = contentTokens[contentTokens.length - 1];\n                    if (lastToken.type === \"paragraph\" && (!lastToken.text || lastToken.text.trim() === \"\")) {\n                      contentTokens.pop();\n                    } else {\n                      break;\n                    }\n                  }\n                } else {\n                  contentTokens = lexer.inlineTokens(matchedContent);\n                }\n              }\n              return {\n                type: nodeName,\n                raw: fullMatch,\n                attributes,\n                content: matchedContent,\n                tokens: contentTokens\n              };\n            }\n          }\n        }\n        return void 0;\n      }\n    },\n    renderMarkdown: (node, h2) => {\n      const filteredAttrs = filterAttributes(node.attrs || {});\n      const attrs = serializeAttributes2(filteredAttrs);\n      const attrString = attrs ? ` {${attrs}}` : \"\";\n      const renderedContent = h2.renderChildren(node.content || [], \"\\n\\n\");\n      return `:::${blockName}${attrString}\n\n${renderedContent}\n\n:::`;\n    }\n  };\n}\n\n// src/utilities/markdown/createInlineMarkdownSpec.ts\nfunction parseShortcodeAttributes(attrString) {\n  if (!attrString.trim()) {\n    return {};\n  }\n  const attributes = {};\n  const regex = /(\\w+)=(?:\"([^\"]*)\"|'([^']*)')/g;\n  let match = regex.exec(attrString);\n  while (match !== null) {\n    const [, key, doubleQuoted, singleQuoted] = match;\n    attributes[key] = doubleQuoted || singleQuoted;\n    match = regex.exec(attrString);\n  }\n  return attributes;\n}\nfunction serializeShortcodeAttributes(attrs) {\n  return Object.entries(attrs).filter(([, value]) => value !== void 0 && value !== null).map(([key, value]) => `${key}=\"${value}\"`).join(\" \");\n}\nfunction createInlineMarkdownSpec(options) {\n  const {\n    nodeName,\n    name: shortcodeName,\n    getContent,\n    parseAttributes: parseAttributes2 = parseShortcodeAttributes,\n    serializeAttributes: serializeAttributes2 = serializeShortcodeAttributes,\n    defaultAttributes = {},\n    selfClosing = false,\n    allowedAttributes\n  } = options;\n  const shortcode = shortcodeName || nodeName;\n  const filterAttributes = (attrs) => {\n    if (!allowedAttributes) {\n      return attrs;\n    }\n    const filtered = {};\n    allowedAttributes.forEach((attr) => {\n      const attrName = typeof attr === \"string\" ? attr : attr.name;\n      const skipIfDefault = typeof attr === \"string\" ? void 0 : attr.skipIfDefault;\n      if (attrName in attrs) {\n        const value = attrs[attrName];\n        if (skipIfDefault !== void 0 && value === skipIfDefault) {\n          return;\n        }\n        filtered[attrName] = value;\n      }\n    });\n    return filtered;\n  };\n  const escapedShortcode = shortcode.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n  return {\n    parseMarkdown: (token, h2) => {\n      const attrs = { ...defaultAttributes, ...token.attributes };\n      if (selfClosing) {\n        return h2.createNode(nodeName, attrs);\n      }\n      const content = getContent ? getContent(token) : token.content || \"\";\n      if (content) {\n        return h2.createNode(nodeName, attrs, [h2.createTextNode(content)]);\n      }\n      return h2.createNode(nodeName, attrs, []);\n    },\n    markdownTokenizer: {\n      name: nodeName,\n      level: \"inline\",\n      start(src) {\n        const startPattern = selfClosing ? new RegExp(`\\\\[${escapedShortcode}\\\\s*[^\\\\]]*\\\\]`) : new RegExp(`\\\\[${escapedShortcode}\\\\s*[^\\\\]]*\\\\][\\\\s\\\\S]*?\\\\[\\\\/${escapedShortcode}\\\\]`);\n        const match = src.match(startPattern);\n        const index = match == null ? void 0 : match.index;\n        return index !== void 0 ? index : -1;\n      },\n      tokenize(src, _tokens, _lexer) {\n        const tokenPattern = selfClosing ? new RegExp(`^\\\\[${escapedShortcode}\\\\s*([^\\\\]]*)\\\\]`) : new RegExp(`^\\\\[${escapedShortcode}\\\\s*([^\\\\]]*)\\\\]([\\\\s\\\\S]*?)\\\\[\\\\/${escapedShortcode}\\\\]`);\n        const match = src.match(tokenPattern);\n        if (!match) {\n          return void 0;\n        }\n        let content = \"\";\n        let attrString = \"\";\n        if (selfClosing) {\n          const [, attrs] = match;\n          attrString = attrs;\n        } else {\n          const [, attrs, contentMatch] = match;\n          attrString = attrs;\n          content = contentMatch || \"\";\n        }\n        const attributes = parseAttributes2(attrString.trim());\n        return {\n          type: nodeName,\n          raw: match[0],\n          content: content.trim(),\n          attributes\n        };\n      }\n    },\n    renderMarkdown: (node) => {\n      let content = \"\";\n      if (getContent) {\n        content = getContent(node);\n      } else if (node.content && node.content.length > 0) {\n        content = node.content.filter((child) => child.type === \"text\").map((child) => child.text).join(\"\");\n      }\n      const filteredAttrs = filterAttributes(node.attrs || {});\n      const attrs = serializeAttributes2(filteredAttrs);\n      const attrString = attrs ? ` ${attrs}` : \"\";\n      if (selfClosing) {\n        return `[${shortcode}${attrString}]`;\n      }\n      return `[${shortcode}${attrString}]${content}[/${shortcode}]`;\n    }\n  };\n}\n\n// src/utilities/markdown/parseIndentedBlocks.ts\nfunction parseIndentedBlocks(src, config, lexer) {\n  var _a, _b, _c, _d;\n  const lines = src.split(\"\\n\");\n  const items = [];\n  let totalRaw = \"\";\n  let i = 0;\n  const baseIndentSize = config.baseIndentSize || 2;\n  while (i < lines.length) {\n    const currentLine = lines[i];\n    const itemMatch = currentLine.match(config.itemPattern);\n    if (!itemMatch) {\n      if (items.length > 0) {\n        break;\n      } else if (currentLine.trim() === \"\") {\n        i += 1;\n        totalRaw = `${totalRaw}${currentLine}\n`;\n        continue;\n      } else {\n        return void 0;\n      }\n    }\n    const itemData = config.extractItemData(itemMatch);\n    const { indentLevel, mainContent } = itemData;\n    totalRaw = `${totalRaw}${currentLine}\n`;\n    const itemContent = [mainContent];\n    i += 1;\n    while (i < lines.length) {\n      const nextLine = lines[i];\n      if (nextLine.trim() === \"\") {\n        const nextNonEmptyIndex = lines.slice(i + 1).findIndex((l) => l.trim() !== \"\");\n        if (nextNonEmptyIndex === -1) {\n          break;\n        }\n        const nextNonEmpty = lines[i + 1 + nextNonEmptyIndex];\n        const nextIndent2 = ((_b = (_a = nextNonEmpty.match(/^(\\s*)/)) == null ? void 0 : _a[1]) == null ? void 0 : _b.length) || 0;\n        if (nextIndent2 > indentLevel) {\n          itemContent.push(nextLine);\n          totalRaw = `${totalRaw}${nextLine}\n`;\n          i += 1;\n          continue;\n        } else {\n          break;\n        }\n      }\n      const nextIndent = ((_d = (_c = nextLine.match(/^(\\s*)/)) == null ? void 0 : _c[1]) == null ? void 0 : _d.length) || 0;\n      if (nextIndent > indentLevel) {\n        itemContent.push(nextLine);\n        totalRaw = `${totalRaw}${nextLine}\n`;\n        i += 1;\n      } else {\n        break;\n      }\n    }\n    let nestedTokens;\n    const nestedContent = itemContent.slice(1);\n    if (nestedContent.length > 0) {\n      const dedentedNested = nestedContent.map((nestedLine) => nestedLine.slice(indentLevel + baseIndentSize)).join(\"\\n\");\n      if (dedentedNested.trim()) {\n        if (config.customNestedParser) {\n          nestedTokens = config.customNestedParser(dedentedNested);\n        } else {\n          nestedTokens = lexer.blockTokens(dedentedNested);\n        }\n      }\n    }\n    const token = config.createToken(itemData, nestedTokens);\n    items.push(token);\n  }\n  if (items.length === 0) {\n    return void 0;\n  }\n  return {\n    items,\n    raw: totalRaw\n  };\n}\n\n// src/utilities/markdown/renderNestedMarkdownContent.ts\nfunction renderNestedMarkdownContent(node, h2, prefixOrGenerator, ctx) {\n  if (!node || !Array.isArray(node.content)) {\n    return \"\";\n  }\n  const prefix = typeof prefixOrGenerator === \"function\" ? prefixOrGenerator(ctx) : prefixOrGenerator;\n  const [content, ...children] = node.content;\n  const mainContent = h2.renderChildren([content]);\n  const output = [`${prefix}${mainContent}`];\n  if (children && children.length > 0) {\n    children.forEach((child) => {\n      const childContent = h2.renderChildren([child]);\n      if (childContent) {\n        const indentedChild = childContent.split(\"\\n\").map((line) => line ? h2.indent(line) : \"\").join(\"\\n\");\n        output.push(indentedChild);\n      }\n    });\n  }\n  return output.join(\"\\n\");\n}\n\n// src/MarkView.ts\nfunction updateMarkViewAttributes(checkMark, editor, attrs = {}) {\n  const { state } = editor;\n  const { doc, tr } = state;\n  const thisMark = checkMark;\n  doc.descendants((node, pos) => {\n    const from = tr.mapping.map(pos);\n    const to = tr.mapping.map(pos) + node.nodeSize;\n    let foundMark = null;\n    node.marks.forEach((mark) => {\n      if (mark !== thisMark) {\n        return false;\n      }\n      foundMark = mark;\n    });\n    if (!foundMark) {\n      return;\n    }\n    let needsUpdate = false;\n    Object.keys(attrs).forEach((k) => {\n      if (attrs[k] !== foundMark.attrs[k]) {\n        needsUpdate = true;\n      }\n    });\n    if (needsUpdate) {\n      const updatedMark = checkMark.type.create({\n        ...checkMark.attrs,\n        ...attrs\n      });\n      tr.removeMark(from, to, checkMark.type);\n      tr.addMark(from, to, updatedMark);\n    }\n  });\n  if (tr.docChanged) {\n    editor.view.dispatch(tr);\n  }\n}\nvar MarkView = class {\n  constructor(component, props, options) {\n    this.component = component;\n    this.editor = props.editor;\n    this.options = { ...options };\n    this.mark = props.mark;\n    this.HTMLAttributes = props.HTMLAttributes;\n  }\n  get dom() {\n    return this.editor.view.dom;\n  }\n  get contentDOM() {\n    return null;\n  }\n  /**\n   * Update the attributes of the mark in the document.\n   * @param attrs The attributes to update.\n   */\n  updateAttributes(attrs, checkMark) {\n    updateMarkViewAttributes(checkMark || this.mark, this.editor, attrs);\n  }\n  ignoreMutation(mutation) {\n    if (!this.dom || !this.contentDOM) {\n      return true;\n    }\n    if (typeof this.options.ignoreMutation === \"function\") {\n      return this.options.ignoreMutation({ mutation });\n    }\n    if (mutation.type === \"selection\") {\n      return false;\n    }\n    if (this.dom.contains(mutation.target) && mutation.type === \"childList\" && (isiOS() || isAndroid()) && this.editor.isFocused) {\n      const changedNodes = [...Array.from(mutation.addedNodes), ...Array.from(mutation.removedNodes)];\n      if (changedNodes.every((node) => node.isContentEditable)) {\n        return false;\n      }\n    }\n    if (this.contentDOM === mutation.target && mutation.type === \"attributes\") {\n      return true;\n    }\n    if (this.contentDOM.contains(mutation.target)) {\n      return false;\n    }\n    return true;\n  }\n};\n\n// src/Node.ts\nvar Node3 = class _Node extends Extendable {\n  constructor() {\n    super(...arguments);\n    this.type = \"node\";\n  }\n  /**\n   * Create a new Node instance\n   * @param config - Node configuration object or a function that returns a configuration object\n   */\n  static create(config = {}) {\n    const resolvedConfig = typeof config === \"function\" ? config() : config;\n    return new _Node(resolvedConfig);\n  }\n  configure(options) {\n    return super.configure(options);\n  }\n  extend(extendedConfig) {\n    const resolvedConfig = typeof extendedConfig === \"function\" ? extendedConfig() : extendedConfig;\n    return super.extend(resolvedConfig);\n  }\n};\n\n// src/NodeView.ts\nimport { NodeSelection as NodeSelection5 } from \"@tiptap/pm/state\";\nvar NodeView = class {\n  constructor(component, props, options) {\n    this.isDragging = false;\n    this.component = component;\n    this.editor = props.editor;\n    this.options = {\n      stopEvent: null,\n      ignoreMutation: null,\n      ...options\n    };\n    this.extension = props.extension;\n    this.node = props.node;\n    this.decorations = props.decorations;\n    this.innerDecorations = props.innerDecorations;\n    this.view = props.view;\n    this.HTMLAttributes = props.HTMLAttributes;\n    this.getPos = props.getPos;\n    this.mount();\n  }\n  mount() {\n    return;\n  }\n  get dom() {\n    return this.editor.view.dom;\n  }\n  get contentDOM() {\n    return null;\n  }\n  onDragStart(event) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const { view } = this.editor;\n    const target = event.target;\n    const dragHandle = target.nodeType === 3 ? (_a = target.parentElement) == null ? void 0 : _a.closest(\"[data-drag-handle]\") : target.closest(\"[data-drag-handle]\");\n    if (!this.dom || ((_b = this.contentDOM) == null ? void 0 : _b.contains(target)) || !dragHandle) {\n      return;\n    }\n    let x = 0;\n    let y = 0;\n    if (this.dom !== dragHandle) {\n      const domBox = this.dom.getBoundingClientRect();\n      const handleBox = dragHandle.getBoundingClientRect();\n      const offsetX = (_d = event.offsetX) != null ? _d : (_c = event.nativeEvent) == null ? void 0 : _c.offsetX;\n      const offsetY = (_f = event.offsetY) != null ? _f : (_e = event.nativeEvent) == null ? void 0 : _e.offsetY;\n      x = handleBox.x - domBox.x + offsetX;\n      y = handleBox.y - domBox.y + offsetY;\n    }\n    const clonedNode = this.dom.cloneNode(true);\n    try {\n      const domBox = this.dom.getBoundingClientRect();\n      clonedNode.style.width = `${Math.round(domBox.width)}px`;\n      clonedNode.style.height = `${Math.round(domBox.height)}px`;\n      clonedNode.style.boxSizing = \"border-box\";\n      clonedNode.style.pointerEvents = \"none\";\n    } catch {\n    }\n    let dragImageWrapper = null;\n    try {\n      dragImageWrapper = document.createElement(\"div\");\n      dragImageWrapper.style.position = \"absolute\";\n      dragImageWrapper.style.top = \"-9999px\";\n      dragImageWrapper.style.left = \"-9999px\";\n      dragImageWrapper.style.pointerEvents = \"none\";\n      dragImageWrapper.appendChild(clonedNode);\n      document.body.appendChild(dragImageWrapper);\n      (_g = event.dataTransfer) == null ? void 0 : _g.setDragImage(clonedNode, x, y);\n    } finally {\n      if (dragImageWrapper) {\n        setTimeout(() => {\n          try {\n            dragImageWrapper == null ? void 0 : dragImageWrapper.remove();\n          } catch {\n          }\n        }, 0);\n      }\n    }\n    const pos = this.getPos();\n    if (typeof pos !== \"number\") {\n      return;\n    }\n    const selection = NodeSelection5.create(view.state.doc, pos);\n    const transaction = view.state.tr.setSelection(selection);\n    view.dispatch(transaction);\n  }\n  stopEvent(event) {\n    var _a;\n    if (!this.dom) {\n      return false;\n    }\n    if (typeof this.options.stopEvent === \"function\") {\n      return this.options.stopEvent({ event });\n    }\n    const target = event.target;\n    const isInElement = this.dom.contains(target) && !((_a = this.contentDOM) == null ? void 0 : _a.contains(target));\n    if (!isInElement) {\n      return false;\n    }\n    const isDragEvent = event.type.startsWith(\"drag\");\n    const isDropEvent = event.type === \"drop\";\n    const isInput = [\"INPUT\", \"BUTTON\", \"SELECT\", \"TEXTAREA\"].includes(target.tagName) || target.isContentEditable;\n    if (isInput && !isDropEvent && !isDragEvent) {\n      return true;\n    }\n    const { isEditable } = this.editor;\n    const { isDragging } = this;\n    const isDraggable = !!this.node.type.spec.draggable;\n    const isSelectable = NodeSelection5.isSelectable(this.node);\n    const isCopyEvent = event.type === \"copy\";\n    const isPasteEvent = event.type === \"paste\";\n    const isCutEvent = event.type === \"cut\";\n    const isClickEvent = event.type === \"mousedown\";\n    if (!isDraggable && isSelectable && isDragEvent && event.target === this.dom) {\n      event.preventDefault();\n    }\n    if (isDraggable && isDragEvent && !isDragging && event.target === this.dom) {\n      event.preventDefault();\n      return false;\n    }\n    if (isDraggable && isEditable && !isDragging && isClickEvent) {\n      const dragHandle = target.closest(\"[data-drag-handle]\");\n      const isValidDragHandle = dragHandle && (this.dom === dragHandle || this.dom.contains(dragHandle));\n      if (isValidDragHandle) {\n        this.isDragging = true;\n        document.addEventListener(\n          \"dragend\",\n          () => {\n            this.isDragging = false;\n          },\n          { once: true }\n        );\n        document.addEventListener(\n          \"drop\",\n          () => {\n            this.isDragging = false;\n          },\n          { once: true }\n        );\n        document.addEventListener(\n          \"mouseup\",\n          () => {\n            this.isDragging = false;\n          },\n          { once: true }\n        );\n      }\n    }\n    if (isDragging || isDropEvent || isCopyEvent || isPasteEvent || isCutEvent || isClickEvent && isSelectable) {\n      return false;\n    }\n    return true;\n  }\n  /**\n   * Called when a DOM [mutation](https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver) or a selection change happens within the view.\n   * @return `false` if the editor should re-read the selection or re-parse the range around the mutation\n   * @return `true` if it can safely be ignored.\n   */\n  ignoreMutation(mutation) {\n    if (!this.dom || !this.contentDOM) {\n      return true;\n    }\n    if (typeof this.options.ignoreMutation === \"function\") {\n      return this.options.ignoreMutation({ mutation });\n    }\n    if (this.node.isLeaf || this.node.isAtom) {\n      return true;\n    }\n    if (mutation.type === \"selection\") {\n      return false;\n    }\n    if (this.dom.contains(mutation.target) && mutation.type === \"childList\" && (isiOS() || isAndroid()) && this.editor.isFocused) {\n      const changedNodes = [...Array.from(mutation.addedNodes), ...Array.from(mutation.removedNodes)];\n      if (changedNodes.every((node) => node.isContentEditable)) {\n        return false;\n      }\n    }\n    if (this.contentDOM === mutation.target && mutation.type === \"attributes\") {\n      return true;\n    }\n    if (this.contentDOM.contains(mutation.target)) {\n      return false;\n    }\n    return true;\n  }\n  /**\n   * Update the attributes of the prosemirror node.\n   */\n  updateAttributes(attributes) {\n    this.editor.commands.command(({ tr }) => {\n      const pos = this.getPos();\n      if (typeof pos !== \"number\") {\n        return false;\n      }\n      tr.setNodeMarkup(pos, void 0, {\n        ...this.node.attrs,\n        ...attributes\n      });\n      return true;\n    });\n  }\n  /**\n   * Delete the node.\n   */\n  deleteNode() {\n    const from = this.getPos();\n    if (typeof from !== \"number\") {\n      return;\n    }\n    const to = from + this.node.nodeSize;\n    this.editor.commands.deleteRange({ from, to });\n  }\n};\n\n// src/pasteRules/markPasteRule.ts\nfunction markPasteRule(config) {\n  return new PasteRule({\n    find: config.find,\n    handler: ({ state, range, match, pasteEvent }) => {\n      const attributes = callOrReturn(config.getAttributes, void 0, match, pasteEvent);\n      if (attributes === false || attributes === null) {\n        return null;\n      }\n      const { tr } = state;\n      const captureGroup = match[match.length - 1];\n      const fullMatch = match[0];\n      let markEnd = range.to;\n      if (captureGroup) {\n        const startSpaces = fullMatch.search(/\\S/);\n        const textStart = range.from + fullMatch.indexOf(captureGroup);\n        const textEnd = textStart + captureGroup.length;\n        const excludedMarks = getMarksBetween(range.from, range.to, state.doc).filter((item) => {\n          const excluded = item.mark.type.excluded;\n          return excluded.find((type) => type === config.type && type !== item.mark.type);\n        }).filter((item) => item.to > textStart);\n        if (excludedMarks.length) {\n          return null;\n        }\n        if (textEnd < range.to) {\n          tr.delete(textEnd, range.to);\n        }\n        if (textStart > range.from) {\n          tr.delete(range.from + startSpaces, textStart);\n        }\n        markEnd = range.from + startSpaces + captureGroup.length;\n        tr.addMark(range.from + startSpaces, markEnd, config.type.create(attributes || {}));\n        tr.removeStoredMark(config.type);\n      }\n    }\n  });\n}\n\n// src/pasteRules/nodePasteRule.ts\nfunction nodePasteRule(config) {\n  return new PasteRule({\n    find: config.find,\n    handler({ match, chain, range, pasteEvent }) {\n      const attributes = callOrReturn(config.getAttributes, void 0, match, pasteEvent);\n      const content = callOrReturn(config.getContent, void 0, attributes);\n      if (attributes === false || attributes === null) {\n        return null;\n      }\n      const node = { type: config.type.name, attrs: attributes };\n      if (content) {\n        node.content = content;\n      }\n      if (match.input) {\n        chain().deleteRange(range).insertContentAt(range.from, node);\n      }\n    }\n  });\n}\n\n// src/pasteRules/textPasteRule.ts\nfunction textPasteRule(config) {\n  return new PasteRule({\n    find: config.find,\n    handler: ({ state, range, match }) => {\n      let insert = config.replace;\n      let start = range.from;\n      const end = range.to;\n      if (match[1]) {\n        const offset = match[0].lastIndexOf(match[1]);\n        insert += match[0].slice(offset + match[1].length);\n        start += offset;\n        const cutOff = start - end;\n        if (cutOff > 0) {\n          insert = match[0].slice(offset - cutOff, offset) + insert;\n          start = end;\n        }\n      }\n      state.tr.insertText(insert, start, end);\n    }\n  });\n}\n\n// src/Tracker.ts\nvar Tracker = class {\n  constructor(transaction) {\n    this.transaction = transaction;\n    this.currentStep = this.transaction.steps.length;\n  }\n  map(position) {\n    let deleted = false;\n    const mappedPosition = this.transaction.steps.slice(this.currentStep).reduce((newPosition, step) => {\n      const mapResult = step.getMap().mapResult(newPosition);\n      if (mapResult.deleted) {\n        deleted = true;\n      }\n      return mapResult.pos;\n    }, position);\n    return {\n      position: mappedPosition,\n      deleted\n    };\n  }\n};\nexport {\n  CommandManager,\n  Editor,\n  Extendable,\n  Extension,\n  Fragment6 as Fragment,\n  InputRule,\n  MappablePosition,\n  Mark,\n  MarkView,\n  Node3 as Node,\n  NodePos,\n  NodeView,\n  PasteRule,\n  ResizableNodeView,\n  ResizableNodeview,\n  Tracker,\n  callOrReturn,\n  canInsertNode,\n  combineTransactionSteps,\n  commands_exports as commands,\n  createAtomBlockMarkdownSpec,\n  createBlockMarkdownSpec,\n  createChainableState,\n  createDocument,\n  h as createElement,\n  createInlineMarkdownSpec,\n  createMappablePosition,\n  createNodeFromContent,\n  createStyleTag,\n  defaultBlockAt,\n  deleteProps,\n  elementFromString,\n  escapeForRegEx,\n  extensions_exports as extensions,\n  findChildren,\n  findChildrenInRange,\n  findDuplicates,\n  findParentNode,\n  findParentNodeClosestToPos,\n  flattenExtensions,\n  fromString,\n  generateHTML,\n  generateJSON,\n  generateText,\n  getAttributes,\n  getAttributesFromExtensions,\n  getChangedRanges,\n  getDebugJSON,\n  getExtensionField,\n  getHTMLFromFragment,\n  getMarkAttributes,\n  getMarkRange,\n  getMarkType,\n  getMarksBetween,\n  getNodeAtPosition,\n  getNodeAttributes,\n  getNodeType,\n  getRenderedAttributes,\n  getSchema,\n  getSchemaByResolvedExtensions,\n  getSchemaTypeByName,\n  getSchemaTypeNameByName,\n  getSplittedAttributes,\n  getText,\n  getTextBetween,\n  getTextContentFromNodes,\n  getTextSerializersFromSchema,\n  getUpdatedPosition,\n  h,\n  injectExtensionAttributesToParseRule,\n  inputRulesPlugin,\n  isActive,\n  isAndroid,\n  isAtEndOfNode,\n  isAtStartOfNode,\n  isEmptyObject,\n  isExtensionRulesEnabled,\n  isFirefox,\n  isFunction,\n  isList,\n  isMacOS,\n  isMarkActive,\n  isNodeActive,\n  isNodeEmpty,\n  isNodeSelection,\n  isNumber,\n  isPlainObject,\n  isRegExp,\n  isSafari,\n  isString,\n  isTextSelection,\n  isiOS,\n  markInputRule,\n  markPasteRule,\n  markdown_exports as markdown,\n  mergeAttributes,\n  mergeDeep,\n  minMax,\n  nodeInputRule,\n  nodePasteRule,\n  objectIncludes,\n  parseAttributes,\n  parseIndentedBlocks,\n  pasteRulesPlugin,\n  posToDOMRect,\n  removeDuplicates,\n  renderNestedMarkdownContent,\n  resolveExtensions,\n  resolveFocusPosition,\n  rewriteUnknownContent,\n  selectionToInsertionEnd,\n  serializeAttributes,\n  sortExtensions,\n  splitExtensions,\n  textInputRule,\n  textPasteRule,\n  textblockTypeInputRule,\n  updateMarkViewAttributes,\n  wrappingInputRule\n};\n//# sourceMappingURL=index.js.map","// src/jsx-runtime.ts\nfunction Fragment(props) {\n  return props.children;\n}\nvar h = (tag, attributes) => {\n  if (tag === \"slot\") {\n    return 0;\n  }\n  if (tag instanceof Function) {\n    return tag(attributes);\n  }\n  const { children, ...rest } = attributes != null ? attributes : {};\n  if (tag === \"svg\") {\n    throw new Error(\"SVG elements are not supported in the JSX syntax, use the array syntax instead\");\n  }\n  return [tag, rest, children];\n};\nexport {\n  Fragment,\n  h as createElement,\n  h,\n  h as jsx,\n  h as jsxDEV,\n  h as jsxs\n};\n//# sourceMappingURL=jsx-runtime.js.map","// THIS FILE IS AUTOMATICALLY GENERATED DO NOT EDIT DIRECTLY\n// See update-tlds.js for encoding/decoding format\n// https://data.iana.org/TLD/tlds-alpha-by-domain.txt\nconst encodedTlds = 'aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2';\n// Internationalized domain names containing non-ASCII\nconst encodedUtlds = 'ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2';\n\n/**\n * Finite State Machine generation utilities\n */\n\n/**\n * @template T\n * @typedef {{ [group: string]: T[] }} Collections\n */\n\n/**\n * @typedef {{ [group: string]: true }} Flags\n */\n\n// Keys in scanner Collections instances\nconst numeric = 'numeric';\nconst ascii = 'ascii';\nconst alpha = 'alpha';\nconst asciinumeric = 'asciinumeric';\nconst alphanumeric = 'alphanumeric';\nconst domain = 'domain';\nconst emoji = 'emoji';\nconst scheme = 'scheme';\nconst slashscheme = 'slashscheme';\nconst whitespace = 'whitespace';\n\n/**\n * @template T\n * @param {string} name\n * @param {Collections<T>} groups to register in\n * @returns {T[]} Current list of tokens in the given collection\n */\nfunction registerGroup(name, groups) {\n  if (!(name in groups)) {\n    groups[name] = [];\n  }\n  return groups[name];\n}\n\n/**\n * @template T\n * @param {T} t token to add\n * @param {Collections<T>} groups\n * @param {Flags} flags\n */\nfunction addToGroups(t, flags, groups) {\n  if (flags[numeric]) {\n    flags[asciinumeric] = true;\n    flags[alphanumeric] = true;\n  }\n  if (flags[ascii]) {\n    flags[asciinumeric] = true;\n    flags[alpha] = true;\n  }\n  if (flags[asciinumeric]) {\n    flags[alphanumeric] = true;\n  }\n  if (flags[alpha]) {\n    flags[alphanumeric] = true;\n  }\n  if (flags[alphanumeric]) {\n    flags[domain] = true;\n  }\n  if (flags[emoji]) {\n    flags[domain] = true;\n  }\n  for (const k in flags) {\n    const group = registerGroup(k, groups);\n    if (group.indexOf(t) < 0) {\n      group.push(t);\n    }\n  }\n}\n\n/**\n * @template T\n * @param {T} t token to check\n * @param {Collections<T>} groups\n * @returns {Flags} group flags that contain this token\n */\nfunction flagsForToken(t, groups) {\n  const result = {};\n  for (const c in groups) {\n    if (groups[c].indexOf(t) >= 0) {\n      result[c] = true;\n    }\n  }\n  return result;\n}\n\n/**\n * @template T\n * @typedef {null | T } Transition\n */\n\n/**\n * Define a basic state machine state. j is the list of character transitions,\n * jr is the list of regex-match transitions, jd is the default state to\n * transition to t is the accepting token type, if any. If this is the terminal\n * state, then it does not emit a token.\n *\n * The template type T represents the type of the token this state accepts. This\n * should be a string (such as of the token exports in `text.js`) or a\n * MultiToken subclass (from `multi.js`)\n *\n * @template T\n * @param {T} [token] Token that this state emits\n */\nfunction State(token = null) {\n  // this.n = null; // DEBUG: State name\n  /** @type {{ [input: string]: State<T> }} j */\n  this.j = {}; // IMPLEMENTATION 1\n  // this.j = []; // IMPLEMENTATION 2\n  /** @type {[RegExp, State<T>][]} jr */\n  this.jr = [];\n  /** @type {?State<T>} jd */\n  this.jd = null;\n  /** @type {?T} t */\n  this.t = token;\n}\n\n/**\n * Scanner token groups\n * @type Collections<string>\n */\nState.groups = {};\nState.prototype = {\n  accepts() {\n    return !!this.t;\n  },\n  /**\n   * Follow an existing transition from the given input to the next state.\n   * Does not mutate.\n   * @param {string} input character or token type to transition on\n   * @returns {?State<T>} the next state, if any\n   */\n  go(input) {\n    const state = this;\n    const nextState = state.j[input];\n    if (nextState) {\n      return nextState;\n    }\n    for (let i = 0; i < state.jr.length; i++) {\n      const regex = state.jr[i][0];\n      const nextState = state.jr[i][1]; // note: might be empty to prevent default jump\n      if (nextState && regex.test(input)) {\n        return nextState;\n      }\n    }\n    // Nowhere left to jump! Return default, if any\n    return state.jd;\n  },\n  /**\n   * Whether the state has a transition for the given input. Set the second\n   * argument to true to only look for an exact match (and not a default or\n   * regular-expression-based transition)\n   * @param {string} input\n   * @param {boolean} exactOnly\n   */\n  has(input, exactOnly = false) {\n    return exactOnly ? input in this.j : !!this.go(input);\n  },\n  /**\n   * Short for \"transition all\"; create a transition from the array of items\n   * in the given list to the same final resulting state.\n   * @param {string | string[]} inputs Group of inputs to transition on\n   * @param {Transition<T> | State<T>} [next] Transition options\n   * @param {Flags} [flags] Collections flags to add token to\n   * @param {Collections<T>} [groups] Master list of token groups\n   */\n  ta(inputs, next, flags, groups) {\n    for (let i = 0; i < inputs.length; i++) {\n      this.tt(inputs[i], next, flags, groups);\n    }\n  },\n  /**\n   * Short for \"take regexp transition\"; defines a transition for this state\n   * when it encounters a token which matches the given regular expression\n   * @param {RegExp} regexp Regular expression transition (populate first)\n   * @param {T | State<T>} [next] Transition options\n   * @param {Flags} [flags] Collections flags to add token to\n   * @param {Collections<T>} [groups] Master list of token groups\n   * @returns {State<T>} taken after the given input\n   */\n  tr(regexp, next, flags, groups) {\n    groups = groups || State.groups;\n    let nextState;\n    if (next && next.j) {\n      nextState = next;\n    } else {\n      // Token with maybe token groups\n      nextState = new State(next);\n      if (flags && groups) {\n        addToGroups(next, flags, groups);\n      }\n    }\n    this.jr.push([regexp, nextState]);\n    return nextState;\n  },\n  /**\n   * Short for \"take transitions\", will take as many sequential transitions as\n   * the length of the given input and returns the\n   * resulting final state.\n   * @param {string | string[]} input\n   * @param {T | State<T>} [next] Transition options\n   * @param {Flags} [flags] Collections flags to add token to\n   * @param {Collections<T>} [groups] Master list of token groups\n   * @returns {State<T>} taken after the given input\n   */\n  ts(input, next, flags, groups) {\n    let state = this;\n    const len = input.length;\n    if (!len) {\n      return state;\n    }\n    for (let i = 0; i < len - 1; i++) {\n      state = state.tt(input[i]);\n    }\n    return state.tt(input[len - 1], next, flags, groups);\n  },\n  /**\n   * Short for \"take transition\", this is a method for building/working with\n   * state machines.\n   *\n   * If a state already exists for the given input, returns it.\n   *\n   * If a token is specified, that state will emit that token when reached by\n   * the linkify engine.\n   *\n   * If no state exists, it will be initialized with some default transitions\n   * that resemble existing default transitions.\n   *\n   * If a state is given for the second argument, that state will be\n   * transitioned to on the given input regardless of what that input\n   * previously did.\n   *\n   * Specify a token group flags to define groups that this token belongs to.\n   * The token will be added to corresponding entires in the given groups\n   * object.\n   *\n   * @param {string} input character, token type to transition on\n   * @param {T | State<T>} [next] Transition options\n   * @param {Flags} [flags] Collections flags to add token to\n   * @param {Collections<T>} [groups] Master list of groups\n   * @returns {State<T>} taken after the given input\n   */\n  tt(input, next, flags, groups) {\n    groups = groups || State.groups;\n    const state = this;\n\n    // Check if existing state given, just a basic transition\n    if (next && next.j) {\n      state.j[input] = next;\n      return next;\n    }\n    const t = next;\n\n    // Take the transition with the usual default mechanisms and use that as\n    // a template for creating the next state\n    let nextState,\n      templateState = state.go(input);\n    if (templateState) {\n      nextState = new State();\n      Object.assign(nextState.j, templateState.j);\n      nextState.jr.push.apply(nextState.jr, templateState.jr);\n      nextState.jd = templateState.jd;\n      nextState.t = templateState.t;\n    } else {\n      nextState = new State();\n    }\n    if (t) {\n      // Ensure newly token is in the same groups as the old token\n      if (groups) {\n        if (nextState.t && typeof nextState.t === 'string') {\n          const allFlags = Object.assign(flagsForToken(nextState.t, groups), flags);\n          addToGroups(t, allFlags, groups);\n        } else if (flags) {\n          addToGroups(t, flags, groups);\n        }\n      }\n      nextState.t = t; // overwrite anything that was previously there\n    }\n    state.j[input] = nextState;\n    return nextState;\n  }\n};\n\n// Helper functions to improve minification (not exported outside linkifyjs module)\n\n/**\n * @template T\n * @param {State<T>} state\n * @param {string | string[]} input\n * @param {Flags} [flags]\n * @param {Collections<T>} [groups]\n */\nconst ta = (state, input, next, flags, groups) => state.ta(input, next, flags, groups);\n\n/**\n * @template T\n * @param {State<T>} state\n * @param {RegExp} regexp\n * @param {T | State<T>} [next]\n * @param {Flags} [flags]\n * @param {Collections<T>} [groups]\n */\nconst tr = (state, regexp, next, flags, groups) => state.tr(regexp, next, flags, groups);\n\n/**\n * @template T\n * @param {State<T>} state\n * @param {string | string[]} input\n * @param {T | State<T>} [next]\n * @param {Flags} [flags]\n * @param {Collections<T>} [groups]\n */\nconst ts = (state, input, next, flags, groups) => state.ts(input, next, flags, groups);\n\n/**\n * @template T\n * @param {State<T>} state\n * @param {string} input\n * @param {T | State<T>} [next]\n * @param {Collections<T>} [groups]\n * @param {Flags} [flags]\n */\nconst tt = (state, input, next, flags, groups) => state.tt(input, next, flags, groups);\n\n/******************************************************************************\nText Tokens\nIdentifiers for token outputs from the regexp scanner\n******************************************************************************/\n\n// A valid web domain token\nconst WORD = 'WORD'; // only contains a-z\nconst UWORD = 'UWORD'; // contains letters other than a-z, used for IDN\nconst ASCIINUMERICAL = 'ASCIINUMERICAL'; // contains a-z, 0-9\nconst ALPHANUMERICAL = 'ALPHANUMERICAL'; // contains numbers and letters other than a-z, used for IDN\n\n// Special case of word\nconst LOCALHOST = 'LOCALHOST';\n\n// Valid top-level domain, special case of WORD (see tlds.js)\nconst TLD = 'TLD';\n\n// Valid IDN TLD, special case of UWORD (see tlds.js)\nconst UTLD = 'UTLD';\n\n// The scheme portion of a web URI protocol. Supported types include: `mailto`,\n// `file`, and user-defined custom protocols. Limited to schemes that contain\n// only letters\nconst SCHEME = 'SCHEME';\n\n// Similar to SCHEME, except makes distinction for schemes that must always be\n// followed by `://`, not just `:`. Supported types include `http`, `https`,\n// `ftp`, `ftps`\nconst SLASH_SCHEME = 'SLASH_SCHEME';\n\n// Any sequence of digits 0-9\nconst NUM = 'NUM';\n\n// Any number of consecutive whitespace characters that are not newline\nconst WS = 'WS';\n\n// New line (unix style)\nconst NL = 'NL'; // \\n\n\n// Opening/closing bracket classes\n// TODO: Rename OPEN -> LEFT and CLOSE -> RIGHT in v5 to fit with Unicode names\n// Also rename angle brackes to LESSTHAN and GREATER THAN\nconst OPENBRACE = 'OPENBRACE'; // {\nconst CLOSEBRACE = 'CLOSEBRACE'; // }\nconst OPENBRACKET = 'OPENBRACKET'; // [\nconst CLOSEBRACKET = 'CLOSEBRACKET'; // ]\nconst OPENPAREN = 'OPENPAREN'; // (\nconst CLOSEPAREN = 'CLOSEPAREN'; // )\nconst OPENANGLEBRACKET = 'OPENANGLEBRACKET'; // <\nconst CLOSEANGLEBRACKET = 'CLOSEANGLEBRACKET'; // >\nconst FULLWIDTHLEFTPAREN = 'FULLWIDTHLEFTPAREN'; // （\nconst FULLWIDTHRIGHTPAREN = 'FULLWIDTHRIGHTPAREN'; // ）\nconst LEFTCORNERBRACKET = 'LEFTCORNERBRACKET'; // 「\nconst RIGHTCORNERBRACKET = 'RIGHTCORNERBRACKET'; // 」\nconst LEFTWHITECORNERBRACKET = 'LEFTWHITECORNERBRACKET'; // 『\nconst RIGHTWHITECORNERBRACKET = 'RIGHTWHITECORNERBRACKET'; // 』\nconst FULLWIDTHLESSTHAN = 'FULLWIDTHLESSTHAN'; // ＜\nconst FULLWIDTHGREATERTHAN = 'FULLWIDTHGREATERTHAN'; // ＞\n\n// Various symbols\nconst AMPERSAND = 'AMPERSAND'; // &\nconst APOSTROPHE = 'APOSTROPHE'; // '\nconst ASTERISK = 'ASTERISK'; // *\nconst AT = 'AT'; // @\nconst BACKSLASH = 'BACKSLASH'; // \\\nconst BACKTICK = 'BACKTICK'; // `\nconst CARET = 'CARET'; // ^\nconst COLON = 'COLON'; // :\nconst COMMA = 'COMMA'; // ,\nconst DOLLAR = 'DOLLAR'; // $\nconst DOT = 'DOT'; // .\nconst EQUALS = 'EQUALS'; // =\nconst EXCLAMATION = 'EXCLAMATION'; // !\nconst HYPHEN = 'HYPHEN'; // -\nconst PERCENT = 'PERCENT'; // %\nconst PIPE = 'PIPE'; // |\nconst PLUS = 'PLUS'; // +\nconst POUND = 'POUND'; // #\nconst QUERY = 'QUERY'; // ?\nconst QUOTE = 'QUOTE'; // \"\nconst FULLWIDTHMIDDLEDOT = 'FULLWIDTHMIDDLEDOT'; // ・\n\nconst SEMI = 'SEMI'; // ;\nconst SLASH = 'SLASH'; // /\nconst TILDE = 'TILDE'; // ~\nconst UNDERSCORE = 'UNDERSCORE'; // _\n\n// Emoji symbol\nconst EMOJI$1 = 'EMOJI';\n\n// Default token - anything that is not one of the above\nconst SYM = 'SYM';\n\nvar tk = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tALPHANUMERICAL: ALPHANUMERICAL,\n\tAMPERSAND: AMPERSAND,\n\tAPOSTROPHE: APOSTROPHE,\n\tASCIINUMERICAL: ASCIINUMERICAL,\n\tASTERISK: ASTERISK,\n\tAT: AT,\n\tBACKSLASH: BACKSLASH,\n\tBACKTICK: BACKTICK,\n\tCARET: CARET,\n\tCLOSEANGLEBRACKET: CLOSEANGLEBRACKET,\n\tCLOSEBRACE: CLOSEBRACE,\n\tCLOSEBRACKET: CLOSEBRACKET,\n\tCLOSEPAREN: CLOSEPAREN,\n\tCOLON: COLON,\n\tCOMMA: COMMA,\n\tDOLLAR: DOLLAR,\n\tDOT: DOT,\n\tEMOJI: EMOJI$1,\n\tEQUALS: EQUALS,\n\tEXCLAMATION: EXCLAMATION,\n\tFULLWIDTHGREATERTHAN: FULLWIDTHGREATERTHAN,\n\tFULLWIDTHLEFTPAREN: FULLWIDTHLEFTPAREN,\n\tFULLWIDTHLESSTHAN: FULLWIDTHLESSTHAN,\n\tFULLWIDTHMIDDLEDOT: FULLWIDTHMIDDLEDOT,\n\tFULLWIDTHRIGHTPAREN: FULLWIDTHRIGHTPAREN,\n\tHYPHEN: HYPHEN,\n\tLEFTCORNERBRACKET: LEFTCORNERBRACKET,\n\tLEFTWHITECORNERBRACKET: LEFTWHITECORNERBRACKET,\n\tLOCALHOST: LOCALHOST,\n\tNL: NL,\n\tNUM: NUM,\n\tOPENANGLEBRACKET: OPENANGLEBRACKET,\n\tOPENBRACE: OPENBRACE,\n\tOPENBRACKET: OPENBRACKET,\n\tOPENPAREN: OPENPAREN,\n\tPERCENT: PERCENT,\n\tPIPE: PIPE,\n\tPLUS: PLUS,\n\tPOUND: POUND,\n\tQUERY: QUERY,\n\tQUOTE: QUOTE,\n\tRIGHTCORNERBRACKET: RIGHTCORNERBRACKET,\n\tRIGHTWHITECORNERBRACKET: RIGHTWHITECORNERBRACKET,\n\tSCHEME: SCHEME,\n\tSEMI: SEMI,\n\tSLASH: SLASH,\n\tSLASH_SCHEME: SLASH_SCHEME,\n\tSYM: SYM,\n\tTILDE: TILDE,\n\tTLD: TLD,\n\tUNDERSCORE: UNDERSCORE,\n\tUTLD: UTLD,\n\tUWORD: UWORD,\n\tWORD: WORD,\n\tWS: WS\n});\n\n// Note that these two Unicode ones expand into a really big one with Babel\nconst ASCII_LETTER = /[a-z]/;\nconst LETTER = /\\p{L}/u; // Any Unicode character with letter data type\nconst EMOJI = /\\p{Emoji}/u; // Any Unicode emoji character\nconst EMOJI_VARIATION$1 = /\\ufe0f/;\nconst DIGIT = /\\d/;\nconst SPACE = /\\s/;\n\nvar regexp = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tASCII_LETTER: ASCII_LETTER,\n\tDIGIT: DIGIT,\n\tEMOJI: EMOJI,\n\tEMOJI_VARIATION: EMOJI_VARIATION$1,\n\tLETTER: LETTER,\n\tSPACE: SPACE\n});\n\n/**\n\tThe scanner provides an interface that takes a string of text as input, and\n\toutputs an array of tokens instances that can be used for easy URL parsing.\n*/\n\nconst CR = '\\r'; // carriage-return character\nconst LF = '\\n'; // line-feed character\nconst EMOJI_VARIATION = '\\ufe0f'; // Variation selector, follows heart and others\nconst EMOJI_JOINER = '\\u200d'; // zero-width joiner\nconst OBJECT_REPLACEMENT = '\\ufffc'; // whitespace placeholder that sometimes appears in rich text editors\n\nlet tlds = null,\n  utlds = null; // don't change so only have to be computed once\n\n/**\n * Scanner output token:\n * - `t` is the token name (e.g., 'NUM', 'EMOJI', 'TLD')\n * - `v` is the value of the token (e.g., '123', '❤️', 'com')\n * - `s` is the start index of the token in the original string\n * - `e` is the end index of the token in the original string\n * @typedef {{t: string, v: string, s: number, e: number}} Token\n */\n\n/**\n * @template T\n * @typedef {{ [collection: string]: T[] }} Collections\n */\n\n/**\n * Initialize the scanner character-based state machine for the given start\n * state\n * @param {[string, boolean][]} customSchemes List of custom schemes, where each\n * item is a length-2 tuple with the first element set to the string scheme, and\n * the second element set to `true` if the `://` after the scheme is optional\n */\nfunction init$2(customSchemes = []) {\n  // Frequently used states (name argument removed during minification)\n  /** @type Collections<string> */\n  const groups = {}; // of tokens\n  State.groups = groups;\n  /** @type State<string> */\n  const Start = new State();\n  if (tlds == null) {\n    tlds = decodeTlds(encodedTlds);\n  }\n  if (utlds == null) {\n    utlds = decodeTlds(encodedUtlds);\n  }\n\n  // States for special URL symbols that accept immediately after start\n  tt(Start, \"'\", APOSTROPHE);\n  tt(Start, '{', OPENBRACE);\n  tt(Start, '}', CLOSEBRACE);\n  tt(Start, '[', OPENBRACKET);\n  tt(Start, ']', CLOSEBRACKET);\n  tt(Start, '(', OPENPAREN);\n  tt(Start, ')', CLOSEPAREN);\n  tt(Start, '<', OPENANGLEBRACKET);\n  tt(Start, '>', CLOSEANGLEBRACKET);\n  tt(Start, '（', FULLWIDTHLEFTPAREN);\n  tt(Start, '）', FULLWIDTHRIGHTPAREN);\n  tt(Start, '「', LEFTCORNERBRACKET);\n  tt(Start, '」', RIGHTCORNERBRACKET);\n  tt(Start, '『', LEFTWHITECORNERBRACKET);\n  tt(Start, '』', RIGHTWHITECORNERBRACKET);\n  tt(Start, '＜', FULLWIDTHLESSTHAN);\n  tt(Start, '＞', FULLWIDTHGREATERTHAN);\n  tt(Start, '&', AMPERSAND);\n  tt(Start, '*', ASTERISK);\n  tt(Start, '@', AT);\n  tt(Start, '`', BACKTICK);\n  tt(Start, '^', CARET);\n  tt(Start, ':', COLON);\n  tt(Start, ',', COMMA);\n  tt(Start, '$', DOLLAR);\n  tt(Start, '.', DOT);\n  tt(Start, '=', EQUALS);\n  tt(Start, '!', EXCLAMATION);\n  tt(Start, '-', HYPHEN);\n  tt(Start, '%', PERCENT);\n  tt(Start, '|', PIPE);\n  tt(Start, '+', PLUS);\n  tt(Start, '#', POUND);\n  tt(Start, '?', QUERY);\n  tt(Start, '\"', QUOTE);\n  tt(Start, '/', SLASH);\n  tt(Start, ';', SEMI);\n  tt(Start, '~', TILDE);\n  tt(Start, '_', UNDERSCORE);\n  tt(Start, '\\\\', BACKSLASH);\n  tt(Start, '・', FULLWIDTHMIDDLEDOT);\n  const Num = tr(Start, DIGIT, NUM, {\n    [numeric]: true\n  });\n  tr(Num, DIGIT, Num);\n  const Asciinumeric = tr(Num, ASCII_LETTER, ASCIINUMERICAL, {\n    [asciinumeric]: true\n  });\n  const Alphanumeric = tr(Num, LETTER, ALPHANUMERICAL, {\n    [alphanumeric]: true\n  });\n\n  // State which emits a word token\n  const Word = tr(Start, ASCII_LETTER, WORD, {\n    [ascii]: true\n  });\n  tr(Word, DIGIT, Asciinumeric);\n  tr(Word, ASCII_LETTER, Word);\n  tr(Asciinumeric, DIGIT, Asciinumeric);\n  tr(Asciinumeric, ASCII_LETTER, Asciinumeric);\n\n  // Same as previous, but specific to non-fsm.ascii alphabet words\n  const UWord = tr(Start, LETTER, UWORD, {\n    [alpha]: true\n  });\n  tr(UWord, ASCII_LETTER); // Non-accepting\n  tr(UWord, DIGIT, Alphanumeric);\n  tr(UWord, LETTER, UWord);\n  tr(Alphanumeric, DIGIT, Alphanumeric);\n  tr(Alphanumeric, ASCII_LETTER); // Non-accepting\n  tr(Alphanumeric, LETTER, Alphanumeric); // Non-accepting\n\n  // Whitespace jumps\n  // Tokens of only non-newline whitespace are arbitrarily long\n  // If any whitespace except newline, more whitespace!\n  const Nl = tt(Start, LF, NL, {\n    [whitespace]: true\n  });\n  const Cr = tt(Start, CR, WS, {\n    [whitespace]: true\n  });\n  const Ws = tr(Start, SPACE, WS, {\n    [whitespace]: true\n  });\n  tt(Start, OBJECT_REPLACEMENT, Ws);\n  tt(Cr, LF, Nl); // \\r\\n\n  tt(Cr, OBJECT_REPLACEMENT, Ws);\n  tr(Cr, SPACE, Ws);\n  tt(Ws, CR); // non-accepting state to avoid mixing whitespaces\n  tt(Ws, LF); // non-accepting state to avoid mixing whitespaces\n  tr(Ws, SPACE, Ws);\n  tt(Ws, OBJECT_REPLACEMENT, Ws);\n\n  // Emoji tokens. They are not grouped by the scanner except in cases where a\n  // zero-width joiner is present\n  const Emoji = tr(Start, EMOJI, EMOJI$1, {\n    [emoji]: true\n  });\n  tt(Emoji, '#'); // no transition, emoji regex seems to match #\n  tr(Emoji, EMOJI, Emoji);\n  tt(Emoji, EMOJI_VARIATION, Emoji);\n  // tt(Start, EMOJI_VARIATION, Emoji); // This one is sketchy\n\n  const EmojiJoiner = tt(Emoji, EMOJI_JOINER);\n  tt(EmojiJoiner, '#');\n  tr(EmojiJoiner, EMOJI, Emoji);\n  // tt(EmojiJoiner, EMOJI_VARIATION, Emoji); // also sketchy\n\n  // Generates states for top-level domains\n  // Note that this is most accurate when tlds are in alphabetical order\n  const wordjr = [[ASCII_LETTER, Word], [DIGIT, Asciinumeric]];\n  const uwordjr = [[ASCII_LETTER, null], [LETTER, UWord], [DIGIT, Alphanumeric]];\n  for (let i = 0; i < tlds.length; i++) {\n    fastts(Start, tlds[i], TLD, WORD, wordjr);\n  }\n  for (let i = 0; i < utlds.length; i++) {\n    fastts(Start, utlds[i], UTLD, UWORD, uwordjr);\n  }\n  addToGroups(TLD, {\n    tld: true,\n    ascii: true\n  }, groups);\n  addToGroups(UTLD, {\n    utld: true,\n    alpha: true\n  }, groups);\n\n  // Collect the states generated by different protocols. NOTE: If any new TLDs\n  // get added that are also protocols, set the token to be the same as the\n  // protocol to ensure parsing works as expected.\n  fastts(Start, 'file', SCHEME, WORD, wordjr);\n  fastts(Start, 'mailto', SCHEME, WORD, wordjr);\n  fastts(Start, 'http', SLASH_SCHEME, WORD, wordjr);\n  fastts(Start, 'https', SLASH_SCHEME, WORD, wordjr);\n  fastts(Start, 'ftp', SLASH_SCHEME, WORD, wordjr);\n  fastts(Start, 'ftps', SLASH_SCHEME, WORD, wordjr);\n  addToGroups(SCHEME, {\n    scheme: true,\n    ascii: true\n  }, groups);\n  addToGroups(SLASH_SCHEME, {\n    slashscheme: true,\n    ascii: true\n  }, groups);\n\n  // Register custom schemes. Assumes each scheme is asciinumeric with hyphens\n  customSchemes = customSchemes.sort((a, b) => a[0] > b[0] ? 1 : -1);\n  for (let i = 0; i < customSchemes.length; i++) {\n    const sch = customSchemes[i][0];\n    const optionalSlashSlash = customSchemes[i][1];\n    const flags = optionalSlashSlash ? {\n      [scheme]: true\n    } : {\n      [slashscheme]: true\n    };\n    if (sch.indexOf('-') >= 0) {\n      flags[domain] = true;\n    } else if (!ASCII_LETTER.test(sch)) {\n      flags[numeric] = true; // numbers only\n    } else if (DIGIT.test(sch)) {\n      flags[asciinumeric] = true;\n    } else {\n      flags[ascii] = true;\n    }\n    ts(Start, sch, sch, flags);\n  }\n\n  // Localhost token\n  ts(Start, 'localhost', LOCALHOST, {\n    ascii: true\n  });\n\n  // Set default transition for start state (some symbol)\n  Start.jd = new State(SYM);\n  return {\n    start: Start,\n    tokens: Object.assign({\n      groups\n    }, tk)\n  };\n}\n\n/**\n\tGiven a string, returns an array of TOKEN instances representing the\n\tcomposition of that string.\n\n\t@method run\n\t@param {State<string>} start scanner starting state\n\t@param {string} str input string to scan\n\t@return {Token[]} list of tokens, each with a type and value\n*/\nfunction run$1(start, str) {\n  // State machine is not case sensitive, so input is tokenized in lowercased\n  // form (still returns regular case). Uses selective `toLowerCase` because\n  // lowercasing the entire string causes the length and character position to\n  // vary in some non-English strings with V8-based runtimes.\n  const iterable = stringToArray(str.replace(/[A-Z]/g, c => c.toLowerCase()));\n  const charCount = iterable.length; // <= len if there are emojis, etc\n  const tokens = []; // return value\n\n  // cursor through the string itself, accounting for characters that have\n  // width with length 2 such as emojis\n  let cursor = 0;\n\n  // Cursor through the array-representation of the string\n  let charCursor = 0;\n\n  // Tokenize the string\n  while (charCursor < charCount) {\n    let state = start;\n    let nextState = null;\n    let tokenLength = 0;\n    let latestAccepting = null;\n    let sinceAccepts = -1;\n    let charsSinceAccepts = -1;\n    while (charCursor < charCount && (nextState = state.go(iterable[charCursor]))) {\n      state = nextState;\n\n      // Keep track of the latest accepting state\n      if (state.accepts()) {\n        sinceAccepts = 0;\n        charsSinceAccepts = 0;\n        latestAccepting = state;\n      } else if (sinceAccepts >= 0) {\n        sinceAccepts += iterable[charCursor].length;\n        charsSinceAccepts++;\n      }\n      tokenLength += iterable[charCursor].length;\n      cursor += iterable[charCursor].length;\n      charCursor++;\n    }\n\n    // Roll back to the latest accepting state\n    cursor -= sinceAccepts;\n    charCursor -= charsSinceAccepts;\n    tokenLength -= sinceAccepts;\n\n    // No more jumps, just make a new token from the last accepting one\n    tokens.push({\n      t: latestAccepting.t,\n      // token type/name\n      v: str.slice(cursor - tokenLength, cursor),\n      // string value\n      s: cursor - tokenLength,\n      // start index\n      e: cursor // end index (excluding)\n    });\n  }\n  return tokens;\n}\n\n/**\n * Convert a String to an Array of characters, taking into account that some\n * characters like emojis take up two string indexes.\n *\n * Adapted from core-js (MIT license)\n * https://github.com/zloirock/core-js/blob/2d69cf5f99ab3ea3463c395df81e5a15b68f49d9/packages/core-js/internals/string-multibyte.js\n *\n * @function stringToArray\n * @param {string} str\n * @returns {string[]}\n */\nfunction stringToArray(str) {\n  const result = [];\n  const len = str.length;\n  let index = 0;\n  while (index < len) {\n    let first = str.charCodeAt(index);\n    let second;\n    let char = first < 0xd800 || first > 0xdbff || index + 1 === len || (second = str.charCodeAt(index + 1)) < 0xdc00 || second > 0xdfff ? str[index] // single character\n    : str.slice(index, index + 2); // two-index characters\n    result.push(char);\n    index += char.length;\n  }\n  return result;\n}\n\n/**\n * Fast version of ts function for when transition defaults are well known\n * @param {State<string>} state\n * @param {string} input\n * @param {string} t\n * @param {string} defaultt\n * @param {[RegExp, State<string>][]} jr\n * @returns {State<string>}\n */\nfunction fastts(state, input, t, defaultt, jr) {\n  let next;\n  const len = input.length;\n  for (let i = 0; i < len - 1; i++) {\n    const char = input[i];\n    if (state.j[char]) {\n      next = state.j[char];\n    } else {\n      next = new State(defaultt);\n      next.jr = jr.slice();\n      state.j[char] = next;\n    }\n    state = next;\n  }\n  next = new State(t);\n  next.jr = jr.slice();\n  state.j[input[len - 1]] = next;\n  return next;\n}\n\n/**\n * Converts a string of Top-Level Domain names encoded in update-tlds.js back\n * into a list of strings.\n * @param {str} encoded encoded TLDs string\n * @returns {str[]} original TLDs list\n */\nfunction decodeTlds(encoded) {\n  const words = [];\n  const stack = [];\n  let i = 0;\n  let digits = '0123456789';\n  while (i < encoded.length) {\n    let popDigitCount = 0;\n    while (digits.indexOf(encoded[i + popDigitCount]) >= 0) {\n      popDigitCount++; // encountered some digits, have to pop to go one level up trie\n    }\n    if (popDigitCount > 0) {\n      words.push(stack.join('')); // whatever preceded the pop digits must be a word\n      for (let popCount = parseInt(encoded.substring(i, i + popDigitCount), 10); popCount > 0; popCount--) {\n        stack.pop();\n      }\n      i += popDigitCount;\n    } else {\n      stack.push(encoded[i]); // drop down a level into the trie\n      i++;\n    }\n  }\n  return words;\n}\n\n/**\n * An object where each key is a valid DOM Event Name such as `click` or `focus`\n * and each value is an event handler function.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/Element#events\n * @typedef {?{ [event: string]: Function }} EventListeners\n */\n\n/**\n * All formatted properties required to render a link, including `tagName`,\n * `attributes`, `content` and `eventListeners`.\n * @typedef {{ tagName: any, attributes: {[attr: string]: any}, content: string,\n * eventListeners: EventListeners }} IntermediateRepresentation\n */\n\n/**\n * Specify either an object described by the template type `O` or a function.\n *\n * The function takes a string value (usually the link's href attribute), the\n * link type (`'url'`, `'hashtag`', etc.) and an internal token representation\n * of the link. It should return an object of the template type `O`\n * @template O\n * @typedef {O | ((value: string, type: string, token: MultiToken) => O)} OptObj\n */\n\n/**\n * Specify either a function described by template type `F` or an object.\n *\n * Each key in the object should be a link type (`'url'`, `'hashtag`', etc.). Each\n * value should be a function with template type `F` that is called when the\n * corresponding link type is encountered.\n * @template F\n * @typedef {F | { [type: string]: F}} OptFn\n */\n\n/**\n * Specify either a value with template type `V`, a function that returns `V` or\n * an object where each value resolves to `V`.\n *\n * The function takes a string value (usually the link's href attribute), the\n * link type (`'url'`, `'hashtag`', etc.) and an internal token representation\n * of the link. It should return an object of the template type `V`\n *\n * For the object, each key should be a link type (`'url'`, `'hashtag`', etc.).\n * Each value should either have type `V` or a function that returns V. This\n * function similarly takes a string value and a token.\n *\n * Example valid types for `Opt<string>`:\n *\n * ```js\n * 'hello'\n * (value, type, token) => 'world'\n * { url: 'hello', email: (value, token) => 'world'}\n * ```\n * @template V\n * @typedef {V | ((value: string, type: string, token: MultiToken) => V) | { [type: string]: V | ((value: string, token: MultiToken) => V) }} Opt\n */\n\n/**\n * See available options: https://linkify.js.org/docs/options.html\n * @typedef {{\n * \tdefaultProtocol?: string,\n *  events?: OptObj<EventListeners>,\n * \tformat?: Opt<string>,\n * \tformatHref?: Opt<string>,\n * \tnl2br?: boolean,\n * \ttagName?: Opt<any>,\n * \ttarget?: Opt<string>,\n * \trel?: Opt<string>,\n * \tvalidate?: Opt<boolean>,\n * \ttruncate?: Opt<number>,\n * \tclassName?: Opt<string>,\n * \tattributes?: OptObj<({ [attr: string]: any })>,\n *  ignoreTags?: string[],\n * \trender?: OptFn<((ir: IntermediateRepresentation) => any)>\n * }} Opts\n */\n\n/**\n * @type Required<Opts>\n */\nconst defaults = {\n  defaultProtocol: 'http',\n  events: null,\n  format: noop,\n  formatHref: noop,\n  nl2br: false,\n  tagName: 'a',\n  target: null,\n  rel: null,\n  validate: true,\n  truncate: Infinity,\n  className: null,\n  attributes: null,\n  ignoreTags: [],\n  render: null\n};\n\n/**\n * Utility class for linkify interfaces to apply specified\n * {@link Opts formatting and rendering options}.\n *\n * @param {Opts | Options} [opts] Option value overrides.\n * @param {(ir: IntermediateRepresentation) => any} [defaultRender] (For\n *   internal use) default render function that determines how to generate an\n *   HTML element based on a link token's derived tagName, attributes and HTML.\n *   Similar to render option\n */\nfunction Options(opts, defaultRender = null) {\n  let o = Object.assign({}, defaults);\n  if (opts) {\n    o = Object.assign(o, opts instanceof Options ? opts.o : opts);\n  }\n\n  // Ensure all ignored tags are uppercase\n  const ignoredTags = o.ignoreTags;\n  const uppercaseIgnoredTags = [];\n  for (let i = 0; i < ignoredTags.length; i++) {\n    uppercaseIgnoredTags.push(ignoredTags[i].toUpperCase());\n  }\n  /** @protected */\n  this.o = o;\n  if (defaultRender) {\n    this.defaultRender = defaultRender;\n  }\n  this.ignoreTags = uppercaseIgnoredTags;\n}\nOptions.prototype = {\n  o: defaults,\n  /**\n   * @type string[]\n   */\n  ignoreTags: [],\n  /**\n   * @param {IntermediateRepresentation} ir\n   * @returns {any}\n   */\n  defaultRender(ir) {\n    return ir;\n  },\n  /**\n   * Returns true or false based on whether a token should be displayed as a\n   * link based on the user options.\n   * @param {MultiToken} token\n   * @returns {boolean}\n   */\n  check(token) {\n    return this.get('validate', token.toString(), token);\n  },\n  // Private methods\n\n  /**\n   * Resolve an option's value based on the value of the option and the given\n   * params. If operator and token are specified and the target option is\n   * callable, automatically calls the function with the given argument.\n   * @template {keyof Opts} K\n   * @param {K} key Name of option to use\n   * @param {string} [operator] will be passed to the target option if it's a\n   * function. If not specified, RAW function value gets returned\n   * @param {MultiToken} [token] The token from linkify.tokenize\n   * @returns {Opts[K] | any}\n   */\n  get(key, operator, token) {\n    const isCallable = operator != null;\n    let option = this.o[key];\n    if (!option) {\n      return option;\n    }\n    if (typeof option === 'object') {\n      option = token.t in option ? option[token.t] : defaults[key];\n      if (typeof option === 'function' && isCallable) {\n        option = option(operator, token);\n      }\n    } else if (typeof option === 'function' && isCallable) {\n      option = option(operator, token.t, token);\n    }\n    return option;\n  },\n  /**\n   * @template {keyof Opts} L\n   * @param {L} key Name of options object to use\n   * @param {string} [operator]\n   * @param {MultiToken} [token]\n   * @returns {Opts[L] | any}\n   */\n  getObj(key, operator, token) {\n    let obj = this.o[key];\n    if (typeof obj === 'function' && operator != null) {\n      obj = obj(operator, token.t, token);\n    }\n    return obj;\n  },\n  /**\n   * Convert the given token to a rendered element that may be added to the\n   * calling-interface's DOM\n   * @param {MultiToken} token Token to render to an HTML element\n   * @returns {any} Render result; e.g., HTML string, DOM element, React\n   *   Component, etc.\n   */\n  render(token) {\n    const ir = token.render(this); // intermediate representation\n    const renderFn = this.get('render', null, token) || this.defaultRender;\n    return renderFn(ir, token.t, token);\n  }\n};\nfunction noop(val) {\n  return val;\n}\n\nvar options = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tOptions: Options,\n\tdefaults: defaults\n});\n\n/******************************************************************************\n\tMulti-Tokens\n\tTokens composed of arrays of TextTokens\n******************************************************************************/\n\n/**\n * @param {string} value\n * @param {Token[]} tokens\n */\nfunction MultiToken(value, tokens) {\n  this.t = 'token';\n  this.v = value;\n  this.tk = tokens;\n}\n\n/**\n * Abstract class used for manufacturing tokens of text tokens. That is rather\n * than the value for a token being a small string of text, it's value an array\n * of text tokens.\n *\n * Used for grouping together URLs, emails, hashtags, and other potential\n * creations.\n * @class MultiToken\n * @property {string} t\n * @property {string} v\n * @property {Token[]} tk\n * @abstract\n */\nMultiToken.prototype = {\n  isLink: false,\n  /**\n   * Return the string this token represents.\n   * @return {string}\n   */\n  toString() {\n    return this.v;\n  },\n  /**\n   * What should the value for this token be in the `href` HTML attribute?\n   * Returns the `.toString` value by default.\n   * @param {string} [scheme]\n   * @return {string}\n   */\n  toHref(scheme) {\n    return this.toString();\n  },\n  /**\n   * @param {Options} options Formatting options\n   * @returns {string}\n   */\n  toFormattedString(options) {\n    const val = this.toString();\n    const truncate = options.get('truncate', val, this);\n    const formatted = options.get('format', val, this);\n    return truncate && formatted.length > truncate ? formatted.substring(0, truncate) + '…' : formatted;\n  },\n  /**\n   *\n   * @param {Options} options\n   * @returns {string}\n   */\n  toFormattedHref(options) {\n    return options.get('formatHref', this.toHref(options.get('defaultProtocol')), this);\n  },\n  /**\n   * The start index of this token in the original input string\n   * @returns {number}\n   */\n  startIndex() {\n    return this.tk[0].s;\n  },\n  /**\n   * The end index of this token in the original input string (up to this\n   * index but not including it)\n   * @returns {number}\n   */\n  endIndex() {\n    return this.tk[this.tk.length - 1].e;\n  },\n  /**\n  \tReturns an object  of relevant values for this token, which includes keys\n  \t* type - Kind of token ('url', 'email', etc.)\n  \t* value - Original text\n  \t* href - The value that should be added to the anchor tag's href\n  \t\tattribute\n  \t\t@method toObject\n  \t@param {string} [protocol] `'http'` by default\n  */\n  toObject(protocol = defaults.defaultProtocol) {\n    return {\n      type: this.t,\n      value: this.toString(),\n      isLink: this.isLink,\n      href: this.toHref(protocol),\n      start: this.startIndex(),\n      end: this.endIndex()\n    };\n  },\n  /**\n   *\n   * @param {Options} options Formatting option\n   */\n  toFormattedObject(options) {\n    return {\n      type: this.t,\n      value: this.toFormattedString(options),\n      isLink: this.isLink,\n      href: this.toFormattedHref(options),\n      start: this.startIndex(),\n      end: this.endIndex()\n    };\n  },\n  /**\n   * Whether this token should be rendered as a link according to the given options\n   * @param {Options} options\n   * @returns {boolean}\n   */\n  validate(options) {\n    return options.get('validate', this.toString(), this);\n  },\n  /**\n   * Return an object that represents how this link should be rendered.\n   * @param {Options} options Formattinng options\n   */\n  render(options) {\n    const token = this;\n    const href = this.toHref(options.get('defaultProtocol'));\n    const formattedHref = options.get('formatHref', href, this);\n    const tagName = options.get('tagName', href, token);\n    const content = this.toFormattedString(options);\n    const attributes = {};\n    const className = options.get('className', href, token);\n    const target = options.get('target', href, token);\n    const rel = options.get('rel', href, token);\n    const attrs = options.getObj('attributes', href, token);\n    const eventListeners = options.getObj('events', href, token);\n    attributes.href = formattedHref;\n    if (className) {\n      attributes.class = className;\n    }\n    if (target) {\n      attributes.target = target;\n    }\n    if (rel) {\n      attributes.rel = rel;\n    }\n    if (attrs) {\n      Object.assign(attributes, attrs);\n    }\n    return {\n      tagName,\n      attributes,\n      content,\n      eventListeners\n    };\n  }\n};\n\n/**\n * Create a new token that can be emitted by the parser state machine\n * @param {string} type readable type of the token\n * @param {object} props properties to assign or override, including isLink = true or false\n * @returns {new (value: string, tokens: Token[]) => MultiToken} new token class\n */\nfunction createTokenClass(type, props) {\n  class Token extends MultiToken {\n    constructor(value, tokens) {\n      super(value, tokens);\n      this.t = type;\n    }\n  }\n  for (const p in props) {\n    Token.prototype[p] = props[p];\n  }\n  Token.t = type;\n  return Token;\n}\n\n/**\n\tRepresents a list of tokens making up a valid email address\n*/\nconst Email = createTokenClass('email', {\n  isLink: true,\n  toHref() {\n    return 'mailto:' + this.toString();\n  }\n});\n\n/**\n\tRepresents some plain text\n*/\nconst Text = createTokenClass('text');\n\n/**\n\tMulti-linebreak token - represents a line break\n\t@class Nl\n*/\nconst Nl = createTokenClass('nl');\n\n/**\n\tRepresents a list of text tokens making up a valid URL\n\t@class Url\n*/\nconst Url = createTokenClass('url', {\n  isLink: true,\n  /**\n  \tLowercases relevant parts of the domain and adds the protocol if\n  \trequired. Note that this will not escape unsafe HTML characters in the\n  \tURL.\n  \t\t@param {string} [scheme] default scheme (e.g., 'https')\n  \t@return {string} the full href\n  */\n  toHref(scheme = defaults.defaultProtocol) {\n    // Check if already has a prefix scheme\n    return this.hasProtocol() ? this.v : `${scheme}://${this.v}`;\n  },\n  /**\n   * Check whether this URL token has a protocol\n   * @return {boolean}\n   */\n  hasProtocol() {\n    const tokens = this.tk;\n    return tokens.length >= 2 && tokens[0].t !== LOCALHOST && tokens[1].t === COLON;\n  }\n});\n\nvar multi = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tBase: MultiToken,\n\tEmail: Email,\n\tMultiToken: MultiToken,\n\tNl: Nl,\n\tText: Text,\n\tUrl: Url,\n\tcreateTokenClass: createTokenClass\n});\n\n/**\n\tNot exactly parser, more like the second-stage scanner (although we can\n\ttheoretically hotswap the code here with a real parser in the future... but\n\tfor a little URL-finding utility abstract syntax trees may be a little\n\toverkill).\n\n\tURL format: http://en.wikipedia.org/wiki/URI_scheme\n\tEmail format: http://en.wikipedia.org/wiki/EmailAddress (links to RFC in\n\treference)\n\n\t@module linkify\n\t@submodule parser\n\t@main run\n*/\n\nconst makeState = arg => new State(arg);\n\n/**\n * Generate the parser multi token-based state machine\n * @param {{ groups: Collections<string> }} tokens\n */\nfunction init$1({\n  groups\n}) {\n  // Types of characters the URL can definitely end in\n  const qsAccepting = groups.domain.concat([AMPERSAND, ASTERISK, AT, BACKSLASH, BACKTICK, CARET, DOLLAR, EQUALS, HYPHEN, NUM, PERCENT, PIPE, PLUS, POUND, SLASH, SYM, TILDE, UNDERSCORE]);\n\n  // Types of tokens that can follow a URL and be part of the query string\n  // but cannot be the very last characters\n  // Characters that cannot appear in the URL at all should be excluded\n  const qsNonAccepting = [APOSTROPHE, COLON, COMMA, DOT, EXCLAMATION, PERCENT, QUERY, QUOTE, SEMI, OPENANGLEBRACKET, CLOSEANGLEBRACKET, OPENBRACE, CLOSEBRACE, CLOSEBRACKET, OPENBRACKET, OPENPAREN, CLOSEPAREN, FULLWIDTHLEFTPAREN, FULLWIDTHRIGHTPAREN, LEFTCORNERBRACKET, RIGHTCORNERBRACKET, LEFTWHITECORNERBRACKET, RIGHTWHITECORNERBRACKET, FULLWIDTHLESSTHAN, FULLWIDTHGREATERTHAN];\n\n  // For addresses without the mailto prefix\n  // Tokens allowed in the localpart of the email\n  const localpartAccepting = [AMPERSAND, APOSTROPHE, ASTERISK, BACKSLASH, BACKTICK, CARET, DOLLAR, EQUALS, HYPHEN, OPENBRACE, CLOSEBRACE, PERCENT, PIPE, PLUS, POUND, QUERY, SLASH, SYM, TILDE, UNDERSCORE];\n\n  // The universal starting state.\n  /**\n   * @type State<Token>\n   */\n  const Start = makeState();\n  const Localpart = tt(Start, TILDE); // Local part of the email address\n  ta(Localpart, localpartAccepting, Localpart);\n  ta(Localpart, groups.domain, Localpart);\n  const Domain = makeState(),\n    Scheme = makeState(),\n    SlashScheme = makeState();\n  ta(Start, groups.domain, Domain); // parsed string ends with a potential domain name (A)\n  ta(Start, groups.scheme, Scheme); // e.g., 'mailto'\n  ta(Start, groups.slashscheme, SlashScheme); // e.g., 'http'\n\n  ta(Domain, localpartAccepting, Localpart);\n  ta(Domain, groups.domain, Domain);\n  const LocalpartAt = tt(Domain, AT); // Local part of the email address plus @\n\n  tt(Localpart, AT, LocalpartAt); // close to an email address now\n\n  // Local part of an email address can be e.g. 'http' or 'mailto'\n  tt(Scheme, AT, LocalpartAt);\n  tt(SlashScheme, AT, LocalpartAt);\n  const LocalpartDot = tt(Localpart, DOT); // Local part of the email address plus '.' (localpart cannot end in .)\n  ta(LocalpartDot, localpartAccepting, Localpart);\n  ta(LocalpartDot, groups.domain, Localpart);\n  const EmailDomain = makeState();\n  ta(LocalpartAt, groups.domain, EmailDomain); // parsed string starts with local email info + @ with a potential domain name\n  ta(EmailDomain, groups.domain, EmailDomain);\n  const EmailDomainDot = tt(EmailDomain, DOT); // domain followed by DOT\n  ta(EmailDomainDot, groups.domain, EmailDomain);\n  const Email$1 = makeState(Email); // Possible email address (could have more tlds)\n  ta(EmailDomainDot, groups.tld, Email$1);\n  ta(EmailDomainDot, groups.utld, Email$1);\n  tt(LocalpartAt, LOCALHOST, Email$1);\n\n  // Hyphen can jump back to a domain name\n  const EmailDomainHyphen = tt(EmailDomain, HYPHEN); // parsed string starts with local email info + @ with a potential domain name\n  tt(EmailDomainHyphen, HYPHEN, EmailDomainHyphen);\n  ta(EmailDomainHyphen, groups.domain, EmailDomain);\n  ta(Email$1, groups.domain, EmailDomain);\n  tt(Email$1, DOT, EmailDomainDot);\n  tt(Email$1, HYPHEN, EmailDomainHyphen);\n\n  // Final possible email states\n  const EmailColon = tt(Email$1, COLON); // URL followed by colon (potential port number here)\n  /*const EmailColonPort = */\n  ta(EmailColon, groups.numeric, Email); // URL followed by colon and port number\n\n  // Account for dots and hyphens. Hyphens are usually parts of domain names\n  // (but not TLDs)\n  const DomainHyphen = tt(Domain, HYPHEN); // domain followed by hyphen\n  const DomainDot = tt(Domain, DOT); // domain followed by DOT\n  tt(DomainHyphen, HYPHEN, DomainHyphen);\n  ta(DomainHyphen, groups.domain, Domain);\n  ta(DomainDot, localpartAccepting, Localpart);\n  ta(DomainDot, groups.domain, Domain);\n  const DomainDotTld = makeState(Url); // Simplest possible URL with no query string\n  ta(DomainDot, groups.tld, DomainDotTld);\n  ta(DomainDot, groups.utld, DomainDotTld);\n  ta(DomainDotTld, groups.domain, Domain);\n  ta(DomainDotTld, localpartAccepting, Localpart);\n  tt(DomainDotTld, DOT, DomainDot);\n  tt(DomainDotTld, HYPHEN, DomainHyphen);\n  tt(DomainDotTld, AT, LocalpartAt);\n  const DomainDotTldColon = tt(DomainDotTld, COLON); // URL followed by colon (potential port number here)\n  const DomainDotTldColonPort = makeState(Url); // TLD followed by a port number\n  ta(DomainDotTldColon, groups.numeric, DomainDotTldColonPort);\n\n  // Long URL with optional port and maybe query string\n  const Url$1 = makeState(Url);\n\n  // URL with extra symbols at the end, followed by an opening bracket\n  const UrlNonaccept = makeState(); // URL followed by some symbols (will not be part of the final URL)\n\n  // Query strings\n  ta(Url$1, qsAccepting, Url$1);\n  ta(Url$1, qsNonAccepting, UrlNonaccept);\n  ta(UrlNonaccept, qsAccepting, Url$1);\n  ta(UrlNonaccept, qsNonAccepting, UrlNonaccept);\n\n  // Become real URLs after `SLASH` or `COLON NUM SLASH`\n  // Here works with or without scheme:// prefix\n  tt(DomainDotTld, SLASH, Url$1);\n  tt(DomainDotTldColonPort, SLASH, Url$1);\n\n  // Note that domains that begin with schemes are treated slighly differently\n  const SchemeColon = tt(Scheme, COLON); // e.g., 'mailto:'\n  const SlashSchemeColon = tt(SlashScheme, COLON); // e.g., 'http:'\n  const SlashSchemeColonSlash = tt(SlashSchemeColon, SLASH); // e.g., 'http:/'\n\n  const UriPrefix = tt(SlashSchemeColonSlash, SLASH); // e.g., 'http://'\n\n  // Scheme states can transition to domain states\n  ta(Scheme, groups.domain, Domain);\n  tt(Scheme, DOT, DomainDot);\n  tt(Scheme, HYPHEN, DomainHyphen);\n  ta(SlashScheme, groups.domain, Domain);\n  tt(SlashScheme, DOT, DomainDot);\n  tt(SlashScheme, HYPHEN, DomainHyphen);\n\n  // Force URL with scheme prefix followed by anything sane\n  ta(SchemeColon, groups.domain, Url$1);\n  tt(SchemeColon, SLASH, Url$1);\n  tt(SchemeColon, QUERY, Url$1);\n  ta(UriPrefix, groups.domain, Url$1);\n  ta(UriPrefix, qsAccepting, Url$1);\n  tt(UriPrefix, SLASH, Url$1);\n  const bracketPairs = [[OPENBRACE, CLOSEBRACE],\n  // {}\n  [OPENBRACKET, CLOSEBRACKET],\n  // []\n  [OPENPAREN, CLOSEPAREN],\n  // ()\n  [OPENANGLEBRACKET, CLOSEANGLEBRACKET],\n  // <>\n  [FULLWIDTHLEFTPAREN, FULLWIDTHRIGHTPAREN],\n  // （）\n  [LEFTCORNERBRACKET, RIGHTCORNERBRACKET],\n  // 「」\n  [LEFTWHITECORNERBRACKET, RIGHTWHITECORNERBRACKET],\n  // 『』\n  [FULLWIDTHLESSTHAN, FULLWIDTHGREATERTHAN] // ＜＞\n  ];\n  for (let i = 0; i < bracketPairs.length; i++) {\n    const [OPEN, CLOSE] = bracketPairs[i];\n    const UrlOpen = tt(Url$1, OPEN); // URL followed by open bracket\n\n    // Continue not accepting for open brackets\n    tt(UrlNonaccept, OPEN, UrlOpen);\n\n    // Closing bracket component. This character WILL be included in the URL\n    tt(UrlOpen, CLOSE, Url$1);\n\n    // URL that beings with an opening bracket, followed by a symbols.\n    // Note that the final state can still be `UrlOpen` (if the URL has a\n    // single opening bracket for some reason).\n    const UrlOpenQ = makeState(Url);\n    ta(UrlOpen, qsAccepting, UrlOpenQ);\n    const UrlOpenSyms = makeState(); // UrlOpen followed by some symbols it cannot end it\n    ta(UrlOpen, qsNonAccepting);\n\n    // URL that begins with an opening bracket, followed by some symbols\n    ta(UrlOpenQ, qsAccepting, UrlOpenQ);\n    ta(UrlOpenQ, qsNonAccepting, UrlOpenSyms);\n    ta(UrlOpenSyms, qsAccepting, UrlOpenQ);\n    ta(UrlOpenSyms, qsNonAccepting, UrlOpenSyms);\n\n    // Close brace/bracket to become regular URL\n    tt(UrlOpenQ, CLOSE, Url$1);\n    tt(UrlOpenSyms, CLOSE, Url$1);\n  }\n  tt(Start, LOCALHOST, DomainDotTld); // localhost is a valid URL state\n  tt(Start, NL, Nl); // single new line\n\n  return {\n    start: Start,\n    tokens: tk\n  };\n}\n\n/**\n * Run the parser state machine on a list of scanned string-based tokens to\n * create a list of multi tokens, each of which represents a URL, email address,\n * plain text, etc.\n *\n * @param {State<MultiToken>} start parser start state\n * @param {string} input the original input used to generate the given tokens\n * @param {Token[]} tokens list of scanned tokens\n * @returns {MultiToken[]}\n */\nfunction run(start, input, tokens) {\n  let len = tokens.length;\n  let cursor = 0;\n  let multis = [];\n  let textTokens = [];\n  while (cursor < len) {\n    let state = start;\n    let secondState = null;\n    let nextState = null;\n    let multiLength = 0;\n    let latestAccepting = null;\n    let sinceAccepts = -1;\n    while (cursor < len && !(secondState = state.go(tokens[cursor].t))) {\n      // Starting tokens with nowhere to jump to.\n      // Consider these to be just plain text\n      textTokens.push(tokens[cursor++]);\n    }\n    while (cursor < len && (nextState = secondState || state.go(tokens[cursor].t))) {\n      // Get the next state\n      secondState = null;\n      state = nextState;\n\n      // Keep track of the latest accepting state\n      if (state.accepts()) {\n        sinceAccepts = 0;\n        latestAccepting = state;\n      } else if (sinceAccepts >= 0) {\n        sinceAccepts++;\n      }\n      cursor++;\n      multiLength++;\n    }\n    if (sinceAccepts < 0) {\n      // No accepting state was found, part of a regular text token add\n      // the first text token to the text tokens array and try again from\n      // the next\n      cursor -= multiLength;\n      if (cursor < len) {\n        textTokens.push(tokens[cursor]);\n        cursor++;\n      }\n    } else {\n      // Accepting state!\n      // First close off the textTokens (if available)\n      if (textTokens.length > 0) {\n        multis.push(initMultiToken(Text, input, textTokens));\n        textTokens = [];\n      }\n\n      // Roll back to the latest accepting state\n      cursor -= sinceAccepts;\n      multiLength -= sinceAccepts;\n\n      // Create a new multitoken\n      const Multi = latestAccepting.t;\n      const subtokens = tokens.slice(cursor - multiLength, cursor);\n      multis.push(initMultiToken(Multi, input, subtokens));\n    }\n  }\n\n  // Finally close off the textTokens (if available)\n  if (textTokens.length > 0) {\n    multis.push(initMultiToken(Text, input, textTokens));\n  }\n  return multis;\n}\n\n/**\n * Utility function for instantiating a new multitoken with all the relevant\n * fields during parsing.\n * @param {new (value: string, tokens: Token[]) => MultiToken} Multi class to instantiate\n * @param {string} input original input string\n * @param {Token[]} tokens consecutive tokens scanned from input string\n * @returns {MultiToken}\n */\nfunction initMultiToken(Multi, input, tokens) {\n  const startIdx = tokens[0].s;\n  const endIdx = tokens[tokens.length - 1].e;\n  const value = input.slice(startIdx, endIdx);\n  return new Multi(value, tokens);\n}\n\nconst warn = typeof console !== 'undefined' && console && console.warn || (() => {});\nconst warnAdvice = 'until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.';\n\n// Side-effect initialization state\nconst INIT = {\n  scanner: null,\n  parser: null,\n  tokenQueue: [],\n  pluginQueue: [],\n  customSchemes: [],\n  initialized: false\n};\n\n/**\n * @typedef {{\n * \tstart: State<string>,\n * \ttokens: { groups: Collections<string> } & typeof tk\n * }} ScannerInit\n */\n\n/**\n * @typedef {{\n * \tstart: State<MultiToken>,\n * \ttokens: typeof multi\n * }} ParserInit\n */\n\n/**\n * @typedef {(arg: { scanner: ScannerInit }) => void} TokenPlugin\n */\n\n/**\n * @typedef {(arg: { scanner: ScannerInit, parser: ParserInit }) => void} Plugin\n */\n\n/**\n * De-register all plugins and reset the internal state-machine. Used for\n * testing; not required in practice.\n * @private\n */\nfunction reset() {\n  State.groups = {};\n  INIT.scanner = null;\n  INIT.parser = null;\n  INIT.tokenQueue = [];\n  INIT.pluginQueue = [];\n  INIT.customSchemes = [];\n  INIT.initialized = false;\n  return INIT;\n}\n\n/**\n * Register a token plugin to allow the scanner to recognize additional token\n * types before the parser state machine is constructed from the results.\n * @param {string} name of plugin to register\n * @param {TokenPlugin} plugin function that accepts the scanner state machine\n * and available scanner tokens and collections and extends the state machine to\n * recognize additional tokens or groups.\n */\nfunction registerTokenPlugin(name, plugin) {\n  if (typeof plugin !== 'function') {\n    throw new Error(`linkifyjs: Invalid token plugin ${plugin} (expects function)`);\n  }\n  for (let i = 0; i < INIT.tokenQueue.length; i++) {\n    if (name === INIT.tokenQueue[i][0]) {\n      warn(`linkifyjs: token plugin \"${name}\" already registered - will be overwritten`);\n      INIT.tokenQueue[i] = [name, plugin];\n      return;\n    }\n  }\n  INIT.tokenQueue.push([name, plugin]);\n  if (INIT.initialized) {\n    warn(`linkifyjs: already initialized - will not register token plugin \"${name}\" ${warnAdvice}`);\n  }\n}\n\n/**\n * Register a linkify plugin\n * @param {string} name of plugin to register\n * @param {Plugin} plugin function that accepts the parser state machine and\n * extends the parser to recognize additional link types\n */\nfunction registerPlugin(name, plugin) {\n  if (typeof plugin !== 'function') {\n    throw new Error(`linkifyjs: Invalid plugin ${plugin} (expects function)`);\n  }\n  for (let i = 0; i < INIT.pluginQueue.length; i++) {\n    if (name === INIT.pluginQueue[i][0]) {\n      warn(`linkifyjs: plugin \"${name}\" already registered - will be overwritten`);\n      INIT.pluginQueue[i] = [name, plugin];\n      return;\n    }\n  }\n  INIT.pluginQueue.push([name, plugin]);\n  if (INIT.initialized) {\n    warn(`linkifyjs: already initialized - will not register plugin \"${name}\" ${warnAdvice}`);\n  }\n}\n\n/**\n * Detect URLs with the following additional protocol. Anything with format\n * \"protocol://...\" will be considered a link. If `optionalSlashSlash` is set to\n * `true`, anything with format \"protocol:...\" will be considered a link.\n * @param {string} scheme\n * @param {boolean} [optionalSlashSlash]\n */\nfunction registerCustomProtocol(scheme, optionalSlashSlash = false) {\n  if (INIT.initialized) {\n    warn(`linkifyjs: already initialized - will not register custom scheme \"${scheme}\" ${warnAdvice}`);\n  }\n  if (!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(scheme)) {\n    throw new Error(`linkifyjs: incorrect scheme format.\n1. Must only contain digits, lowercase ASCII letters or \"-\"\n2. Cannot start or end with \"-\"\n3. \"-\" cannot repeat`);\n  }\n  INIT.customSchemes.push([scheme, optionalSlashSlash]);\n}\n\n/**\n * Initialize the linkify state machine. Called automatically the first time\n * linkify is called on a string, but may be called manually as well.\n */\nfunction init() {\n  // Initialize scanner state machine and plugins\n  INIT.scanner = init$2(INIT.customSchemes);\n  for (let i = 0; i < INIT.tokenQueue.length; i++) {\n    INIT.tokenQueue[i][1]({\n      scanner: INIT.scanner\n    });\n  }\n\n  // Initialize parser state machine and plugins\n  INIT.parser = init$1(INIT.scanner.tokens);\n  for (let i = 0; i < INIT.pluginQueue.length; i++) {\n    INIT.pluginQueue[i][1]({\n      scanner: INIT.scanner,\n      parser: INIT.parser\n    });\n  }\n  INIT.initialized = true;\n  return INIT;\n}\n\n/**\n * Parse a string into tokens that represent linkable and non-linkable sub-components\n * @param {string} str\n * @return {MultiToken[]} tokens\n */\nfunction tokenize(str) {\n  if (!INIT.initialized) {\n    init();\n  }\n  return run(INIT.parser.start, str, run$1(INIT.scanner.start, str));\n}\ntokenize.scan = run$1; // for testing\n\n/**\n * Find a list of linkable items in the given string.\n * @param {string} str string to find links in\n * @param {string | Opts} [type] either formatting options or specific type of\n * links to find, e.g., 'url' or 'email'\n * @param {Opts} [opts] formatting options for final output. Cannot be specified\n * if opts already provided in `type` argument\n */\nfunction find(str, type = null, opts = null) {\n  if (type && typeof type === 'object') {\n    if (opts) {\n      throw Error(`linkifyjs: Invalid link type ${type}; must be a string`);\n    }\n    opts = type;\n    type = null;\n  }\n  const options = new Options(opts);\n  const tokens = tokenize(str);\n  const filtered = [];\n  for (let i = 0; i < tokens.length; i++) {\n    const token = tokens[i];\n    if (token.isLink && (!type || token.t === type) && options.check(token)) {\n      filtered.push(token.toFormattedObject(options));\n    }\n  }\n  return filtered;\n}\n\n/**\n * Is the given string valid linkable text of some sort. Note that this does not\n * trim the text for you.\n *\n * Optionally pass in a second `type` param, which is the type of link to test\n * for.\n *\n * For example,\n *\n *     linkify.test(str, 'email');\n *\n * Returns `true` if str is a valid email.\n * @param {string} str string to test for links\n * @param {string} [type] optional specific link type to look for\n * @returns boolean true/false\n */\nfunction test(str, type = null) {\n  const tokens = tokenize(str);\n  return tokens.length === 1 && tokens[0].isLink && (!type || tokens[0].t === type);\n}\n\nexport { MultiToken, Options, State, createTokenClass, find, init, multi, options, regexp, registerCustomProtocol, registerPlugin, registerTokenPlugin, reset, stringToArray, test, multi as text, tokenize };\n","var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\n\n// src/bullet-list/bullet-list.ts\nimport { mergeAttributes, Node, wrappingInputRule } from \"@tiptap/core\";\nvar ListItemName = \"listItem\";\nvar TextStyleName = \"textStyle\";\nvar bulletListInputRegex = /^\\s*([-+*])\\s$/;\nvar BulletList = Node.create({\n  name: \"bulletList\",\n  addOptions() {\n    return {\n      itemTypeName: \"listItem\",\n      HTMLAttributes: {},\n      keepMarks: false,\n      keepAttributes: false\n    };\n  },\n  group: \"block list\",\n  content() {\n    return `${this.options.itemTypeName}+`;\n  },\n  parseHTML() {\n    return [{ tag: \"ul\" }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"ul\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  markdownTokenName: \"list\",\n  parseMarkdown: (token, helpers) => {\n    if (token.type !== \"list\" || token.ordered) {\n      return [];\n    }\n    return {\n      type: \"bulletList\",\n      content: token.items ? helpers.parseChildren(token.items) : []\n    };\n  },\n  renderMarkdown: (node, h) => {\n    if (!node.content) {\n      return \"\";\n    }\n    return h.renderChildren(node.content, \"\\n\");\n  },\n  markdownOptions: {\n    indentsContent: true\n  },\n  addCommands() {\n    return {\n      toggleBulletList: () => ({ commands, chain }) => {\n        if (this.options.keepAttributes) {\n          return chain().toggleList(this.name, this.options.itemTypeName, this.options.keepMarks).updateAttributes(ListItemName, this.editor.getAttributes(TextStyleName)).run();\n        }\n        return commands.toggleList(this.name, this.options.itemTypeName, this.options.keepMarks);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Shift-8\": () => this.editor.commands.toggleBulletList()\n    };\n  },\n  addInputRules() {\n    let inputRule = wrappingInputRule({\n      find: bulletListInputRegex,\n      type: this.type\n    });\n    if (this.options.keepMarks || this.options.keepAttributes) {\n      inputRule = wrappingInputRule({\n        find: bulletListInputRegex,\n        type: this.type,\n        keepMarks: this.options.keepMarks,\n        keepAttributes: this.options.keepAttributes,\n        getAttributes: () => {\n          return this.editor.getAttributes(TextStyleName);\n        },\n        editor: this.editor\n      });\n    }\n    return [inputRule];\n  }\n});\n\n// src/item/list-item.ts\nimport { mergeAttributes as mergeAttributes2, Node as Node2, renderNestedMarkdownContent } from \"@tiptap/core\";\nvar ListItem = Node2.create({\n  name: \"listItem\",\n  addOptions() {\n    return {\n      HTMLAttributes: {},\n      bulletListTypeName: \"bulletList\",\n      orderedListTypeName: \"orderedList\"\n    };\n  },\n  content: \"paragraph block*\",\n  defining: true,\n  parseHTML() {\n    return [\n      {\n        tag: \"li\"\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"li\", mergeAttributes2(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  markdownTokenName: \"list_item\",\n  parseMarkdown: (token, helpers) => {\n    if (token.type !== \"list_item\") {\n      return [];\n    }\n    let content = [];\n    if (token.tokens && token.tokens.length > 0) {\n      const hasParagraphTokens = token.tokens.some((t) => t.type === \"paragraph\");\n      if (hasParagraphTokens) {\n        content = helpers.parseChildren(token.tokens);\n      } else {\n        const firstToken = token.tokens[0];\n        if (firstToken && firstToken.type === \"text\" && firstToken.tokens && firstToken.tokens.length > 0) {\n          const inlineContent = helpers.parseInline(firstToken.tokens);\n          content = [\n            {\n              type: \"paragraph\",\n              content: inlineContent\n            }\n          ];\n          if (token.tokens.length > 1) {\n            const remainingTokens = token.tokens.slice(1);\n            const additionalContent = helpers.parseChildren(remainingTokens);\n            content.push(...additionalContent);\n          }\n        } else {\n          content = helpers.parseChildren(token.tokens);\n        }\n      }\n    }\n    if (content.length === 0) {\n      content = [\n        {\n          type: \"paragraph\",\n          content: []\n        }\n      ];\n    }\n    return {\n      type: \"listItem\",\n      content\n    };\n  },\n  renderMarkdown: (node, h, ctx) => {\n    return renderNestedMarkdownContent(\n      node,\n      h,\n      (context) => {\n        var _a, _b;\n        if (context.parentType === \"bulletList\") {\n          return \"- \";\n        }\n        if (context.parentType === \"orderedList\") {\n          const start = ((_b = (_a = context.meta) == null ? void 0 : _a.parentAttrs) == null ? void 0 : _b.start) || 1;\n          return `${start + context.index}. `;\n        }\n        return \"- \";\n      },\n      ctx\n    );\n  },\n  addKeyboardShortcuts() {\n    return {\n      Enter: () => this.editor.commands.splitListItem(this.name),\n      Tab: () => this.editor.commands.sinkListItem(this.name),\n      \"Shift-Tab\": () => this.editor.commands.liftListItem(this.name)\n    };\n  }\n});\n\n// src/keymap/list-keymap.ts\nimport { Extension } from \"@tiptap/core\";\n\n// src/keymap/listHelpers/index.ts\nvar listHelpers_exports = {};\n__export(listHelpers_exports, {\n  findListItemPos: () => findListItemPos,\n  getNextListDepth: () => getNextListDepth,\n  handleBackspace: () => handleBackspace,\n  handleDelete: () => handleDelete,\n  hasListBefore: () => hasListBefore,\n  hasListItemAfter: () => hasListItemAfter,\n  hasListItemBefore: () => hasListItemBefore,\n  listItemHasSubList: () => listItemHasSubList,\n  nextListIsDeeper: () => nextListIsDeeper,\n  nextListIsHigher: () => nextListIsHigher\n});\n\n// src/keymap/listHelpers/findListItemPos.ts\nimport { getNodeType } from \"@tiptap/core\";\nvar findListItemPos = (typeOrName, state) => {\n  const { $from } = state.selection;\n  const nodeType = getNodeType(typeOrName, state.schema);\n  let currentNode = null;\n  let currentDepth = $from.depth;\n  let currentPos = $from.pos;\n  let targetDepth = null;\n  while (currentDepth > 0 && targetDepth === null) {\n    currentNode = $from.node(currentDepth);\n    if (currentNode.type === nodeType) {\n      targetDepth = currentDepth;\n    } else {\n      currentDepth -= 1;\n      currentPos -= 1;\n    }\n  }\n  if (targetDepth === null) {\n    return null;\n  }\n  return { $pos: state.doc.resolve(currentPos), depth: targetDepth };\n};\n\n// src/keymap/listHelpers/getNextListDepth.ts\nimport { getNodeAtPosition } from \"@tiptap/core\";\nvar getNextListDepth = (typeOrName, state) => {\n  const listItemPos = findListItemPos(typeOrName, state);\n  if (!listItemPos) {\n    return false;\n  }\n  const [, depth] = getNodeAtPosition(state, typeOrName, listItemPos.$pos.pos + 4);\n  return depth;\n};\n\n// src/keymap/listHelpers/handleBackspace.ts\nimport { isAtStartOfNode, isNodeActive } from \"@tiptap/core\";\n\n// src/keymap/listHelpers/hasListBefore.ts\nvar hasListBefore = (editorState, name, parentListTypes) => {\n  const { $anchor } = editorState.selection;\n  const previousNodePos = Math.max(0, $anchor.pos - 2);\n  const previousNode = editorState.doc.resolve(previousNodePos).node();\n  if (!previousNode || !parentListTypes.includes(previousNode.type.name)) {\n    return false;\n  }\n  return true;\n};\n\n// src/keymap/listHelpers/hasListItemBefore.ts\nvar hasListItemBefore = (typeOrName, state) => {\n  var _a;\n  const { $anchor } = state.selection;\n  const $targetPos = state.doc.resolve($anchor.pos - 2);\n  if ($targetPos.index() === 0) {\n    return false;\n  }\n  if (((_a = $targetPos.nodeBefore) == null ? void 0 : _a.type.name) !== typeOrName) {\n    return false;\n  }\n  return true;\n};\n\n// src/keymap/listHelpers/listItemHasSubList.ts\nimport { getNodeType as getNodeType2 } from \"@tiptap/core\";\nvar listItemHasSubList = (typeOrName, state, node) => {\n  if (!node) {\n    return false;\n  }\n  const nodeType = getNodeType2(typeOrName, state.schema);\n  let hasSubList = false;\n  node.descendants((child) => {\n    if (child.type === nodeType) {\n      hasSubList = true;\n    }\n  });\n  return hasSubList;\n};\n\n// src/keymap/listHelpers/handleBackspace.ts\nvar handleBackspace = (editor, name, parentListTypes) => {\n  if (editor.commands.undoInputRule()) {\n    return true;\n  }\n  if (editor.state.selection.from !== editor.state.selection.to) {\n    return false;\n  }\n  if (!isNodeActive(editor.state, name) && hasListBefore(editor.state, name, parentListTypes)) {\n    const { $anchor } = editor.state.selection;\n    const $listPos = editor.state.doc.resolve($anchor.before() - 1);\n    const listDescendants = [];\n    $listPos.node().descendants((node, pos) => {\n      if (node.type.name === name) {\n        listDescendants.push({ node, pos });\n      }\n    });\n    const lastItem = listDescendants.at(-1);\n    if (!lastItem) {\n      return false;\n    }\n    const $lastItemPos = editor.state.doc.resolve($listPos.start() + lastItem.pos + 1);\n    return editor.chain().cut({ from: $anchor.start() - 1, to: $anchor.end() + 1 }, $lastItemPos.end()).joinForward().run();\n  }\n  if (!isNodeActive(editor.state, name)) {\n    return false;\n  }\n  if (!isAtStartOfNode(editor.state)) {\n    return false;\n  }\n  const listItemPos = findListItemPos(name, editor.state);\n  if (!listItemPos) {\n    return false;\n  }\n  const $prev = editor.state.doc.resolve(listItemPos.$pos.pos - 2);\n  const prevNode = $prev.node(listItemPos.depth);\n  const previousListItemHasSubList = listItemHasSubList(name, editor.state, prevNode);\n  if (hasListItemBefore(name, editor.state) && !previousListItemHasSubList) {\n    return editor.commands.joinItemBackward();\n  }\n  return editor.chain().liftListItem(name).run();\n};\n\n// src/keymap/listHelpers/handleDelete.ts\nimport { isAtEndOfNode, isNodeActive as isNodeActive2 } from \"@tiptap/core\";\n\n// src/keymap/listHelpers/nextListIsDeeper.ts\nvar nextListIsDeeper = (typeOrName, state) => {\n  const listDepth = getNextListDepth(typeOrName, state);\n  const listItemPos = findListItemPos(typeOrName, state);\n  if (!listItemPos || !listDepth) {\n    return false;\n  }\n  if (listDepth > listItemPos.depth) {\n    return true;\n  }\n  return false;\n};\n\n// src/keymap/listHelpers/nextListIsHigher.ts\nvar nextListIsHigher = (typeOrName, state) => {\n  const listDepth = getNextListDepth(typeOrName, state);\n  const listItemPos = findListItemPos(typeOrName, state);\n  if (!listItemPos || !listDepth) {\n    return false;\n  }\n  if (listDepth < listItemPos.depth) {\n    return true;\n  }\n  return false;\n};\n\n// src/keymap/listHelpers/handleDelete.ts\nvar handleDelete = (editor, name) => {\n  if (!isNodeActive2(editor.state, name)) {\n    return false;\n  }\n  if (!isAtEndOfNode(editor.state, name)) {\n    return false;\n  }\n  const { selection } = editor.state;\n  const { $from, $to } = selection;\n  if (!selection.empty && $from.sameParent($to)) {\n    return false;\n  }\n  if (nextListIsDeeper(name, editor.state)) {\n    return editor.chain().focus(editor.state.selection.from + 4).lift(name).joinBackward().run();\n  }\n  if (nextListIsHigher(name, editor.state)) {\n    return editor.chain().joinForward().joinBackward().run();\n  }\n  return editor.commands.joinItemForward();\n};\n\n// src/keymap/listHelpers/hasListItemAfter.ts\nvar hasListItemAfter = (typeOrName, state) => {\n  var _a;\n  const { $anchor } = state.selection;\n  const $targetPos = state.doc.resolve($anchor.pos - $anchor.parentOffset - 2);\n  if ($targetPos.index() === $targetPos.parent.childCount - 1) {\n    return false;\n  }\n  if (((_a = $targetPos.nodeAfter) == null ? void 0 : _a.type.name) !== typeOrName) {\n    return false;\n  }\n  return true;\n};\n\n// src/keymap/list-keymap.ts\nvar ListKeymap = Extension.create({\n  name: \"listKeymap\",\n  addOptions() {\n    return {\n      listTypes: [\n        {\n          itemName: \"listItem\",\n          wrapperNames: [\"bulletList\", \"orderedList\"]\n        },\n        {\n          itemName: \"taskItem\",\n          wrapperNames: [\"taskList\"]\n        }\n      ]\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      Delete: ({ editor }) => {\n        let handled = false;\n        this.options.listTypes.forEach(({ itemName }) => {\n          if (editor.state.schema.nodes[itemName] === void 0) {\n            return;\n          }\n          if (handleDelete(editor, itemName)) {\n            handled = true;\n          }\n        });\n        return handled;\n      },\n      \"Mod-Delete\": ({ editor }) => {\n        let handled = false;\n        this.options.listTypes.forEach(({ itemName }) => {\n          if (editor.state.schema.nodes[itemName] === void 0) {\n            return;\n          }\n          if (handleDelete(editor, itemName)) {\n            handled = true;\n          }\n        });\n        return handled;\n      },\n      Backspace: ({ editor }) => {\n        let handled = false;\n        this.options.listTypes.forEach(({ itemName, wrapperNames }) => {\n          if (editor.state.schema.nodes[itemName] === void 0) {\n            return;\n          }\n          if (handleBackspace(editor, itemName, wrapperNames)) {\n            handled = true;\n          }\n        });\n        return handled;\n      },\n      \"Mod-Backspace\": ({ editor }) => {\n        let handled = false;\n        this.options.listTypes.forEach(({ itemName, wrapperNames }) => {\n          if (editor.state.schema.nodes[itemName] === void 0) {\n            return;\n          }\n          if (handleBackspace(editor, itemName, wrapperNames)) {\n            handled = true;\n          }\n        });\n        return handled;\n      }\n    };\n  }\n});\n\n// src/kit/index.ts\nimport { Extension as Extension2 } from \"@tiptap/core\";\n\n// src/ordered-list/ordered-list.ts\nimport { mergeAttributes as mergeAttributes3, Node as Node3, wrappingInputRule as wrappingInputRule2 } from \"@tiptap/core\";\n\n// src/ordered-list/utils.ts\nvar ORDERED_LIST_ITEM_REGEX = /^(\\s*)(\\d+)\\.\\s+(.*)$/;\nvar INDENTED_LINE_REGEX = /^\\s/;\nfunction collectOrderedListItems(lines) {\n  const listItems = [];\n  let currentLineIndex = 0;\n  let consumed = 0;\n  while (currentLineIndex < lines.length) {\n    const line = lines[currentLineIndex];\n    const match = line.match(ORDERED_LIST_ITEM_REGEX);\n    if (!match) {\n      break;\n    }\n    const [, indent, number, content] = match;\n    const indentLevel = indent.length;\n    let itemContent = content;\n    let nextLineIndex = currentLineIndex + 1;\n    const itemLines = [line];\n    while (nextLineIndex < lines.length) {\n      const nextLine = lines[nextLineIndex];\n      const nextMatch = nextLine.match(ORDERED_LIST_ITEM_REGEX);\n      if (nextMatch) {\n        break;\n      }\n      if (nextLine.trim() === \"\") {\n        itemLines.push(nextLine);\n        itemContent += \"\\n\";\n        nextLineIndex += 1;\n      } else if (nextLine.match(INDENTED_LINE_REGEX)) {\n        itemLines.push(nextLine);\n        itemContent += `\n${nextLine.slice(indentLevel + 2)}`;\n        nextLineIndex += 1;\n      } else {\n        break;\n      }\n    }\n    listItems.push({\n      indent: indentLevel,\n      number: parseInt(number, 10),\n      content: itemContent.trim(),\n      raw: itemLines.join(\"\\n\")\n    });\n    consumed = nextLineIndex;\n    currentLineIndex = nextLineIndex;\n  }\n  return [listItems, consumed];\n}\nfunction buildNestedStructure(items, baseIndent, lexer) {\n  var _a;\n  const result = [];\n  let currentIndex = 0;\n  while (currentIndex < items.length) {\n    const item = items[currentIndex];\n    if (item.indent === baseIndent) {\n      const contentLines = item.content.split(\"\\n\");\n      const mainText = ((_a = contentLines[0]) == null ? void 0 : _a.trim()) || \"\";\n      const tokens = [];\n      if (mainText) {\n        tokens.push({\n          type: \"paragraph\",\n          raw: mainText,\n          tokens: lexer.inlineTokens(mainText)\n        });\n      }\n      const additionalContent = contentLines.slice(1).join(\"\\n\").trim();\n      if (additionalContent) {\n        const blockTokens = lexer.blockTokens(additionalContent);\n        tokens.push(...blockTokens);\n      }\n      let lookAheadIndex = currentIndex + 1;\n      const nestedItems = [];\n      while (lookAheadIndex < items.length && items[lookAheadIndex].indent > baseIndent) {\n        nestedItems.push(items[lookAheadIndex]);\n        lookAheadIndex += 1;\n      }\n      if (nestedItems.length > 0) {\n        const nextIndent = Math.min(...nestedItems.map((nestedItem) => nestedItem.indent));\n        const nestedListItems = buildNestedStructure(nestedItems, nextIndent, lexer);\n        tokens.push({\n          type: \"list\",\n          ordered: true,\n          start: nestedItems[0].number,\n          items: nestedListItems,\n          raw: nestedItems.map((nestedItem) => nestedItem.raw).join(\"\\n\")\n        });\n      }\n      result.push({\n        type: \"list_item\",\n        raw: item.raw,\n        tokens\n      });\n      currentIndex = lookAheadIndex;\n    } else {\n      currentIndex += 1;\n    }\n  }\n  return result;\n}\nfunction parseListItems(items, helpers) {\n  return items.map((item) => {\n    if (item.type !== \"list_item\") {\n      return helpers.parseChildren([item])[0];\n    }\n    const content = [];\n    if (item.tokens && item.tokens.length > 0) {\n      item.tokens.forEach((itemToken) => {\n        if (itemToken.type === \"paragraph\" || itemToken.type === \"list\" || itemToken.type === \"blockquote\" || itemToken.type === \"code\") {\n          content.push(...helpers.parseChildren([itemToken]));\n        } else if (itemToken.type === \"text\" && itemToken.tokens) {\n          const inlineContent = helpers.parseChildren([itemToken]);\n          content.push({\n            type: \"paragraph\",\n            content: inlineContent\n          });\n        } else {\n          const parsed = helpers.parseChildren([itemToken]);\n          if (parsed.length > 0) {\n            content.push(...parsed);\n          }\n        }\n      });\n    }\n    return {\n      type: \"listItem\",\n      content\n    };\n  });\n}\n\n// src/ordered-list/ordered-list.ts\nvar ListItemName2 = \"listItem\";\nvar TextStyleName2 = \"textStyle\";\nvar orderedListInputRegex = /^(\\d+)\\.\\s$/;\nvar OrderedList = Node3.create({\n  name: \"orderedList\",\n  addOptions() {\n    return {\n      itemTypeName: \"listItem\",\n      HTMLAttributes: {},\n      keepMarks: false,\n      keepAttributes: false\n    };\n  },\n  group: \"block list\",\n  content() {\n    return `${this.options.itemTypeName}+`;\n  },\n  addAttributes() {\n    return {\n      start: {\n        default: 1,\n        parseHTML: (element) => {\n          return element.hasAttribute(\"start\") ? parseInt(element.getAttribute(\"start\") || \"\", 10) : 1;\n        }\n      },\n      type: {\n        default: null,\n        parseHTML: (element) => element.getAttribute(\"type\")\n      }\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"ol\"\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes }) {\n    const { start, ...attributesWithoutStart } = HTMLAttributes;\n    return start === 1 ? [\"ol\", mergeAttributes3(this.options.HTMLAttributes, attributesWithoutStart), 0] : [\"ol\", mergeAttributes3(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  markdownTokenName: \"list\",\n  parseMarkdown: (token, helpers) => {\n    if (token.type !== \"list\" || !token.ordered) {\n      return [];\n    }\n    const startValue = token.start || 1;\n    const content = token.items ? parseListItems(token.items, helpers) : [];\n    if (startValue !== 1) {\n      return {\n        type: \"orderedList\",\n        attrs: { start: startValue },\n        content\n      };\n    }\n    return {\n      type: \"orderedList\",\n      content\n    };\n  },\n  renderMarkdown: (node, h) => {\n    if (!node.content) {\n      return \"\";\n    }\n    return h.renderChildren(node.content, \"\\n\");\n  },\n  markdownTokenizer: {\n    name: \"orderedList\",\n    level: \"block\",\n    start: (src) => {\n      const match = src.match(/^(\\s*)(\\d+)\\.\\s+/);\n      const index = match == null ? void 0 : match.index;\n      return index !== void 0 ? index : -1;\n    },\n    tokenize: (src, _tokens, lexer) => {\n      var _a;\n      const lines = src.split(\"\\n\");\n      const [listItems, consumed] = collectOrderedListItems(lines);\n      if (listItems.length === 0) {\n        return void 0;\n      }\n      const items = buildNestedStructure(listItems, 0, lexer);\n      if (items.length === 0) {\n        return void 0;\n      }\n      const startValue = ((_a = listItems[0]) == null ? void 0 : _a.number) || 1;\n      return {\n        type: \"list\",\n        ordered: true,\n        start: startValue,\n        items,\n        raw: lines.slice(0, consumed).join(\"\\n\")\n      };\n    }\n  },\n  markdownOptions: {\n    indentsContent: true\n  },\n  addCommands() {\n    return {\n      toggleOrderedList: () => ({ commands, chain }) => {\n        if (this.options.keepAttributes) {\n          return chain().toggleList(this.name, this.options.itemTypeName, this.options.keepMarks).updateAttributes(ListItemName2, this.editor.getAttributes(TextStyleName2)).run();\n        }\n        return commands.toggleList(this.name, this.options.itemTypeName, this.options.keepMarks);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Shift-7\": () => this.editor.commands.toggleOrderedList()\n    };\n  },\n  addInputRules() {\n    let inputRule = wrappingInputRule2({\n      find: orderedListInputRegex,\n      type: this.type,\n      getAttributes: (match) => ({ start: +match[1] }),\n      joinPredicate: (match, node) => node.childCount + node.attrs.start === +match[1]\n    });\n    if (this.options.keepMarks || this.options.keepAttributes) {\n      inputRule = wrappingInputRule2({\n        find: orderedListInputRegex,\n        type: this.type,\n        keepMarks: this.options.keepMarks,\n        keepAttributes: this.options.keepAttributes,\n        getAttributes: (match) => ({ start: +match[1], ...this.editor.getAttributes(TextStyleName2) }),\n        joinPredicate: (match, node) => node.childCount + node.attrs.start === +match[1],\n        editor: this.editor\n      });\n    }\n    return [inputRule];\n  }\n});\n\n// src/task-item/task-item.ts\nimport {\n  getRenderedAttributes,\n  mergeAttributes as mergeAttributes4,\n  Node as Node4,\n  renderNestedMarkdownContent as renderNestedMarkdownContent2,\n  wrappingInputRule as wrappingInputRule3\n} from \"@tiptap/core\";\nvar inputRegex = /^\\s*(\\[([( |x])?\\])\\s$/;\nvar TaskItem = Node4.create({\n  name: \"taskItem\",\n  addOptions() {\n    return {\n      nested: false,\n      HTMLAttributes: {},\n      taskListTypeName: \"taskList\",\n      a11y: void 0\n    };\n  },\n  content() {\n    return this.options.nested ? \"paragraph block*\" : \"paragraph+\";\n  },\n  defining: true,\n  addAttributes() {\n    return {\n      checked: {\n        default: false,\n        keepOnSplit: false,\n        parseHTML: (element) => {\n          const dataChecked = element.getAttribute(\"data-checked\");\n          return dataChecked === \"\" || dataChecked === \"true\";\n        },\n        renderHTML: (attributes) => ({\n          \"data-checked\": attributes.checked\n        })\n      }\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: `li[data-type=\"${this.name}\"]`,\n        priority: 51\n      }\n    ];\n  },\n  renderHTML({ node, HTMLAttributes }) {\n    return [\n      \"li\",\n      mergeAttributes4(this.options.HTMLAttributes, HTMLAttributes, {\n        \"data-type\": this.name\n      }),\n      [\n        \"label\",\n        [\n          \"input\",\n          {\n            type: \"checkbox\",\n            checked: node.attrs.checked ? \"checked\" : null\n          }\n        ],\n        [\"span\"]\n      ],\n      [\"div\", 0]\n    ];\n  },\n  parseMarkdown: (token, h) => {\n    const content = [];\n    if (token.tokens && token.tokens.length > 0) {\n      content.push(h.createNode(\"paragraph\", {}, h.parseInline(token.tokens)));\n    } else if (token.text) {\n      content.push(h.createNode(\"paragraph\", {}, [h.createNode(\"text\", { text: token.text })]));\n    } else {\n      content.push(h.createNode(\"paragraph\", {}, []));\n    }\n    if (token.nestedTokens && token.nestedTokens.length > 0) {\n      const nestedContent = h.parseChildren(token.nestedTokens);\n      content.push(...nestedContent);\n    }\n    return h.createNode(\"taskItem\", { checked: token.checked || false }, content);\n  },\n  renderMarkdown: (node, h) => {\n    var _a;\n    const checkedChar = ((_a = node.attrs) == null ? void 0 : _a.checked) ? \"x\" : \" \";\n    const prefix = `- [${checkedChar}] `;\n    return renderNestedMarkdownContent2(node, h, prefix);\n  },\n  addKeyboardShortcuts() {\n    const shortcuts = {\n      Enter: () => this.editor.commands.splitListItem(this.name),\n      \"Shift-Tab\": () => this.editor.commands.liftListItem(this.name)\n    };\n    if (!this.options.nested) {\n      return shortcuts;\n    }\n    return {\n      ...shortcuts,\n      Tab: () => this.editor.commands.sinkListItem(this.name)\n    };\n  },\n  addNodeView() {\n    return ({ node, HTMLAttributes, getPos, editor }) => {\n      const listItem = document.createElement(\"li\");\n      const checkboxWrapper = document.createElement(\"label\");\n      const checkboxStyler = document.createElement(\"span\");\n      const checkbox = document.createElement(\"input\");\n      const content = document.createElement(\"div\");\n      const updateA11Y = (currentNode) => {\n        var _a, _b;\n        checkbox.ariaLabel = ((_b = (_a = this.options.a11y) == null ? void 0 : _a.checkboxLabel) == null ? void 0 : _b.call(_a, currentNode, checkbox.checked)) || `Task item checkbox for ${currentNode.textContent || \"empty task item\"}`;\n      };\n      updateA11Y(node);\n      checkboxWrapper.contentEditable = \"false\";\n      checkbox.type = \"checkbox\";\n      checkbox.addEventListener(\"mousedown\", (event) => event.preventDefault());\n      checkbox.addEventListener(\"change\", (event) => {\n        if (!editor.isEditable && !this.options.onReadOnlyChecked) {\n          checkbox.checked = !checkbox.checked;\n          return;\n        }\n        const { checked } = event.target;\n        if (editor.isEditable && typeof getPos === \"function\") {\n          editor.chain().focus(void 0, { scrollIntoView: false }).command(({ tr }) => {\n            const position = getPos();\n            if (typeof position !== \"number\") {\n              return false;\n            }\n            const currentNode = tr.doc.nodeAt(position);\n            tr.setNodeMarkup(position, void 0, {\n              ...currentNode == null ? void 0 : currentNode.attrs,\n              checked\n            });\n            return true;\n          }).run();\n        }\n        if (!editor.isEditable && this.options.onReadOnlyChecked) {\n          if (!this.options.onReadOnlyChecked(node, checked)) {\n            checkbox.checked = !checkbox.checked;\n          }\n        }\n      });\n      Object.entries(this.options.HTMLAttributes).forEach(([key, value]) => {\n        listItem.setAttribute(key, value);\n      });\n      listItem.dataset.checked = node.attrs.checked;\n      checkbox.checked = node.attrs.checked;\n      checkboxWrapper.append(checkbox, checkboxStyler);\n      listItem.append(checkboxWrapper, content);\n      Object.entries(HTMLAttributes).forEach(([key, value]) => {\n        listItem.setAttribute(key, value);\n      });\n      let prevRenderedAttributeKeys = new Set(Object.keys(HTMLAttributes));\n      return {\n        dom: listItem,\n        contentDOM: content,\n        update: (updatedNode) => {\n          if (updatedNode.type !== this.type) {\n            return false;\n          }\n          listItem.dataset.checked = updatedNode.attrs.checked;\n          checkbox.checked = updatedNode.attrs.checked;\n          updateA11Y(updatedNode);\n          const extensionAttributes = editor.extensionManager.attributes;\n          const newHTMLAttributes = getRenderedAttributes(updatedNode, extensionAttributes);\n          const newKeys = new Set(Object.keys(newHTMLAttributes));\n          const staticAttrs = this.options.HTMLAttributes;\n          prevRenderedAttributeKeys.forEach((key) => {\n            if (!newKeys.has(key)) {\n              if (key in staticAttrs) {\n                listItem.setAttribute(key, staticAttrs[key]);\n              } else {\n                listItem.removeAttribute(key);\n              }\n            }\n          });\n          Object.entries(newHTMLAttributes).forEach(([key, value]) => {\n            if (value === null || value === void 0) {\n              if (key in staticAttrs) {\n                listItem.setAttribute(key, staticAttrs[key]);\n              } else {\n                listItem.removeAttribute(key);\n              }\n            } else {\n              listItem.setAttribute(key, value);\n            }\n          });\n          prevRenderedAttributeKeys = newKeys;\n          return true;\n        }\n      };\n    };\n  },\n  addInputRules() {\n    return [\n      wrappingInputRule3({\n        find: inputRegex,\n        type: this.type,\n        getAttributes: (match) => ({\n          checked: match[match.length - 1] === \"x\"\n        })\n      })\n    ];\n  }\n});\n\n// src/task-list/task-list.ts\nimport { mergeAttributes as mergeAttributes5, Node as Node5, parseIndentedBlocks } from \"@tiptap/core\";\nvar TaskList = Node5.create({\n  name: \"taskList\",\n  addOptions() {\n    return {\n      itemTypeName: \"taskItem\",\n      HTMLAttributes: {}\n    };\n  },\n  group: \"block list\",\n  content() {\n    return `${this.options.itemTypeName}+`;\n  },\n  parseHTML() {\n    return [\n      {\n        tag: `ul[data-type=\"${this.name}\"]`,\n        priority: 51\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"ul\", mergeAttributes5(this.options.HTMLAttributes, HTMLAttributes, { \"data-type\": this.name }), 0];\n  },\n  parseMarkdown: (token, h) => {\n    return h.createNode(\"taskList\", {}, h.parseChildren(token.items || []));\n  },\n  renderMarkdown: (node, h) => {\n    if (!node.content) {\n      return \"\";\n    }\n    return h.renderChildren(node.content, \"\\n\");\n  },\n  markdownTokenizer: {\n    name: \"taskList\",\n    level: \"block\",\n    start(src) {\n      var _a;\n      const index = (_a = src.match(/^\\s*[-+*]\\s+\\[([ xX])\\]\\s+/)) == null ? void 0 : _a.index;\n      return index !== void 0 ? index : -1;\n    },\n    tokenize(src, tokens, lexer) {\n      const parseTaskListContent = (content) => {\n        const nestedResult = parseIndentedBlocks(\n          content,\n          {\n            itemPattern: /^(\\s*)([-+*])\\s+\\[([ xX])\\]\\s+(.*)$/,\n            extractItemData: (match) => ({\n              indentLevel: match[1].length,\n              mainContent: match[4],\n              checked: match[3].toLowerCase() === \"x\"\n            }),\n            createToken: (data, nestedTokens) => ({\n              type: \"taskItem\",\n              raw: \"\",\n              mainContent: data.mainContent,\n              indentLevel: data.indentLevel,\n              checked: data.checked,\n              text: data.mainContent,\n              tokens: lexer.inlineTokens(data.mainContent),\n              nestedTokens\n            }),\n            // Allow recursive nesting\n            customNestedParser: parseTaskListContent\n          },\n          lexer\n        );\n        if (nestedResult) {\n          return [\n            {\n              type: \"taskList\",\n              raw: nestedResult.raw,\n              items: nestedResult.items\n            }\n          ];\n        }\n        return lexer.blockTokens(content);\n      };\n      const result = parseIndentedBlocks(\n        src,\n        {\n          itemPattern: /^(\\s*)([-+*])\\s+\\[([ xX])\\]\\s+(.*)$/,\n          extractItemData: (match) => ({\n            indentLevel: match[1].length,\n            mainContent: match[4],\n            checked: match[3].toLowerCase() === \"x\"\n          }),\n          createToken: (data, nestedTokens) => ({\n            type: \"taskItem\",\n            raw: \"\",\n            mainContent: data.mainContent,\n            indentLevel: data.indentLevel,\n            checked: data.checked,\n            text: data.mainContent,\n            tokens: lexer.inlineTokens(data.mainContent),\n            nestedTokens\n          }),\n          // Use the recursive parser for nested content\n          customNestedParser: parseTaskListContent\n        },\n        lexer\n      );\n      if (!result) {\n        return void 0;\n      }\n      return {\n        type: \"taskList\",\n        raw: result.raw,\n        items: result.items\n      };\n    }\n  },\n  markdownOptions: {\n    indentsContent: true\n  },\n  addCommands() {\n    return {\n      toggleTaskList: () => ({ commands }) => {\n        return commands.toggleList(this.name, this.options.itemTypeName);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Shift-9\": () => this.editor.commands.toggleTaskList()\n    };\n  }\n});\n\n// src/kit/index.ts\nvar ListKit = Extension2.create({\n  name: \"listKit\",\n  addExtensions() {\n    const extensions = [];\n    if (this.options.bulletList !== false) {\n      extensions.push(BulletList.configure(this.options.bulletList));\n    }\n    if (this.options.listItem !== false) {\n      extensions.push(ListItem.configure(this.options.listItem));\n    }\n    if (this.options.listKeymap !== false) {\n      extensions.push(ListKeymap.configure(this.options.listKeymap));\n    }\n    if (this.options.orderedList !== false) {\n      extensions.push(OrderedList.configure(this.options.orderedList));\n    }\n    if (this.options.taskItem !== false) {\n      extensions.push(TaskItem.configure(this.options.taskItem));\n    }\n    if (this.options.taskList !== false) {\n      extensions.push(TaskList.configure(this.options.taskList));\n    }\n    return extensions;\n  }\n});\nexport {\n  BulletList,\n  ListItem,\n  ListKeymap,\n  ListKit,\n  OrderedList,\n  TaskItem,\n  TaskList,\n  bulletListInputRegex,\n  inputRegex,\n  listHelpers_exports as listHelpers,\n  orderedListInputRegex\n};\n//# sourceMappingURL=index.js.map","var GOOD_LEAF_SIZE = 200;\n\n// :: class<T> A rope sequence is a persistent sequence data structure\n// that supports appending, prepending, and slicing without doing a\n// full copy. It is represented as a mostly-balanced tree.\nvar RopeSequence = function RopeSequence () {};\n\nRopeSequence.prototype.append = function append (other) {\n  if (!other.length) { return this }\n  other = RopeSequence.from(other);\n\n  return (!this.length && other) ||\n    (other.length < GOOD_LEAF_SIZE && this.leafAppend(other)) ||\n    (this.length < GOOD_LEAF_SIZE && other.leafPrepend(this)) ||\n    this.appendInner(other)\n};\n\n// :: (union<[T], RopeSequence<T>>) → RopeSequence<T>\n// Prepend an array or other rope to this one, returning a new rope.\nRopeSequence.prototype.prepend = function prepend (other) {\n  if (!other.length) { return this }\n  return RopeSequence.from(other).append(this)\n};\n\nRopeSequence.prototype.appendInner = function appendInner (other) {\n  return new Append(this, other)\n};\n\n// :: (?number, ?number) → RopeSequence<T>\n// Create a rope repesenting a sub-sequence of this rope.\nRopeSequence.prototype.slice = function slice (from, to) {\n    if ( from === void 0 ) from = 0;\n    if ( to === void 0 ) to = this.length;\n\n  if (from >= to) { return RopeSequence.empty }\n  return this.sliceInner(Math.max(0, from), Math.min(this.length, to))\n};\n\n// :: (number) → T\n// Retrieve the element at the given position from this rope.\nRopeSequence.prototype.get = function get (i) {\n  if (i < 0 || i >= this.length) { return undefined }\n  return this.getInner(i)\n};\n\n// :: ((element: T, index: number) → ?bool, ?number, ?number)\n// Call the given function for each element between the given\n// indices. This tends to be more efficient than looping over the\n// indices and calling `get`, because it doesn't have to descend the\n// tree for every element.\nRopeSequence.prototype.forEach = function forEach (f, from, to) {\n    if ( from === void 0 ) from = 0;\n    if ( to === void 0 ) to = this.length;\n\n  if (from <= to)\n    { this.forEachInner(f, from, to, 0); }\n  else\n    { this.forEachInvertedInner(f, from, to, 0); }\n};\n\n// :: ((element: T, index: number) → U, ?number, ?number) → [U]\n// Map the given functions over the elements of the rope, producing\n// a flat array.\nRopeSequence.prototype.map = function map (f, from, to) {\n    if ( from === void 0 ) from = 0;\n    if ( to === void 0 ) to = this.length;\n\n  var result = [];\n  this.forEach(function (elt, i) { return result.push(f(elt, i)); }, from, to);\n  return result\n};\n\n// :: (?union<[T], RopeSequence<T>>) → RopeSequence<T>\n// Create a rope representing the given array, or return the rope\n// itself if a rope was given.\nRopeSequence.from = function from (values) {\n  if (values instanceof RopeSequence) { return values }\n  return values && values.length ? new Leaf(values) : RopeSequence.empty\n};\n\nvar Leaf = /*@__PURE__*/(function (RopeSequence) {\n  function Leaf(values) {\n    RopeSequence.call(this);\n    this.values = values;\n  }\n\n  if ( RopeSequence ) Leaf.__proto__ = RopeSequence;\n  Leaf.prototype = Object.create( RopeSequence && RopeSequence.prototype );\n  Leaf.prototype.constructor = Leaf;\n\n  var prototypeAccessors = { length: { configurable: true },depth: { configurable: true } };\n\n  Leaf.prototype.flatten = function flatten () {\n    return this.values\n  };\n\n  Leaf.prototype.sliceInner = function sliceInner (from, to) {\n    if (from == 0 && to == this.length) { return this }\n    return new Leaf(this.values.slice(from, to))\n  };\n\n  Leaf.prototype.getInner = function getInner (i) {\n    return this.values[i]\n  };\n\n  Leaf.prototype.forEachInner = function forEachInner (f, from, to, start) {\n    for (var i = from; i < to; i++)\n      { if (f(this.values[i], start + i) === false) { return false } }\n  };\n\n  Leaf.prototype.forEachInvertedInner = function forEachInvertedInner (f, from, to, start) {\n    for (var i = from - 1; i >= to; i--)\n      { if (f(this.values[i], start + i) === false) { return false } }\n  };\n\n  Leaf.prototype.leafAppend = function leafAppend (other) {\n    if (this.length + other.length <= GOOD_LEAF_SIZE)\n      { return new Leaf(this.values.concat(other.flatten())) }\n  };\n\n  Leaf.prototype.leafPrepend = function leafPrepend (other) {\n    if (this.length + other.length <= GOOD_LEAF_SIZE)\n      { return new Leaf(other.flatten().concat(this.values)) }\n  };\n\n  prototypeAccessors.length.get = function () { return this.values.length };\n\n  prototypeAccessors.depth.get = function () { return 0 };\n\n  Object.defineProperties( Leaf.prototype, prototypeAccessors );\n\n  return Leaf;\n}(RopeSequence));\n\n// :: RopeSequence\n// The empty rope sequence.\nRopeSequence.empty = new Leaf([]);\n\nvar Append = /*@__PURE__*/(function (RopeSequence) {\n  function Append(left, right) {\n    RopeSequence.call(this);\n    this.left = left;\n    this.right = right;\n    this.length = left.length + right.length;\n    this.depth = Math.max(left.depth, right.depth) + 1;\n  }\n\n  if ( RopeSequence ) Append.__proto__ = RopeSequence;\n  Append.prototype = Object.create( RopeSequence && RopeSequence.prototype );\n  Append.prototype.constructor = Append;\n\n  Append.prototype.flatten = function flatten () {\n    return this.left.flatten().concat(this.right.flatten())\n  };\n\n  Append.prototype.getInner = function getInner (i) {\n    return i < this.left.length ? this.left.get(i) : this.right.get(i - this.left.length)\n  };\n\n  Append.prototype.forEachInner = function forEachInner (f, from, to, start) {\n    var leftLen = this.left.length;\n    if (from < leftLen &&\n        this.left.forEachInner(f, from, Math.min(to, leftLen), start) === false)\n      { return false }\n    if (to > leftLen &&\n        this.right.forEachInner(f, Math.max(from - leftLen, 0), Math.min(this.length, to) - leftLen, start + leftLen) === false)\n      { return false }\n  };\n\n  Append.prototype.forEachInvertedInner = function forEachInvertedInner (f, from, to, start) {\n    var leftLen = this.left.length;\n    if (from > leftLen &&\n        this.right.forEachInvertedInner(f, from - leftLen, Math.max(to, leftLen) - leftLen, start + leftLen) === false)\n      { return false }\n    if (to < leftLen &&\n        this.left.forEachInvertedInner(f, Math.min(from, leftLen), to, start) === false)\n      { return false }\n  };\n\n  Append.prototype.sliceInner = function sliceInner (from, to) {\n    if (from == 0 && to == this.length) { return this }\n    var leftLen = this.left.length;\n    if (to <= leftLen) { return this.left.slice(from, to) }\n    if (from >= leftLen) { return this.right.slice(from - leftLen, to - leftLen) }\n    return this.left.slice(from, leftLen).append(this.right.slice(0, to - leftLen))\n  };\n\n  Append.prototype.leafAppend = function leafAppend (other) {\n    var inner = this.right.leafAppend(other);\n    if (inner) { return new Append(this.left, inner) }\n  };\n\n  Append.prototype.leafPrepend = function leafPrepend (other) {\n    var inner = this.left.leafPrepend(other);\n    if (inner) { return new Append(inner, this.right) }\n  };\n\n  Append.prototype.appendInner = function appendInner (other) {\n    if (this.left.depth >= Math.max(this.right.depth, other.depth) + 1)\n      { return new Append(this.left, new Append(this.right, other)) }\n    return new Append(this, other)\n  };\n\n  return Append;\n}(RopeSequence));\n\nexport default RopeSequence;\n","\"use client\";\n\n// src/toggle.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"Toggle\";\nvar Toggle = React.forwardRef((props, forwardedRef) => {\n  const { pressed: pressedProp, defaultPressed, onPressedChange, ...buttonProps } = props;\n  const [pressed, setPressed] = useControllableState({\n    prop: pressedProp,\n    onChange: onPressedChange,\n    defaultProp: defaultPressed ?? false,\n    caller: NAME\n  });\n  return /* @__PURE__ */ jsx(\n    Primitive.button,\n    {\n      type: \"button\",\n      \"aria-pressed\": pressed,\n      \"data-state\": pressed ? \"on\" : \"off\",\n      \"data-disabled\": props.disabled ? \"\" : void 0,\n      ...buttonProps,\n      ref: forwardedRef,\n      onClick: composeEventHandlers(props.onClick, () => {\n        if (!props.disabled) {\n          setPressed(!pressed);\n        }\n      })\n    }\n  );\n});\nToggle.displayName = NAME;\nvar Root = Toggle;\nexport {\n  Root,\n  Toggle\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\n\nimport * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { Toggle as TogglePrimitive } from \"radix-ui\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive whitespace-nowrap\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-9 px-2 min-w-9\",\n        sm: \"h-8 px-1.5 min-w-8\",\n        lg: \"h-10 px-2.5 min-w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Toggle({\n  className,\n  variant,\n  size,\n  ...props\n}: React.ComponentProps<typeof TogglePrimitive.Root> &\n  VariantProps<typeof toggleVariants>) {\n  return (\n    <TogglePrimitive.Root\n      data-slot=\"toggle\"\n      className={cn(toggleVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Toggle, toggleVariants }\n","\"use client\";\r\n\r\nimport { useEditor, EditorContent, type Editor } from \"@tiptap/react\";\r\nimport StarterKit from \"@tiptap/starter-kit\";\r\nimport Image from \"@tiptap/extension-image\";\r\nimport Link from \"@tiptap/extension-link\";\r\nimport Underline from \"@tiptap/extension-underline\";\r\nimport TextAlign from \"@tiptap/extension-text-align\";\r\nimport Placeholder from \"@tiptap/extension-placeholder\";\r\nimport { Toggle } from \"@/components/ui/toggle\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport {\r\n    Popover,\r\n    PopoverContent,\r\n    PopoverTrigger,\r\n} from \"@/components/ui/popover\";\r\nimport {\r\n    Bold,\r\n    Italic,\r\n    Underline as UnderlineIcon,\r\n    List,\r\n    ListOrdered,\r\n    AlignLeft,\r\n    AlignCenter,\r\n    AlignRight,\r\n    Link as LinkIcon,\r\n    Image as ImageIcon,\r\n    Heading1,\r\n    Heading2,\r\n    Heading3,\r\n    Code,\r\n    Undo,\r\n    Redo,\r\n    Type,\r\n} from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\ninterface RichTextEditorProps {\r\n    value: string;\r\n    onChange: (value: string) => void;\r\n    placeholder?: string;\r\n}\r\n\r\nconst Toolbar = ({ editor }: { editor: Editor | null }) => {\r\n    if (!editor) return null;\r\n\r\n    const addImage = () => {\r\n        const url = window.prompt(\"URL da imagem:\");\r\n        if (url) {\r\n            const alt = window.prompt(\"Texto alternativo (Alt Text):\");\r\n            editor.chain().focus().setImage({ src: url, alt: alt || \"\" }).run();\r\n        }\r\n    };\r\n\r\n    const setLink = () => {\r\n        const previousUrl = editor.getAttributes(\"link\").href;\r\n        const url = window.prompt(\"URL do link:\", previousUrl);\r\n\r\n        // cancelled\r\n        if (url === null) {\r\n            return;\r\n        }\r\n\r\n        // empty\r\n        if (url === \"\") {\r\n            editor.chain().focus().extendMarkRange(\"link\").unsetLink().run();\r\n            return;\r\n        }\r\n\r\n        // update link\r\n        editor\r\n            .chain()\r\n            .focus()\r\n            .extendMarkRange(\"link\")\r\n            .setLink({ href: url })\r\n            .run();\r\n    };\r\n\r\n    return (\r\n        <div className=\"border border-input bg-transparent rounded-t-lg p-2 flex flex-wrap gap-1 items-center\">\r\n            <Toggle\r\n                size=\"sm\"\r\n                pressed={editor.isActive(\"bold\")}\r\n                onPressedChange={() => editor.chain().focus().toggleBold().run()}\r\n                aria-label=\"Negrito\"\r\n            >\r\n                <Bold className=\"h-4 w-4\" />\r\n            </Toggle>\r\n            <Toggle\r\n                size=\"sm\"\r\n                pressed={editor.isActive(\"italic\")}\r\n                onPressedChange={() => editor.chain().focus().toggleItalic().run()}\r\n                aria-label=\"Itálico\"\r\n            >\r\n                <Italic className=\"h-4 w-4\" />\r\n            </Toggle>\r\n            <Toggle\r\n                size=\"sm\"\r\n                pressed={editor.isActive(\"underline\")}\r\n                onPressedChange={() => editor.chain().focus().toggleUnderline().run()}\r\n                aria-label=\"Sublinhado\"\r\n            >\r\n                <UnderlineIcon className=\"h-4 w-4\" />\r\n            </Toggle>\r\n\r\n            <div className=\"w-px h-6 bg-border mx-1\" />\r\n\r\n            <Toggle\r\n                size=\"sm\"\r\n                pressed={editor.isActive(\"heading\", { level: 1 })}\r\n                onPressedChange={() =>\r\n                    editor.chain().focus().toggleHeading({ level: 1 }).run()\r\n                }\r\n                aria-label=\"H1\"\r\n            >\r\n                <Heading1 className=\"h-4 w-4\" />\r\n            </Toggle>\r\n            <Toggle\r\n                size=\"sm\"\r\n                pressed={editor.isActive(\"heading\", { level: 2 })}\r\n                onPressedChange={() =>\r\n                    editor.chain().focus().toggleHeading({ level: 2 }).run()\r\n                }\r\n                aria-label=\"H2\"\r\n            >\r\n                <Heading2 className=\"h-4 w-4\" />\r\n            </Toggle>\r\n            <Toggle\r\n                size=\"sm\"\r\n                pressed={editor.isActive(\"heading\", { level: 3 })}\r\n                onPressedChange={() =>\r\n                    editor.chain().focus().toggleHeading({ level: 3 }).run()\r\n                }\r\n                aria-label=\"H3\"\r\n            >\r\n                <Heading3 className=\"h-4 w-4\" />\r\n            </Toggle>\r\n\r\n            <div className=\"w-px h-6 bg-border mx-1\" />\r\n\r\n            <Toggle\r\n                size=\"sm\"\r\n                pressed={editor.isActive(\"bulletList\")}\r\n                onPressedChange={() => editor.chain().focus().toggleBulletList().run()}\r\n                aria-label=\"Lista com marcadores\"\r\n            >\r\n                <List className=\"h-4 w-4\" />\r\n            </Toggle>\r\n            <Toggle\r\n                size=\"sm\"\r\n                pressed={editor.isActive(\"orderedList\")}\r\n                onPressedChange={() => editor.chain().focus().toggleOrderedList().run()}\r\n                aria-label=\"Lista numerada\"\r\n            >\r\n                <ListOrdered className=\"h-4 w-4\" />\r\n            </Toggle>\r\n\r\n            <div className=\"w-px h-6 bg-border mx-1\" />\r\n\r\n            <Toggle\r\n                size=\"sm\"\r\n                pressed={editor.isActive({ textAlign: \"left\" })}\r\n                onPressedChange={() =>\r\n                    editor.chain().focus().setTextAlign(\"left\").run()\r\n                }\r\n                aria-label=\"Alinhar à esquerda\"\r\n            >\r\n                <AlignLeft className=\"h-4 w-4\" />\r\n            </Toggle>\r\n            <Toggle\r\n                size=\"sm\"\r\n                pressed={editor.isActive({ textAlign: \"center\" })}\r\n                onPressedChange={() =>\r\n                    editor.chain().focus().setTextAlign(\"center\").run()\r\n                }\r\n                aria-label=\"Centralizar\"\r\n            >\r\n                <AlignCenter className=\"h-4 w-4\" />\r\n            </Toggle>\r\n            <Toggle\r\n                size=\"sm\"\r\n                pressed={editor.isActive({ textAlign: \"right\" })}\r\n                onPressedChange={() =>\r\n                    editor.chain().focus().setTextAlign(\"right\").run()\r\n                }\r\n                aria-label=\"Alinhar à direita\"\r\n            >\r\n                <AlignRight className=\"h-4 w-4\" />\r\n            </Toggle>\r\n\r\n            <div className=\"w-px h-6 bg-border mx-1\" />\r\n\r\n            <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={setLink}\r\n                className={cn(\r\n                    \"h-9 w-9 p-0\",\r\n                    editor.isActive(\"link\") && \"bg-accent text-accent-foreground\"\r\n                )}\r\n                title=\"Inserir Link\"\r\n            >\r\n                <LinkIcon className=\"h-4 w-4\" />\r\n            </Button>\r\n\r\n            <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={addImage}\r\n                className=\"h-9 w-9 p-0\"\r\n                title=\"Inserir Imagem\"\r\n            >\r\n                <ImageIcon className=\"h-4 w-4\" />\r\n            </Button>\r\n\r\n            <div className=\"flex-1\" />\r\n\r\n            <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => editor.chain().focus().undo().run()}\r\n                disabled={!editor.can().undo()}\r\n                className=\"h-9 w-9 p-0\"\r\n            >\r\n                <Undo className=\"h-4 w-4\" />\r\n            </Button>\r\n            <Button\r\n                variant=\"ghost\"\r\n                size=\"sm\"\r\n                onClick={() => editor.chain().focus().redo().run()}\r\n                disabled={!editor.can().redo()}\r\n                className=\"h-9 w-9 p-0\"\r\n            >\r\n                <Redo className=\"h-4 w-4\" />\r\n            </Button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport function RichTextEditor({\r\n    value,\r\n    onChange,\r\n    placeholder,\r\n}: RichTextEditorProps) {\r\n    const [isSourceMode, setIsSourceMode] = useState(false);\r\n    const [sourceCode, setSourceCode] = useState(\"\");\r\n\r\n    const editor = useEditor({\r\n        extensions: [\r\n            StarterKit,\r\n            Underline,\r\n            Link.configure({\r\n                openOnClick: false,\r\n                HTMLAttributes: {\r\n                    class: \"text-primary underline cursor-pointer\",\r\n                },\r\n            }),\r\n            Image.configure({\r\n                HTMLAttributes: {\r\n                    class: \"rounded-lg border shadow-sm max-w-full\",\r\n                },\r\n            }),\r\n            TextAlign.configure({\r\n                types: [\"heading\", \"paragraph\"],\r\n            }),\r\n            Placeholder.configure({\r\n                placeholder: placeholder || \"Comece a escrever...\",\r\n            }),\r\n        ],\r\n        content: value,\r\n        onUpdate: ({ editor }) => {\r\n            onChange(editor.getHTML());\r\n        },\r\n        editorProps: {\r\n            attributes: {\r\n                class: \"prose prose-sm dark:prose-invert max-w-none min-h-[300px] p-4 focus:outline-none\",\r\n            }\r\n        },\r\n        immediatelyRender: false,\r\n    });\r\n\r\n    // Sync value change if specificed externally (e.g. form reset)\r\n    useEffect(() => {\r\n        if (editor && value !== editor.getHTML()) {\r\n            // Only update if content is different to avoid cursor jumps\r\n            // This is tricky, simplified check:\r\n            if (editor.getText() === \"\" && value === \"\") return;\r\n            // editor.commands.setContent(value);\r\n        }\r\n    }, [value, editor]);\r\n\r\n\r\n    const toggleSourceMode = () => {\r\n        if (isSourceMode) {\r\n            // Switching back to visual editor\r\n            editor?.commands.setContent(sourceCode);\r\n            onChange(sourceCode);\r\n        } else {\r\n            // Switching to source mode\r\n            setSourceCode(editor?.getHTML() || \"\");\r\n        }\r\n        setIsSourceMode(!isSourceMode);\r\n    };\r\n\r\n    return (\r\n        <div className=\"border rounded-lg bg-card text-card-foreground shadow-sm w-full overflow-hidden\">\r\n            {!isSourceMode && <Toolbar editor={editor} />}\r\n            <div className=\"border-t bg-muted/20 flex justify-end p-1\">\r\n                <Button\r\n                    variant=\"ghost\"\r\n                    size=\"xs\"\r\n                    onClick={toggleSourceMode}\r\n                    className=\"text-xs text-muted-foreground gap-2 h-6\"\r\n                >\r\n                    <Code className=\"h-3 w-3\" />\r\n                    {isSourceMode ? \"Visual Editor\" : \"Source Code\"}\r\n                </Button>\r\n            </div>\r\n\r\n            {isSourceMode ? (\r\n                <textarea\r\n                    value={sourceCode}\r\n                    onChange={(e) => {\r\n                        setSourceCode(e.target.value);\r\n                        onChange(e.target.value);\r\n                    }}\r\n                    className=\"w-full h-[300px] p-4 font-mono text-sm bg-muted/50 resize-y focus:outline-none\"\r\n                />\r\n            ) : (\r\n                <EditorContent editor={editor} />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","import type {\n  AnyEqualityComparator,\n  Cache,\n  CircularState,\n  Dictionary,\n  State,\n  TypeEqualityComparator,\n} from './internalTypes.js';\n\nconst { getOwnPropertyNames, getOwnPropertySymbols } = Object;\n// eslint-disable-next-line @typescript-eslint/unbound-method\nconst { hasOwnProperty } = Object.prototype;\n\n/**\n * Combine two comparators into a single comparators.\n */\nexport function combineComparators<Meta>(\n  comparatorA: AnyEqualityComparator<Meta>,\n  comparatorB: AnyEqualityComparator<Meta>,\n) {\n  return function isEqual<A, B>(a: A, b: B, state: State<Meta>) {\n    return comparatorA(a, b, state) && comparatorB(a, b, state);\n  };\n}\n\n/**\n * Wrap the provided `areItemsEqual` method to manage the circular state, allowing\n * for circular references to be safely included in the comparison without creating\n * stack overflows.\n */\nexport function createIsCircular<AreItemsEqual extends TypeEqualityComparator<any, any>>(\n  areItemsEqual: AreItemsEqual,\n): AreItemsEqual {\n  return function isCircular(a: any, b: any, state: CircularState<Cache<any, any>>) {\n    if (!a || !b || typeof a !== 'object' || typeof b !== 'object') {\n      return areItemsEqual(a, b, state);\n    }\n\n    const { cache } = state;\n\n    const cachedA = cache.get(a);\n    const cachedB = cache.get(b);\n\n    if (cachedA && cachedB) {\n      return cachedA === b && cachedB === a;\n    }\n\n    cache.set(a, b);\n    cache.set(b, a);\n\n    const result = areItemsEqual(a, b, state);\n\n    cache.delete(a);\n    cache.delete(b);\n\n    return result;\n  } as AreItemsEqual;\n}\n\n/**\n * Get the `@@toStringTag` of the value, if it exists.\n */\nexport function getShortTag(value: any): string | undefined {\n  return value != null ? (value[Symbol.toStringTag] as string) : undefined;\n}\n\n/**\n * Get the properties to strictly examine, which include both own properties that are\n * not enumerable and symbol properties.\n */\nexport function getStrictProperties(object: Dictionary): Array<string | symbol> {\n  return (getOwnPropertyNames(object) as Array<string | symbol>).concat(getOwnPropertySymbols(object));\n}\n\n/**\n * Whether the object contains the property passed as an own property.\n */\nexport const hasOwn =\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n  Object.hasOwn || ((object: Dictionary, property: number | string | symbol) => hasOwnProperty.call(object, property));\n\n/**\n * Whether the values passed are strictly equal or both NaN.\n */\nexport function sameValueZeroEqual(a: any, b: any): boolean {\n  return a === b || (!a && !b && a !== a && b !== b);\n}\n","export class Doc {\n    constructor(args = []) {\n        this.content = [];\n        this.indent = 0;\n        if (this)\n            this.args = args;\n    }\n    indented(fn) {\n        this.indent += 1;\n        fn(this);\n        this.indent -= 1;\n    }\n    write(arg) {\n        if (typeof arg === \"function\") {\n            arg(this, { execution: \"sync\" });\n            arg(this, { execution: \"async\" });\n            return;\n        }\n        const content = arg;\n        const lines = content.split(\"\\n\").filter((x) => x);\n        const minIndent = Math.min(...lines.map((x) => x.length - x.trimStart().length));\n        const dedented = lines.map((x) => x.slice(minIndent)).map((x) => \" \".repeat(this.indent * 2) + x);\n        for (const line of dedented) {\n            this.content.push(line);\n        }\n    }\n    compile() {\n        const F = Function;\n        const args = this?.args;\n        const content = this?.content ?? [``];\n        const lines = [...content.map((x) => `  ${x}`)];\n        // console.log(lines.join(\"\\n\"));\n        return new F(...args, lines.join(\"\\n\"));\n    }\n}\n","export const version = {\n    major: 4,\n    minor: 3,\n    patch: 6,\n};\n","export var base = {\n  8: \"Backspace\",\n  9: \"Tab\",\n  10: \"Enter\",\n  12: \"NumLock\",\n  13: \"Enter\",\n  16: \"Shift\",\n  17: \"Control\",\n  18: \"Alt\",\n  20: \"CapsLock\",\n  27: \"Escape\",\n  32: \" \",\n  33: \"PageUp\",\n  34: \"PageDown\",\n  35: \"End\",\n  36: \"Home\",\n  37: \"ArrowLeft\",\n  38: \"ArrowUp\",\n  39: \"ArrowRight\",\n  40: \"ArrowDown\",\n  44: \"PrintScreen\",\n  45: \"Insert\",\n  46: \"Delete\",\n  59: \";\",\n  61: \"=\",\n  91: \"Meta\",\n  92: \"Meta\",\n  106: \"*\",\n  107: \"+\",\n  108: \",\",\n  109: \"-\",\n  110: \".\",\n  111: \"/\",\n  144: \"NumLock\",\n  145: \"ScrollLock\",\n  160: \"Shift\",\n  161: \"Shift\",\n  162: \"Control\",\n  163: \"Control\",\n  164: \"Alt\",\n  165: \"Alt\",\n  173: \"-\",\n  186: \";\",\n  187: \"=\",\n  188: \",\",\n  189: \"-\",\n  190: \".\",\n  191: \"/\",\n  192: \"`\",\n  219: \"[\",\n  220: \"\\\\\",\n  221: \"]\",\n  222: \"'\"\n}\n\nexport var shift = {\n  48: \")\",\n  49: \"!\",\n  50: \"@\",\n  51: \"#\",\n  52: \"$\",\n  53: \"%\",\n  54: \"^\",\n  55: \"&\",\n  56: \"*\",\n  57: \"(\",\n  59: \":\",\n  61: \"+\",\n  173: \"_\",\n  186: \":\",\n  187: \"+\",\n  188: \"<\",\n  189: \"_\",\n  190: \">\",\n  191: \"?\",\n  192: \"~\",\n  219: \"{\",\n  220: \"|\",\n  221: \"}\",\n  222: \"\\\"\"\n}\n\nvar mac = typeof navigator != \"undefined\" && /Mac/.test(navigator.platform)\nvar ie = typeof navigator != \"undefined\" && /MSIE \\d|Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\n\n// Fill in the digit keys\nfor (var i = 0; i < 10; i++) base[48 + i] = base[96 + i] = String(i)\n\n// The function keys\nfor (var i = 1; i <= 24; i++) base[i + 111] = \"F\" + i\n\n// And the alphabetic keys\nfor (var i = 65; i <= 90; i++) {\n  base[i] = String.fromCharCode(i + 32)\n  shift[i] = String.fromCharCode(i)\n}\n\n// For each code that doesn't have a shift-equivalent, copy the base name\nfor (var code in base) if (!shift.hasOwnProperty(code)) shift[code] = base[code]\n\nexport function keyName(event) {\n  // On macOS, keys held with Shift and Cmd don't reflect the effect of Shift in `.key`.\n  // On IE, shift effect is never included in `.key`.\n  var ignoreKey = mac && event.metaKey && event.shiftKey && !event.ctrlKey && !event.altKey ||\n      ie && event.shiftKey && event.key && event.key.length == 1 ||\n      event.key == \"Unidentified\"\n  var name = (!ignoreKey && event.key) ||\n    (event.shiftKey ? shift : base)[event.keyCode] ||\n    event.key || \"Unidentified\"\n  // Edge sometimes produces wrong names (Issue #3)\n  if (name == \"Esc\") name = \"Escape\"\n  if (name == \"Del\") name = \"Delete\"\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/\n  if (name == \"Left\") name = \"ArrowLeft\"\n  if (name == \"Up\") name = \"ArrowUp\"\n  if (name == \"Right\") name = \"ArrowRight\"\n  if (name == \"Down\") name = \"ArrowDown\"\n  return name\n}\n","import {\n  FieldError,\n  FieldErrors,\n  FieldValues,\n  Ref,\n  ResolverOptions,\n  get,\n} from 'react-hook-form';\n\nconst setCustomValidity = (\n  ref: Ref,\n  fieldPath: string,\n  errors: FieldErrors,\n) => {\n  if (ref && 'reportValidity' in ref) {\n    const error = get(errors, fieldPath) as FieldError | undefined;\n    ref.setCustomValidity((error && error.message) || '');\n\n    ref.reportValidity();\n  }\n};\n\n// Native validation (web only)\nexport const validateFieldsNatively = <TFieldValues extends FieldValues>(\n  errors: FieldErrors,\n  options: ResolverOptions<TFieldValues>,\n): void => {\n  for (const fieldPath in options.fields) {\n    const field = options.fields[fieldPath];\n    if (field && field.ref && 'reportValidity' in field.ref) {\n      setCustomValidity(field.ref, fieldPath, errors);\n    } else if (field && field.refs) {\n      field.refs.forEach((ref: HTMLInputElement) =>\n        setCustomValidity(ref, fieldPath, errors),\n      );\n    }\n  }\n};\n","import{validateFieldsNatively as r,toNestErrors as e}from\"@hookform/resolvers\";import{appendErrors as o}from\"react-hook-form\";import*as n from\"zod/v4/core\";function t(r,e){try{var o=r()}catch(r){return e(r)}return o&&o.then?o.then(void 0,e):o}function s(r,e){for(var n={};r.length;){var t=r[0],s=t.code,i=t.message,a=t.path.join(\".\");if(!n[a])if(\"unionErrors\"in t){var u=t.unionErrors[0].errors[0];n[a]={message:u.message,type:u.code}}else n[a]={message:i,type:s};if(\"unionErrors\"in t&&t.unionErrors.forEach(function(e){return e.errors.forEach(function(e){return r.push(e)})}),e){var c=n[a].types,f=c&&c[t.code];n[a]=o(a,e,n,s,f?[].concat(f,t.message):t.message)}r.shift()}return n}function i(r,e){for(var n={};r.length;){var t=r[0],s=t.code,i=t.message,a=t.path.join(\".\");if(!n[a])if(\"invalid_union\"===t.code&&t.errors.length>0){var u=t.errors[0][0];n[a]={message:u.message,type:u.code}}else n[a]={message:i,type:s};if(\"invalid_union\"===t.code&&t.errors.forEach(function(e){return e.forEach(function(e){return r.push(e)})}),e){var c=n[a].types,f=c&&c[t.code];n[a]=o(a,e,n,s,f?[].concat(f,t.message):t.message)}r.shift()}return n}function a(o,a,u){if(void 0===u&&(u={}),function(r){return\"_def\"in r&&\"object\"==typeof r._def&&\"typeName\"in r._def}(o))return function(n,i,c){try{return Promise.resolve(t(function(){return Promise.resolve(o[\"sync\"===u.mode?\"parse\":\"parseAsync\"](n,a)).then(function(e){return c.shouldUseNativeValidation&&r({},c),{errors:{},values:u.raw?Object.assign({},n):e}})},function(r){if(function(r){return Array.isArray(null==r?void 0:r.issues)}(r))return{values:{},errors:e(s(r.errors,!c.shouldUseNativeValidation&&\"all\"===c.criteriaMode),c)};throw r}))}catch(r){return Promise.reject(r)}};if(function(r){return\"_zod\"in r&&\"object\"==typeof r._zod}(o))return function(s,c,f){try{return Promise.resolve(t(function(){return Promise.resolve((\"sync\"===u.mode?n.parse:n.parseAsync)(o,s,a)).then(function(e){return f.shouldUseNativeValidation&&r({},f),{errors:{},values:u.raw?Object.assign({},s):e}})},function(r){if(function(r){return r instanceof n.$ZodError}(r))return{values:{},errors:e(i(r.issues,!f.shouldUseNativeValidation&&\"all\"===f.criteriaMode),f)};throw r}))}catch(r){return Promise.reject(r)}};throw new Error(\"Invalid input: not a Zod schema\")}export{a as zodResolver};\n//# sourceMappingURL=zod.module.js.map\n","import {\n  Field,\n  FieldErrors,\n  FieldValues,\n  InternalFieldName,\n  ResolverOptions,\n  get,\n  set,\n} from 'react-hook-form';\nimport { validateFieldsNatively } from './validateFieldsNatively';\n\nexport const toNestErrors = <TFieldValues extends FieldValues>(\n  errors: FieldErrors,\n  options: ResolverOptions<TFieldValues>,\n): FieldErrors<TFieldValues> => {\n  options.shouldUseNativeValidation && validateFieldsNatively(errors, options);\n\n  const fieldErrors = {} as FieldErrors<TFieldValues>;\n  for (const path in errors) {\n    const field = get(options.fields, path) as Field['_f'] | undefined;\n    const error = Object.assign(errors[path] || {}, {\n      ref: field && field.ref,\n    });\n\n    if (isNameInFieldArray(options.names || Object.keys(errors), path)) {\n      const fieldArrayErrors = Object.assign({}, get(fieldErrors, path));\n\n      set(fieldArrayErrors, 'root', error);\n      set(fieldErrors, path, fieldArrayErrors);\n    } else {\n      set(fieldErrors, path, error);\n    }\n  }\n\n  return fieldErrors;\n};\n\nconst isNameInFieldArray = (\n  names: InternalFieldName[],\n  name: InternalFieldName,\n) => {\n  const path = escapeBrackets(name);\n  return names.some((n) => escapeBrackets(n).match(`^${path}\\\\.\\\\d+`));\n};\n\n/**\n * Escapes special characters in a string to be used in a regex pattern.\n * it removes the brackets from the string to match the `set` method.\n *\n * @param input - The input string to escape.\n * @returns The escaped string.\n */\nfunction escapeBrackets(input: string): string {\n  return input.replace(/\\]|\\[/g, '');\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"karaktrojn\", verb: \"havi\" },\n        file: { unit: \"bajtojn\", verb: \"havi\" },\n        array: { unit: \"elementojn\", verb: \"havi\" },\n        set: { unit: \"elementojn\", verb: \"havi\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"enigo\",\n        email: \"retadreso\",\n        url: \"URL\",\n        emoji: \"emoĝio\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO-datotempo\",\n        date: \"ISO-dato\",\n        time: \"ISO-tempo\",\n        duration: \"ISO-daŭro\",\n        ipv4: \"IPv4-adreso\",\n        ipv6: \"IPv6-adreso\",\n        cidrv4: \"IPv4-rango\",\n        cidrv6: \"IPv6-rango\",\n        base64: \"64-ume kodita karaktraro\",\n        base64url: \"URL-64-ume kodita karaktraro\",\n        json_string: \"JSON-karaktraro\",\n        e164: \"E.164-nombro\",\n        jwt: \"JWT\",\n        template_literal: \"enigo\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"nombro\",\n        array: \"tabelo\",\n        null: \"senvalora\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Nevalida enigo: atendiĝis instanceof ${issue.expected}, riceviĝis ${received}`;\n                }\n                return `Nevalida enigo: atendiĝis ${expected}, riceviĝis ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Nevalida enigo: atendiĝis ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Nevalida opcio: atendiĝis unu el ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Tro granda: atendiĝis ke ${issue.origin ?? \"valoro\"} havu ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementojn\"}`;\n                return `Tro granda: atendiĝis ke ${issue.origin ?? \"valoro\"} havu ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Tro malgranda: atendiĝis ke ${issue.origin} havu ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Tro malgranda: atendiĝis ke ${issue.origin} estu ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Nevalida karaktraro: devas komenciĝi per \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Nevalida karaktraro: devas finiĝi per \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Nevalida karaktraro: devas inkluzivi \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Nevalida karaktraro: devas kongrui kun la modelo ${_issue.pattern}`;\n                return `Nevalida ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Nevalida nombro: devas esti oblo de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Nekonata${issue.keys.length > 1 ? \"j\" : \"\"} ŝlosilo${issue.keys.length > 1 ? \"j\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Nevalida ŝlosilo en ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Nevalida enigo\";\n            case \"invalid_element\":\n                return `Nevalida valoro en ${issue.origin}`;\n            default:\n                return `Nevalida enigo`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"stafi\", verb: \"að hafa\" },\n        file: { unit: \"bæti\", verb: \"að hafa\" },\n        array: { unit: \"hluti\", verb: \"að hafa\" },\n        set: { unit: \"hluti\", verb: \"að hafa\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"gildi\",\n        email: \"netfang\",\n        url: \"vefslóð\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO dagsetning og tími\",\n        date: \"ISO dagsetning\",\n        time: \"ISO tími\",\n        duration: \"ISO tímalengd\",\n        ipv4: \"IPv4 address\",\n        ipv6: \"IPv6 address\",\n        cidrv4: \"IPv4 range\",\n        cidrv6: \"IPv6 range\",\n        base64: \"base64-encoded strengur\",\n        base64url: \"base64url-encoded strengur\",\n        json_string: \"JSON strengur\",\n        e164: \"E.164 tölugildi\",\n        jwt: \"JWT\",\n        template_literal: \"gildi\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"númer\",\n        array: \"fylki\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Rangt gildi: Þú slóst inn ${received} þar sem á að vera instanceof ${issue.expected}`;\n                }\n                return `Rangt gildi: Þú slóst inn ${received} þar sem á að vera ${expected}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Rangt gildi: gert ráð fyrir ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ógilt val: má vera eitt af eftirfarandi ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Of stórt: gert er ráð fyrir að ${issue.origin ?? \"gildi\"} hafi ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"hluti\"}`;\n                return `Of stórt: gert er ráð fyrir að ${issue.origin ?? \"gildi\"} sé ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Of lítið: gert er ráð fyrir að ${issue.origin} hafi ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Of lítið: gert er ráð fyrir að ${issue.origin} sé ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Ógildur strengur: verður að byrja á \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Ógildur strengur: verður að enda á \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Ógildur strengur: verður að innihalda \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Ógildur strengur: verður að fylgja mynstri ${_issue.pattern}`;\n                return `Rangt ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Röng tala: verður að vera margfeldi af ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Óþekkt ${issue.keys.length > 1 ? \"ir lyklar\" : \"ur lykill\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Rangur lykill í ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Rangt gildi\";\n            case \"invalid_element\":\n                return `Rangt gildi í ${issue.origin}`;\n            default:\n                return `Rangt gildi`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"caratteri\", verb: \"avere\" },\n        file: { unit: \"byte\", verb: \"avere\" },\n        array: { unit: \"elementi\", verb: \"avere\" },\n        set: { unit: \"elementi\", verb: \"avere\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"input\",\n        email: \"indirizzo email\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"data e ora ISO\",\n        date: \"data ISO\",\n        time: \"ora ISO\",\n        duration: \"durata ISO\",\n        ipv4: \"indirizzo IPv4\",\n        ipv6: \"indirizzo IPv6\",\n        cidrv4: \"intervallo IPv4\",\n        cidrv6: \"intervallo IPv6\",\n        base64: \"stringa codificata in base64\",\n        base64url: \"URL codificata in base64\",\n        json_string: \"stringa JSON\",\n        e164: \"numero E.164\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"numero\",\n        array: \"vettore\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Input non valido: atteso instanceof ${issue.expected}, ricevuto ${received}`;\n                }\n                return `Input non valido: atteso ${expected}, ricevuto ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Input non valido: atteso ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Opzione non valida: atteso uno tra ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Troppo grande: ${issue.origin ?? \"valore\"} deve avere ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementi\"}`;\n                return `Troppo grande: ${issue.origin ?? \"valore\"} deve essere ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Troppo piccolo: ${issue.origin} deve avere ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Troppo piccolo: ${issue.origin} deve essere ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Stringa non valida: deve iniziare con \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Stringa non valida: deve terminare con \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Stringa non valida: deve includere \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Stringa non valida: deve corrispondere al pattern ${_issue.pattern}`;\n                return `Invalid ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Numero non valido: deve essere un multiplo di ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Chiav${issue.keys.length > 1 ? \"i\" : \"e\"} non riconosciut${issue.keys.length > 1 ? \"e\" : \"a\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Chiave non valida in ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Input non valido\";\n            case \"invalid_element\":\n                return `Valore non valido in ${issue.origin}`;\n            default:\n                return `Input non valido`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"文字\", verb: \"である\" },\n        file: { unit: \"バイト\", verb: \"である\" },\n        array: { unit: \"要素\", verb: \"である\" },\n        set: { unit: \"要素\", verb: \"である\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"入力値\",\n        email: \"メールアドレス\",\n        url: \"URL\",\n        emoji: \"絵文字\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO日時\",\n        date: \"ISO日付\",\n        time: \"ISO時刻\",\n        duration: \"ISO期間\",\n        ipv4: \"IPv4アドレス\",\n        ipv6: \"IPv6アドレス\",\n        cidrv4: \"IPv4範囲\",\n        cidrv6: \"IPv6範囲\",\n        base64: \"base64エンコード文字列\",\n        base64url: \"base64urlエンコード文字列\",\n        json_string: \"JSON文字列\",\n        e164: \"E.164番号\",\n        jwt: \"JWT\",\n        template_literal: \"入力値\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"数値\",\n        array: \"配列\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `無効な入力: instanceof ${issue.expected}が期待されましたが、${received}が入力されました`;\n                }\n                return `無効な入力: ${expected}が期待されましたが、${received}が入力されました`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `無効な入力: ${util.stringifyPrimitive(issue.values[0])}が期待されました`;\n                return `無効な選択: ${util.joinValues(issue.values, \"、\")}のいずれかである必要があります`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"以下である\" : \"より小さい\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `大きすぎる値: ${issue.origin ?? \"値\"}は${issue.maximum.toString()}${sizing.unit ?? \"要素\"}${adj}必要があります`;\n                return `大きすぎる値: ${issue.origin ?? \"値\"}は${issue.maximum.toString()}${adj}必要があります`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \"以上である\" : \"より大きい\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `小さすぎる値: ${issue.origin}は${issue.minimum.toString()}${sizing.unit}${adj}必要があります`;\n                return `小さすぎる値: ${issue.origin}は${issue.minimum.toString()}${adj}必要があります`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `無効な文字列: \"${_issue.prefix}\"で始まる必要があります`;\n                if (_issue.format === \"ends_with\")\n                    return `無効な文字列: \"${_issue.suffix}\"で終わる必要があります`;\n                if (_issue.format === \"includes\")\n                    return `無効な文字列: \"${_issue.includes}\"を含む必要があります`;\n                if (_issue.format === \"regex\")\n                    return `無効な文字列: パターン${_issue.pattern}に一致する必要があります`;\n                return `無効な${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `無効な数値: ${issue.divisor}の倍数である必要があります`;\n            case \"unrecognized_keys\":\n                return `認識されていないキー${issue.keys.length > 1 ? \"群\" : \"\"}: ${util.joinValues(issue.keys, \"、\")}`;\n            case \"invalid_key\":\n                return `${issue.origin}内の無効なキー`;\n            case \"invalid_union\":\n                return \"無効な入力\";\n            case \"invalid_element\":\n                return `${issue.origin}内の無効な値`;\n            default:\n                return `無効な入力`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"სიმბოლო\", verb: \"უნდა შეიცავდეს\" },\n        file: { unit: \"ბაიტი\", verb: \"უნდა შეიცავდეს\" },\n        array: { unit: \"ელემენტი\", verb: \"უნდა შეიცავდეს\" },\n        set: { unit: \"ელემენტი\", verb: \"უნდა შეიცავდეს\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"შეყვანა\",\n        email: \"ელ-ფოსტის მისამართი\",\n        url: \"URL\",\n        emoji: \"ემოჯი\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"თარიღი-დრო\",\n        date: \"თარიღი\",\n        time: \"დრო\",\n        duration: \"ხანგრძლივობა\",\n        ipv4: \"IPv4 მისამართი\",\n        ipv6: \"IPv6 მისამართი\",\n        cidrv4: \"IPv4 დიაპაზონი\",\n        cidrv6: \"IPv6 დიაპაზონი\",\n        base64: \"base64-კოდირებული სტრინგი\",\n        base64url: \"base64url-კოდირებული სტრინგი\",\n        json_string: \"JSON სტრინგი\",\n        e164: \"E.164 ნომერი\",\n        jwt: \"JWT\",\n        template_literal: \"შეყვანა\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"რიცხვი\",\n        string: \"სტრინგი\",\n        boolean: \"ბულეანი\",\n        function: \"ფუნქცია\",\n        array: \"მასივი\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `არასწორი შეყვანა: მოსალოდნელი instanceof ${issue.expected}, მიღებული ${received}`;\n                }\n                return `არასწორი შეყვანა: მოსალოდნელი ${expected}, მიღებული ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `არასწორი შეყვანა: მოსალოდნელი ${util.stringifyPrimitive(issue.values[0])}`;\n                return `არასწორი ვარიანტი: მოსალოდნელია ერთ-ერთი ${util.joinValues(issue.values, \"|\")}-დან`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `ზედმეტად დიდი: მოსალოდნელი ${issue.origin ?? \"მნიშვნელობა\"} ${sizing.verb} ${adj}${issue.maximum.toString()} ${sizing.unit}`;\n                return `ზედმეტად დიდი: მოსალოდნელი ${issue.origin ?? \"მნიშვნელობა\"} იყოს ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `ზედმეტად პატარა: მოსალოდნელი ${issue.origin} ${sizing.verb} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `ზედმეტად პატარა: მოსალოდნელი ${issue.origin} იყოს ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `არასწორი სტრინგი: უნდა იწყებოდეს \"${_issue.prefix}\"-ით`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `არასწორი სტრინგი: უნდა მთავრდებოდეს \"${_issue.suffix}\"-ით`;\n                if (_issue.format === \"includes\")\n                    return `არასწორი სტრინგი: უნდა შეიცავდეს \"${_issue.includes}\"-ს`;\n                if (_issue.format === \"regex\")\n                    return `არასწორი სტრინგი: უნდა შეესაბამებოდეს შაბლონს ${_issue.pattern}`;\n                return `არასწორი ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `არასწორი რიცხვი: უნდა იყოს ${issue.divisor}-ის ჯერადი`;\n            case \"unrecognized_keys\":\n                return `უცნობი გასაღებ${issue.keys.length > 1 ? \"ები\" : \"ი\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `არასწორი გასაღები ${issue.origin}-ში`;\n            case \"invalid_union\":\n                return \"არასწორი შეყვანა\";\n            case \"invalid_element\":\n                return `არასწორი მნიშვნელობა ${issue.origin}-ში`;\n            default:\n                return `არასწორი შეყვანა`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"តួអក្សរ\", verb: \"គួរមាន\" },\n        file: { unit: \"បៃ\", verb: \"គួរមាន\" },\n        array: { unit: \"ធាតុ\", verb: \"គួរមាន\" },\n        set: { unit: \"ធាតុ\", verb: \"គួរមាន\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"ទិន្នន័យបញ្ចូល\",\n        email: \"អាសយដ្ឋានអ៊ីមែល\",\n        url: \"URL\",\n        emoji: \"សញ្ញាអារម្មណ៍\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"កាលបរិច្ឆេទ និងម៉ោង ISO\",\n        date: \"កាលបរិច្ឆេទ ISO\",\n        time: \"ម៉ោង ISO\",\n        duration: \"រយៈពេល ISO\",\n        ipv4: \"អាសយដ្ឋាន IPv4\",\n        ipv6: \"អាសយដ្ឋាន IPv6\",\n        cidrv4: \"ដែនអាសយដ្ឋាន IPv4\",\n        cidrv6: \"ដែនអាសយដ្ឋាន IPv6\",\n        base64: \"ខ្សែអក្សរអ៊ិកូដ base64\",\n        base64url: \"ខ្សែអក្សរអ៊ិកូដ base64url\",\n        json_string: \"ខ្សែអក្សរ JSON\",\n        e164: \"លេខ E.164\",\n        jwt: \"JWT\",\n        template_literal: \"ទិន្នន័យបញ្ចូល\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"លេខ\",\n        array: \"អារេ (Array)\",\n        null: \"គ្មានតម្លៃ (null)\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ instanceof ${issue.expected} ប៉ុន្តែទទួលបាន ${received}`;\n                }\n                return `ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${expected} ប៉ុន្តែទទួលបាន ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${util.stringifyPrimitive(issue.values[0])}`;\n                return `ជម្រើសមិនត្រឹមត្រូវ៖ ត្រូវជាមួយក្នុងចំណោម ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `ធំពេក៖ ត្រូវការ ${issue.origin ?? \"តម្លៃ\"} ${adj} ${issue.maximum.toString()} ${sizing.unit ?? \"ធាតុ\"}`;\n                return `ធំពេក៖ ត្រូវការ ${issue.origin ?? \"តម្លៃ\"} ${adj} ${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `តូចពេក៖ ត្រូវការ ${issue.origin} ${adj} ${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `តូចពេក៖ ត្រូវការ ${issue.origin} ${adj} ${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវចាប់ផ្តើមដោយ \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវបញ្ចប់ដោយ \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវមាន \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវតែផ្គូផ្គងនឹងទម្រង់ដែលបានកំណត់ ${_issue.pattern}`;\n                return `មិនត្រឹមត្រូវ៖ ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `លេខមិនត្រឹមត្រូវ៖ ត្រូវតែជាពហុគុណនៃ ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `រកឃើញសោមិនស្គាល់៖ ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `សោមិនត្រឹមត្រូវនៅក្នុង ${issue.origin}`;\n            case \"invalid_union\":\n                return `ទិន្នន័យមិនត្រឹមត្រូវ`;\n            case \"invalid_element\":\n                return `ទិន្នន័យមិនត្រឹមត្រូវនៅក្នុង ${issue.origin}`;\n            default:\n                return `ទិន្នន័យមិនត្រឹមត្រូវ`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"문자\", verb: \"to have\" },\n        file: { unit: \"바이트\", verb: \"to have\" },\n        array: { unit: \"개\", verb: \"to have\" },\n        set: { unit: \"개\", verb: \"to have\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"입력\",\n        email: \"이메일 주소\",\n        url: \"URL\",\n        emoji: \"이모지\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO 날짜시간\",\n        date: \"ISO 날짜\",\n        time: \"ISO 시간\",\n        duration: \"ISO 기간\",\n        ipv4: \"IPv4 주소\",\n        ipv6: \"IPv6 주소\",\n        cidrv4: \"IPv4 범위\",\n        cidrv6: \"IPv6 범위\",\n        base64: \"base64 인코딩 문자열\",\n        base64url: \"base64url 인코딩 문자열\",\n        json_string: \"JSON 문자열\",\n        e164: \"E.164 번호\",\n        jwt: \"JWT\",\n        template_literal: \"입력\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `잘못된 입력: 예상 타입은 instanceof ${issue.expected}, 받은 타입은 ${received}입니다`;\n                }\n                return `잘못된 입력: 예상 타입은 ${expected}, 받은 타입은 ${received}입니다`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `잘못된 입력: 값은 ${util.stringifyPrimitive(issue.values[0])} 이어야 합니다`;\n                return `잘못된 옵션: ${util.joinValues(issue.values, \"또는 \")} 중 하나여야 합니다`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"이하\" : \"미만\";\n                const suffix = adj === \"미만\" ? \"이어야 합니다\" : \"여야 합니다\";\n                const sizing = getSizing(issue.origin);\n                const unit = sizing?.unit ?? \"요소\";\n                if (sizing)\n                    return `${issue.origin ?? \"값\"}이 너무 큽니다: ${issue.maximum.toString()}${unit} ${adj}${suffix}`;\n                return `${issue.origin ?? \"값\"}이 너무 큽니다: ${issue.maximum.toString()} ${adj}${suffix}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \"이상\" : \"초과\";\n                const suffix = adj === \"이상\" ? \"이어야 합니다\" : \"여야 합니다\";\n                const sizing = getSizing(issue.origin);\n                const unit = sizing?.unit ?? \"요소\";\n                if (sizing) {\n                    return `${issue.origin ?? \"값\"}이 너무 작습니다: ${issue.minimum.toString()}${unit} ${adj}${suffix}`;\n                }\n                return `${issue.origin ?? \"값\"}이 너무 작습니다: ${issue.minimum.toString()} ${adj}${suffix}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `잘못된 문자열: \"${_issue.prefix}\"(으)로 시작해야 합니다`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `잘못된 문자열: \"${_issue.suffix}\"(으)로 끝나야 합니다`;\n                if (_issue.format === \"includes\")\n                    return `잘못된 문자열: \"${_issue.includes}\"을(를) 포함해야 합니다`;\n                if (_issue.format === \"regex\")\n                    return `잘못된 문자열: 정규식 ${_issue.pattern} 패턴과 일치해야 합니다`;\n                return `잘못된 ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `잘못된 숫자: ${issue.divisor}의 배수여야 합니다`;\n            case \"unrecognized_keys\":\n                return `인식할 수 없는 키: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `잘못된 키: ${issue.origin}`;\n            case \"invalid_union\":\n                return `잘못된 입력`;\n            case \"invalid_element\":\n                return `잘못된 값: ${issue.origin}`;\n            default:\n                return `잘못된 입력`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst capitalizeFirstCharacter = (text) => {\n    return text.charAt(0).toUpperCase() + text.slice(1);\n};\nfunction getUnitTypeFromNumber(number) {\n    const abs = Math.abs(number);\n    const last = abs % 10;\n    const last2 = abs % 100;\n    if ((last2 >= 11 && last2 <= 19) || last === 0)\n        return \"many\";\n    if (last === 1)\n        return \"one\";\n    return \"few\";\n}\nconst error = () => {\n    const Sizable = {\n        string: {\n            unit: {\n                one: \"simbolis\",\n                few: \"simboliai\",\n                many: \"simbolių\",\n            },\n            verb: {\n                smaller: {\n                    inclusive: \"turi būti ne ilgesnė kaip\",\n                    notInclusive: \"turi būti trumpesnė kaip\",\n                },\n                bigger: {\n                    inclusive: \"turi būti ne trumpesnė kaip\",\n                    notInclusive: \"turi būti ilgesnė kaip\",\n                },\n            },\n        },\n        file: {\n            unit: {\n                one: \"baitas\",\n                few: \"baitai\",\n                many: \"baitų\",\n            },\n            verb: {\n                smaller: {\n                    inclusive: \"turi būti ne didesnis kaip\",\n                    notInclusive: \"turi būti mažesnis kaip\",\n                },\n                bigger: {\n                    inclusive: \"turi būti ne mažesnis kaip\",\n                    notInclusive: \"turi būti didesnis kaip\",\n                },\n            },\n        },\n        array: {\n            unit: {\n                one: \"elementą\",\n                few: \"elementus\",\n                many: \"elementų\",\n            },\n            verb: {\n                smaller: {\n                    inclusive: \"turi turėti ne daugiau kaip\",\n                    notInclusive: \"turi turėti mažiau kaip\",\n                },\n                bigger: {\n                    inclusive: \"turi turėti ne mažiau kaip\",\n                    notInclusive: \"turi turėti daugiau kaip\",\n                },\n            },\n        },\n        set: {\n            unit: {\n                one: \"elementą\",\n                few: \"elementus\",\n                many: \"elementų\",\n            },\n            verb: {\n                smaller: {\n                    inclusive: \"turi turėti ne daugiau kaip\",\n                    notInclusive: \"turi turėti mažiau kaip\",\n                },\n                bigger: {\n                    inclusive: \"turi turėti ne mažiau kaip\",\n                    notInclusive: \"turi turėti daugiau kaip\",\n                },\n            },\n        },\n    };\n    function getSizing(origin, unitType, inclusive, targetShouldBe) {\n        const result = Sizable[origin] ?? null;\n        if (result === null)\n            return result;\n        return {\n            unit: result.unit[unitType],\n            verb: result.verb[targetShouldBe][inclusive ? \"inclusive\" : \"notInclusive\"],\n        };\n    }\n    const FormatDictionary = {\n        regex: \"įvestis\",\n        email: \"el. pašto adresas\",\n        url: \"URL\",\n        emoji: \"jaustukas\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO data ir laikas\",\n        date: \"ISO data\",\n        time: \"ISO laikas\",\n        duration: \"ISO trukmė\",\n        ipv4: \"IPv4 adresas\",\n        ipv6: \"IPv6 adresas\",\n        cidrv4: \"IPv4 tinklo prefiksas (CIDR)\",\n        cidrv6: \"IPv6 tinklo prefiksas (CIDR)\",\n        base64: \"base64 užkoduota eilutė\",\n        base64url: \"base64url užkoduota eilutė\",\n        json_string: \"JSON eilutė\",\n        e164: \"E.164 numeris\",\n        jwt: \"JWT\",\n        template_literal: \"įvestis\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"skaičius\",\n        bigint: \"sveikasis skaičius\",\n        string: \"eilutė\",\n        boolean: \"loginė reikšmė\",\n        undefined: \"neapibrėžta reikšmė\",\n        function: \"funkcija\",\n        symbol: \"simbolis\",\n        array: \"masyvas\",\n        object: \"objektas\",\n        null: \"nulinė reikšmė\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Gautas tipas ${received}, o tikėtasi - instanceof ${issue.expected}`;\n                }\n                return `Gautas tipas ${received}, o tikėtasi - ${expected}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Privalo būti ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Privalo būti vienas iš ${util.joinValues(issue.values, \"|\")} pasirinkimų`;\n            case \"too_big\": {\n                const origin = TypeDictionary[issue.origin] ?? issue.origin;\n                const sizing = getSizing(issue.origin, getUnitTypeFromNumber(Number(issue.maximum)), issue.inclusive ?? false, \"smaller\");\n                if (sizing?.verb)\n                    return `${capitalizeFirstCharacter(origin ?? issue.origin ?? \"reikšmė\")} ${sizing.verb} ${issue.maximum.toString()} ${sizing.unit ?? \"elementų\"}`;\n                const adj = issue.inclusive ? \"ne didesnis kaip\" : \"mažesnis kaip\";\n                return `${capitalizeFirstCharacter(origin ?? issue.origin ?? \"reikšmė\")} turi būti ${adj} ${issue.maximum.toString()} ${sizing?.unit}`;\n            }\n            case \"too_small\": {\n                const origin = TypeDictionary[issue.origin] ?? issue.origin;\n                const sizing = getSizing(issue.origin, getUnitTypeFromNumber(Number(issue.minimum)), issue.inclusive ?? false, \"bigger\");\n                if (sizing?.verb)\n                    return `${capitalizeFirstCharacter(origin ?? issue.origin ?? \"reikšmė\")} ${sizing.verb} ${issue.minimum.toString()} ${sizing.unit ?? \"elementų\"}`;\n                const adj = issue.inclusive ? \"ne mažesnis kaip\" : \"didesnis kaip\";\n                return `${capitalizeFirstCharacter(origin ?? issue.origin ?? \"reikšmė\")} turi būti ${adj} ${issue.minimum.toString()} ${sizing?.unit}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Eilutė privalo prasidėti \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Eilutė privalo pasibaigti \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Eilutė privalo įtraukti \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Eilutė privalo atitikti ${_issue.pattern}`;\n                return `Neteisingas ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Skaičius privalo būti ${issue.divisor} kartotinis.`;\n            case \"unrecognized_keys\":\n                return `Neatpažint${issue.keys.length > 1 ? \"i\" : \"as\"} rakt${issue.keys.length > 1 ? \"ai\" : \"as\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return \"Rastas klaidingas raktas\";\n            case \"invalid_union\":\n                return \"Klaidinga įvestis\";\n            case \"invalid_element\": {\n                const origin = TypeDictionary[issue.origin] ?? issue.origin;\n                return `${capitalizeFirstCharacter(origin ?? issue.origin ?? \"reikšmė\")} turi klaidingą įvestį`;\n            }\n            default:\n                return \"Klaidinga įvestis\";\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"знаци\", verb: \"да имаат\" },\n        file: { unit: \"бајти\", verb: \"да имаат\" },\n        array: { unit: \"ставки\", verb: \"да имаат\" },\n        set: { unit: \"ставки\", verb: \"да имаат\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"внес\",\n        email: \"адреса на е-пошта\",\n        url: \"URL\",\n        emoji: \"емоџи\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO датум и време\",\n        date: \"ISO датум\",\n        time: \"ISO време\",\n        duration: \"ISO времетраење\",\n        ipv4: \"IPv4 адреса\",\n        ipv6: \"IPv6 адреса\",\n        cidrv4: \"IPv4 опсег\",\n        cidrv6: \"IPv6 опсег\",\n        base64: \"base64-енкодирана низа\",\n        base64url: \"base64url-енкодирана низа\",\n        json_string: \"JSON низа\",\n        e164: \"E.164 број\",\n        jwt: \"JWT\",\n        template_literal: \"внес\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"број\",\n        array: \"низа\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Грешен внес: се очекува instanceof ${issue.expected}, примено ${received}`;\n                }\n                return `Грешен внес: се очекува ${expected}, примено ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Invalid input: expected ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Грешана опција: се очекува една ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Премногу голем: се очекува ${issue.origin ?? \"вредноста\"} да има ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"елементи\"}`;\n                return `Премногу голем: се очекува ${issue.origin ?? \"вредноста\"} да биде ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Премногу мал: се очекува ${issue.origin} да има ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Премногу мал: се очекува ${issue.origin} да биде ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Неважечка низа: мора да започнува со \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Неважечка низа: мора да завршува со \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Неважечка низа: мора да вклучува \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Неважечка низа: мора да одгоара на патернот ${_issue.pattern}`;\n                return `Invalid ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Грешен број: мора да биде делив со ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"Непрепознаени клучеви\" : \"Непрепознаен клуч\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Грешен клуч во ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Грешен внес\";\n            case \"invalid_element\":\n                return `Грешна вредност во ${issue.origin}`;\n            default:\n                return `Грешен внес`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"aksara\", verb: \"mempunyai\" },\n        file: { unit: \"bait\", verb: \"mempunyai\" },\n        array: { unit: \"elemen\", verb: \"mempunyai\" },\n        set: { unit: \"elemen\", verb: \"mempunyai\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"input\",\n        email: \"alamat e-mel\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"tarikh masa ISO\",\n        date: \"tarikh ISO\",\n        time: \"masa ISO\",\n        duration: \"tempoh ISO\",\n        ipv4: \"alamat IPv4\",\n        ipv6: \"alamat IPv6\",\n        cidrv4: \"julat IPv4\",\n        cidrv6: \"julat IPv6\",\n        base64: \"string dikodkan base64\",\n        base64url: \"string dikodkan base64url\",\n        json_string: \"string JSON\",\n        e164: \"nombor E.164\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"nombor\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Input tidak sah: dijangka instanceof ${issue.expected}, diterima ${received}`;\n                }\n                return `Input tidak sah: dijangka ${expected}, diterima ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Input tidak sah: dijangka ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Pilihan tidak sah: dijangka salah satu daripada ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Terlalu besar: dijangka ${issue.origin ?? \"nilai\"} ${sizing.verb} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elemen\"}`;\n                return `Terlalu besar: dijangka ${issue.origin ?? \"nilai\"} adalah ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Terlalu kecil: dijangka ${issue.origin} ${sizing.verb} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Terlalu kecil: dijangka ${issue.origin} adalah ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `String tidak sah: mesti bermula dengan \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `String tidak sah: mesti berakhir dengan \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `String tidak sah: mesti mengandungi \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `String tidak sah: mesti sepadan dengan corak ${_issue.pattern}`;\n                return `${FormatDictionary[_issue.format] ?? issue.format} tidak sah`;\n            }\n            case \"not_multiple_of\":\n                return `Nombor tidak sah: perlu gandaan ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Kunci tidak dikenali: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Kunci tidak sah dalam ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Input tidak sah\";\n            case \"invalid_element\":\n                return `Nilai tidak sah dalam ${issue.origin}`;\n            default:\n                return `Input tidak sah`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"tekens\", verb: \"heeft\" },\n        file: { unit: \"bytes\", verb: \"heeft\" },\n        array: { unit: \"elementen\", verb: \"heeft\" },\n        set: { unit: \"elementen\", verb: \"heeft\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"invoer\",\n        email: \"emailadres\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO datum en tijd\",\n        date: \"ISO datum\",\n        time: \"ISO tijd\",\n        duration: \"ISO duur\",\n        ipv4: \"IPv4-adres\",\n        ipv6: \"IPv6-adres\",\n        cidrv4: \"IPv4-bereik\",\n        cidrv6: \"IPv6-bereik\",\n        base64: \"base64-gecodeerde tekst\",\n        base64url: \"base64 URL-gecodeerde tekst\",\n        json_string: \"JSON string\",\n        e164: \"E.164-nummer\",\n        jwt: \"JWT\",\n        template_literal: \"invoer\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"getal\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Ongeldige invoer: verwacht instanceof ${issue.expected}, ontving ${received}`;\n                }\n                return `Ongeldige invoer: verwacht ${expected}, ontving ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ongeldige invoer: verwacht ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ongeldige optie: verwacht één van ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                const longName = issue.origin === \"date\" ? \"laat\" : issue.origin === \"string\" ? \"lang\" : \"groot\";\n                if (sizing)\n                    return `Te ${longName}: verwacht dat ${issue.origin ?? \"waarde\"} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementen\"} ${sizing.verb}`;\n                return `Te ${longName}: verwacht dat ${issue.origin ?? \"waarde\"} ${adj}${issue.maximum.toString()} is`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                const shortName = issue.origin === \"date\" ? \"vroeg\" : issue.origin === \"string\" ? \"kort\" : \"klein\";\n                if (sizing) {\n                    return `Te ${shortName}: verwacht dat ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit} ${sizing.verb}`;\n                }\n                return `Te ${shortName}: verwacht dat ${issue.origin} ${adj}${issue.minimum.toString()} is`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Ongeldige tekst: moet met \"${_issue.prefix}\" beginnen`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Ongeldige tekst: moet op \"${_issue.suffix}\" eindigen`;\n                if (_issue.format === \"includes\")\n                    return `Ongeldige tekst: moet \"${_issue.includes}\" bevatten`;\n                if (_issue.format === \"regex\")\n                    return `Ongeldige tekst: moet overeenkomen met patroon ${_issue.pattern}`;\n                return `Ongeldig: ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Ongeldig getal: moet een veelvoud van ${issue.divisor} zijn`;\n            case \"unrecognized_keys\":\n                return `Onbekende key${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Ongeldige key in ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Ongeldige invoer\";\n            case \"invalid_element\":\n                return `Ongeldige waarde in ${issue.origin}`;\n            default:\n                return `Ongeldige invoer`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"tegn\", verb: \"å ha\" },\n        file: { unit: \"bytes\", verb: \"å ha\" },\n        array: { unit: \"elementer\", verb: \"å inneholde\" },\n        set: { unit: \"elementer\", verb: \"å inneholde\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"input\",\n        email: \"e-postadresse\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO dato- og klokkeslett\",\n        date: \"ISO-dato\",\n        time: \"ISO-klokkeslett\",\n        duration: \"ISO-varighet\",\n        ipv4: \"IPv4-område\",\n        ipv6: \"IPv6-område\",\n        cidrv4: \"IPv4-spekter\",\n        cidrv6: \"IPv6-spekter\",\n        base64: \"base64-enkodet streng\",\n        base64url: \"base64url-enkodet streng\",\n        json_string: \"JSON-streng\",\n        e164: \"E.164-nummer\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"tall\",\n        array: \"liste\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Ugyldig input: forventet instanceof ${issue.expected}, fikk ${received}`;\n                }\n                return `Ugyldig input: forventet ${expected}, fikk ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ugyldig verdi: forventet ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ugyldig valg: forventet en av ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `For stor(t): forventet ${issue.origin ?? \"value\"} til å ha ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementer\"}`;\n                return `For stor(t): forventet ${issue.origin ?? \"value\"} til å ha ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `For lite(n): forventet ${issue.origin} til å ha ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `For lite(n): forventet ${issue.origin} til å ha ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Ugyldig streng: må starte med \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Ugyldig streng: må ende med \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Ugyldig streng: må inneholde \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Ugyldig streng: må matche mønsteret ${_issue.pattern}`;\n                return `Ugyldig ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Ugyldig tall: må være et multiplum av ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"Ukjente nøkler\" : \"Ukjent nøkkel\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Ugyldig nøkkel i ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Ugyldig input\";\n            case \"invalid_element\":\n                return `Ugyldig verdi i ${issue.origin}`;\n            default:\n                return `Ugyldig input`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"harf\", verb: \"olmalıdır\" },\n        file: { unit: \"bayt\", verb: \"olmalıdır\" },\n        array: { unit: \"unsur\", verb: \"olmalıdır\" },\n        set: { unit: \"unsur\", verb: \"olmalıdır\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"giren\",\n        email: \"epostagâh\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO hengâmı\",\n        date: \"ISO tarihi\",\n        time: \"ISO zamanı\",\n        duration: \"ISO müddeti\",\n        ipv4: \"IPv4 nişânı\",\n        ipv6: \"IPv6 nişânı\",\n        cidrv4: \"IPv4 menzili\",\n        cidrv6: \"IPv6 menzili\",\n        base64: \"base64-şifreli metin\",\n        base64url: \"base64url-şifreli metin\",\n        json_string: \"JSON metin\",\n        e164: \"E.164 sayısı\",\n        jwt: \"JWT\",\n        template_literal: \"giren\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"numara\",\n        array: \"saf\",\n        null: \"gayb\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Fâsit giren: umulan instanceof ${issue.expected}, alınan ${received}`;\n                }\n                return `Fâsit giren: umulan ${expected}, alınan ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Fâsit giren: umulan ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Fâsit tercih: mûteberler ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Fazla büyük: ${issue.origin ?? \"value\"}, ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elements\"} sahip olmalıydı.`;\n                return `Fazla büyük: ${issue.origin ?? \"value\"}, ${adj}${issue.maximum.toString()} olmalıydı.`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Fazla küçük: ${issue.origin}, ${adj}${issue.minimum.toString()} ${sizing.unit} sahip olmalıydı.`;\n                }\n                return `Fazla küçük: ${issue.origin}, ${adj}${issue.minimum.toString()} olmalıydı.`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Fâsit metin: \"${_issue.prefix}\" ile başlamalı.`;\n                if (_issue.format === \"ends_with\")\n                    return `Fâsit metin: \"${_issue.suffix}\" ile bitmeli.`;\n                if (_issue.format === \"includes\")\n                    return `Fâsit metin: \"${_issue.includes}\" ihtivâ etmeli.`;\n                if (_issue.format === \"regex\")\n                    return `Fâsit metin: ${_issue.pattern} nakşına uymalı.`;\n                return `Fâsit ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Fâsit sayı: ${issue.divisor} katı olmalıydı.`;\n            case \"unrecognized_keys\":\n                return `Tanınmayan anahtar ${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} için tanınmayan anahtar var.`;\n            case \"invalid_union\":\n                return \"Giren tanınamadı.\";\n            case \"invalid_element\":\n                return `${issue.origin} için tanınmayan kıymet var.`;\n            default:\n                return `Kıymet tanınamadı.`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"توکي\", verb: \"ولري\" },\n        file: { unit: \"بایټس\", verb: \"ولري\" },\n        array: { unit: \"توکي\", verb: \"ولري\" },\n        set: { unit: \"توکي\", verb: \"ولري\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"ورودي\",\n        email: \"بریښنالیک\",\n        url: \"یو آر ال\",\n        emoji: \"ایموجي\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"نیټه او وخت\",\n        date: \"نېټه\",\n        time: \"وخت\",\n        duration: \"موده\",\n        ipv4: \"د IPv4 پته\",\n        ipv6: \"د IPv6 پته\",\n        cidrv4: \"د IPv4 ساحه\",\n        cidrv6: \"د IPv6 ساحه\",\n        base64: \"base64-encoded متن\",\n        base64url: \"base64url-encoded متن\",\n        json_string: \"JSON متن\",\n        e164: \"د E.164 شمېره\",\n        jwt: \"JWT\",\n        template_literal: \"ورودي\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"عدد\",\n        array: \"ارې\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `ناسم ورودي: باید instanceof ${issue.expected} وای, مګر ${received} ترلاسه شو`;\n                }\n                return `ناسم ورودي: باید ${expected} وای, مګر ${received} ترلاسه شو`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1) {\n                    return `ناسم ورودي: باید ${util.stringifyPrimitive(issue.values[0])} وای`;\n                }\n                return `ناسم انتخاب: باید یو له ${util.joinValues(issue.values, \"|\")} څخه وای`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `ډیر لوی: ${issue.origin ?? \"ارزښت\"} باید ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"عنصرونه\"} ولري`;\n                }\n                return `ډیر لوی: ${issue.origin ?? \"ارزښت\"} باید ${adj}${issue.maximum.toString()} وي`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `ډیر کوچنی: ${issue.origin} باید ${adj}${issue.minimum.toString()} ${sizing.unit} ولري`;\n                }\n                return `ډیر کوچنی: ${issue.origin} باید ${adj}${issue.minimum.toString()} وي`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `ناسم متن: باید د \"${_issue.prefix}\" سره پیل شي`;\n                }\n                if (_issue.format === \"ends_with\") {\n                    return `ناسم متن: باید د \"${_issue.suffix}\" سره پای ته ورسيږي`;\n                }\n                if (_issue.format === \"includes\") {\n                    return `ناسم متن: باید \"${_issue.includes}\" ولري`;\n                }\n                if (_issue.format === \"regex\") {\n                    return `ناسم متن: باید د ${_issue.pattern} سره مطابقت ولري`;\n                }\n                return `${FormatDictionary[_issue.format] ?? issue.format} ناسم دی`;\n            }\n            case \"not_multiple_of\":\n                return `ناسم عدد: باید د ${issue.divisor} مضرب وي`;\n            case \"unrecognized_keys\":\n                return `ناسم ${issue.keys.length > 1 ? \"کلیډونه\" : \"کلیډ\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `ناسم کلیډ په ${issue.origin} کې`;\n            case \"invalid_union\":\n                return `ناسمه ورودي`;\n            case \"invalid_element\":\n                return `ناسم عنصر په ${issue.origin} کې`;\n            default:\n                return `ناسمه ورودي`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"znaków\", verb: \"mieć\" },\n        file: { unit: \"bajtów\", verb: \"mieć\" },\n        array: { unit: \"elementów\", verb: \"mieć\" },\n        set: { unit: \"elementów\", verb: \"mieć\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"wyrażenie\",\n        email: \"adres email\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"data i godzina w formacie ISO\",\n        date: \"data w formacie ISO\",\n        time: \"godzina w formacie ISO\",\n        duration: \"czas trwania ISO\",\n        ipv4: \"adres IPv4\",\n        ipv6: \"adres IPv6\",\n        cidrv4: \"zakres IPv4\",\n        cidrv6: \"zakres IPv6\",\n        base64: \"ciąg znaków zakodowany w formacie base64\",\n        base64url: \"ciąg znaków zakodowany w formacie base64url\",\n        json_string: \"ciąg znaków w formacie JSON\",\n        e164: \"liczba E.164\",\n        jwt: \"JWT\",\n        template_literal: \"wejście\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"liczba\",\n        array: \"tablica\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Nieprawidłowe dane wejściowe: oczekiwano instanceof ${issue.expected}, otrzymano ${received}`;\n                }\n                return `Nieprawidłowe dane wejściowe: oczekiwano ${expected}, otrzymano ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Nieprawidłowe dane wejściowe: oczekiwano ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Nieprawidłowa opcja: oczekiwano jednej z wartości ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Za duża wartość: oczekiwano, że ${issue.origin ?? \"wartość\"} będzie mieć ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementów\"}`;\n                }\n                return `Zbyt duż(y/a/e): oczekiwano, że ${issue.origin ?? \"wartość\"} będzie wynosić ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Za mała wartość: oczekiwano, że ${issue.origin ?? \"wartość\"} będzie mieć ${adj}${issue.minimum.toString()} ${sizing.unit ?? \"elementów\"}`;\n                }\n                return `Zbyt mał(y/a/e): oczekiwano, że ${issue.origin ?? \"wartość\"} będzie wynosić ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Nieprawidłowy ciąg znaków: musi zaczynać się od \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Nieprawidłowy ciąg znaków: musi kończyć się na \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Nieprawidłowy ciąg znaków: musi zawierać \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Nieprawidłowy ciąg znaków: musi odpowiadać wzorcowi ${_issue.pattern}`;\n                return `Nieprawidłow(y/a/e) ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Nieprawidłowa liczba: musi być wielokrotnością ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Nierozpoznane klucze${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Nieprawidłowy klucz w ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Nieprawidłowe dane wejściowe\";\n            case \"invalid_element\":\n                return `Nieprawidłowa wartość w ${issue.origin}`;\n            default:\n                return `Nieprawidłowe dane wejściowe`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"caracteres\", verb: \"ter\" },\n        file: { unit: \"bytes\", verb: \"ter\" },\n        array: { unit: \"itens\", verb: \"ter\" },\n        set: { unit: \"itens\", verb: \"ter\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"padrão\",\n        email: \"endereço de e-mail\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"data e hora ISO\",\n        date: \"data ISO\",\n        time: \"hora ISO\",\n        duration: \"duração ISO\",\n        ipv4: \"endereço IPv4\",\n        ipv6: \"endereço IPv6\",\n        cidrv4: \"faixa de IPv4\",\n        cidrv6: \"faixa de IPv6\",\n        base64: \"texto codificado em base64\",\n        base64url: \"URL codificada em base64\",\n        json_string: \"texto JSON\",\n        e164: \"número E.164\",\n        jwt: \"JWT\",\n        template_literal: \"entrada\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"número\",\n        null: \"nulo\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Tipo inválido: esperado instanceof ${issue.expected}, recebido ${received}`;\n                }\n                return `Tipo inválido: esperado ${expected}, recebido ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Entrada inválida: esperado ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Opção inválida: esperada uma das ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Muito grande: esperado que ${issue.origin ?? \"valor\"} tivesse ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementos\"}`;\n                return `Muito grande: esperado que ${issue.origin ?? \"valor\"} fosse ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Muito pequeno: esperado que ${issue.origin} tivesse ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Muito pequeno: esperado que ${issue.origin} fosse ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Texto inválido: deve começar com \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Texto inválido: deve terminar com \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Texto inválido: deve incluir \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Texto inválido: deve corresponder ao padrão ${_issue.pattern}`;\n                return `${FormatDictionary[_issue.format] ?? issue.format} inválido`;\n            }\n            case \"not_multiple_of\":\n                return `Número inválido: deve ser múltiplo de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Chave${issue.keys.length > 1 ? \"s\" : \"\"} desconhecida${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Chave inválida em ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Entrada inválida\";\n            case \"invalid_element\":\n                return `Valor inválido em ${issue.origin}`;\n            default:\n                return `Campo inválido`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nfunction getRussianPlural(count, one, few, many) {\n    const absCount = Math.abs(count);\n    const lastDigit = absCount % 10;\n    const lastTwoDigits = absCount % 100;\n    if (lastTwoDigits >= 11 && lastTwoDigits <= 19) {\n        return many;\n    }\n    if (lastDigit === 1) {\n        return one;\n    }\n    if (lastDigit >= 2 && lastDigit <= 4) {\n        return few;\n    }\n    return many;\n}\nconst error = () => {\n    const Sizable = {\n        string: {\n            unit: {\n                one: \"символ\",\n                few: \"символа\",\n                many: \"символов\",\n            },\n            verb: \"иметь\",\n        },\n        file: {\n            unit: {\n                one: \"байт\",\n                few: \"байта\",\n                many: \"байт\",\n            },\n            verb: \"иметь\",\n        },\n        array: {\n            unit: {\n                one: \"элемент\",\n                few: \"элемента\",\n                many: \"элементов\",\n            },\n            verb: \"иметь\",\n        },\n        set: {\n            unit: {\n                one: \"элемент\",\n                few: \"элемента\",\n                many: \"элементов\",\n            },\n            verb: \"иметь\",\n        },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"ввод\",\n        email: \"email адрес\",\n        url: \"URL\",\n        emoji: \"эмодзи\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO дата и время\",\n        date: \"ISO дата\",\n        time: \"ISO время\",\n        duration: \"ISO длительность\",\n        ipv4: \"IPv4 адрес\",\n        ipv6: \"IPv6 адрес\",\n        cidrv4: \"IPv4 диапазон\",\n        cidrv6: \"IPv6 диапазон\",\n        base64: \"строка в формате base64\",\n        base64url: \"строка в формате base64url\",\n        json_string: \"JSON строка\",\n        e164: \"номер E.164\",\n        jwt: \"JWT\",\n        template_literal: \"ввод\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"число\",\n        array: \"массив\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Неверный ввод: ожидалось instanceof ${issue.expected}, получено ${received}`;\n                }\n                return `Неверный ввод: ожидалось ${expected}, получено ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Неверный ввод: ожидалось ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Неверный вариант: ожидалось одно из ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    const maxValue = Number(issue.maximum);\n                    const unit = getRussianPlural(maxValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);\n                    return `Слишком большое значение: ожидалось, что ${issue.origin ?? \"значение\"} будет иметь ${adj}${issue.maximum.toString()} ${unit}`;\n                }\n                return `Слишком большое значение: ожидалось, что ${issue.origin ?? \"значение\"} будет ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    const minValue = Number(issue.minimum);\n                    const unit = getRussianPlural(minValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);\n                    return `Слишком маленькое значение: ожидалось, что ${issue.origin} будет иметь ${adj}${issue.minimum.toString()} ${unit}`;\n                }\n                return `Слишком маленькое значение: ожидалось, что ${issue.origin} будет ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Неверная строка: должна начинаться с \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Неверная строка: должна заканчиваться на \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Неверная строка: должна содержать \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Неверная строка: должна соответствовать шаблону ${_issue.pattern}`;\n                return `Неверный ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Неверное число: должно быть кратным ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Нераспознанн${issue.keys.length > 1 ? \"ые\" : \"ый\"} ключ${issue.keys.length > 1 ? \"и\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Неверный ключ в ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Неверные входные данные\";\n            case \"invalid_element\":\n                return `Неверное значение в ${issue.origin}`;\n            default:\n                return `Неверные входные данные`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"znakov\", verb: \"imeti\" },\n        file: { unit: \"bajtov\", verb: \"imeti\" },\n        array: { unit: \"elementov\", verb: \"imeti\" },\n        set: { unit: \"elementov\", verb: \"imeti\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"vnos\",\n        email: \"e-poštni naslov\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO datum in čas\",\n        date: \"ISO datum\",\n        time: \"ISO čas\",\n        duration: \"ISO trajanje\",\n        ipv4: \"IPv4 naslov\",\n        ipv6: \"IPv6 naslov\",\n        cidrv4: \"obseg IPv4\",\n        cidrv6: \"obseg IPv6\",\n        base64: \"base64 kodiran niz\",\n        base64url: \"base64url kodiran niz\",\n        json_string: \"JSON niz\",\n        e164: \"E.164 številka\",\n        jwt: \"JWT\",\n        template_literal: \"vnos\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"število\",\n        array: \"tabela\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Neveljaven vnos: pričakovano instanceof ${issue.expected}, prejeto ${received}`;\n                }\n                return `Neveljaven vnos: pričakovano ${expected}, prejeto ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Neveljaven vnos: pričakovano ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Neveljavna možnost: pričakovano eno izmed ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Preveliko: pričakovano, da bo ${issue.origin ?? \"vrednost\"} imelo ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementov\"}`;\n                return `Preveliko: pričakovano, da bo ${issue.origin ?? \"vrednost\"} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Premajhno: pričakovano, da bo ${issue.origin} imelo ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Premajhno: pričakovano, da bo ${issue.origin} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Neveljaven niz: mora se začeti z \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Neveljaven niz: mora se končati z \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Neveljaven niz: mora vsebovati \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Neveljaven niz: mora ustrezati vzorcu ${_issue.pattern}`;\n                return `Neveljaven ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Neveljavno število: mora biti večkratnik ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Neprepoznan${issue.keys.length > 1 ? \"i ključi\" : \" ključ\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Neveljaven ključ v ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Neveljaven vnos\";\n            case \"invalid_element\":\n                return `Neveljavna vrednost v ${issue.origin}`;\n            default:\n                return \"Neveljaven vnos\";\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"tecken\", verb: \"att ha\" },\n        file: { unit: \"bytes\", verb: \"att ha\" },\n        array: { unit: \"objekt\", verb: \"att innehålla\" },\n        set: { unit: \"objekt\", verb: \"att innehålla\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"reguljärt uttryck\",\n        email: \"e-postadress\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO-datum och tid\",\n        date: \"ISO-datum\",\n        time: \"ISO-tid\",\n        duration: \"ISO-varaktighet\",\n        ipv4: \"IPv4-intervall\",\n        ipv6: \"IPv6-intervall\",\n        cidrv4: \"IPv4-spektrum\",\n        cidrv6: \"IPv6-spektrum\",\n        base64: \"base64-kodad sträng\",\n        base64url: \"base64url-kodad sträng\",\n        json_string: \"JSON-sträng\",\n        e164: \"E.164-nummer\",\n        jwt: \"JWT\",\n        template_literal: \"mall-literal\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"antal\",\n        array: \"lista\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Ogiltig inmatning: förväntat instanceof ${issue.expected}, fick ${received}`;\n                }\n                return `Ogiltig inmatning: förväntat ${expected}, fick ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ogiltig inmatning: förväntat ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ogiltigt val: förväntade en av ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `För stor(t): förväntade ${issue.origin ?? \"värdet\"} att ha ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"element\"}`;\n                }\n                return `För stor(t): förväntat ${issue.origin ?? \"värdet\"} att ha ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `För lite(t): förväntade ${issue.origin ?? \"värdet\"} att ha ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `För lite(t): förväntade ${issue.origin ?? \"värdet\"} att ha ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Ogiltig sträng: måste börja med \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Ogiltig sträng: måste sluta med \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Ogiltig sträng: måste innehålla \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Ogiltig sträng: måste matcha mönstret \"${_issue.pattern}\"`;\n                return `Ogiltig(t) ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Ogiltigt tal: måste vara en multipel av ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"Okända nycklar\" : \"Okänd nyckel\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Ogiltig nyckel i ${issue.origin ?? \"värdet\"}`;\n            case \"invalid_union\":\n                return \"Ogiltig input\";\n            case \"invalid_element\":\n                return `Ogiltigt värde i ${issue.origin ?? \"värdet\"}`;\n            default:\n                return `Ogiltig input`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"எழுத்துக்கள்\", verb: \"கொண்டிருக்க வேண்டும்\" },\n        file: { unit: \"பைட்டுகள்\", verb: \"கொண்டிருக்க வேண்டும்\" },\n        array: { unit: \"உறுப்புகள்\", verb: \"கொண்டிருக்க வேண்டும்\" },\n        set: { unit: \"உறுப்புகள்\", verb: \"கொண்டிருக்க வேண்டும்\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"உள்ளீடு\",\n        email: \"மின்னஞ்சல் முகவரி\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO தேதி நேரம்\",\n        date: \"ISO தேதி\",\n        time: \"ISO நேரம்\",\n        duration: \"ISO கால அளவு\",\n        ipv4: \"IPv4 முகவரி\",\n        ipv6: \"IPv6 முகவரி\",\n        cidrv4: \"IPv4 வரம்பு\",\n        cidrv6: \"IPv6 வரம்பு\",\n        base64: \"base64-encoded சரம்\",\n        base64url: \"base64url-encoded சரம்\",\n        json_string: \"JSON சரம்\",\n        e164: \"E.164 எண்\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"எண்\",\n        array: \"அணி\",\n        null: \"வெறுமை\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது instanceof ${issue.expected}, பெறப்பட்டது ${received}`;\n                }\n                return `தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${expected}, பெறப்பட்டது ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${util.stringifyPrimitive(issue.values[0])}`;\n                return `தவறான விருப்பம்: எதிர்பார்க்கப்பட்டது ${util.joinValues(issue.values, \"|\")} இல் ஒன்று`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `மிக பெரியது: எதிர்பார்க்கப்பட்டது ${issue.origin ?? \"மதிப்பு\"} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"உறுப்புகள்\"} ஆக இருக்க வேண்டும்`;\n                }\n                return `மிக பெரியது: எதிர்பார்க்கப்பட்டது ${issue.origin ?? \"மதிப்பு\"} ${adj}${issue.maximum.toString()} ஆக இருக்க வேண்டும்`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit} ஆக இருக்க வேண்டும்`; //\n                }\n                return `மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${issue.origin} ${adj}${issue.minimum.toString()} ஆக இருக்க வேண்டும்`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `தவறான சரம்: \"${_issue.prefix}\" இல் தொடங்க வேண்டும்`;\n                if (_issue.format === \"ends_with\")\n                    return `தவறான சரம்: \"${_issue.suffix}\" இல் முடிவடைய வேண்டும்`;\n                if (_issue.format === \"includes\")\n                    return `தவறான சரம்: \"${_issue.includes}\" ஐ உள்ளடக்க வேண்டும்`;\n                if (_issue.format === \"regex\")\n                    return `தவறான சரம்: ${_issue.pattern} முறைபாட்டுடன் பொருந்த வேண்டும்`;\n                return `தவறான ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `தவறான எண்: ${issue.divisor} இன் பலமாக இருக்க வேண்டும்`;\n            case \"unrecognized_keys\":\n                return `அடையாளம் தெரியாத விசை${issue.keys.length > 1 ? \"கள்\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} இல் தவறான விசை`;\n            case \"invalid_union\":\n                return \"தவறான உள்ளீடு\";\n            case \"invalid_element\":\n                return `${issue.origin} இல் தவறான மதிப்பு`;\n            default:\n                return `தவறான உள்ளீடு`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"ตัวอักษร\", verb: \"ควรมี\" },\n        file: { unit: \"ไบต์\", verb: \"ควรมี\" },\n        array: { unit: \"รายการ\", verb: \"ควรมี\" },\n        set: { unit: \"รายการ\", verb: \"ควรมี\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"ข้อมูลที่ป้อน\",\n        email: \"ที่อยู่อีเมล\",\n        url: \"URL\",\n        emoji: \"อิโมจิ\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"วันที่เวลาแบบ ISO\",\n        date: \"วันที่แบบ ISO\",\n        time: \"เวลาแบบ ISO\",\n        duration: \"ช่วงเวลาแบบ ISO\",\n        ipv4: \"ที่อยู่ IPv4\",\n        ipv6: \"ที่อยู่ IPv6\",\n        cidrv4: \"ช่วง IP แบบ IPv4\",\n        cidrv6: \"ช่วง IP แบบ IPv6\",\n        base64: \"ข้อความแบบ Base64\",\n        base64url: \"ข้อความแบบ Base64 สำหรับ URL\",\n        json_string: \"ข้อความแบบ JSON\",\n        e164: \"เบอร์โทรศัพท์ระหว่างประเทศ (E.164)\",\n        jwt: \"โทเคน JWT\",\n        template_literal: \"ข้อมูลที่ป้อน\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"ตัวเลข\",\n        array: \"อาร์เรย์ (Array)\",\n        null: \"ไม่มีค่า (null)\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `ประเภทข้อมูลไม่ถูกต้อง: ควรเป็น instanceof ${issue.expected} แต่ได้รับ ${received}`;\n                }\n                return `ประเภทข้อมูลไม่ถูกต้อง: ควรเป็น ${expected} แต่ได้รับ ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `ค่าไม่ถูกต้อง: ควรเป็น ${util.stringifyPrimitive(issue.values[0])}`;\n                return `ตัวเลือกไม่ถูกต้อง: ควรเป็นหนึ่งใน ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"ไม่เกิน\" : \"น้อยกว่า\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `เกินกำหนด: ${issue.origin ?? \"ค่า\"} ควรมี${adj} ${issue.maximum.toString()} ${sizing.unit ?? \"รายการ\"}`;\n                return `เกินกำหนด: ${issue.origin ?? \"ค่า\"} ควรมี${adj} ${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \"อย่างน้อย\" : \"มากกว่า\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `น้อยกว่ากำหนด: ${issue.origin} ควรมี${adj} ${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `น้อยกว่ากำหนด: ${issue.origin} ควรมี${adj} ${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `รูปแบบไม่ถูกต้อง: ข้อความต้องขึ้นต้นด้วย \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `รูปแบบไม่ถูกต้อง: ข้อความต้องลงท้ายด้วย \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `รูปแบบไม่ถูกต้อง: ข้อความต้องมี \"${_issue.includes}\" อยู่ในข้อความ`;\n                if (_issue.format === \"regex\")\n                    return `รูปแบบไม่ถูกต้อง: ต้องตรงกับรูปแบบที่กำหนด ${_issue.pattern}`;\n                return `รูปแบบไม่ถูกต้อง: ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `ตัวเลขไม่ถูกต้อง: ต้องเป็นจำนวนที่หารด้วย ${issue.divisor} ได้ลงตัว`;\n            case \"unrecognized_keys\":\n                return `พบคีย์ที่ไม่รู้จัก: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `คีย์ไม่ถูกต้องใน ${issue.origin}`;\n            case \"invalid_union\":\n                return \"ข้อมูลไม่ถูกต้อง: ไม่ตรงกับรูปแบบยูเนียนที่กำหนดไว้\";\n            case \"invalid_element\":\n                return `ข้อมูลไม่ถูกต้องใน ${issue.origin}`;\n            default:\n                return `ข้อมูลไม่ถูกต้อง`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"karakter\", verb: \"olmalı\" },\n        file: { unit: \"bayt\", verb: \"olmalı\" },\n        array: { unit: \"öğe\", verb: \"olmalı\" },\n        set: { unit: \"öğe\", verb: \"olmalı\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"girdi\",\n        email: \"e-posta adresi\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO tarih ve saat\",\n        date: \"ISO tarih\",\n        time: \"ISO saat\",\n        duration: \"ISO süre\",\n        ipv4: \"IPv4 adresi\",\n        ipv6: \"IPv6 adresi\",\n        cidrv4: \"IPv4 aralığı\",\n        cidrv6: \"IPv6 aralığı\",\n        base64: \"base64 ile şifrelenmiş metin\",\n        base64url: \"base64url ile şifrelenmiş metin\",\n        json_string: \"JSON dizesi\",\n        e164: \"E.164 sayısı\",\n        jwt: \"JWT\",\n        template_literal: \"Şablon dizesi\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Geçersiz değer: beklenen instanceof ${issue.expected}, alınan ${received}`;\n                }\n                return `Geçersiz değer: beklenen ${expected}, alınan ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Geçersiz değer: beklenen ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Geçersiz seçenek: aşağıdakilerden biri olmalı: ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Çok büyük: beklenen ${issue.origin ?? \"değer\"} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"öğe\"}`;\n                return `Çok büyük: beklenen ${issue.origin ?? \"değer\"} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Çok küçük: beklenen ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                return `Çok küçük: beklenen ${issue.origin} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Geçersiz metin: \"${_issue.prefix}\" ile başlamalı`;\n                if (_issue.format === \"ends_with\")\n                    return `Geçersiz metin: \"${_issue.suffix}\" ile bitmeli`;\n                if (_issue.format === \"includes\")\n                    return `Geçersiz metin: \"${_issue.includes}\" içermeli`;\n                if (_issue.format === \"regex\")\n                    return `Geçersiz metin: ${_issue.pattern} desenine uymalı`;\n                return `Geçersiz ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Geçersiz sayı: ${issue.divisor} ile tam bölünebilmeli`;\n            case \"unrecognized_keys\":\n                return `Tanınmayan anahtar${issue.keys.length > 1 ? \"lar\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} içinde geçersiz anahtar`;\n            case \"invalid_union\":\n                return \"Geçersiz değer\";\n            case \"invalid_element\":\n                return `${issue.origin} içinde geçersiz değer`;\n            default:\n                return `Geçersiz değer`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"символів\", verb: \"матиме\" },\n        file: { unit: \"байтів\", verb: \"матиме\" },\n        array: { unit: \"елементів\", verb: \"матиме\" },\n        set: { unit: \"елементів\", verb: \"матиме\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"вхідні дані\",\n        email: \"адреса електронної пошти\",\n        url: \"URL\",\n        emoji: \"емодзі\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"дата та час ISO\",\n        date: \"дата ISO\",\n        time: \"час ISO\",\n        duration: \"тривалість ISO\",\n        ipv4: \"адреса IPv4\",\n        ipv6: \"адреса IPv6\",\n        cidrv4: \"діапазон IPv4\",\n        cidrv6: \"діапазон IPv6\",\n        base64: \"рядок у кодуванні base64\",\n        base64url: \"рядок у кодуванні base64url\",\n        json_string: \"рядок JSON\",\n        e164: \"номер E.164\",\n        jwt: \"JWT\",\n        template_literal: \"вхідні дані\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"число\",\n        array: \"масив\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Неправильні вхідні дані: очікується instanceof ${issue.expected}, отримано ${received}`;\n                }\n                return `Неправильні вхідні дані: очікується ${expected}, отримано ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Неправильні вхідні дані: очікується ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Неправильна опція: очікується одне з ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Занадто велике: очікується, що ${issue.origin ?? \"значення\"} ${sizing.verb} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"елементів\"}`;\n                return `Занадто велике: очікується, що ${issue.origin ?? \"значення\"} буде ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Занадто мале: очікується, що ${issue.origin} ${sizing.verb} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Занадто мале: очікується, що ${issue.origin} буде ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Неправильний рядок: повинен починатися з \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Неправильний рядок: повинен закінчуватися на \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Неправильний рядок: повинен містити \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Неправильний рядок: повинен відповідати шаблону ${_issue.pattern}`;\n                return `Неправильний ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Неправильне число: повинно бути кратним ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Нерозпізнаний ключ${issue.keys.length > 1 ? \"і\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Неправильний ключ у ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Неправильні вхідні дані\";\n            case \"invalid_element\":\n                return `Неправильне значення у ${issue.origin}`;\n            default:\n                return `Неправильні вхідні дані`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"حروف\", verb: \"ہونا\" },\n        file: { unit: \"بائٹس\", verb: \"ہونا\" },\n        array: { unit: \"آئٹمز\", verb: \"ہونا\" },\n        set: { unit: \"آئٹمز\", verb: \"ہونا\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"ان پٹ\",\n        email: \"ای میل ایڈریس\",\n        url: \"یو آر ایل\",\n        emoji: \"ایموجی\",\n        uuid: \"یو یو آئی ڈی\",\n        uuidv4: \"یو یو آئی ڈی وی 4\",\n        uuidv6: \"یو یو آئی ڈی وی 6\",\n        nanoid: \"نینو آئی ڈی\",\n        guid: \"جی یو آئی ڈی\",\n        cuid: \"سی یو آئی ڈی\",\n        cuid2: \"سی یو آئی ڈی 2\",\n        ulid: \"یو ایل آئی ڈی\",\n        xid: \"ایکس آئی ڈی\",\n        ksuid: \"کے ایس یو آئی ڈی\",\n        datetime: \"آئی ایس او ڈیٹ ٹائم\",\n        date: \"آئی ایس او تاریخ\",\n        time: \"آئی ایس او وقت\",\n        duration: \"آئی ایس او مدت\",\n        ipv4: \"آئی پی وی 4 ایڈریس\",\n        ipv6: \"آئی پی وی 6 ایڈریس\",\n        cidrv4: \"آئی پی وی 4 رینج\",\n        cidrv6: \"آئی پی وی 6 رینج\",\n        base64: \"بیس 64 ان کوڈڈ سٹرنگ\",\n        base64url: \"بیس 64 یو آر ایل ان کوڈڈ سٹرنگ\",\n        json_string: \"جے ایس او این سٹرنگ\",\n        e164: \"ای 164 نمبر\",\n        jwt: \"جے ڈبلیو ٹی\",\n        template_literal: \"ان پٹ\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"نمبر\",\n        array: \"آرے\",\n        null: \"نل\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `غلط ان پٹ: instanceof ${issue.expected} متوقع تھا، ${received} موصول ہوا`;\n                }\n                return `غلط ان پٹ: ${expected} متوقع تھا، ${received} موصول ہوا`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `غلط ان پٹ: ${util.stringifyPrimitive(issue.values[0])} متوقع تھا`;\n                return `غلط آپشن: ${util.joinValues(issue.values, \"|\")} میں سے ایک متوقع تھا`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `بہت بڑا: ${issue.origin ?? \"ویلیو\"} کے ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"عناصر\"} ہونے متوقع تھے`;\n                return `بہت بڑا: ${issue.origin ?? \"ویلیو\"} کا ${adj}${issue.maximum.toString()} ہونا متوقع تھا`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `بہت چھوٹا: ${issue.origin} کے ${adj}${issue.minimum.toString()} ${sizing.unit} ہونے متوقع تھے`;\n                }\n                return `بہت چھوٹا: ${issue.origin} کا ${adj}${issue.minimum.toString()} ہونا متوقع تھا`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `غلط سٹرنگ: \"${_issue.prefix}\" سے شروع ہونا چاہیے`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `غلط سٹرنگ: \"${_issue.suffix}\" پر ختم ہونا چاہیے`;\n                if (_issue.format === \"includes\")\n                    return `غلط سٹرنگ: \"${_issue.includes}\" شامل ہونا چاہیے`;\n                if (_issue.format === \"regex\")\n                    return `غلط سٹرنگ: پیٹرن ${_issue.pattern} سے میچ ہونا چاہیے`;\n                return `غلط ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `غلط نمبر: ${issue.divisor} کا مضاعف ہونا چاہیے`;\n            case \"unrecognized_keys\":\n                return `غیر تسلیم شدہ کی${issue.keys.length > 1 ? \"ز\" : \"\"}: ${util.joinValues(issue.keys, \"، \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} میں غلط کی`;\n            case \"invalid_union\":\n                return \"غلط ان پٹ\";\n            case \"invalid_element\":\n                return `${issue.origin} میں غلط ویلیو`;\n            default:\n                return `غلط ان پٹ`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"belgi\", verb: \"bo‘lishi kerak\" },\n        file: { unit: \"bayt\", verb: \"bo‘lishi kerak\" },\n        array: { unit: \"element\", verb: \"bo‘lishi kerak\" },\n        set: { unit: \"element\", verb: \"bo‘lishi kerak\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"kirish\",\n        email: \"elektron pochta manzili\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO sana va vaqti\",\n        date: \"ISO sana\",\n        time: \"ISO vaqt\",\n        duration: \"ISO davomiylik\",\n        ipv4: \"IPv4 manzil\",\n        ipv6: \"IPv6 manzil\",\n        mac: \"MAC manzil\",\n        cidrv4: \"IPv4 diapazon\",\n        cidrv6: \"IPv6 diapazon\",\n        base64: \"base64 kodlangan satr\",\n        base64url: \"base64url kodlangan satr\",\n        json_string: \"JSON satr\",\n        e164: \"E.164 raqam\",\n        jwt: \"JWT\",\n        template_literal: \"kirish\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"raqam\",\n        array: \"massiv\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Noto‘g‘ri kirish: kutilgan instanceof ${issue.expected}, qabul qilingan ${received}`;\n                }\n                return `Noto‘g‘ri kirish: kutilgan ${expected}, qabul qilingan ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Noto‘g‘ri kirish: kutilgan ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Noto‘g‘ri variant: quyidagilardan biri kutilgan ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Juda katta: kutilgan ${issue.origin ?? \"qiymat\"} ${adj}${issue.maximum.toString()} ${sizing.unit} ${sizing.verb}`;\n                return `Juda katta: kutilgan ${issue.origin ?? \"qiymat\"} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Juda kichik: kutilgan ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit} ${sizing.verb}`;\n                }\n                return `Juda kichik: kutilgan ${issue.origin} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Noto‘g‘ri satr: \"${_issue.prefix}\" bilan boshlanishi kerak`;\n                if (_issue.format === \"ends_with\")\n                    return `Noto‘g‘ri satr: \"${_issue.suffix}\" bilan tugashi kerak`;\n                if (_issue.format === \"includes\")\n                    return `Noto‘g‘ri satr: \"${_issue.includes}\" ni o‘z ichiga olishi kerak`;\n                if (_issue.format === \"regex\")\n                    return `Noto‘g‘ri satr: ${_issue.pattern} shabloniga mos kelishi kerak`;\n                return `Noto‘g‘ri ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Noto‘g‘ri raqam: ${issue.divisor} ning karralisi bo‘lishi kerak`;\n            case \"unrecognized_keys\":\n                return `Noma’lum kalit${issue.keys.length > 1 ? \"lar\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} dagi kalit noto‘g‘ri`;\n            case \"invalid_union\":\n                return \"Noto‘g‘ri kirish\";\n            case \"invalid_element\":\n                return `${issue.origin} da noto‘g‘ri qiymat`;\n            default:\n                return `Noto‘g‘ri kirish`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"ký tự\", verb: \"có\" },\n        file: { unit: \"byte\", verb: \"có\" },\n        array: { unit: \"phần tử\", verb: \"có\" },\n        set: { unit: \"phần tử\", verb: \"có\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"đầu vào\",\n        email: \"địa chỉ email\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ngày giờ ISO\",\n        date: \"ngày ISO\",\n        time: \"giờ ISO\",\n        duration: \"khoảng thời gian ISO\",\n        ipv4: \"địa chỉ IPv4\",\n        ipv6: \"địa chỉ IPv6\",\n        cidrv4: \"dải IPv4\",\n        cidrv6: \"dải IPv6\",\n        base64: \"chuỗi mã hóa base64\",\n        base64url: \"chuỗi mã hóa base64url\",\n        json_string: \"chuỗi JSON\",\n        e164: \"số E.164\",\n        jwt: \"JWT\",\n        template_literal: \"đầu vào\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"số\",\n        array: \"mảng\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Đầu vào không hợp lệ: mong đợi instanceof ${issue.expected}, nhận được ${received}`;\n                }\n                return `Đầu vào không hợp lệ: mong đợi ${expected}, nhận được ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Đầu vào không hợp lệ: mong đợi ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Tùy chọn không hợp lệ: mong đợi một trong các giá trị ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Quá lớn: mong đợi ${issue.origin ?? \"giá trị\"} ${sizing.verb} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"phần tử\"}`;\n                return `Quá lớn: mong đợi ${issue.origin ?? \"giá trị\"} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Quá nhỏ: mong đợi ${issue.origin} ${sizing.verb} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Quá nhỏ: mong đợi ${issue.origin} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Chuỗi không hợp lệ: phải bắt đầu bằng \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Chuỗi không hợp lệ: phải kết thúc bằng \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Chuỗi không hợp lệ: phải bao gồm \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Chuỗi không hợp lệ: phải khớp với mẫu ${_issue.pattern}`;\n                return `${FormatDictionary[_issue.format] ?? issue.format} không hợp lệ`;\n            }\n            case \"not_multiple_of\":\n                return `Số không hợp lệ: phải là bội số của ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Khóa không được nhận dạng: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Khóa không hợp lệ trong ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Đầu vào không hợp lệ\";\n            case \"invalid_element\":\n                return `Giá trị không hợp lệ trong ${issue.origin}`;\n            default:\n                return `Đầu vào không hợp lệ`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"字符\", verb: \"包含\" },\n        file: { unit: \"字节\", verb: \"包含\" },\n        array: { unit: \"项\", verb: \"包含\" },\n        set: { unit: \"项\", verb: \"包含\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"输入\",\n        email: \"电子邮件\",\n        url: \"URL\",\n        emoji: \"表情符号\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO日期时间\",\n        date: \"ISO日期\",\n        time: \"ISO时间\",\n        duration: \"ISO时长\",\n        ipv4: \"IPv4地址\",\n        ipv6: \"IPv6地址\",\n        cidrv4: \"IPv4网段\",\n        cidrv6: \"IPv6网段\",\n        base64: \"base64编码字符串\",\n        base64url: \"base64url编码字符串\",\n        json_string: \"JSON字符串\",\n        e164: \"E.164号码\",\n        jwt: \"JWT\",\n        template_literal: \"输入\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"数字\",\n        array: \"数组\",\n        null: \"空值(null)\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `无效输入：期望 instanceof ${issue.expected}，实际接收 ${received}`;\n                }\n                return `无效输入：期望 ${expected}，实际接收 ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `无效输入：期望 ${util.stringifyPrimitive(issue.values[0])}`;\n                return `无效选项：期望以下之一 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `数值过大：期望 ${issue.origin ?? \"值\"} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"个元素\"}`;\n                return `数值过大：期望 ${issue.origin ?? \"值\"} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `数值过小：期望 ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `数值过小：期望 ${issue.origin} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `无效字符串：必须以 \"${_issue.prefix}\" 开头`;\n                if (_issue.format === \"ends_with\")\n                    return `无效字符串：必须以 \"${_issue.suffix}\" 结尾`;\n                if (_issue.format === \"includes\")\n                    return `无效字符串：必须包含 \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `无效字符串：必须满足正则表达式 ${_issue.pattern}`;\n                return `无效${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `无效数字：必须是 ${issue.divisor} 的倍数`;\n            case \"unrecognized_keys\":\n                return `出现未知的键(key): ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} 中的键(key)无效`;\n            case \"invalid_union\":\n                return \"无效输入\";\n            case \"invalid_element\":\n                return `${issue.origin} 中包含无效值(value)`;\n            default:\n                return `无效输入`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"字元\", verb: \"擁有\" },\n        file: { unit: \"位元組\", verb: \"擁有\" },\n        array: { unit: \"項目\", verb: \"擁有\" },\n        set: { unit: \"項目\", verb: \"擁有\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"輸入\",\n        email: \"郵件地址\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO 日期時間\",\n        date: \"ISO 日期\",\n        time: \"ISO 時間\",\n        duration: \"ISO 期間\",\n        ipv4: \"IPv4 位址\",\n        ipv6: \"IPv6 位址\",\n        cidrv4: \"IPv4 範圍\",\n        cidrv6: \"IPv6 範圍\",\n        base64: \"base64 編碼字串\",\n        base64url: \"base64url 編碼字串\",\n        json_string: \"JSON 字串\",\n        e164: \"E.164 數值\",\n        jwt: \"JWT\",\n        template_literal: \"輸入\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `無效的輸入值：預期為 instanceof ${issue.expected}，但收到 ${received}`;\n                }\n                return `無效的輸入值：預期為 ${expected}，但收到 ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `無效的輸入值：預期為 ${util.stringifyPrimitive(issue.values[0])}`;\n                return `無效的選項：預期為以下其中之一 ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `數值過大：預期 ${issue.origin ?? \"值\"} 應為 ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"個元素\"}`;\n                return `數值過大：預期 ${issue.origin ?? \"值\"} 應為 ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `數值過小：預期 ${issue.origin} 應為 ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `數值過小：預期 ${issue.origin} 應為 ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `無效的字串：必須以 \"${_issue.prefix}\" 開頭`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `無效的字串：必須以 \"${_issue.suffix}\" 結尾`;\n                if (_issue.format === \"includes\")\n                    return `無效的字串：必須包含 \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `無效的字串：必須符合格式 ${_issue.pattern}`;\n                return `無效的 ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `無效的數字：必須為 ${issue.divisor} 的倍數`;\n            case \"unrecognized_keys\":\n                return `無法識別的鍵值${issue.keys.length > 1 ? \"們\" : \"\"}：${util.joinValues(issue.keys, \"、\")}`;\n            case \"invalid_key\":\n                return `${issue.origin} 中有無效的鍵值`;\n            case \"invalid_union\":\n                return \"無效的輸入值\";\n            case \"invalid_element\":\n                return `${issue.origin} 中有無效的值`;\n            default:\n                return `無效的輸入值`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"àmi\", verb: \"ní\" },\n        file: { unit: \"bytes\", verb: \"ní\" },\n        array: { unit: \"nkan\", verb: \"ní\" },\n        set: { unit: \"nkan\", verb: \"ní\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"ẹ̀rọ ìbáwọlé\",\n        email: \"àdírẹ́sì ìmẹ́lì\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"àkókò ISO\",\n        date: \"ọjọ́ ISO\",\n        time: \"àkókò ISO\",\n        duration: \"àkókò tó pé ISO\",\n        ipv4: \"àdírẹ́sì IPv4\",\n        ipv6: \"àdírẹ́sì IPv6\",\n        cidrv4: \"àgbègbè IPv4\",\n        cidrv6: \"àgbègbè IPv6\",\n        base64: \"ọ̀rọ̀ tí a kọ́ ní base64\",\n        base64url: \"ọ̀rọ̀ base64url\",\n        json_string: \"ọ̀rọ̀ JSON\",\n        e164: \"nọ́mbà E.164\",\n        jwt: \"JWT\",\n        template_literal: \"ẹ̀rọ ìbáwọlé\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"nọ́mbà\",\n        array: \"akopọ\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Ìbáwọlé aṣìṣe: a ní láti fi instanceof ${issue.expected}, àmọ̀ a rí ${received}`;\n                }\n                return `Ìbáwọlé aṣìṣe: a ní láti fi ${expected}, àmọ̀ a rí ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ìbáwọlé aṣìṣe: a ní láti fi ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Àṣàyàn aṣìṣe: yan ọ̀kan lára ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Tó pọ̀ jù: a ní láti jẹ́ pé ${issue.origin ?? \"iye\"} ${sizing.verb} ${adj}${issue.maximum} ${sizing.unit}`;\n                return `Tó pọ̀ jù: a ní láti jẹ́ ${adj}${issue.maximum}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Kéré ju: a ní láti jẹ́ pé ${issue.origin} ${sizing.verb} ${adj}${issue.minimum} ${sizing.unit}`;\n                return `Kéré ju: a ní láti jẹ́ ${adj}${issue.minimum}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ bẹ̀rẹ̀ pẹ̀lú \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ parí pẹ̀lú \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ ní \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Ọ̀rọ̀ aṣìṣe: gbọ́dọ̀ bá àpẹẹrẹ mu ${_issue.pattern}`;\n                return `Aṣìṣe: ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Nọ́mbà aṣìṣe: gbọ́dọ̀ jẹ́ èyà pípín ti ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Bọtìnì àìmọ̀: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Bọtìnì aṣìṣe nínú ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Ìbáwọlé aṣìṣe\";\n            case \"invalid_element\":\n                return `Iye aṣìṣe nínú ${issue.origin}`;\n            default:\n                return \"Ìbáwọlé aṣìṣe\";\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"characters\", verb: \"to have\" },\n        file: { unit: \"bytes\", verb: \"to have\" },\n        array: { unit: \"items\", verb: \"to have\" },\n        set: { unit: \"items\", verb: \"to have\" },\n        map: { unit: \"entries\", verb: \"to have\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"input\",\n        email: \"email address\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO datetime\",\n        date: \"ISO date\",\n        time: \"ISO time\",\n        duration: \"ISO duration\",\n        ipv4: \"IPv4 address\",\n        ipv6: \"IPv6 address\",\n        mac: \"MAC address\",\n        cidrv4: \"IPv4 range\",\n        cidrv6: \"IPv6 range\",\n        base64: \"base64-encoded string\",\n        base64url: \"base64url-encoded string\",\n        json_string: \"JSON string\",\n        e164: \"E.164 number\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    // type names: missing keys = do not translate (use raw value via ?? fallback)\n    const TypeDictionary = {\n        // Compatibility: \"nan\" -> \"NaN\" for display\n        nan: \"NaN\",\n        // All other type names omitted - they fall back to raw values via ?? operator\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                return `Invalid input: expected ${expected}, received ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Invalid input: expected ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Invalid option: expected one of ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Too big: expected ${issue.origin ?? \"value\"} to have ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elements\"}`;\n                return `Too big: expected ${issue.origin ?? \"value\"} to be ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Too small: expected ${issue.origin} to have ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Too small: expected ${issue.origin} to be ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Invalid string: must start with \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Invalid string: must end with \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Invalid string: must include \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Invalid string: must match pattern ${_issue.pattern}`;\n                return `Invalid ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Invalid number: must be a multiple of ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Unrecognized key${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Invalid key in ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Invalid input\";\n            case \"invalid_element\":\n                return `Invalid value in ${issue.origin}`;\n            default:\n                return `Invalid input`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"Zeichen\", verb: \"zu haben\" },\n        file: { unit: \"Bytes\", verb: \"zu haben\" },\n        array: { unit: \"Elemente\", verb: \"zu haben\" },\n        set: { unit: \"Elemente\", verb: \"zu haben\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"Eingabe\",\n        email: \"E-Mail-Adresse\",\n        url: \"URL\",\n        emoji: \"Emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO-Datum und -Uhrzeit\",\n        date: \"ISO-Datum\",\n        time: \"ISO-Uhrzeit\",\n        duration: \"ISO-Dauer\",\n        ipv4: \"IPv4-Adresse\",\n        ipv6: \"IPv6-Adresse\",\n        cidrv4: \"IPv4-Bereich\",\n        cidrv6: \"IPv6-Bereich\",\n        base64: \"Base64-codierter String\",\n        base64url: \"Base64-URL-codierter String\",\n        json_string: \"JSON-String\",\n        e164: \"E.164-Nummer\",\n        jwt: \"JWT\",\n        template_literal: \"Eingabe\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"Zahl\",\n        array: \"Array\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Ungültige Eingabe: erwartet instanceof ${issue.expected}, erhalten ${received}`;\n                }\n                return `Ungültige Eingabe: erwartet ${expected}, erhalten ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ungültige Eingabe: erwartet ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ungültige Option: erwartet eine von ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Zu groß: erwartet, dass ${issue.origin ?? \"Wert\"} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"Elemente\"} hat`;\n                return `Zu groß: erwartet, dass ${issue.origin ?? \"Wert\"} ${adj}${issue.maximum.toString()} ist`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Zu klein: erwartet, dass ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit} hat`;\n                }\n                return `Zu klein: erwartet, dass ${issue.origin} ${adj}${issue.minimum.toString()} ist`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Ungültiger String: muss mit \"${_issue.prefix}\" beginnen`;\n                if (_issue.format === \"ends_with\")\n                    return `Ungültiger String: muss mit \"${_issue.suffix}\" enden`;\n                if (_issue.format === \"includes\")\n                    return `Ungültiger String: muss \"${_issue.includes}\" enthalten`;\n                if (_issue.format === \"regex\")\n                    return `Ungültiger String: muss dem Muster ${_issue.pattern} entsprechen`;\n                return `Ungültig: ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Ungültige Zahl: muss ein Vielfaches von ${issue.divisor} sein`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"Unbekannte Schlüssel\" : \"Unbekannter Schlüssel\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Ungültiger Schlüssel in ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Ungültige Eingabe\";\n            case \"invalid_element\":\n                return `Ungültiger Wert in ${issue.origin}`;\n            default:\n                return `Ungültige Eingabe`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"caracteres\", verb: \"tener\" },\n        file: { unit: \"bytes\", verb: \"tener\" },\n        array: { unit: \"elementos\", verb: \"tener\" },\n        set: { unit: \"elementos\", verb: \"tener\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"entrada\",\n        email: \"dirección de correo electrónico\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"fecha y hora ISO\",\n        date: \"fecha ISO\",\n        time: \"hora ISO\",\n        duration: \"duración ISO\",\n        ipv4: \"dirección IPv4\",\n        ipv6: \"dirección IPv6\",\n        cidrv4: \"rango IPv4\",\n        cidrv6: \"rango IPv6\",\n        base64: \"cadena codificada en base64\",\n        base64url: \"URL codificada en base64\",\n        json_string: \"cadena JSON\",\n        e164: \"número E.164\",\n        jwt: \"JWT\",\n        template_literal: \"entrada\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        string: \"texto\",\n        number: \"número\",\n        boolean: \"booleano\",\n        array: \"arreglo\",\n        object: \"objeto\",\n        set: \"conjunto\",\n        file: \"archivo\",\n        date: \"fecha\",\n        bigint: \"número grande\",\n        symbol: \"símbolo\",\n        undefined: \"indefinido\",\n        null: \"nulo\",\n        function: \"función\",\n        map: \"mapa\",\n        record: \"registro\",\n        tuple: \"tupla\",\n        enum: \"enumeración\",\n        union: \"unión\",\n        literal: \"literal\",\n        promise: \"promesa\",\n        void: \"vacío\",\n        never: \"nunca\",\n        unknown: \"desconocido\",\n        any: \"cualquiera\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Entrada inválida: se esperaba instanceof ${issue.expected}, recibido ${received}`;\n                }\n                return `Entrada inválida: se esperaba ${expected}, recibido ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Entrada inválida: se esperaba ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Opción inválida: se esperaba una de ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                const origin = TypeDictionary[issue.origin] ?? issue.origin;\n                if (sizing)\n                    return `Demasiado grande: se esperaba que ${origin ?? \"valor\"} tuviera ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elementos\"}`;\n                return `Demasiado grande: se esperaba que ${origin ?? \"valor\"} fuera ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                const origin = TypeDictionary[issue.origin] ?? issue.origin;\n                if (sizing) {\n                    return `Demasiado pequeño: se esperaba que ${origin} tuviera ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Demasiado pequeño: se esperaba que ${origin} fuera ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Cadena inválida: debe comenzar con \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Cadena inválida: debe terminar en \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Cadena inválida: debe incluir \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Cadena inválida: debe coincidir con el patrón ${_issue.pattern}`;\n                return `Inválido ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Número inválido: debe ser múltiplo de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Llave${issue.keys.length > 1 ? \"s\" : \"\"} desconocida${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Llave inválida en ${TypeDictionary[issue.origin] ?? issue.origin}`;\n            case \"invalid_union\":\n                return \"Entrada inválida\";\n            case \"invalid_element\":\n                return `Valor inválido en ${TypeDictionary[issue.origin] ?? issue.origin}`;\n            default:\n                return `Entrada inválida`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"کاراکتر\", verb: \"داشته باشد\" },\n        file: { unit: \"بایت\", verb: \"داشته باشد\" },\n        array: { unit: \"آیتم\", verb: \"داشته باشد\" },\n        set: { unit: \"آیتم\", verb: \"داشته باشد\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"ورودی\",\n        email: \"آدرس ایمیل\",\n        url: \"URL\",\n        emoji: \"ایموجی\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"تاریخ و زمان ایزو\",\n        date: \"تاریخ ایزو\",\n        time: \"زمان ایزو\",\n        duration: \"مدت زمان ایزو\",\n        ipv4: \"IPv4 آدرس\",\n        ipv6: \"IPv6 آدرس\",\n        cidrv4: \"IPv4 دامنه\",\n        cidrv6: \"IPv6 دامنه\",\n        base64: \"base64-encoded رشته\",\n        base64url: \"base64url-encoded رشته\",\n        json_string: \"JSON رشته\",\n        e164: \"E.164 عدد\",\n        jwt: \"JWT\",\n        template_literal: \"ورودی\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"عدد\",\n        array: \"آرایه\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `ورودی نامعتبر: می‌بایست instanceof ${issue.expected} می‌بود، ${received} دریافت شد`;\n                }\n                return `ورودی نامعتبر: می‌بایست ${expected} می‌بود، ${received} دریافت شد`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1) {\n                    return `ورودی نامعتبر: می‌بایست ${util.stringifyPrimitive(issue.values[0])} می‌بود`;\n                }\n                return `گزینه نامعتبر: می‌بایست یکی از ${util.joinValues(issue.values, \"|\")} می‌بود`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `خیلی بزرگ: ${issue.origin ?? \"مقدار\"} باید ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"عنصر\"} باشد`;\n                }\n                return `خیلی بزرگ: ${issue.origin ?? \"مقدار\"} باید ${adj}${issue.maximum.toString()} باشد`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `خیلی کوچک: ${issue.origin} باید ${adj}${issue.minimum.toString()} ${sizing.unit} باشد`;\n                }\n                return `خیلی کوچک: ${issue.origin} باید ${adj}${issue.minimum.toString()} باشد`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `رشته نامعتبر: باید با \"${_issue.prefix}\" شروع شود`;\n                }\n                if (_issue.format === \"ends_with\") {\n                    return `رشته نامعتبر: باید با \"${_issue.suffix}\" تمام شود`;\n                }\n                if (_issue.format === \"includes\") {\n                    return `رشته نامعتبر: باید شامل \"${_issue.includes}\" باشد`;\n                }\n                if (_issue.format === \"regex\") {\n                    return `رشته نامعتبر: باید با الگوی ${_issue.pattern} مطابقت داشته باشد`;\n                }\n                return `${FormatDictionary[_issue.format] ?? issue.format} نامعتبر`;\n            }\n            case \"not_multiple_of\":\n                return `عدد نامعتبر: باید مضرب ${issue.divisor} باشد`;\n            case \"unrecognized_keys\":\n                return `کلید${issue.keys.length > 1 ? \"های\" : \"\"} ناشناس: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `کلید ناشناس در ${issue.origin}`;\n            case \"invalid_union\":\n                return `ورودی نامعتبر`;\n            case \"invalid_element\":\n                return `مقدار نامعتبر در ${issue.origin}`;\n            default:\n                return `ورودی نامعتبر`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"merkkiä\", subject: \"merkkijonon\" },\n        file: { unit: \"tavua\", subject: \"tiedoston\" },\n        array: { unit: \"alkiota\", subject: \"listan\" },\n        set: { unit: \"alkiota\", subject: \"joukon\" },\n        number: { unit: \"\", subject: \"luvun\" },\n        bigint: { unit: \"\", subject: \"suuren kokonaisluvun\" },\n        int: { unit: \"\", subject: \"kokonaisluvun\" },\n        date: { unit: \"\", subject: \"päivämäärän\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"säännöllinen lauseke\",\n        email: \"sähköpostiosoite\",\n        url: \"URL-osoite\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO-aikaleima\",\n        date: \"ISO-päivämäärä\",\n        time: \"ISO-aika\",\n        duration: \"ISO-kesto\",\n        ipv4: \"IPv4-osoite\",\n        ipv6: \"IPv6-osoite\",\n        cidrv4: \"IPv4-alue\",\n        cidrv6: \"IPv6-alue\",\n        base64: \"base64-koodattu merkkijono\",\n        base64url: \"base64url-koodattu merkkijono\",\n        json_string: \"JSON-merkkijono\",\n        e164: \"E.164-luku\",\n        jwt: \"JWT\",\n        template_literal: \"templaattimerkkijono\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Virheellinen tyyppi: odotettiin instanceof ${issue.expected}, oli ${received}`;\n                }\n                return `Virheellinen tyyppi: odotettiin ${expected}, oli ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Virheellinen syöte: täytyy olla ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Virheellinen valinta: täytyy olla yksi seuraavista: ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Liian suuri: ${sizing.subject} täytyy olla ${adj}${issue.maximum.toString()} ${sizing.unit}`.trim();\n                }\n                return `Liian suuri: arvon täytyy olla ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Liian pieni: ${sizing.subject} täytyy olla ${adj}${issue.minimum.toString()} ${sizing.unit}`.trim();\n                }\n                return `Liian pieni: arvon täytyy olla ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Virheellinen syöte: täytyy alkaa \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Virheellinen syöte: täytyy loppua \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Virheellinen syöte: täytyy sisältää \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\") {\n                    return `Virheellinen syöte: täytyy vastata säännöllistä lauseketta ${_issue.pattern}`;\n                }\n                return `Virheellinen ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Virheellinen luku: täytyy olla luvun ${issue.divisor} monikerta`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"Tuntemattomat avaimet\" : \"Tuntematon avain\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return \"Virheellinen avain tietueessa\";\n            case \"invalid_union\":\n                return \"Virheellinen unioni\";\n            case \"invalid_element\":\n                return \"Virheellinen arvo joukossa\";\n            default:\n                return `Virheellinen syöte`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"caractères\", verb: \"avoir\" },\n        file: { unit: \"octets\", verb: \"avoir\" },\n        array: { unit: \"éléments\", verb: \"avoir\" },\n        set: { unit: \"éléments\", verb: \"avoir\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"entrée\",\n        email: \"adresse e-mail\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"date et heure ISO\",\n        date: \"date ISO\",\n        time: \"heure ISO\",\n        duration: \"durée ISO\",\n        ipv4: \"adresse IPv4\",\n        ipv6: \"adresse IPv6\",\n        cidrv4: \"plage IPv4\",\n        cidrv6: \"plage IPv6\",\n        base64: \"chaîne encodée en base64\",\n        base64url: \"chaîne encodée en base64url\",\n        json_string: \"chaîne JSON\",\n        e164: \"numéro E.164\",\n        jwt: \"JWT\",\n        template_literal: \"entrée\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"nombre\",\n        array: \"tableau\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Entrée invalide : instanceof ${issue.expected} attendu, ${received} reçu`;\n                }\n                return `Entrée invalide : ${expected} attendu, ${received} reçu`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Entrée invalide : ${util.stringifyPrimitive(issue.values[0])} attendu`;\n                return `Option invalide : une valeur parmi ${util.joinValues(issue.values, \"|\")} attendue`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Trop grand : ${issue.origin ?? \"valeur\"} doit ${sizing.verb} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"élément(s)\"}`;\n                return `Trop grand : ${issue.origin ?? \"valeur\"} doit être ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Trop petit : ${issue.origin} doit ${sizing.verb} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Trop petit : ${issue.origin} doit être ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Chaîne invalide : doit commencer par \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Chaîne invalide : doit se terminer par \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Chaîne invalide : doit inclure \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Chaîne invalide : doit correspondre au modèle ${_issue.pattern}`;\n                return `${FormatDictionary[_issue.format] ?? issue.format} invalide`;\n            }\n            case \"not_multiple_of\":\n                return `Nombre invalide : doit être un multiple de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Clé${issue.keys.length > 1 ? \"s\" : \"\"} non reconnue${issue.keys.length > 1 ? \"s\" : \"\"} : ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Clé invalide dans ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Entrée invalide\";\n            case \"invalid_element\":\n                return `Valeur invalide dans ${issue.origin}`;\n            default:\n                return `Entrée invalide`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"caractères\", verb: \"avoir\" },\n        file: { unit: \"octets\", verb: \"avoir\" },\n        array: { unit: \"éléments\", verb: \"avoir\" },\n        set: { unit: \"éléments\", verb: \"avoir\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"entrée\",\n        email: \"adresse courriel\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"date-heure ISO\",\n        date: \"date ISO\",\n        time: \"heure ISO\",\n        duration: \"durée ISO\",\n        ipv4: \"adresse IPv4\",\n        ipv6: \"adresse IPv6\",\n        cidrv4: \"plage IPv4\",\n        cidrv6: \"plage IPv6\",\n        base64: \"chaîne encodée en base64\",\n        base64url: \"chaîne encodée en base64url\",\n        json_string: \"chaîne JSON\",\n        e164: \"numéro E.164\",\n        jwt: \"JWT\",\n        template_literal: \"entrée\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Entrée invalide : attendu instanceof ${issue.expected}, reçu ${received}`;\n                }\n                return `Entrée invalide : attendu ${expected}, reçu ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Entrée invalide : attendu ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Option invalide : attendu l'une des valeurs suivantes ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"≤\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Trop grand : attendu que ${issue.origin ?? \"la valeur\"} ait ${adj}${issue.maximum.toString()} ${sizing.unit}`;\n                return `Trop grand : attendu que ${issue.origin ?? \"la valeur\"} soit ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \"≥\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Trop petit : attendu que ${issue.origin} ait ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Trop petit : attendu que ${issue.origin} soit ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Chaîne invalide : doit commencer par \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Chaîne invalide : doit se terminer par \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Chaîne invalide : doit inclure \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Chaîne invalide : doit correspondre au motif ${_issue.pattern}`;\n                return `${FormatDictionary[_issue.format] ?? issue.format} invalide`;\n            }\n            case \"not_multiple_of\":\n                return `Nombre invalide : doit être un multiple de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Clé${issue.keys.length > 1 ? \"s\" : \"\"} non reconnue${issue.keys.length > 1 ? \"s\" : \"\"} : ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Clé invalide dans ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Entrée invalide\";\n            case \"invalid_element\":\n                return `Valeur invalide dans ${issue.origin}`;\n            default:\n                return `Entrée invalide`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"حرف\", verb: \"أن يحوي\" },\n        file: { unit: \"بايت\", verb: \"أن يحوي\" },\n        array: { unit: \"عنصر\", verb: \"أن يحوي\" },\n        set: { unit: \"عنصر\", verb: \"أن يحوي\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"مدخل\",\n        email: \"بريد إلكتروني\",\n        url: \"رابط\",\n        emoji: \"إيموجي\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"تاريخ ووقت بمعيار ISO\",\n        date: \"تاريخ بمعيار ISO\",\n        time: \"وقت بمعيار ISO\",\n        duration: \"مدة بمعيار ISO\",\n        ipv4: \"عنوان IPv4\",\n        ipv6: \"عنوان IPv6\",\n        cidrv4: \"مدى عناوين بصيغة IPv4\",\n        cidrv6: \"مدى عناوين بصيغة IPv6\",\n        base64: \"نَص بترميز base64-encoded\",\n        base64url: \"نَص بترميز base64url-encoded\",\n        json_string: \"نَص على هيئة JSON\",\n        e164: \"رقم هاتف بمعيار E.164\",\n        jwt: \"JWT\",\n        template_literal: \"مدخل\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `مدخلات غير مقبولة: يفترض إدخال instanceof ${issue.expected}، ولكن تم إدخال ${received}`;\n                }\n                return `مدخلات غير مقبولة: يفترض إدخال ${expected}، ولكن تم إدخال ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `مدخلات غير مقبولة: يفترض إدخال ${util.stringifyPrimitive(issue.values[0])}`;\n                return `اختيار غير مقبول: يتوقع انتقاء أحد هذه الخيارات: ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return ` أكبر من اللازم: يفترض أن تكون ${issue.origin ?? \"القيمة\"} ${adj} ${issue.maximum.toString()} ${sizing.unit ?? \"عنصر\"}`;\n                return `أكبر من اللازم: يفترض أن تكون ${issue.origin ?? \"القيمة\"} ${adj} ${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `أصغر من اللازم: يفترض لـ ${issue.origin} أن يكون ${adj} ${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `أصغر من اللازم: يفترض لـ ${issue.origin} أن يكون ${adj} ${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `نَص غير مقبول: يجب أن يبدأ بـ \"${issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `نَص غير مقبول: يجب أن ينتهي بـ \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `نَص غير مقبول: يجب أن يتضمَّن \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `نَص غير مقبول: يجب أن يطابق النمط ${_issue.pattern}`;\n                return `${FormatDictionary[_issue.format] ?? issue.format} غير مقبول`;\n            }\n            case \"not_multiple_of\":\n                return `رقم غير مقبول: يجب أن يكون من مضاعفات ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `معرف${issue.keys.length > 1 ? \"ات\" : \"\"} غريب${issue.keys.length > 1 ? \"ة\" : \"\"}: ${util.joinValues(issue.keys, \"، \")}`;\n            case \"invalid_key\":\n                return `معرف غير مقبول في ${issue.origin}`;\n            case \"invalid_union\":\n                return \"مدخل غير مقبول\";\n            case \"invalid_element\":\n                return `مدخل غير مقبول في ${issue.origin}`;\n            default:\n                return \"مدخل غير مقبول\";\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"simvol\", verb: \"olmalıdır\" },\n        file: { unit: \"bayt\", verb: \"olmalıdır\" },\n        array: { unit: \"element\", verb: \"olmalıdır\" },\n        set: { unit: \"element\", verb: \"olmalıdır\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"input\",\n        email: \"email address\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO datetime\",\n        date: \"ISO date\",\n        time: \"ISO time\",\n        duration: \"ISO duration\",\n        ipv4: \"IPv4 address\",\n        ipv6: \"IPv6 address\",\n        cidrv4: \"IPv4 range\",\n        cidrv6: \"IPv6 range\",\n        base64: \"base64-encoded string\",\n        base64url: \"base64url-encoded string\",\n        json_string: \"JSON string\",\n        e164: \"E.164 number\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Yanlış dəyər: gözlənilən instanceof ${issue.expected}, daxil olan ${received}`;\n                }\n                return `Yanlış dəyər: gözlənilən ${expected}, daxil olan ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Yanlış dəyər: gözlənilən ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Yanlış seçim: aşağıdakılardan biri olmalıdır: ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Çox böyük: gözlənilən ${issue.origin ?? \"dəyər\"} ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"element\"}`;\n                return `Çox böyük: gözlənilən ${issue.origin ?? \"dəyər\"} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Çox kiçik: gözlənilən ${issue.origin} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                return `Çox kiçik: gözlənilən ${issue.origin} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Yanlış mətn: \"${_issue.prefix}\" ilə başlamalıdır`;\n                if (_issue.format === \"ends_with\")\n                    return `Yanlış mətn: \"${_issue.suffix}\" ilə bitməlidir`;\n                if (_issue.format === \"includes\")\n                    return `Yanlış mətn: \"${_issue.includes}\" daxil olmalıdır`;\n                if (_issue.format === \"regex\")\n                    return `Yanlış mətn: ${_issue.pattern} şablonuna uyğun olmalıdır`;\n                return `Yanlış ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Yanlış ədəd: ${issue.divisor} ilə bölünə bilən olmalıdır`;\n            case \"unrecognized_keys\":\n                return `Tanınmayan açar${issue.keys.length > 1 ? \"lar\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `${issue.origin} daxilində yanlış açar`;\n            case \"invalid_union\":\n                return \"Yanlış dəyər\";\n            case \"invalid_element\":\n                return `${issue.origin} daxilində yanlış dəyər`;\n            default:\n                return `Yanlış dəyər`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nfunction getBelarusianPlural(count, one, few, many) {\n    const absCount = Math.abs(count);\n    const lastDigit = absCount % 10;\n    const lastTwoDigits = absCount % 100;\n    if (lastTwoDigits >= 11 && lastTwoDigits <= 19) {\n        return many;\n    }\n    if (lastDigit === 1) {\n        return one;\n    }\n    if (lastDigit >= 2 && lastDigit <= 4) {\n        return few;\n    }\n    return many;\n}\nconst error = () => {\n    const Sizable = {\n        string: {\n            unit: {\n                one: \"сімвал\",\n                few: \"сімвалы\",\n                many: \"сімвалаў\",\n            },\n            verb: \"мець\",\n        },\n        array: {\n            unit: {\n                one: \"элемент\",\n                few: \"элементы\",\n                many: \"элементаў\",\n            },\n            verb: \"мець\",\n        },\n        set: {\n            unit: {\n                one: \"элемент\",\n                few: \"элементы\",\n                many: \"элементаў\",\n            },\n            verb: \"мець\",\n        },\n        file: {\n            unit: {\n                one: \"байт\",\n                few: \"байты\",\n                many: \"байтаў\",\n            },\n            verb: \"мець\",\n        },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"увод\",\n        email: \"email адрас\",\n        url: \"URL\",\n        emoji: \"эмодзі\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO дата і час\",\n        date: \"ISO дата\",\n        time: \"ISO час\",\n        duration: \"ISO працягласць\",\n        ipv4: \"IPv4 адрас\",\n        ipv6: \"IPv6 адрас\",\n        cidrv4: \"IPv4 дыяпазон\",\n        cidrv6: \"IPv6 дыяпазон\",\n        base64: \"радок у фармаце base64\",\n        base64url: \"радок у фармаце base64url\",\n        json_string: \"JSON радок\",\n        e164: \"нумар E.164\",\n        jwt: \"JWT\",\n        template_literal: \"увод\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"лік\",\n        array: \"масіў\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Няправільны ўвод: чакаўся instanceof ${issue.expected}, атрымана ${received}`;\n                }\n                return `Няправільны ўвод: чакаўся ${expected}, атрымана ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Няправільны ўвод: чакалася ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Няправільны варыянт: чакаўся адзін з ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    const maxValue = Number(issue.maximum);\n                    const unit = getBelarusianPlural(maxValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);\n                    return `Занадта вялікі: чакалася, што ${issue.origin ?? \"значэнне\"} павінна ${sizing.verb} ${adj}${issue.maximum.toString()} ${unit}`;\n                }\n                return `Занадта вялікі: чакалася, што ${issue.origin ?? \"значэнне\"} павінна быць ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    const minValue = Number(issue.minimum);\n                    const unit = getBelarusianPlural(minValue, sizing.unit.one, sizing.unit.few, sizing.unit.many);\n                    return `Занадта малы: чакалася, што ${issue.origin} павінна ${sizing.verb} ${adj}${issue.minimum.toString()} ${unit}`;\n                }\n                return `Занадта малы: чакалася, што ${issue.origin} павінна быць ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Няправільны радок: павінен пачынацца з \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Няправільны радок: павінен заканчвацца на \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Няправільны радок: павінен змяшчаць \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Няправільны радок: павінен адпавядаць шаблону ${_issue.pattern}`;\n                return `Няправільны ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Няправільны лік: павінен быць кратным ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Нераспазнаны ${issue.keys.length > 1 ? \"ключы\" : \"ключ\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Няправільны ключ у ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Няправільны ўвод\";\n            case \"invalid_element\":\n                return `Няправільнае значэнне ў ${issue.origin}`;\n            default:\n                return `Няправільны ўвод`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    // Hebrew labels + grammatical gender\n    const TypeNames = {\n        string: { label: \"מחרוזת\", gender: \"f\" },\n        number: { label: \"מספר\", gender: \"m\" },\n        boolean: { label: \"ערך בוליאני\", gender: \"m\" },\n        bigint: { label: \"BigInt\", gender: \"m\" },\n        date: { label: \"תאריך\", gender: \"m\" },\n        array: { label: \"מערך\", gender: \"m\" },\n        object: { label: \"אובייקט\", gender: \"m\" },\n        null: { label: \"ערך ריק (null)\", gender: \"m\" },\n        undefined: { label: \"ערך לא מוגדר (undefined)\", gender: \"m\" },\n        symbol: { label: \"סימבול (Symbol)\", gender: \"m\" },\n        function: { label: \"פונקציה\", gender: \"f\" },\n        map: { label: \"מפה (Map)\", gender: \"f\" },\n        set: { label: \"קבוצה (Set)\", gender: \"f\" },\n        file: { label: \"קובץ\", gender: \"m\" },\n        promise: { label: \"Promise\", gender: \"m\" },\n        NaN: { label: \"NaN\", gender: \"m\" },\n        unknown: { label: \"ערך לא ידוע\", gender: \"m\" },\n        value: { label: \"ערך\", gender: \"m\" },\n    };\n    // Sizing units for size-related messages + localized origin labels\n    const Sizable = {\n        string: { unit: \"תווים\", shortLabel: \"קצר\", longLabel: \"ארוך\" },\n        file: { unit: \"בייטים\", shortLabel: \"קטן\", longLabel: \"גדול\" },\n        array: { unit: \"פריטים\", shortLabel: \"קטן\", longLabel: \"גדול\" },\n        set: { unit: \"פריטים\", shortLabel: \"קטן\", longLabel: \"גדול\" },\n        number: { unit: \"\", shortLabel: \"קטן\", longLabel: \"גדול\" }, // no unit\n    };\n    // Helpers — labels, articles, and verbs\n    const typeEntry = (t) => (t ? TypeNames[t] : undefined);\n    const typeLabel = (t) => {\n        const e = typeEntry(t);\n        if (e)\n            return e.label;\n        // fallback: show raw string if unknown\n        return t ?? TypeNames.unknown.label;\n    };\n    const withDefinite = (t) => `ה${typeLabel(t)}`;\n    const verbFor = (t) => {\n        const e = typeEntry(t);\n        const gender = e?.gender ?? \"m\";\n        return gender === \"f\" ? \"צריכה להיות\" : \"צריך להיות\";\n    };\n    const getSizing = (origin) => {\n        if (!origin)\n            return null;\n        return Sizable[origin] ?? null;\n    };\n    const FormatDictionary = {\n        regex: { label: \"קלט\", gender: \"m\" },\n        email: { label: \"כתובת אימייל\", gender: \"f\" },\n        url: { label: \"כתובת רשת\", gender: \"f\" },\n        emoji: { label: \"אימוג'י\", gender: \"m\" },\n        uuid: { label: \"UUID\", gender: \"m\" },\n        nanoid: { label: \"nanoid\", gender: \"m\" },\n        guid: { label: \"GUID\", gender: \"m\" },\n        cuid: { label: \"cuid\", gender: \"m\" },\n        cuid2: { label: \"cuid2\", gender: \"m\" },\n        ulid: { label: \"ULID\", gender: \"m\" },\n        xid: { label: \"XID\", gender: \"m\" },\n        ksuid: { label: \"KSUID\", gender: \"m\" },\n        datetime: { label: \"תאריך וזמן ISO\", gender: \"m\" },\n        date: { label: \"תאריך ISO\", gender: \"m\" },\n        time: { label: \"זמן ISO\", gender: \"m\" },\n        duration: { label: \"משך זמן ISO\", gender: \"m\" },\n        ipv4: { label: \"כתובת IPv4\", gender: \"f\" },\n        ipv6: { label: \"כתובת IPv6\", gender: \"f\" },\n        cidrv4: { label: \"טווח IPv4\", gender: \"m\" },\n        cidrv6: { label: \"טווח IPv6\", gender: \"m\" },\n        base64: { label: \"מחרוזת בבסיס 64\", gender: \"f\" },\n        base64url: { label: \"מחרוזת בבסיס 64 לכתובות רשת\", gender: \"f\" },\n        json_string: { label: \"מחרוזת JSON\", gender: \"f\" },\n        e164: { label: \"מספר E.164\", gender: \"m\" },\n        jwt: { label: \"JWT\", gender: \"m\" },\n        ends_with: { label: \"קלט\", gender: \"m\" },\n        includes: { label: \"קלט\", gender: \"m\" },\n        lowercase: { label: \"קלט\", gender: \"m\" },\n        starts_with: { label: \"קלט\", gender: \"m\" },\n        uppercase: { label: \"קלט\", gender: \"m\" },\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                // Expected type: show without definite article for clearer Hebrew\n                const expectedKey = issue.expected;\n                const expected = TypeDictionary[expectedKey ?? \"\"] ?? typeLabel(expectedKey);\n                // Received: show localized label if known, otherwise constructor/raw\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? TypeNames[receivedType]?.label ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `קלט לא תקין: צריך להיות instanceof ${issue.expected}, התקבל ${received}`;\n                }\n                return `קלט לא תקין: צריך להיות ${expected}, התקבל ${received}`;\n            }\n            case \"invalid_value\": {\n                if (issue.values.length === 1) {\n                    return `ערך לא תקין: הערך חייב להיות ${util.stringifyPrimitive(issue.values[0])}`;\n                }\n                // Join values with proper Hebrew formatting\n                const stringified = issue.values.map((v) => util.stringifyPrimitive(v));\n                if (issue.values.length === 2) {\n                    return `ערך לא תקין: האפשרויות המתאימות הן ${stringified[0]} או ${stringified[1]}`;\n                }\n                // For 3+ values: \"a\", \"b\" או \"c\"\n                const lastValue = stringified[stringified.length - 1];\n                const restValues = stringified.slice(0, -1).join(\", \");\n                return `ערך לא תקין: האפשרויות המתאימות הן ${restValues} או ${lastValue}`;\n            }\n            case \"too_big\": {\n                const sizing = getSizing(issue.origin);\n                const subject = withDefinite(issue.origin ?? \"value\");\n                if (issue.origin === \"string\") {\n                    // Special handling for strings - more natural Hebrew\n                    return `${sizing?.longLabel ?? \"ארוך\"} מדי: ${subject} צריכה להכיל ${issue.maximum.toString()} ${sizing?.unit ?? \"\"} ${issue.inclusive ? \"או פחות\" : \"לכל היותר\"}`.trim();\n                }\n                if (issue.origin === \"number\") {\n                    // Natural Hebrew for numbers\n                    const comparison = issue.inclusive ? `קטן או שווה ל-${issue.maximum}` : `קטן מ-${issue.maximum}`;\n                    return `גדול מדי: ${subject} צריך להיות ${comparison}`;\n                }\n                if (issue.origin === \"array\" || issue.origin === \"set\") {\n                    // Natural Hebrew for arrays and sets\n                    const verb = issue.origin === \"set\" ? \"צריכה\" : \"צריך\";\n                    const comparison = issue.inclusive\n                        ? `${issue.maximum} ${sizing?.unit ?? \"\"} או פחות`\n                        : `פחות מ-${issue.maximum} ${sizing?.unit ?? \"\"}`;\n                    return `גדול מדי: ${subject} ${verb} להכיל ${comparison}`.trim();\n                }\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const be = verbFor(issue.origin ?? \"value\");\n                if (sizing?.unit) {\n                    return `${sizing.longLabel} מדי: ${subject} ${be} ${adj}${issue.maximum.toString()} ${sizing.unit}`;\n                }\n                return `${sizing?.longLabel ?? \"גדול\"} מדי: ${subject} ${be} ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const sizing = getSizing(issue.origin);\n                const subject = withDefinite(issue.origin ?? \"value\");\n                if (issue.origin === \"string\") {\n                    // Special handling for strings - more natural Hebrew\n                    return `${sizing?.shortLabel ?? \"קצר\"} מדי: ${subject} צריכה להכיל ${issue.minimum.toString()} ${sizing?.unit ?? \"\"} ${issue.inclusive ? \"או יותר\" : \"לפחות\"}`.trim();\n                }\n                if (issue.origin === \"number\") {\n                    // Natural Hebrew for numbers\n                    const comparison = issue.inclusive ? `גדול או שווה ל-${issue.minimum}` : `גדול מ-${issue.minimum}`;\n                    return `קטן מדי: ${subject} צריך להיות ${comparison}`;\n                }\n                if (issue.origin === \"array\" || issue.origin === \"set\") {\n                    // Natural Hebrew for arrays and sets\n                    const verb = issue.origin === \"set\" ? \"צריכה\" : \"צריך\";\n                    // Special case for singular (minimum === 1)\n                    if (issue.minimum === 1 && issue.inclusive) {\n                        const singularPhrase = issue.origin === \"set\" ? \"לפחות פריט אחד\" : \"לפחות פריט אחד\";\n                        return `קטן מדי: ${subject} ${verb} להכיל ${singularPhrase}`;\n                    }\n                    const comparison = issue.inclusive\n                        ? `${issue.minimum} ${sizing?.unit ?? \"\"} או יותר`\n                        : `יותר מ-${issue.minimum} ${sizing?.unit ?? \"\"}`;\n                    return `קטן מדי: ${subject} ${verb} להכיל ${comparison}`.trim();\n                }\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const be = verbFor(issue.origin ?? \"value\");\n                if (sizing?.unit) {\n                    return `${sizing.shortLabel} מדי: ${subject} ${be} ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `${sizing?.shortLabel ?? \"קטן\"} מדי: ${subject} ${be} ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                // These apply to strings — use feminine grammar + ה׳ הידיעה\n                if (_issue.format === \"starts_with\")\n                    return `המחרוזת חייבת להתחיל ב \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `המחרוזת חייבת להסתיים ב \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `המחרוזת חייבת לכלול \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `המחרוזת חייבת להתאים לתבנית ${_issue.pattern}`;\n                // Handle gender agreement for formats\n                const nounEntry = FormatDictionary[_issue.format];\n                const noun = nounEntry?.label ?? _issue.format;\n                const gender = nounEntry?.gender ?? \"m\";\n                const adjective = gender === \"f\" ? \"תקינה\" : \"תקין\";\n                return `${noun} לא ${adjective}`;\n            }\n            case \"not_multiple_of\":\n                return `מספר לא תקין: חייב להיות מכפלה של ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `מפתח${issue.keys.length > 1 ? \"ות\" : \"\"} לא מזוה${issue.keys.length > 1 ? \"ים\" : \"ה\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\": {\n                return `שדה לא תקין באובייקט`;\n            }\n            case \"invalid_union\":\n                return \"קלט לא תקין\";\n            case \"invalid_element\": {\n                const place = withDefinite(issue.origin ?? \"array\");\n                return `ערך לא תקין ב${place}`;\n            }\n            default:\n                return `קלט לא תקין`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"karakter\", verb: \"legyen\" },\n        file: { unit: \"byte\", verb: \"legyen\" },\n        array: { unit: \"elem\", verb: \"legyen\" },\n        set: { unit: \"elem\", verb: \"legyen\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"bemenet\",\n        email: \"email cím\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO időbélyeg\",\n        date: \"ISO dátum\",\n        time: \"ISO idő\",\n        duration: \"ISO időintervallum\",\n        ipv4: \"IPv4 cím\",\n        ipv6: \"IPv6 cím\",\n        cidrv4: \"IPv4 tartomány\",\n        cidrv6: \"IPv6 tartomány\",\n        base64: \"base64-kódolt string\",\n        base64url: \"base64url-kódolt string\",\n        json_string: \"JSON string\",\n        e164: \"E.164 szám\",\n        jwt: \"JWT\",\n        template_literal: \"bemenet\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"szám\",\n        array: \"tömb\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Érvénytelen bemenet: a várt érték instanceof ${issue.expected}, a kapott érték ${received}`;\n                }\n                return `Érvénytelen bemenet: a várt érték ${expected}, a kapott érték ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Érvénytelen bemenet: a várt érték ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Érvénytelen opció: valamelyik érték várt ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Túl nagy: ${issue.origin ?? \"érték\"} mérete túl nagy ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elem\"}`;\n                return `Túl nagy: a bemeneti érték ${issue.origin ?? \"érték\"} túl nagy: ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Túl kicsi: a bemeneti érték ${issue.origin} mérete túl kicsi ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Túl kicsi: a bemeneti érték ${issue.origin} túl kicsi ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Érvénytelen string: \"${_issue.prefix}\" értékkel kell kezdődnie`;\n                if (_issue.format === \"ends_with\")\n                    return `Érvénytelen string: \"${_issue.suffix}\" értékkel kell végződnie`;\n                if (_issue.format === \"includes\")\n                    return `Érvénytelen string: \"${_issue.includes}\" értéket kell tartalmaznia`;\n                if (_issue.format === \"regex\")\n                    return `Érvénytelen string: ${_issue.pattern} mintának kell megfelelnie`;\n                return `Érvénytelen ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Érvénytelen szám: ${issue.divisor} többszörösének kell lennie`;\n            case \"unrecognized_keys\":\n                return `Ismeretlen kulcs${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Érvénytelen kulcs ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Érvénytelen bemenet\";\n            case \"invalid_element\":\n                return `Érvénytelen érték: ${issue.origin}`;\n            default:\n                return `Érvénytelen bemenet`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nfunction getArmenianPlural(count, one, many) {\n    return Math.abs(count) === 1 ? one : many;\n}\nfunction withDefiniteArticle(word) {\n    if (!word)\n        return \"\";\n    const vowels = [\"ա\", \"ե\", \"ը\", \"ի\", \"ո\", \"ու\", \"օ\"];\n    const lastChar = word[word.length - 1];\n    return word + (vowels.includes(lastChar) ? \"ն\" : \"ը\");\n}\nconst error = () => {\n    const Sizable = {\n        string: {\n            unit: {\n                one: \"նշան\",\n                many: \"նշաններ\",\n            },\n            verb: \"ունենալ\",\n        },\n        file: {\n            unit: {\n                one: \"բայթ\",\n                many: \"բայթեր\",\n            },\n            verb: \"ունենալ\",\n        },\n        array: {\n            unit: {\n                one: \"տարր\",\n                many: \"տարրեր\",\n            },\n            verb: \"ունենալ\",\n        },\n        set: {\n            unit: {\n                one: \"տարր\",\n                many: \"տարրեր\",\n            },\n            verb: \"ունենալ\",\n        },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"մուտք\",\n        email: \"էլ. հասցե\",\n        url: \"URL\",\n        emoji: \"էմոջի\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO ամսաթիվ և ժամ\",\n        date: \"ISO ամսաթիվ\",\n        time: \"ISO ժամ\",\n        duration: \"ISO տևողություն\",\n        ipv4: \"IPv4 հասցե\",\n        ipv6: \"IPv6 հասցե\",\n        cidrv4: \"IPv4 միջակայք\",\n        cidrv6: \"IPv6 միջակայք\",\n        base64: \"base64 ձևաչափով տող\",\n        base64url: \"base64url ձևաչափով տող\",\n        json_string: \"JSON տող\",\n        e164: \"E.164 համար\",\n        jwt: \"JWT\",\n        template_literal: \"մուտք\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"թիվ\",\n        array: \"զանգված\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Սխալ մուտքագրում․ սպասվում էր instanceof ${issue.expected}, ստացվել է ${received}`;\n                }\n                return `Սխալ մուտքագրում․ սպասվում էր ${expected}, ստացվել է ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Սխալ մուտքագրում․ սպասվում էր ${util.stringifyPrimitive(issue.values[1])}`;\n                return `Սխալ տարբերակ․ սպասվում էր հետևյալներից մեկը՝ ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    const maxValue = Number(issue.maximum);\n                    const unit = getArmenianPlural(maxValue, sizing.unit.one, sizing.unit.many);\n                    return `Չափազանց մեծ արժեք․ սպասվում է, որ ${withDefiniteArticle(issue.origin ?? \"արժեք\")} կունենա ${adj}${issue.maximum.toString()} ${unit}`;\n                }\n                return `Չափազանց մեծ արժեք․ սպասվում է, որ ${withDefiniteArticle(issue.origin ?? \"արժեք\")} լինի ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    const minValue = Number(issue.minimum);\n                    const unit = getArmenianPlural(minValue, sizing.unit.one, sizing.unit.many);\n                    return `Չափազանց փոքր արժեք․ սպասվում է, որ ${withDefiniteArticle(issue.origin)} կունենա ${adj}${issue.minimum.toString()} ${unit}`;\n                }\n                return `Չափազանց փոքր արժեք․ սպասվում է, որ ${withDefiniteArticle(issue.origin)} լինի ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Սխալ տող․ պետք է սկսվի \"${_issue.prefix}\"-ով`;\n                if (_issue.format === \"ends_with\")\n                    return `Սխալ տող․ պետք է ավարտվի \"${_issue.suffix}\"-ով`;\n                if (_issue.format === \"includes\")\n                    return `Սխալ տող․ պետք է պարունակի \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Սխալ տող․ պետք է համապատասխանի ${_issue.pattern} ձևաչափին`;\n                return `Սխալ ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Սխալ թիվ․ պետք է բազմապատիկ լինի ${issue.divisor}-ի`;\n            case \"unrecognized_keys\":\n                return `Չճանաչված բանալի${issue.keys.length > 1 ? \"ներ\" : \"\"}. ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Սխալ բանալի ${withDefiniteArticle(issue.origin)}-ում`;\n            case \"invalid_union\":\n                return \"Սխալ մուտքագրում\";\n            case \"invalid_element\":\n                return `Սխալ արժեք ${withDefiniteArticle(issue.origin)}-ում`;\n            default:\n                return `Սխալ մուտքագրում`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","\r\n\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Plus, Trash2, GripVertical } from \"lucide-react\";\r\n\r\nexport interface FAQItem {\r\n    question: string;\r\n    answer: string;\r\n}\r\n\r\ninterface FAQManagerProps {\r\n    value?: FAQItem[];\r\n    onChange: (items: FAQItem[]) => void;\r\n}\r\n\r\nexport function FAQManager({ value = [], onChange }: FAQManagerProps) {\r\n    const [items, setItems] = useState<FAQItem[]>(value);\r\n\r\n    // Sync with external value if it changes independently (e.g. initial load)\r\n    useEffect(() => {\r\n        if (JSON.stringify(items) !== JSON.stringify(value)) {\r\n            setItems(value || []);\r\n        }\r\n    }, [value]);\r\n\r\n    const addItem = () => {\r\n        const newItems = [...items, { question: \"\", answer: \"\" }];\r\n        setItems(newItems);\r\n        onChange(newItems);\r\n    };\r\n\r\n    const removeItem = (index: number) => {\r\n        const newItems = items.filter((_, i) => i !== index);\r\n        setItems(newItems);\r\n        onChange(newItems);\r\n    };\r\n\r\n    const updateItem = (index: number, field: keyof FAQItem, text: string) => {\r\n        const newItems = items.map((item, i) => {\r\n            if (i === index) {\r\n                return { ...item, [field]: text };\r\n            }\r\n            return item;\r\n        });\r\n        setItems(newItems);\r\n        onChange(newItems);\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-4\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <Label className=\"text-base font-semibold\">Perguntas Frequentes (FAQ Schema)</Label>\r\n                <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={addItem}>\r\n                    <Plus className=\"w-4 h-4 mr-2\" /> Adicionar Pergunta\r\n                </Button>\r\n            </div>\r\n\r\n            {items.length === 0 && (\r\n                <div className=\"text-center p-8 border border-dashed rounded-lg text-muted-foreground bg-muted/20\">\r\n                    <p>Nenhuma pergunta adicionada. Adicione FAQs para melhorar o SEO.</p>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"space-y-4\">\r\n                {items.map((item, index) => (\r\n                    <div key={index} className=\"flex gap-4 p-4 border rounded-lg bg-card shadow-sm group\">\r\n                        <div className=\"mt-2 text-muted-foreground cursor-move\">\r\n                            <GripVertical className=\"w-5 h-5\" />\r\n                        </div>\r\n                        <div className=\"flex-1 space-y-4\">\r\n                            <div className=\"space-y-2\">\r\n                                <Label>Pergunta</Label>\r\n                                <Input\r\n                                    value={item.question}\r\n                                    onChange={(e) => updateItem(index, \"question\", e.target.value)}\r\n                                    placeholder=\"Ex: Quanto custa o serviço?\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"space-y-2\">\r\n                                <Label>Resposta</Label>\r\n                                <Textarea\r\n                                    value={item.answer}\r\n                                    onChange={(e) => updateItem(index, \"answer\", e.target.value)}\r\n                                    placeholder=\"Ex: O serviço custa a partir de...\"\r\n                                    rows={2}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <Button\r\n                                type=\"button\"\r\n                                variant=\"ghost\"\r\n                                size=\"icon\"\r\n                                className=\"text-muted-foreground hover:text-red-500 hover:bg-red-50\"\r\n                                onClick={() => removeItem(index)}\r\n                            >\r\n                                <Trash2 className=\"w-5 h-5\" />\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"caràcters\", verb: \"contenir\" },\n        file: { unit: \"bytes\", verb: \"contenir\" },\n        array: { unit: \"elements\", verb: \"contenir\" },\n        set: { unit: \"elements\", verb: \"contenir\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"entrada\",\n        email: \"adreça electrònica\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"data i hora ISO\",\n        date: \"data ISO\",\n        time: \"hora ISO\",\n        duration: \"durada ISO\",\n        ipv4: \"adreça IPv4\",\n        ipv6: \"adreça IPv6\",\n        cidrv4: \"rang IPv4\",\n        cidrv6: \"rang IPv6\",\n        base64: \"cadena codificada en base64\",\n        base64url: \"cadena codificada en base64url\",\n        json_string: \"cadena JSON\",\n        e164: \"número E.164\",\n        jwt: \"JWT\",\n        template_literal: \"entrada\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Tipus invàlid: s'esperava instanceof ${issue.expected}, s'ha rebut ${received}`;\n                }\n                return `Tipus invàlid: s'esperava ${expected}, s'ha rebut ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Valor invàlid: s'esperava ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Opció invàlida: s'esperava una de ${util.joinValues(issue.values, \" o \")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"com a màxim\" : \"menys de\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Massa gran: s'esperava que ${issue.origin ?? \"el valor\"} contingués ${adj} ${issue.maximum.toString()} ${sizing.unit ?? \"elements\"}`;\n                return `Massa gran: s'esperava que ${issue.origin ?? \"el valor\"} fos ${adj} ${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \"com a mínim\" : \"més de\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Massa petit: s'esperava que ${issue.origin} contingués ${adj} ${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Massa petit: s'esperava que ${issue.origin} fos ${adj} ${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Format invàlid: ha de començar amb \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Format invàlid: ha d'acabar amb \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Format invàlid: ha d'incloure \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Format invàlid: ha de coincidir amb el patró ${_issue.pattern}`;\n                return `Format invàlid per a ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Número invàlid: ha de ser múltiple de ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Clau${issue.keys.length > 1 ? \"s\" : \"\"} no reconeguda${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Clau invàlida a ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Entrada invàlida\"; // Could also be \"Tipus d'unió invàlid\" but \"Entrada invàlida\" is more general\n            case \"invalid_element\":\n                return `Element invàlid a ${issue.origin}`;\n            default:\n                return `Entrada invàlida`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"znaků\", verb: \"mít\" },\n        file: { unit: \"bajtů\", verb: \"mít\" },\n        array: { unit: \"prvků\", verb: \"mít\" },\n        set: { unit: \"prvků\", verb: \"mít\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"regulární výraz\",\n        email: \"e-mailová adresa\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"datum a čas ve formátu ISO\",\n        date: \"datum ve formátu ISO\",\n        time: \"čas ve formátu ISO\",\n        duration: \"doba trvání ISO\",\n        ipv4: \"IPv4 adresa\",\n        ipv6: \"IPv6 adresa\",\n        cidrv4: \"rozsah IPv4\",\n        cidrv6: \"rozsah IPv6\",\n        base64: \"řetězec zakódovaný ve formátu base64\",\n        base64url: \"řetězec zakódovaný ve formátu base64url\",\n        json_string: \"řetězec ve formátu JSON\",\n        e164: \"číslo E.164\",\n        jwt: \"JWT\",\n        template_literal: \"vstup\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"číslo\",\n        string: \"řetězec\",\n        function: \"funkce\",\n        array: \"pole\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Neplatný vstup: očekáváno instanceof ${issue.expected}, obdrženo ${received}`;\n                }\n                return `Neplatný vstup: očekáváno ${expected}, obdrženo ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Neplatný vstup: očekáváno ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Neplatná možnost: očekávána jedna z hodnot ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Hodnota je příliš velká: ${issue.origin ?? \"hodnota\"} musí mít ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"prvků\"}`;\n                }\n                return `Hodnota je příliš velká: ${issue.origin ?? \"hodnota\"} musí být ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Hodnota je příliš malá: ${issue.origin ?? \"hodnota\"} musí mít ${adj}${issue.minimum.toString()} ${sizing.unit ?? \"prvků\"}`;\n                }\n                return `Hodnota je příliš malá: ${issue.origin ?? \"hodnota\"} musí být ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Neplatný řetězec: musí začínat na \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Neplatný řetězec: musí končit na \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Neplatný řetězec: musí obsahovat \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Neplatný řetězec: musí odpovídat vzoru ${_issue.pattern}`;\n                return `Neplatný formát ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Neplatné číslo: musí být násobkem ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Neznámé klíče: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Neplatný klíč v ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Neplatný vstup\";\n            case \"invalid_element\":\n                return `Neplatná hodnota v ${issue.origin}`;\n            default:\n                return `Neplatný vstup`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"символа\", verb: \"да съдържа\" },\n        file: { unit: \"байта\", verb: \"да съдържа\" },\n        array: { unit: \"елемента\", verb: \"да съдържа\" },\n        set: { unit: \"елемента\", verb: \"да съдържа\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"вход\",\n        email: \"имейл адрес\",\n        url: \"URL\",\n        emoji: \"емоджи\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO време\",\n        date: \"ISO дата\",\n        time: \"ISO време\",\n        duration: \"ISO продължителност\",\n        ipv4: \"IPv4 адрес\",\n        ipv6: \"IPv6 адрес\",\n        cidrv4: \"IPv4 диапазон\",\n        cidrv6: \"IPv6 диапазон\",\n        base64: \"base64-кодиран низ\",\n        base64url: \"base64url-кодиран низ\",\n        json_string: \"JSON низ\",\n        e164: \"E.164 номер\",\n        jwt: \"JWT\",\n        template_literal: \"вход\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        number: \"число\",\n        array: \"масив\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Невалиден вход: очакван instanceof ${issue.expected}, получен ${received}`;\n                }\n                return `Невалиден вход: очакван ${expected}, получен ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Невалиден вход: очакван ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Невалидна опция: очаквано едно от ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Твърде голямо: очаква се ${issue.origin ?? \"стойност\"} да съдържа ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"елемента\"}`;\n                return `Твърде голямо: очаква се ${issue.origin ?? \"стойност\"} да бъде ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Твърде малко: очаква се ${issue.origin} да съдържа ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Твърде малко: очаква се ${issue.origin} да бъде ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\") {\n                    return `Невалиден низ: трябва да започва с \"${_issue.prefix}\"`;\n                }\n                if (_issue.format === \"ends_with\")\n                    return `Невалиден низ: трябва да завършва с \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Невалиден низ: трябва да включва \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Невалиден низ: трябва да съвпада с ${_issue.pattern}`;\n                let invalid_adj = \"Невалиден\";\n                if (_issue.format === \"emoji\")\n                    invalid_adj = \"Невалидно\";\n                if (_issue.format === \"datetime\")\n                    invalid_adj = \"Невалидно\";\n                if (_issue.format === \"date\")\n                    invalid_adj = \"Невалидна\";\n                if (_issue.format === \"time\")\n                    invalid_adj = \"Невалидно\";\n                if (_issue.format === \"duration\")\n                    invalid_adj = \"Невалидна\";\n                return `${invalid_adj} ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Невалидно число: трябва да бъде кратно на ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Неразпознат${issue.keys.length > 1 ? \"и\" : \"\"} ключ${issue.keys.length > 1 ? \"ове\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Невалиден ключ в ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Невалиден вход\";\n            case \"invalid_element\":\n                return `Невалидна стойност в ${issue.origin}`;\n            default:\n                return `Невалиден вход`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"tegn\", verb: \"havde\" },\n        file: { unit: \"bytes\", verb: \"havde\" },\n        array: { unit: \"elementer\", verb: \"indeholdt\" },\n        set: { unit: \"elementer\", verb: \"indeholdt\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"input\",\n        email: \"e-mailadresse\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"ISO dato- og klokkeslæt\",\n        date: \"ISO-dato\",\n        time: \"ISO-klokkeslæt\",\n        duration: \"ISO-varighed\",\n        ipv4: \"IPv4-område\",\n        ipv6: \"IPv6-område\",\n        cidrv4: \"IPv4-spektrum\",\n        cidrv6: \"IPv6-spektrum\",\n        base64: \"base64-kodet streng\",\n        base64url: \"base64url-kodet streng\",\n        json_string: \"JSON-streng\",\n        e164: \"E.164-nummer\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n        string: \"streng\",\n        number: \"tal\",\n        boolean: \"boolean\",\n        array: \"liste\",\n        object: \"objekt\",\n        set: \"sæt\",\n        file: \"fil\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Ugyldigt input: forventede instanceof ${issue.expected}, fik ${received}`;\n                }\n                return `Ugyldigt input: forventede ${expected}, fik ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Ugyldig værdi: forventede ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Ugyldigt valg: forventede en af følgende ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                const origin = TypeDictionary[issue.origin] ?? issue.origin;\n                if (sizing)\n                    return `For stor: forventede ${origin ?? \"value\"} ${sizing.verb} ${adj} ${issue.maximum.toString()} ${sizing.unit ?? \"elementer\"}`;\n                return `For stor: forventede ${origin ?? \"value\"} havde ${adj} ${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                const origin = TypeDictionary[issue.origin] ?? issue.origin;\n                if (sizing) {\n                    return `For lille: forventede ${origin} ${sizing.verb} ${adj} ${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `For lille: forventede ${origin} havde ${adj} ${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `Ugyldig streng: skal starte med \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `Ugyldig streng: skal ende med \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `Ugyldig streng: skal indeholde \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `Ugyldig streng: skal matche mønsteret ${_issue.pattern}`;\n                return `Ugyldig ${FormatDictionary[_issue.format] ?? issue.format}`;\n            }\n            case \"not_multiple_of\":\n                return `Ugyldigt tal: skal være deleligt med ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `${issue.keys.length > 1 ? \"Ukendte nøgler\" : \"Ukendt nøgle\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Ugyldig nøgle i ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Ugyldigt input: matcher ingen af de tilladte typer\";\n            case \"invalid_element\":\n                return `Ugyldig værdi i ${issue.origin}`;\n            default:\n                return `Ugyldigt input`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","import * as util from \"../core/util.js\";\nconst error = () => {\n    const Sizable = {\n        string: { unit: \"karakter\", verb: \"memiliki\" },\n        file: { unit: \"byte\", verb: \"memiliki\" },\n        array: { unit: \"item\", verb: \"memiliki\" },\n        set: { unit: \"item\", verb: \"memiliki\" },\n    };\n    function getSizing(origin) {\n        return Sizable[origin] ?? null;\n    }\n    const FormatDictionary = {\n        regex: \"input\",\n        email: \"alamat email\",\n        url: \"URL\",\n        emoji: \"emoji\",\n        uuid: \"UUID\",\n        uuidv4: \"UUIDv4\",\n        uuidv6: \"UUIDv6\",\n        nanoid: \"nanoid\",\n        guid: \"GUID\",\n        cuid: \"cuid\",\n        cuid2: \"cuid2\",\n        ulid: \"ULID\",\n        xid: \"XID\",\n        ksuid: \"KSUID\",\n        datetime: \"tanggal dan waktu format ISO\",\n        date: \"tanggal format ISO\",\n        time: \"jam format ISO\",\n        duration: \"durasi format ISO\",\n        ipv4: \"alamat IPv4\",\n        ipv6: \"alamat IPv6\",\n        cidrv4: \"rentang alamat IPv4\",\n        cidrv6: \"rentang alamat IPv6\",\n        base64: \"string dengan enkode base64\",\n        base64url: \"string dengan enkode base64url\",\n        json_string: \"string JSON\",\n        e164: \"angka E.164\",\n        jwt: \"JWT\",\n        template_literal: \"input\",\n    };\n    const TypeDictionary = {\n        nan: \"NaN\",\n    };\n    return (issue) => {\n        switch (issue.code) {\n            case \"invalid_type\": {\n                const expected = TypeDictionary[issue.expected] ?? issue.expected;\n                const receivedType = util.parsedType(issue.input);\n                const received = TypeDictionary[receivedType] ?? receivedType;\n                if (/^[A-Z]/.test(issue.expected)) {\n                    return `Input tidak valid: diharapkan instanceof ${issue.expected}, diterima ${received}`;\n                }\n                return `Input tidak valid: diharapkan ${expected}, diterima ${received}`;\n            }\n            case \"invalid_value\":\n                if (issue.values.length === 1)\n                    return `Input tidak valid: diharapkan ${util.stringifyPrimitive(issue.values[0])}`;\n                return `Pilihan tidak valid: diharapkan salah satu dari ${util.joinValues(issue.values, \"|\")}`;\n            case \"too_big\": {\n                const adj = issue.inclusive ? \"<=\" : \"<\";\n                const sizing = getSizing(issue.origin);\n                if (sizing)\n                    return `Terlalu besar: diharapkan ${issue.origin ?? \"value\"} memiliki ${adj}${issue.maximum.toString()} ${sizing.unit ?? \"elemen\"}`;\n                return `Terlalu besar: diharapkan ${issue.origin ?? \"value\"} menjadi ${adj}${issue.maximum.toString()}`;\n            }\n            case \"too_small\": {\n                const adj = issue.inclusive ? \">=\" : \">\";\n                const sizing = getSizing(issue.origin);\n                if (sizing) {\n                    return `Terlalu kecil: diharapkan ${issue.origin} memiliki ${adj}${issue.minimum.toString()} ${sizing.unit}`;\n                }\n                return `Terlalu kecil: diharapkan ${issue.origin} menjadi ${adj}${issue.minimum.toString()}`;\n            }\n            case \"invalid_format\": {\n                const _issue = issue;\n                if (_issue.format === \"starts_with\")\n                    return `String tidak valid: harus dimulai dengan \"${_issue.prefix}\"`;\n                if (_issue.format === \"ends_with\")\n                    return `String tidak valid: harus berakhir dengan \"${_issue.suffix}\"`;\n                if (_issue.format === \"includes\")\n                    return `String tidak valid: harus menyertakan \"${_issue.includes}\"`;\n                if (_issue.format === \"regex\")\n                    return `String tidak valid: harus sesuai pola ${_issue.pattern}`;\n                return `${FormatDictionary[_issue.format] ?? issue.format} tidak valid`;\n            }\n            case \"not_multiple_of\":\n                return `Angka tidak valid: harus kelipatan dari ${issue.divisor}`;\n            case \"unrecognized_keys\":\n                return `Kunci tidak dikenali ${issue.keys.length > 1 ? \"s\" : \"\"}: ${util.joinValues(issue.keys, \", \")}`;\n            case \"invalid_key\":\n                return `Kunci tidak valid di ${issue.origin}`;\n            case \"invalid_union\":\n                return \"Input tidak valid\";\n            case \"invalid_element\":\n                return `Nilai tidak valid di ${issue.origin}`;\n            default:\n                return `Input tidak valid`;\n        }\n    };\n};\nexport default function () {\n    return {\n        localeError: error(),\n    };\n}\n","/** A special constant with type `never` */\nexport const NEVER = Object.freeze({\n    status: \"aborted\",\n});\nexport /*@__NO_SIDE_EFFECTS__*/ function $constructor(name, initializer, params) {\n    function init(inst, def) {\n        if (!inst._zod) {\n            Object.defineProperty(inst, \"_zod\", {\n                value: {\n                    def,\n                    constr: _,\n                    traits: new Set(),\n                },\n                enumerable: false,\n            });\n        }\n        if (inst._zod.traits.has(name)) {\n            return;\n        }\n        inst._zod.traits.add(name);\n        initializer(inst, def);\n        // support prototype modifications\n        const proto = _.prototype;\n        const keys = Object.keys(proto);\n        for (let i = 0; i < keys.length; i++) {\n            const k = keys[i];\n            if (!(k in inst)) {\n                inst[k] = proto[k].bind(inst);\n            }\n        }\n    }\n    // doesn't work if Parent has a constructor with arguments\n    const Parent = params?.Parent ?? Object;\n    class Definition extends Parent {\n    }\n    Object.defineProperty(Definition, \"name\", { value: name });\n    function _(def) {\n        var _a;\n        const inst = params?.Parent ? new Definition() : this;\n        init(inst, def);\n        (_a = inst._zod).deferred ?? (_a.deferred = []);\n        for (const fn of inst._zod.deferred) {\n            fn();\n        }\n        return inst;\n    }\n    Object.defineProperty(_, \"init\", { value: init });\n    Object.defineProperty(_, Symbol.hasInstance, {\n        value: (inst) => {\n            if (params?.Parent && inst instanceof params.Parent)\n                return true;\n            return inst?._zod?.traits?.has(name);\n        },\n    });\n    Object.defineProperty(_, \"name\", { value: name });\n    return _;\n}\n//////////////////////////////   UTILITIES   ///////////////////////////////////////\nexport const $brand = Symbol(\"zod_brand\");\nexport class $ZodAsyncError extends Error {\n    constructor() {\n        super(`Encountered Promise during synchronous parse. Use .parseAsync() instead.`);\n    }\n}\nexport class $ZodEncodeError extends Error {\n    constructor(name) {\n        super(`Encountered unidirectional transform during encode: ${name}`);\n        this.name = \"ZodEncodeError\";\n    }\n}\nexport const globalConfig = {};\nexport function config(newConfig) {\n    if (newConfig)\n        Object.assign(globalConfig, newConfig);\n    return globalConfig;\n}\n","// functions\nexport function assertEqual(val) {\n    return val;\n}\nexport function assertNotEqual(val) {\n    return val;\n}\nexport function assertIs(_arg) { }\nexport function assertNever(_x) {\n    throw new Error(\"Unexpected value in exhaustive check\");\n}\nexport function assert(_) { }\nexport function getEnumValues(entries) {\n    const numericValues = Object.values(entries).filter((v) => typeof v === \"number\");\n    const values = Object.entries(entries)\n        .filter(([k, _]) => numericValues.indexOf(+k) === -1)\n        .map(([_, v]) => v);\n    return values;\n}\nexport function joinValues(array, separator = \"|\") {\n    return array.map((val) => stringifyPrimitive(val)).join(separator);\n}\nexport function jsonStringifyReplacer(_, value) {\n    if (typeof value === \"bigint\")\n        return value.toString();\n    return value;\n}\nexport function cached(getter) {\n    const set = false;\n    return {\n        get value() {\n            if (!set) {\n                const value = getter();\n                Object.defineProperty(this, \"value\", { value });\n                return value;\n            }\n            throw new Error(\"cached value already set\");\n        },\n    };\n}\nexport function nullish(input) {\n    return input === null || input === undefined;\n}\nexport function cleanRegex(source) {\n    const start = source.startsWith(\"^\") ? 1 : 0;\n    const end = source.endsWith(\"$\") ? source.length - 1 : source.length;\n    return source.slice(start, end);\n}\nexport function floatSafeRemainder(val, step) {\n    const valDecCount = (val.toString().split(\".\")[1] || \"\").length;\n    const stepString = step.toString();\n    let stepDecCount = (stepString.split(\".\")[1] || \"\").length;\n    if (stepDecCount === 0 && /\\d?e-\\d?/.test(stepString)) {\n        const match = stepString.match(/\\d?e-(\\d?)/);\n        if (match?.[1]) {\n            stepDecCount = Number.parseInt(match[1]);\n        }\n    }\n    const decCount = valDecCount > stepDecCount ? valDecCount : stepDecCount;\n    const valInt = Number.parseInt(val.toFixed(decCount).replace(\".\", \"\"));\n    const stepInt = Number.parseInt(step.toFixed(decCount).replace(\".\", \"\"));\n    return (valInt % stepInt) / 10 ** decCount;\n}\nconst EVALUATING = Symbol(\"evaluating\");\nexport function defineLazy(object, key, getter) {\n    let value = undefined;\n    Object.defineProperty(object, key, {\n        get() {\n            if (value === EVALUATING) {\n                // Circular reference detected, return undefined to break the cycle\n                return undefined;\n            }\n            if (value === undefined) {\n                value = EVALUATING;\n                value = getter();\n            }\n            return value;\n        },\n        set(v) {\n            Object.defineProperty(object, key, {\n                value: v,\n                // configurable: true,\n            });\n            // object[key] = v;\n        },\n        configurable: true,\n    });\n}\nexport function objectClone(obj) {\n    return Object.create(Object.getPrototypeOf(obj), Object.getOwnPropertyDescriptors(obj));\n}\nexport function assignProp(target, prop, value) {\n    Object.defineProperty(target, prop, {\n        value,\n        writable: true,\n        enumerable: true,\n        configurable: true,\n    });\n}\nexport function mergeDefs(...defs) {\n    const mergedDescriptors = {};\n    for (const def of defs) {\n        const descriptors = Object.getOwnPropertyDescriptors(def);\n        Object.assign(mergedDescriptors, descriptors);\n    }\n    return Object.defineProperties({}, mergedDescriptors);\n}\nexport function cloneDef(schema) {\n    return mergeDefs(schema._zod.def);\n}\nexport function getElementAtPath(obj, path) {\n    if (!path)\n        return obj;\n    return path.reduce((acc, key) => acc?.[key], obj);\n}\nexport function promiseAllObject(promisesObj) {\n    const keys = Object.keys(promisesObj);\n    const promises = keys.map((key) => promisesObj[key]);\n    return Promise.all(promises).then((results) => {\n        const resolvedObj = {};\n        for (let i = 0; i < keys.length; i++) {\n            resolvedObj[keys[i]] = results[i];\n        }\n        return resolvedObj;\n    });\n}\nexport function randomString(length = 10) {\n    const chars = \"abcdefghijklmnopqrstuvwxyz\";\n    let str = \"\";\n    for (let i = 0; i < length; i++) {\n        str += chars[Math.floor(Math.random() * chars.length)];\n    }\n    return str;\n}\nexport function esc(str) {\n    return JSON.stringify(str);\n}\nexport function slugify(input) {\n    return input\n        .toLowerCase()\n        .trim()\n        .replace(/[^\\w\\s-]/g, \"\")\n        .replace(/[\\s_-]+/g, \"-\")\n        .replace(/^-+|-+$/g, \"\");\n}\nexport const captureStackTrace = (\"captureStackTrace\" in Error ? Error.captureStackTrace : (..._args) => { });\nexport function isObject(data) {\n    return typeof data === \"object\" && data !== null && !Array.isArray(data);\n}\nexport const allowsEval = cached(() => {\n    // @ts-ignore\n    if (typeof navigator !== \"undefined\" && navigator?.userAgent?.includes(\"Cloudflare\")) {\n        return false;\n    }\n    try {\n        const F = Function;\n        new F(\"\");\n        return true;\n    }\n    catch (_) {\n        return false;\n    }\n});\nexport function isPlainObject(o) {\n    if (isObject(o) === false)\n        return false;\n    // modified constructor\n    const ctor = o.constructor;\n    if (ctor === undefined)\n        return true;\n    if (typeof ctor !== \"function\")\n        return true;\n    // modified prototype\n    const prot = ctor.prototype;\n    if (isObject(prot) === false)\n        return false;\n    // ctor doesn't have static `isPrototypeOf`\n    if (Object.prototype.hasOwnProperty.call(prot, \"isPrototypeOf\") === false) {\n        return false;\n    }\n    return true;\n}\nexport function shallowClone(o) {\n    if (isPlainObject(o))\n        return { ...o };\n    if (Array.isArray(o))\n        return [...o];\n    return o;\n}\nexport function numKeys(data) {\n    let keyCount = 0;\n    for (const key in data) {\n        if (Object.prototype.hasOwnProperty.call(data, key)) {\n            keyCount++;\n        }\n    }\n    return keyCount;\n}\nexport const getParsedType = (data) => {\n    const t = typeof data;\n    switch (t) {\n        case \"undefined\":\n            return \"undefined\";\n        case \"string\":\n            return \"string\";\n        case \"number\":\n            return Number.isNaN(data) ? \"nan\" : \"number\";\n        case \"boolean\":\n            return \"boolean\";\n        case \"function\":\n            return \"function\";\n        case \"bigint\":\n            return \"bigint\";\n        case \"symbol\":\n            return \"symbol\";\n        case \"object\":\n            if (Array.isArray(data)) {\n                return \"array\";\n            }\n            if (data === null) {\n                return \"null\";\n            }\n            if (data.then && typeof data.then === \"function\" && data.catch && typeof data.catch === \"function\") {\n                return \"promise\";\n            }\n            if (typeof Map !== \"undefined\" && data instanceof Map) {\n                return \"map\";\n            }\n            if (typeof Set !== \"undefined\" && data instanceof Set) {\n                return \"set\";\n            }\n            if (typeof Date !== \"undefined\" && data instanceof Date) {\n                return \"date\";\n            }\n            // @ts-ignore\n            if (typeof File !== \"undefined\" && data instanceof File) {\n                return \"file\";\n            }\n            return \"object\";\n        default:\n            throw new Error(`Unknown data type: ${t}`);\n    }\n};\nexport const propertyKeyTypes = new Set([\"string\", \"number\", \"symbol\"]);\nexport const primitiveTypes = new Set([\"string\", \"number\", \"bigint\", \"boolean\", \"symbol\", \"undefined\"]);\nexport function escapeRegex(str) {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\n// zod-specific utils\nexport function clone(inst, def, params) {\n    const cl = new inst._zod.constr(def ?? inst._zod.def);\n    if (!def || params?.parent)\n        cl._zod.parent = inst;\n    return cl;\n}\nexport function normalizeParams(_params) {\n    const params = _params;\n    if (!params)\n        return {};\n    if (typeof params === \"string\")\n        return { error: () => params };\n    if (params?.message !== undefined) {\n        if (params?.error !== undefined)\n            throw new Error(\"Cannot specify both `message` and `error` params\");\n        params.error = params.message;\n    }\n    delete params.message;\n    if (typeof params.error === \"string\")\n        return { ...params, error: () => params.error };\n    return params;\n}\nexport function createTransparentProxy(getter) {\n    let target;\n    return new Proxy({}, {\n        get(_, prop, receiver) {\n            target ?? (target = getter());\n            return Reflect.get(target, prop, receiver);\n        },\n        set(_, prop, value, receiver) {\n            target ?? (target = getter());\n            return Reflect.set(target, prop, value, receiver);\n        },\n        has(_, prop) {\n            target ?? (target = getter());\n            return Reflect.has(target, prop);\n        },\n        deleteProperty(_, prop) {\n            target ?? (target = getter());\n            return Reflect.deleteProperty(target, prop);\n        },\n        ownKeys(_) {\n            target ?? (target = getter());\n            return Reflect.ownKeys(target);\n        },\n        getOwnPropertyDescriptor(_, prop) {\n            target ?? (target = getter());\n            return Reflect.getOwnPropertyDescriptor(target, prop);\n        },\n        defineProperty(_, prop, descriptor) {\n            target ?? (target = getter());\n            return Reflect.defineProperty(target, prop, descriptor);\n        },\n    });\n}\nexport function stringifyPrimitive(value) {\n    if (typeof value === \"bigint\")\n        return value.toString() + \"n\";\n    if (typeof value === \"string\")\n        return `\"${value}\"`;\n    return `${value}`;\n}\nexport function optionalKeys(shape) {\n    return Object.keys(shape).filter((k) => {\n        return shape[k]._zod.optin === \"optional\" && shape[k]._zod.optout === \"optional\";\n    });\n}\nexport const NUMBER_FORMAT_RANGES = {\n    safeint: [Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER],\n    int32: [-2147483648, 2147483647],\n    uint32: [0, 4294967295],\n    float32: [-3.4028234663852886e38, 3.4028234663852886e38],\n    float64: [-Number.MAX_VALUE, Number.MAX_VALUE],\n};\nexport const BIGINT_FORMAT_RANGES = {\n    int64: [/* @__PURE__*/ BigInt(\"-9223372036854775808\"), /* @__PURE__*/ BigInt(\"9223372036854775807\")],\n    uint64: [/* @__PURE__*/ BigInt(0), /* @__PURE__*/ BigInt(\"18446744073709551615\")],\n};\nexport function pick(schema, mask) {\n    const currDef = schema._zod.def;\n    const checks = currDef.checks;\n    const hasChecks = checks && checks.length > 0;\n    if (hasChecks) {\n        throw new Error(\".pick() cannot be used on object schemas containing refinements\");\n    }\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const newShape = {};\n            for (const key in mask) {\n                if (!(key in currDef.shape)) {\n                    throw new Error(`Unrecognized key: \"${key}\"`);\n                }\n                if (!mask[key])\n                    continue;\n                newShape[key] = currDef.shape[key];\n            }\n            assignProp(this, \"shape\", newShape); // self-caching\n            return newShape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function omit(schema, mask) {\n    const currDef = schema._zod.def;\n    const checks = currDef.checks;\n    const hasChecks = checks && checks.length > 0;\n    if (hasChecks) {\n        throw new Error(\".omit() cannot be used on object schemas containing refinements\");\n    }\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const newShape = { ...schema._zod.def.shape };\n            for (const key in mask) {\n                if (!(key in currDef.shape)) {\n                    throw new Error(`Unrecognized key: \"${key}\"`);\n                }\n                if (!mask[key])\n                    continue;\n                delete newShape[key];\n            }\n            assignProp(this, \"shape\", newShape); // self-caching\n            return newShape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function extend(schema, shape) {\n    if (!isPlainObject(shape)) {\n        throw new Error(\"Invalid input to extend: expected a plain object\");\n    }\n    const checks = schema._zod.def.checks;\n    const hasChecks = checks && checks.length > 0;\n    if (hasChecks) {\n        // Only throw if new shape overlaps with existing shape\n        // Use getOwnPropertyDescriptor to check key existence without accessing values\n        const existingShape = schema._zod.def.shape;\n        for (const key in shape) {\n            if (Object.getOwnPropertyDescriptor(existingShape, key) !== undefined) {\n                throw new Error(\"Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.\");\n            }\n        }\n    }\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const _shape = { ...schema._zod.def.shape, ...shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n    });\n    return clone(schema, def);\n}\nexport function safeExtend(schema, shape) {\n    if (!isPlainObject(shape)) {\n        throw new Error(\"Invalid input to safeExtend: expected a plain object\");\n    }\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const _shape = { ...schema._zod.def.shape, ...shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n    });\n    return clone(schema, def);\n}\nexport function merge(a, b) {\n    const def = mergeDefs(a._zod.def, {\n        get shape() {\n            const _shape = { ...a._zod.def.shape, ...b._zod.def.shape };\n            assignProp(this, \"shape\", _shape); // self-caching\n            return _shape;\n        },\n        get catchall() {\n            return b._zod.def.catchall;\n        },\n        checks: [], // delete existing checks\n    });\n    return clone(a, def);\n}\nexport function partial(Class, schema, mask) {\n    const currDef = schema._zod.def;\n    const checks = currDef.checks;\n    const hasChecks = checks && checks.length > 0;\n    if (hasChecks) {\n        throw new Error(\".partial() cannot be used on object schemas containing refinements\");\n    }\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const oldShape = schema._zod.def.shape;\n            const shape = { ...oldShape };\n            if (mask) {\n                for (const key in mask) {\n                    if (!(key in oldShape)) {\n                        throw new Error(`Unrecognized key: \"${key}\"`);\n                    }\n                    if (!mask[key])\n                        continue;\n                    // if (oldShape[key]!._zod.optin === \"optional\") continue;\n                    shape[key] = Class\n                        ? new Class({\n                            type: \"optional\",\n                            innerType: oldShape[key],\n                        })\n                        : oldShape[key];\n                }\n            }\n            else {\n                for (const key in oldShape) {\n                    // if (oldShape[key]!._zod.optin === \"optional\") continue;\n                    shape[key] = Class\n                        ? new Class({\n                            type: \"optional\",\n                            innerType: oldShape[key],\n                        })\n                        : oldShape[key];\n                }\n            }\n            assignProp(this, \"shape\", shape); // self-caching\n            return shape;\n        },\n        checks: [],\n    });\n    return clone(schema, def);\n}\nexport function required(Class, schema, mask) {\n    const def = mergeDefs(schema._zod.def, {\n        get shape() {\n            const oldShape = schema._zod.def.shape;\n            const shape = { ...oldShape };\n            if (mask) {\n                for (const key in mask) {\n                    if (!(key in shape)) {\n                        throw new Error(`Unrecognized key: \"${key}\"`);\n                    }\n                    if (!mask[key])\n                        continue;\n                    // overwrite with non-optional\n                    shape[key] = new Class({\n                        type: \"nonoptional\",\n                        innerType: oldShape[key],\n                    });\n                }\n            }\n            else {\n                for (const key in oldShape) {\n                    // overwrite with non-optional\n                    shape[key] = new Class({\n                        type: \"nonoptional\",\n                        innerType: oldShape[key],\n                    });\n                }\n            }\n            assignProp(this, \"shape\", shape); // self-caching\n            return shape;\n        },\n    });\n    return clone(schema, def);\n}\n// invalid_type | too_big | too_small | invalid_format | not_multiple_of | unrecognized_keys | invalid_union | invalid_key | invalid_element | invalid_value | custom\nexport function aborted(x, startIndex = 0) {\n    if (x.aborted === true)\n        return true;\n    for (let i = startIndex; i < x.issues.length; i++) {\n        if (x.issues[i]?.continue !== true) {\n            return true;\n        }\n    }\n    return false;\n}\nexport function prefixIssues(path, issues) {\n    return issues.map((iss) => {\n        var _a;\n        (_a = iss).path ?? (_a.path = []);\n        iss.path.unshift(path);\n        return iss;\n    });\n}\nexport function unwrapMessage(message) {\n    return typeof message === \"string\" ? message : message?.message;\n}\nexport function finalizeIssue(iss, ctx, config) {\n    const full = { ...iss, path: iss.path ?? [] };\n    // for backwards compatibility\n    if (!iss.message) {\n        const message = unwrapMessage(iss.inst?._zod.def?.error?.(iss)) ??\n            unwrapMessage(ctx?.error?.(iss)) ??\n            unwrapMessage(config.customError?.(iss)) ??\n            unwrapMessage(config.localeError?.(iss)) ??\n            \"Invalid input\";\n        full.message = message;\n    }\n    // delete (full as any).def;\n    delete full.inst;\n    delete full.continue;\n    if (!ctx?.reportInput) {\n        delete full.input;\n    }\n    return full;\n}\nexport function getSizableOrigin(input) {\n    if (input instanceof Set)\n        return \"set\";\n    if (input instanceof Map)\n        return \"map\";\n    // @ts-ignore\n    if (input instanceof File)\n        return \"file\";\n    return \"unknown\";\n}\nexport function getLengthableOrigin(input) {\n    if (Array.isArray(input))\n        return \"array\";\n    if (typeof input === \"string\")\n        return \"string\";\n    return \"unknown\";\n}\nexport function parsedType(data) {\n    const t = typeof data;\n    switch (t) {\n        case \"number\": {\n            return Number.isNaN(data) ? \"nan\" : \"number\";\n        }\n        case \"object\": {\n            if (data === null) {\n                return \"null\";\n            }\n            if (Array.isArray(data)) {\n                return \"array\";\n            }\n            const obj = data;\n            if (obj && Object.getPrototypeOf(obj) !== Object.prototype && \"constructor\" in obj && obj.constructor) {\n                return obj.constructor.name;\n            }\n        }\n    }\n    return t;\n}\nexport function issue(...args) {\n    const [iss, input, inst] = args;\n    if (typeof iss === \"string\") {\n        return {\n            message: iss,\n            code: \"custom\",\n            input,\n            inst,\n        };\n    }\n    return { ...iss };\n}\nexport function cleanEnum(obj) {\n    return Object.entries(obj)\n        .filter(([k, _]) => {\n        // return true if NaN, meaning it's not a number, thus a string key\n        return Number.isNaN(Number.parseInt(k, 10));\n    })\n        .map((el) => el[1]);\n}\n// Codec utility functions\nexport function base64ToUint8Array(base64) {\n    const binaryString = atob(base64);\n    const bytes = new Uint8Array(binaryString.length);\n    for (let i = 0; i < binaryString.length; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n    }\n    return bytes;\n}\nexport function uint8ArrayToBase64(bytes) {\n    let binaryString = \"\";\n    for (let i = 0; i < bytes.length; i++) {\n        binaryString += String.fromCharCode(bytes[i]);\n    }\n    return btoa(binaryString);\n}\nexport function base64urlToUint8Array(base64url) {\n    const base64 = base64url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    const padding = \"=\".repeat((4 - (base64.length % 4)) % 4);\n    return base64ToUint8Array(base64 + padding);\n}\nexport function uint8ArrayToBase64url(bytes) {\n    return uint8ArrayToBase64(bytes).replace(/\\+/g, \"-\").replace(/\\//g, \"_\").replace(/=/g, \"\");\n}\nexport function hexToUint8Array(hex) {\n    const cleanHex = hex.replace(/^0x/, \"\");\n    if (cleanHex.length % 2 !== 0) {\n        throw new Error(\"Invalid hex string length\");\n    }\n    const bytes = new Uint8Array(cleanHex.length / 2);\n    for (let i = 0; i < cleanHex.length; i += 2) {\n        bytes[i / 2] = Number.parseInt(cleanHex.slice(i, i + 2), 16);\n    }\n    return bytes;\n}\nexport function uint8ArrayToHex(bytes) {\n    return Array.from(bytes)\n        .map((b) => b.toString(16).padStart(2, \"0\"))\n        .join(\"\");\n}\n// instanceof\nexport class Class {\n    constructor(..._args) { }\n}\n","import * as util from \"./util.js\";\nexport const cuid = /^[cC][^\\s-]{8,}$/;\nexport const cuid2 = /^[0-9a-z]+$/;\nexport const ulid = /^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/;\nexport const xid = /^[0-9a-vA-V]{20}$/;\nexport const ksuid = /^[A-Za-z0-9]{27}$/;\nexport const nanoid = /^[a-zA-Z0-9_-]{21}$/;\n/** ISO 8601-1 duration regex. Does not support the 8601-2 extensions like negative durations or fractional/negative components. */\nexport const duration = /^P(?:(\\d+W)|(?!.*W)(?=\\d|T\\d)(\\d+Y)?(\\d+M)?(\\d+D)?(T(?=\\d)(\\d+H)?(\\d+M)?(\\d+([.,]\\d+)?S)?)?)$/;\n/** Implements ISO 8601-2 extensions like explicit +- prefixes, mixing weeks with other units, and fractional/negative components. */\nexport const extendedDuration = /^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/;\n/** A regex for any UUID-like identifier: 8-4-4-4-12 hex pattern */\nexport const guid = /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/;\n/** Returns a regex for validating an RFC 9562/4122 UUID.\n *\n * @param version Optionally specify a version 1-8. If no version is specified, all versions are supported. */\nexport const uuid = (version) => {\n    if (!version)\n        return /^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/;\n    return new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${version}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`);\n};\nexport const uuid4 = /*@__PURE__*/ uuid(4);\nexport const uuid6 = /*@__PURE__*/ uuid(6);\nexport const uuid7 = /*@__PURE__*/ uuid(7);\n/** Practical email validation */\nexport const email = /^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$/;\n/** Equivalent to the HTML5 input[type=email] validation implemented by browsers. Source: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/email */\nexport const html5Email = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n/** The classic emailregex.com regex for RFC 5322-compliant emails */\nexport const rfc5322Email = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n/** A loose regex that allows Unicode characters, enforces length limits, and that's about it. */\nexport const unicodeEmail = /^[^\\s@\"]{1,64}@[^\\s@]{1,255}$/u;\nexport const idnEmail = unicodeEmail;\nexport const browserEmail = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n// from https://thekevinscott.com/emojis-in-javascript/#writing-a-regular-expression\nconst _emoji = `^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$`;\nexport function emoji() {\n    return new RegExp(_emoji, \"u\");\n}\nexport const ipv4 = /^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/;\nexport const ipv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/;\nexport const mac = (delimiter) => {\n    const escapedDelim = util.escapeRegex(delimiter ?? \":\");\n    return new RegExp(`^(?:[0-9A-F]{2}${escapedDelim}){5}[0-9A-F]{2}$|^(?:[0-9a-f]{2}${escapedDelim}){5}[0-9a-f]{2}$`);\n};\nexport const cidrv4 = /^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/([0-9]|[1-2][0-9]|3[0-2])$/;\nexport const cidrv6 = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/;\n// https://stackoverflow.com/questions/7860392/determine-if-string-is-in-base64-using-javascript\nexport const base64 = /^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/;\nexport const base64url = /^[A-Za-z0-9_-]*$/;\n// based on https://stackoverflow.com/questions/106179/regular-expression-to-match-dns-hostname-or-ip-address\n// export const hostname: RegExp = /^([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+$/;\nexport const hostname = /^(?=.{1,253}\\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\\.?$/;\nexport const domain = /^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\\.)+[a-zA-Z]{2,}$/;\n// https://blog.stevenlevithan.com/archives/validate-phone-number#r4-3 (regex sans spaces)\n// E.164: leading digit must be 1-9; total digits (excluding '+') between 7-15\nexport const e164 = /^\\+[1-9]\\d{6,14}$/;\n// const dateSource = `((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))`;\nconst dateSource = `(?:(?:\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\\\d|30)|(?:02)-(?:0[1-9]|1\\\\d|2[0-8])))`;\nexport const date = /*@__PURE__*/ new RegExp(`^${dateSource}$`);\nfunction timeSource(args) {\n    const hhmm = `(?:[01]\\\\d|2[0-3]):[0-5]\\\\d`;\n    const regex = typeof args.precision === \"number\"\n        ? args.precision === -1\n            ? `${hhmm}`\n            : args.precision === 0\n                ? `${hhmm}:[0-5]\\\\d`\n                : `${hhmm}:[0-5]\\\\d\\\\.\\\\d{${args.precision}}`\n        : `${hhmm}(?::[0-5]\\\\d(?:\\\\.\\\\d+)?)?`;\n    return regex;\n}\nexport function time(args) {\n    return new RegExp(`^${timeSource(args)}$`);\n}\n// Adapted from https://stackoverflow.com/a/3143231\nexport function datetime(args) {\n    const time = timeSource({ precision: args.precision });\n    const opts = [\"Z\"];\n    if (args.local)\n        opts.push(\"\");\n    // if (args.offset) opts.push(`([+-]\\\\d{2}:\\\\d{2})`);\n    if (args.offset)\n        opts.push(`([+-](?:[01]\\\\d|2[0-3]):[0-5]\\\\d)`);\n    const timeRegex = `${time}(?:${opts.join(\"|\")})`;\n    return new RegExp(`^${dateSource}T(?:${timeRegex})$`);\n}\nexport const string = (params) => {\n    const regex = params ? `[\\\\s\\\\S]{${params?.minimum ?? 0},${params?.maximum ?? \"\"}}` : `[\\\\s\\\\S]*`;\n    return new RegExp(`^${regex}$`);\n};\nexport const bigint = /^-?\\d+n?$/;\nexport const integer = /^-?\\d+$/;\nexport const number = /^-?\\d+(?:\\.\\d+)?$/;\nexport const boolean = /^(?:true|false)$/i;\nconst _null = /^null$/i;\nexport { _null as null };\nconst _undefined = /^undefined$/i;\nexport { _undefined as undefined };\n// regex for string with no uppercase letters\nexport const lowercase = /^[^A-Z]*$/;\n// regex for string with no lowercase letters\nexport const uppercase = /^[^a-z]*$/;\n// regex for hexadecimal strings (any length)\nexport const hex = /^[0-9a-fA-F]*$/;\n// Hash regexes for different algorithms and encodings\n// Helper function to create base64 regex with exact length and padding\nfunction fixedBase64(bodyLength, padding) {\n    return new RegExp(`^[A-Za-z0-9+/]{${bodyLength}}${padding}$`);\n}\n// Helper function to create base64url regex with exact length (no padding)\nfunction fixedBase64url(length) {\n    return new RegExp(`^[A-Za-z0-9_-]{${length}}$`);\n}\n// MD5 (16 bytes): base64 = 24 chars total (22 + \"==\")\nexport const md5_hex = /^[0-9a-fA-F]{32}$/;\nexport const md5_base64 = /*@__PURE__*/ fixedBase64(22, \"==\");\nexport const md5_base64url = /*@__PURE__*/ fixedBase64url(22);\n// SHA1 (20 bytes): base64 = 28 chars total (27 + \"=\")\nexport const sha1_hex = /^[0-9a-fA-F]{40}$/;\nexport const sha1_base64 = /*@__PURE__*/ fixedBase64(27, \"=\");\nexport const sha1_base64url = /*@__PURE__*/ fixedBase64url(27);\n// SHA256 (32 bytes): base64 = 44 chars total (43 + \"=\")\nexport const sha256_hex = /^[0-9a-fA-F]{64}$/;\nexport const sha256_base64 = /*@__PURE__*/ fixedBase64(43, \"=\");\nexport const sha256_base64url = /*@__PURE__*/ fixedBase64url(43);\n// SHA384 (48 bytes): base64 = 64 chars total (no padding)\nexport const sha384_hex = /^[0-9a-fA-F]{96}$/;\nexport const sha384_base64 = /*@__PURE__*/ fixedBase64(64, \"\");\nexport const sha384_base64url = /*@__PURE__*/ fixedBase64url(64);\n// SHA512 (64 bytes): base64 = 88 chars total (86 + \"==\")\nexport const sha512_hex = /^[0-9a-fA-F]{128}$/;\nexport const sha512_base64 = /*@__PURE__*/ fixedBase64(86, \"==\");\nexport const sha512_base64url = /*@__PURE__*/ fixedBase64url(86);\n","import { $constructor } from \"./core.js\";\nimport * as util from \"./util.js\";\nconst initializer = (inst, def) => {\n    inst.name = \"$ZodError\";\n    Object.defineProperty(inst, \"_zod\", {\n        value: inst._zod,\n        enumerable: false,\n    });\n    Object.defineProperty(inst, \"issues\", {\n        value: def,\n        enumerable: false,\n    });\n    inst.message = JSON.stringify(def, util.jsonStringifyReplacer, 2);\n    Object.defineProperty(inst, \"toString\", {\n        value: () => inst.message,\n        enumerable: false,\n    });\n};\nexport const $ZodError = $constructor(\"$ZodError\", initializer);\nexport const $ZodRealError = $constructor(\"$ZodError\", initializer, { Parent: Error });\nexport function flattenError(error, mapper = (issue) => issue.message) {\n    const fieldErrors = {};\n    const formErrors = [];\n    for (const sub of error.issues) {\n        if (sub.path.length > 0) {\n            fieldErrors[sub.path[0]] = fieldErrors[sub.path[0]] || [];\n            fieldErrors[sub.path[0]].push(mapper(sub));\n        }\n        else {\n            formErrors.push(mapper(sub));\n        }\n    }\n    return { formErrors, fieldErrors };\n}\nexport function formatError(error, mapper = (issue) => issue.message) {\n    const fieldErrors = { _errors: [] };\n    const processError = (error) => {\n        for (const issue of error.issues) {\n            if (issue.code === \"invalid_union\" && issue.errors.length) {\n                issue.errors.map((issues) => processError({ issues }));\n            }\n            else if (issue.code === \"invalid_key\") {\n                processError({ issues: issue.issues });\n            }\n            else if (issue.code === \"invalid_element\") {\n                processError({ issues: issue.issues });\n            }\n            else if (issue.path.length === 0) {\n                fieldErrors._errors.push(mapper(issue));\n            }\n            else {\n                let curr = fieldErrors;\n                let i = 0;\n                while (i < issue.path.length) {\n                    const el = issue.path[i];\n                    const terminal = i === issue.path.length - 1;\n                    if (!terminal) {\n                        curr[el] = curr[el] || { _errors: [] };\n                    }\n                    else {\n                        curr[el] = curr[el] || { _errors: [] };\n                        curr[el]._errors.push(mapper(issue));\n                    }\n                    curr = curr[el];\n                    i++;\n                }\n            }\n        }\n    };\n    processError(error);\n    return fieldErrors;\n}\nexport function treeifyError(error, mapper = (issue) => issue.message) {\n    const result = { errors: [] };\n    const processError = (error, path = []) => {\n        var _a, _b;\n        for (const issue of error.issues) {\n            if (issue.code === \"invalid_union\" && issue.errors.length) {\n                // regular union error\n                issue.errors.map((issues) => processError({ issues }, issue.path));\n            }\n            else if (issue.code === \"invalid_key\") {\n                processError({ issues: issue.issues }, issue.path);\n            }\n            else if (issue.code === \"invalid_element\") {\n                processError({ issues: issue.issues }, issue.path);\n            }\n            else {\n                const fullpath = [...path, ...issue.path];\n                if (fullpath.length === 0) {\n                    result.errors.push(mapper(issue));\n                    continue;\n                }\n                let curr = result;\n                let i = 0;\n                while (i < fullpath.length) {\n                    const el = fullpath[i];\n                    const terminal = i === fullpath.length - 1;\n                    if (typeof el === \"string\") {\n                        curr.properties ?? (curr.properties = {});\n                        (_a = curr.properties)[el] ?? (_a[el] = { errors: [] });\n                        curr = curr.properties[el];\n                    }\n                    else {\n                        curr.items ?? (curr.items = []);\n                        (_b = curr.items)[el] ?? (_b[el] = { errors: [] });\n                        curr = curr.items[el];\n                    }\n                    if (terminal) {\n                        curr.errors.push(mapper(issue));\n                    }\n                    i++;\n                }\n            }\n        }\n    };\n    processError(error);\n    return result;\n}\n/** Format a ZodError as a human-readable string in the following form.\n *\n * From\n *\n * ```ts\n * ZodError {\n *   issues: [\n *     {\n *       expected: 'string',\n *       code: 'invalid_type',\n *       path: [ 'username' ],\n *       message: 'Invalid input: expected string'\n *     },\n *     {\n *       expected: 'number',\n *       code: 'invalid_type',\n *       path: [ 'favoriteNumbers', 1 ],\n *       message: 'Invalid input: expected number'\n *     }\n *   ];\n * }\n * ```\n *\n * to\n *\n * ```\n * username\n *   ✖ Expected number, received string at \"username\n * favoriteNumbers[0]\n *   ✖ Invalid input: expected number\n * ```\n */\nexport function toDotPath(_path) {\n    const segs = [];\n    const path = _path.map((seg) => (typeof seg === \"object\" ? seg.key : seg));\n    for (const seg of path) {\n        if (typeof seg === \"number\")\n            segs.push(`[${seg}]`);\n        else if (typeof seg === \"symbol\")\n            segs.push(`[${JSON.stringify(String(seg))}]`);\n        else if (/[^\\w$]/.test(seg))\n            segs.push(`[${JSON.stringify(seg)}]`);\n        else {\n            if (segs.length)\n                segs.push(\".\");\n            segs.push(seg);\n        }\n    }\n    return segs.join(\"\");\n}\nexport function prettifyError(error) {\n    const lines = [];\n    // sort by path length\n    const issues = [...error.issues].sort((a, b) => (a.path ?? []).length - (b.path ?? []).length);\n    // Process each issue\n    for (const issue of issues) {\n        lines.push(`✖ ${issue.message}`);\n        if (issue.path?.length)\n            lines.push(`  → at ${toDotPath(issue.path)}`);\n    }\n    // Convert Map to formatted string\n    return lines.join(\"\\n\");\n}\n","import { extractDefs, finalize, initializeContext, process, } from \"./to-json-schema.js\";\nimport { getEnumValues } from \"./util.js\";\nconst formatMap = {\n    guid: \"uuid\",\n    url: \"uri\",\n    datetime: \"date-time\",\n    json_string: \"json-string\",\n    regex: \"\", // do not set\n};\n// ==================== SIMPLE TYPE PROCESSORS ====================\nexport const stringProcessor = (schema, ctx, _json, _params) => {\n    const json = _json;\n    json.type = \"string\";\n    const { minimum, maximum, format, patterns, contentEncoding } = schema._zod\n        .bag;\n    if (typeof minimum === \"number\")\n        json.minLength = minimum;\n    if (typeof maximum === \"number\")\n        json.maxLength = maximum;\n    // custom pattern overrides format\n    if (format) {\n        json.format = formatMap[format] ?? format;\n        if (json.format === \"\")\n            delete json.format; // empty format is not valid\n        // JSON Schema format: \"time\" requires a full time with offset or Z\n        // z.iso.time() does not include timezone information, so format: \"time\" should never be used\n        if (format === \"time\") {\n            delete json.format;\n        }\n    }\n    if (contentEncoding)\n        json.contentEncoding = contentEncoding;\n    if (patterns && patterns.size > 0) {\n        const regexes = [...patterns];\n        if (regexes.length === 1)\n            json.pattern = regexes[0].source;\n        else if (regexes.length > 1) {\n            json.allOf = [\n                ...regexes.map((regex) => ({\n                    ...(ctx.target === \"draft-07\" || ctx.target === \"draft-04\" || ctx.target === \"openapi-3.0\"\n                        ? { type: \"string\" }\n                        : {}),\n                    pattern: regex.source,\n                })),\n            ];\n        }\n    }\n};\nexport const numberProcessor = (schema, ctx, _json, _params) => {\n    const json = _json;\n    const { minimum, maximum, format, multipleOf, exclusiveMaximum, exclusiveMinimum } = schema._zod.bag;\n    if (typeof format === \"string\" && format.includes(\"int\"))\n        json.type = \"integer\";\n    else\n        json.type = \"number\";\n    if (typeof exclusiveMinimum === \"number\") {\n        if (ctx.target === \"draft-04\" || ctx.target === \"openapi-3.0\") {\n            json.minimum = exclusiveMinimum;\n            json.exclusiveMinimum = true;\n        }\n        else {\n            json.exclusiveMinimum = exclusiveMinimum;\n        }\n    }\n    if (typeof minimum === \"number\") {\n        json.minimum = minimum;\n        if (typeof exclusiveMinimum === \"number\" && ctx.target !== \"draft-04\") {\n            if (exclusiveMinimum >= minimum)\n                delete json.minimum;\n            else\n                delete json.exclusiveMinimum;\n        }\n    }\n    if (typeof exclusiveMaximum === \"number\") {\n        if (ctx.target === \"draft-04\" || ctx.target === \"openapi-3.0\") {\n            json.maximum = exclusiveMaximum;\n            json.exclusiveMaximum = true;\n        }\n        else {\n            json.exclusiveMaximum = exclusiveMaximum;\n        }\n    }\n    if (typeof maximum === \"number\") {\n        json.maximum = maximum;\n        if (typeof exclusiveMaximum === \"number\" && ctx.target !== \"draft-04\") {\n            if (exclusiveMaximum <= maximum)\n                delete json.maximum;\n            else\n                delete json.exclusiveMaximum;\n        }\n    }\n    if (typeof multipleOf === \"number\")\n        json.multipleOf = multipleOf;\n};\nexport const booleanProcessor = (_schema, _ctx, json, _params) => {\n    json.type = \"boolean\";\n};\nexport const bigintProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"BigInt cannot be represented in JSON Schema\");\n    }\n};\nexport const symbolProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Symbols cannot be represented in JSON Schema\");\n    }\n};\nexport const nullProcessor = (_schema, ctx, json, _params) => {\n    if (ctx.target === \"openapi-3.0\") {\n        json.type = \"string\";\n        json.nullable = true;\n        json.enum = [null];\n    }\n    else {\n        json.type = \"null\";\n    }\n};\nexport const undefinedProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Undefined cannot be represented in JSON Schema\");\n    }\n};\nexport const voidProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Void cannot be represented in JSON Schema\");\n    }\n};\nexport const neverProcessor = (_schema, _ctx, json, _params) => {\n    json.not = {};\n};\nexport const anyProcessor = (_schema, _ctx, _json, _params) => {\n    // empty schema accepts anything\n};\nexport const unknownProcessor = (_schema, _ctx, _json, _params) => {\n    // empty schema accepts anything\n};\nexport const dateProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Date cannot be represented in JSON Schema\");\n    }\n};\nexport const enumProcessor = (schema, _ctx, json, _params) => {\n    const def = schema._zod.def;\n    const values = getEnumValues(def.entries);\n    // Number enums can have both string and number values\n    if (values.every((v) => typeof v === \"number\"))\n        json.type = \"number\";\n    if (values.every((v) => typeof v === \"string\"))\n        json.type = \"string\";\n    json.enum = values;\n};\nexport const literalProcessor = (schema, ctx, json, _params) => {\n    const def = schema._zod.def;\n    const vals = [];\n    for (const val of def.values) {\n        if (val === undefined) {\n            if (ctx.unrepresentable === \"throw\") {\n                throw new Error(\"Literal `undefined` cannot be represented in JSON Schema\");\n            }\n            else {\n                // do not add to vals\n            }\n        }\n        else if (typeof val === \"bigint\") {\n            if (ctx.unrepresentable === \"throw\") {\n                throw new Error(\"BigInt literals cannot be represented in JSON Schema\");\n            }\n            else {\n                vals.push(Number(val));\n            }\n        }\n        else {\n            vals.push(val);\n        }\n    }\n    if (vals.length === 0) {\n        // do nothing (an undefined literal was stripped)\n    }\n    else if (vals.length === 1) {\n        const val = vals[0];\n        json.type = val === null ? \"null\" : typeof val;\n        if (ctx.target === \"draft-04\" || ctx.target === \"openapi-3.0\") {\n            json.enum = [val];\n        }\n        else {\n            json.const = val;\n        }\n    }\n    else {\n        if (vals.every((v) => typeof v === \"number\"))\n            json.type = \"number\";\n        if (vals.every((v) => typeof v === \"string\"))\n            json.type = \"string\";\n        if (vals.every((v) => typeof v === \"boolean\"))\n            json.type = \"boolean\";\n        if (vals.every((v) => v === null))\n            json.type = \"null\";\n        json.enum = vals;\n    }\n};\nexport const nanProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"NaN cannot be represented in JSON Schema\");\n    }\n};\nexport const templateLiteralProcessor = (schema, _ctx, json, _params) => {\n    const _json = json;\n    const pattern = schema._zod.pattern;\n    if (!pattern)\n        throw new Error(\"Pattern not found in template literal\");\n    _json.type = \"string\";\n    _json.pattern = pattern.source;\n};\nexport const fileProcessor = (schema, _ctx, json, _params) => {\n    const _json = json;\n    const file = {\n        type: \"string\",\n        format: \"binary\",\n        contentEncoding: \"binary\",\n    };\n    const { minimum, maximum, mime } = schema._zod.bag;\n    if (minimum !== undefined)\n        file.minLength = minimum;\n    if (maximum !== undefined)\n        file.maxLength = maximum;\n    if (mime) {\n        if (mime.length === 1) {\n            file.contentMediaType = mime[0];\n            Object.assign(_json, file);\n        }\n        else {\n            Object.assign(_json, file); // shared props at root\n            _json.anyOf = mime.map((m) => ({ contentMediaType: m })); // only contentMediaType differs\n        }\n    }\n    else {\n        Object.assign(_json, file);\n    }\n};\nexport const successProcessor = (_schema, _ctx, json, _params) => {\n    json.type = \"boolean\";\n};\nexport const customProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Custom types cannot be represented in JSON Schema\");\n    }\n};\nexport const functionProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Function types cannot be represented in JSON Schema\");\n    }\n};\nexport const transformProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Transforms cannot be represented in JSON Schema\");\n    }\n};\nexport const mapProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Map cannot be represented in JSON Schema\");\n    }\n};\nexport const setProcessor = (_schema, ctx, _json, _params) => {\n    if (ctx.unrepresentable === \"throw\") {\n        throw new Error(\"Set cannot be represented in JSON Schema\");\n    }\n};\n// ==================== COMPOSITE TYPE PROCESSORS ====================\nexport const arrayProcessor = (schema, ctx, _json, params) => {\n    const json = _json;\n    const def = schema._zod.def;\n    const { minimum, maximum } = schema._zod.bag;\n    if (typeof minimum === \"number\")\n        json.minItems = minimum;\n    if (typeof maximum === \"number\")\n        json.maxItems = maximum;\n    json.type = \"array\";\n    json.items = process(def.element, ctx, { ...params, path: [...params.path, \"items\"] });\n};\nexport const objectProcessor = (schema, ctx, _json, params) => {\n    const json = _json;\n    const def = schema._zod.def;\n    json.type = \"object\";\n    json.properties = {};\n    const shape = def.shape;\n    for (const key in shape) {\n        json.properties[key] = process(shape[key], ctx, {\n            ...params,\n            path: [...params.path, \"properties\", key],\n        });\n    }\n    // required keys\n    const allKeys = new Set(Object.keys(shape));\n    const requiredKeys = new Set([...allKeys].filter((key) => {\n        const v = def.shape[key]._zod;\n        if (ctx.io === \"input\") {\n            return v.optin === undefined;\n        }\n        else {\n            return v.optout === undefined;\n        }\n    }));\n    if (requiredKeys.size > 0) {\n        json.required = Array.from(requiredKeys);\n    }\n    // catchall\n    if (def.catchall?._zod.def.type === \"never\") {\n        // strict\n        json.additionalProperties = false;\n    }\n    else if (!def.catchall) {\n        // regular\n        if (ctx.io === \"output\")\n            json.additionalProperties = false;\n    }\n    else if (def.catchall) {\n        json.additionalProperties = process(def.catchall, ctx, {\n            ...params,\n            path: [...params.path, \"additionalProperties\"],\n        });\n    }\n};\nexport const unionProcessor = (schema, ctx, json, params) => {\n    const def = schema._zod.def;\n    // Exclusive unions (inclusive === false) use oneOf (exactly one match) instead of anyOf (one or more matches)\n    // This includes both z.xor() and discriminated unions\n    const isExclusive = def.inclusive === false;\n    const options = def.options.map((x, i) => process(x, ctx, {\n        ...params,\n        path: [...params.path, isExclusive ? \"oneOf\" : \"anyOf\", i],\n    }));\n    if (isExclusive) {\n        json.oneOf = options;\n    }\n    else {\n        json.anyOf = options;\n    }\n};\nexport const intersectionProcessor = (schema, ctx, json, params) => {\n    const def = schema._zod.def;\n    const a = process(def.left, ctx, {\n        ...params,\n        path: [...params.path, \"allOf\", 0],\n    });\n    const b = process(def.right, ctx, {\n        ...params,\n        path: [...params.path, \"allOf\", 1],\n    });\n    const isSimpleIntersection = (val) => \"allOf\" in val && Object.keys(val).length === 1;\n    const allOf = [\n        ...(isSimpleIntersection(a) ? a.allOf : [a]),\n        ...(isSimpleIntersection(b) ? b.allOf : [b]),\n    ];\n    json.allOf = allOf;\n};\nexport const tupleProcessor = (schema, ctx, _json, params) => {\n    const json = _json;\n    const def = schema._zod.def;\n    json.type = \"array\";\n    const prefixPath = ctx.target === \"draft-2020-12\" ? \"prefixItems\" : \"items\";\n    const restPath = ctx.target === \"draft-2020-12\" ? \"items\" : ctx.target === \"openapi-3.0\" ? \"items\" : \"additionalItems\";\n    const prefixItems = def.items.map((x, i) => process(x, ctx, {\n        ...params,\n        path: [...params.path, prefixPath, i],\n    }));\n    const rest = def.rest\n        ? process(def.rest, ctx, {\n            ...params,\n            path: [...params.path, restPath, ...(ctx.target === \"openapi-3.0\" ? [def.items.length] : [])],\n        })\n        : null;\n    if (ctx.target === \"draft-2020-12\") {\n        json.prefixItems = prefixItems;\n        if (rest) {\n            json.items = rest;\n        }\n    }\n    else if (ctx.target === \"openapi-3.0\") {\n        json.items = {\n            anyOf: prefixItems,\n        };\n        if (rest) {\n            json.items.anyOf.push(rest);\n        }\n        json.minItems = prefixItems.length;\n        if (!rest) {\n            json.maxItems = prefixItems.length;\n        }\n    }\n    else {\n        json.items = prefixItems;\n        if (rest) {\n            json.additionalItems = rest;\n        }\n    }\n    // length\n    const { minimum, maximum } = schema._zod.bag;\n    if (typeof minimum === \"number\")\n        json.minItems = minimum;\n    if (typeof maximum === \"number\")\n        json.maxItems = maximum;\n};\nexport const recordProcessor = (schema, ctx, _json, params) => {\n    const json = _json;\n    const def = schema._zod.def;\n    json.type = \"object\";\n    // For looseRecord with regex patterns, use patternProperties\n    // This correctly represents \"only validate keys matching the pattern\" semantics\n    // and composes well with allOf (intersections)\n    const keyType = def.keyType;\n    const keyBag = keyType._zod.bag;\n    const patterns = keyBag?.patterns;\n    if (def.mode === \"loose\" && patterns && patterns.size > 0) {\n        // Use patternProperties for looseRecord with regex patterns\n        const valueSchema = process(def.valueType, ctx, {\n            ...params,\n            path: [...params.path, \"patternProperties\", \"*\"],\n        });\n        json.patternProperties = {};\n        for (const pattern of patterns) {\n            json.patternProperties[pattern.source] = valueSchema;\n        }\n    }\n    else {\n        // Default behavior: use propertyNames + additionalProperties\n        if (ctx.target === \"draft-07\" || ctx.target === \"draft-2020-12\") {\n            json.propertyNames = process(def.keyType, ctx, {\n                ...params,\n                path: [...params.path, \"propertyNames\"],\n            });\n        }\n        json.additionalProperties = process(def.valueType, ctx, {\n            ...params,\n            path: [...params.path, \"additionalProperties\"],\n        });\n    }\n    // Add required for keys with discrete values (enum, literal, etc.)\n    const keyValues = keyType._zod.values;\n    if (keyValues) {\n        const validKeyValues = [...keyValues].filter((v) => typeof v === \"string\" || typeof v === \"number\");\n        if (validKeyValues.length > 0) {\n            json.required = validKeyValues;\n        }\n    }\n};\nexport const nullableProcessor = (schema, ctx, json, params) => {\n    const def = schema._zod.def;\n    const inner = process(def.innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    if (ctx.target === \"openapi-3.0\") {\n        seen.ref = def.innerType;\n        json.nullable = true;\n    }\n    else {\n        json.anyOf = [inner, { type: \"null\" }];\n    }\n};\nexport const nonoptionalProcessor = (schema, ctx, _json, params) => {\n    const def = schema._zod.def;\n    process(def.innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = def.innerType;\n};\nexport const defaultProcessor = (schema, ctx, json, params) => {\n    const def = schema._zod.def;\n    process(def.innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = def.innerType;\n    json.default = JSON.parse(JSON.stringify(def.defaultValue));\n};\nexport const prefaultProcessor = (schema, ctx, json, params) => {\n    const def = schema._zod.def;\n    process(def.innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = def.innerType;\n    if (ctx.io === \"input\")\n        json._prefault = JSON.parse(JSON.stringify(def.defaultValue));\n};\nexport const catchProcessor = (schema, ctx, json, params) => {\n    const def = schema._zod.def;\n    process(def.innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = def.innerType;\n    let catchValue;\n    try {\n        catchValue = def.catchValue(undefined);\n    }\n    catch {\n        throw new Error(\"Dynamic catch values are not supported in JSON Schema\");\n    }\n    json.default = catchValue;\n};\nexport const pipeProcessor = (schema, ctx, _json, params) => {\n    const def = schema._zod.def;\n    const innerType = ctx.io === \"input\" ? (def.in._zod.def.type === \"transform\" ? def.out : def.in) : def.out;\n    process(innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = innerType;\n};\nexport const readonlyProcessor = (schema, ctx, json, params) => {\n    const def = schema._zod.def;\n    process(def.innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = def.innerType;\n    json.readOnly = true;\n};\nexport const promiseProcessor = (schema, ctx, _json, params) => {\n    const def = schema._zod.def;\n    process(def.innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = def.innerType;\n};\nexport const optionalProcessor = (schema, ctx, _json, params) => {\n    const def = schema._zod.def;\n    process(def.innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = def.innerType;\n};\nexport const lazyProcessor = (schema, ctx, _json, params) => {\n    const innerType = schema._zod.innerType;\n    process(innerType, ctx, params);\n    const seen = ctx.seen.get(schema);\n    seen.ref = innerType;\n};\n// ==================== ALL PROCESSORS ====================\nexport const allProcessors = {\n    string: stringProcessor,\n    number: numberProcessor,\n    boolean: booleanProcessor,\n    bigint: bigintProcessor,\n    symbol: symbolProcessor,\n    null: nullProcessor,\n    undefined: undefinedProcessor,\n    void: voidProcessor,\n    never: neverProcessor,\n    any: anyProcessor,\n    unknown: unknownProcessor,\n    date: dateProcessor,\n    enum: enumProcessor,\n    literal: literalProcessor,\n    nan: nanProcessor,\n    template_literal: templateLiteralProcessor,\n    file: fileProcessor,\n    success: successProcessor,\n    custom: customProcessor,\n    function: functionProcessor,\n    transform: transformProcessor,\n    map: mapProcessor,\n    set: setProcessor,\n    array: arrayProcessor,\n    object: objectProcessor,\n    union: unionProcessor,\n    intersection: intersectionProcessor,\n    tuple: tupleProcessor,\n    record: recordProcessor,\n    nullable: nullableProcessor,\n    nonoptional: nonoptionalProcessor,\n    default: defaultProcessor,\n    prefault: prefaultProcessor,\n    catch: catchProcessor,\n    pipe: pipeProcessor,\n    readonly: readonlyProcessor,\n    promise: promiseProcessor,\n    optional: optionalProcessor,\n    lazy: lazyProcessor,\n};\nexport function toJSONSchema(input, params) {\n    if (\"_idmap\" in input) {\n        // Registry case\n        const registry = input;\n        const ctx = initializeContext({ ...params, processors: allProcessors });\n        const defs = {};\n        // First pass: process all schemas to build the seen map\n        for (const entry of registry._idmap.entries()) {\n            const [_, schema] = entry;\n            process(schema, ctx);\n        }\n        const schemas = {};\n        const external = {\n            registry,\n            uri: params?.uri,\n            defs,\n        };\n        // Update the context with external configuration\n        ctx.external = external;\n        // Second pass: emit each schema\n        for (const entry of registry._idmap.entries()) {\n            const [key, schema] = entry;\n            extractDefs(ctx, schema);\n            schemas[key] = finalize(ctx, schema);\n        }\n        if (Object.keys(defs).length > 0) {\n            const defsSegment = ctx.target === \"draft-2020-12\" ? \"$defs\" : \"definitions\";\n            schemas.__shared = {\n                [defsSegment]: defs,\n            };\n        }\n        return { schemas };\n    }\n    // Single schema case\n    const ctx = initializeContext({ ...params, processors: allProcessors });\n    process(input, ctx);\n    extractDefs(ctx, input);\n    return finalize(ctx, input);\n}\n","import { CheckCircle2, Circle, AlertCircle } from \"lucide-react\";\r\nimport { Progress } from \"@/components/ui/progress\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { cn } from \"@/lib/utils\";\r\n\r\ninterface SEOScoreProps {\r\n    title: string;\r\n    description: string;\r\n    content: string;\r\n    featuredImage: string;\r\n    featuredImageAlt: string;\r\n}\r\n\r\nexport function SEOScore({ title, description, content, featuredImage, featuredImageAlt }: SEOScoreProps) {\r\n    // 1. Alt Text Check\r\n    const hasFeaturedImage = !!featuredImage;\r\n    const hasAltText = hasFeaturedImage ? !!featuredImageAlt : true; // Pass if no image, or if image has alt\r\n    // But requirement says \"Presence of Alt Text in featured image\". If no image, maybe warning? \r\n    // Let's assume neutral if no image, but strictly check if image exists.\r\n    // Actually, improved logic: If image exists, MUST have alt.\r\n\r\n    // 2. Meta Description Length (140-160)\r\n    const descLen = description?.length || 0;\r\n    const isDescValid = descLen >= 140 && descLen <= 160;\r\n\r\n    // 3. Subtitles (H2/H3)\r\n    // Simple regex for HTML content\r\n    const hasSubtitles = /<h[23]/.test(content || \"\");\r\n\r\n    // 4. Reading Time\r\n    // Avg reading speed: 200 words/min\r\n    const words = content?.replace(/<[^>]*>/g, \"\").split(/\\s+/).length || 0;\r\n    const readingTime = Math.ceil(words / 200);\r\n\r\n    // Calculate Score\r\n    const checks = [\r\n        { label: \"Imagem de Destaque com Alt Text\", valid: hasFeaturedImage && !!featuredImageAlt, weight: 20 },\r\n        { label: \"Meta Description (140-160 chars)\", valid: isDescValid, weight: 30 },\r\n        { label: \"Pelo menos um subtítulo (H2/H3)\", valid: hasSubtitles, weight: 30 },\r\n        { label: \"Conteúdo substancial (> 300 palavras)\", valid: words >= 300, weight: 20 },\r\n    ];\r\n\r\n    const score = checks.reduce((acc, check) => acc + (check.valid ? check.weight : 0), 0);\r\n    const isReady = score >= 80;\r\n\r\n    return (\r\n        <Card className=\"border-l-4 border-l-primary/20\">\r\n            <CardHeader className=\"pb-3\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <CardTitle className=\"text-lg font-semibold flex items-center gap-2\">\r\n                        SEO Score\r\n                        <Badge variant={isReady ? \"default\" : \"secondary\"} className={cn(\"ml-2\", isReady ? \"bg-green-600 hover:bg-green-700\" : \"\")}>\r\n                            {score}%\r\n                        </Badge>\r\n                    </CardTitle>\r\n                </div>\r\n                <Progress value={score} className=\"h-2 mt-2\" />\r\n            </CardHeader>\r\n            <CardContent className=\"grid gap-4\">\r\n                <div className=\"space-y-3\">\r\n                    {checks.map((check, i) => (\r\n                        <div key={i} className=\"flex items-start gap-2 text-sm\">\r\n                            {check.valid ? (\r\n                                <CheckCircle2 className=\"h-4 w-4 text-green-600 mt-0.5 shrink-0\" />\r\n                            ) : (\r\n                                <Circle className=\"h-4 w-4 text-muted-foreground mt-0.5 shrink-0\" />\r\n                            )}\r\n                            <span className={cn(check.valid ? \"text-foreground\" : \"text-muted-foreground\", \"flex-1\")}>\r\n                                {check.label}\r\n                            </span>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                <div className=\"pt-4 border-t flex justify-between items-center text-sm text-muted-foreground\">\r\n                    <span className=\"flex items-center gap-1\">\r\n                        <AlertCircle className=\"h-4 w-4\" />\r\n                        Tempo de Leitura\r\n                    </span>\r\n                    <span className=\"font-medium text-foreground\">\r\n                        {readingTime} min\r\n                    </span>\r\n                </div>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n}\r\n","import OrderedMap from 'orderedmap';\n\nfunction findDiffStart(a, b, pos) {\n    for (let i = 0;; i++) {\n        if (i == a.childCount || i == b.childCount)\n            return a.childCount == b.childCount ? null : pos;\n        let childA = a.child(i), childB = b.child(i);\n        if (childA == childB) {\n            pos += childA.nodeSize;\n            continue;\n        }\n        if (!childA.sameMarkup(childB))\n            return pos;\n        if (childA.isText && childA.text != childB.text) {\n            for (let j = 0; childA.text[j] == childB.text[j]; j++)\n                pos++;\n            return pos;\n        }\n        if (childA.content.size || childB.content.size) {\n            let inner = findDiffStart(childA.content, childB.content, pos + 1);\n            if (inner != null)\n                return inner;\n        }\n        pos += childA.nodeSize;\n    }\n}\nfunction findDiffEnd(a, b, posA, posB) {\n    for (let iA = a.childCount, iB = b.childCount;;) {\n        if (iA == 0 || iB == 0)\n            return iA == iB ? null : { a: posA, b: posB };\n        let childA = a.child(--iA), childB = b.child(--iB), size = childA.nodeSize;\n        if (childA == childB) {\n            posA -= size;\n            posB -= size;\n            continue;\n        }\n        if (!childA.sameMarkup(childB))\n            return { a: posA, b: posB };\n        if (childA.isText && childA.text != childB.text) {\n            let same = 0, minSize = Math.min(childA.text.length, childB.text.length);\n            while (same < minSize && childA.text[childA.text.length - same - 1] == childB.text[childB.text.length - same - 1]) {\n                same++;\n                posA--;\n                posB--;\n            }\n            return { a: posA, b: posB };\n        }\n        if (childA.content.size || childB.content.size) {\n            let inner = findDiffEnd(childA.content, childB.content, posA - 1, posB - 1);\n            if (inner)\n                return inner;\n        }\n        posA -= size;\n        posB -= size;\n    }\n}\n\n/**\nA fragment represents a node's collection of child nodes.\n\nLike nodes, fragments are persistent data structures, and you\nshould not mutate them or their content. Rather, you create new\ninstances whenever needed. The API tries to make this easy.\n*/\nclass Fragment {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The child nodes in this fragment.\n    */\n    content, size) {\n        this.content = content;\n        this.size = size || 0;\n        if (size == null)\n            for (let i = 0; i < content.length; i++)\n                this.size += content[i].nodeSize;\n    }\n    /**\n    Invoke a callback for all descendant nodes between the given two\n    positions (relative to start of this fragment). Doesn't descend\n    into a node when the callback returns `false`.\n    */\n    nodesBetween(from, to, f, nodeStart = 0, parent) {\n        for (let i = 0, pos = 0; pos < to; i++) {\n            let child = this.content[i], end = pos + child.nodeSize;\n            if (end > from && f(child, nodeStart + pos, parent || null, i) !== false && child.content.size) {\n                let start = pos + 1;\n                child.nodesBetween(Math.max(0, from - start), Math.min(child.content.size, to - start), f, nodeStart + start);\n            }\n            pos = end;\n        }\n    }\n    /**\n    Call the given callback for every descendant node. `pos` will be\n    relative to the start of the fragment. The callback may return\n    `false` to prevent traversal of a given node's children.\n    */\n    descendants(f) {\n        this.nodesBetween(0, this.size, f);\n    }\n    /**\n    Extract the text between `from` and `to`. See the same method on\n    [`Node`](https://prosemirror.net/docs/ref/#model.Node.textBetween).\n    */\n    textBetween(from, to, blockSeparator, leafText) {\n        let text = \"\", first = true;\n        this.nodesBetween(from, to, (node, pos) => {\n            let nodeText = node.isText ? node.text.slice(Math.max(from, pos) - pos, to - pos)\n                : !node.isLeaf ? \"\"\n                    : leafText ? (typeof leafText === \"function\" ? leafText(node) : leafText)\n                        : node.type.spec.leafText ? node.type.spec.leafText(node)\n                            : \"\";\n            if (node.isBlock && (node.isLeaf && nodeText || node.isTextblock) && blockSeparator) {\n                if (first)\n                    first = false;\n                else\n                    text += blockSeparator;\n            }\n            text += nodeText;\n        }, 0);\n        return text;\n    }\n    /**\n    Create a new fragment containing the combined content of this\n    fragment and the other.\n    */\n    append(other) {\n        if (!other.size)\n            return this;\n        if (!this.size)\n            return other;\n        let last = this.lastChild, first = other.firstChild, content = this.content.slice(), i = 0;\n        if (last.isText && last.sameMarkup(first)) {\n            content[content.length - 1] = last.withText(last.text + first.text);\n            i = 1;\n        }\n        for (; i < other.content.length; i++)\n            content.push(other.content[i]);\n        return new Fragment(content, this.size + other.size);\n    }\n    /**\n    Cut out the sub-fragment between the two given positions.\n    */\n    cut(from, to = this.size) {\n        if (from == 0 && to == this.size)\n            return this;\n        let result = [], size = 0;\n        if (to > from)\n            for (let i = 0, pos = 0; pos < to; i++) {\n                let child = this.content[i], end = pos + child.nodeSize;\n                if (end > from) {\n                    if (pos < from || end > to) {\n                        if (child.isText)\n                            child = child.cut(Math.max(0, from - pos), Math.min(child.text.length, to - pos));\n                        else\n                            child = child.cut(Math.max(0, from - pos - 1), Math.min(child.content.size, to - pos - 1));\n                    }\n                    result.push(child);\n                    size += child.nodeSize;\n                }\n                pos = end;\n            }\n        return new Fragment(result, size);\n    }\n    /**\n    @internal\n    */\n    cutByIndex(from, to) {\n        if (from == to)\n            return Fragment.empty;\n        if (from == 0 && to == this.content.length)\n            return this;\n        return new Fragment(this.content.slice(from, to));\n    }\n    /**\n    Create a new fragment in which the node at the given index is\n    replaced by the given node.\n    */\n    replaceChild(index, node) {\n        let current = this.content[index];\n        if (current == node)\n            return this;\n        let copy = this.content.slice();\n        let size = this.size + node.nodeSize - current.nodeSize;\n        copy[index] = node;\n        return new Fragment(copy, size);\n    }\n    /**\n    Create a new fragment by prepending the given node to this\n    fragment.\n    */\n    addToStart(node) {\n        return new Fragment([node].concat(this.content), this.size + node.nodeSize);\n    }\n    /**\n    Create a new fragment by appending the given node to this\n    fragment.\n    */\n    addToEnd(node) {\n        return new Fragment(this.content.concat(node), this.size + node.nodeSize);\n    }\n    /**\n    Compare this fragment to another one.\n    */\n    eq(other) {\n        if (this.content.length != other.content.length)\n            return false;\n        for (let i = 0; i < this.content.length; i++)\n            if (!this.content[i].eq(other.content[i]))\n                return false;\n        return true;\n    }\n    /**\n    The first child of the fragment, or `null` if it is empty.\n    */\n    get firstChild() { return this.content.length ? this.content[0] : null; }\n    /**\n    The last child of the fragment, or `null` if it is empty.\n    */\n    get lastChild() { return this.content.length ? this.content[this.content.length - 1] : null; }\n    /**\n    The number of child nodes in this fragment.\n    */\n    get childCount() { return this.content.length; }\n    /**\n    Get the child node at the given index. Raise an error when the\n    index is out of range.\n    */\n    child(index) {\n        let found = this.content[index];\n        if (!found)\n            throw new RangeError(\"Index \" + index + \" out of range for \" + this);\n        return found;\n    }\n    /**\n    Get the child node at the given index, if it exists.\n    */\n    maybeChild(index) {\n        return this.content[index] || null;\n    }\n    /**\n    Call `f` for every child node, passing the node, its offset\n    into this parent node, and its index.\n    */\n    forEach(f) {\n        for (let i = 0, p = 0; i < this.content.length; i++) {\n            let child = this.content[i];\n            f(child, p, i);\n            p += child.nodeSize;\n        }\n    }\n    /**\n    Find the first position at which this fragment and another\n    fragment differ, or `null` if they are the same.\n    */\n    findDiffStart(other, pos = 0) {\n        return findDiffStart(this, other, pos);\n    }\n    /**\n    Find the first position, searching from the end, at which this\n    fragment and the given fragment differ, or `null` if they are\n    the same. Since this position will not be the same in both\n    nodes, an object with two separate positions is returned.\n    */\n    findDiffEnd(other, pos = this.size, otherPos = other.size) {\n        return findDiffEnd(this, other, pos, otherPos);\n    }\n    /**\n    Find the index and inner offset corresponding to a given relative\n    position in this fragment. The result object will be reused\n    (overwritten) the next time the function is called. @internal\n    */\n    findIndex(pos) {\n        if (pos == 0)\n            return retIndex(0, pos);\n        if (pos == this.size)\n            return retIndex(this.content.length, pos);\n        if (pos > this.size || pos < 0)\n            throw new RangeError(`Position ${pos} outside of fragment (${this})`);\n        for (let i = 0, curPos = 0;; i++) {\n            let cur = this.child(i), end = curPos + cur.nodeSize;\n            if (end >= pos) {\n                if (end == pos)\n                    return retIndex(i + 1, end);\n                return retIndex(i, curPos);\n            }\n            curPos = end;\n        }\n    }\n    /**\n    Return a debugging string that describes this fragment.\n    */\n    toString() { return \"<\" + this.toStringInner() + \">\"; }\n    /**\n    @internal\n    */\n    toStringInner() { return this.content.join(\", \"); }\n    /**\n    Create a JSON-serializeable representation of this fragment.\n    */\n    toJSON() {\n        return this.content.length ? this.content.map(n => n.toJSON()) : null;\n    }\n    /**\n    Deserialize a fragment from its JSON representation.\n    */\n    static fromJSON(schema, value) {\n        if (!value)\n            return Fragment.empty;\n        if (!Array.isArray(value))\n            throw new RangeError(\"Invalid input for Fragment.fromJSON\");\n        return new Fragment(value.map(schema.nodeFromJSON));\n    }\n    /**\n    Build a fragment from an array of nodes. Ensures that adjacent\n    text nodes with the same marks are joined together.\n    */\n    static fromArray(array) {\n        if (!array.length)\n            return Fragment.empty;\n        let joined, size = 0;\n        for (let i = 0; i < array.length; i++) {\n            let node = array[i];\n            size += node.nodeSize;\n            if (i && node.isText && array[i - 1].sameMarkup(node)) {\n                if (!joined)\n                    joined = array.slice(0, i);\n                joined[joined.length - 1] = node\n                    .withText(joined[joined.length - 1].text + node.text);\n            }\n            else if (joined) {\n                joined.push(node);\n            }\n        }\n        return new Fragment(joined || array, size);\n    }\n    /**\n    Create a fragment from something that can be interpreted as a\n    set of nodes. For `null`, it returns the empty fragment. For a\n    fragment, the fragment itself. For a node or array of nodes, a\n    fragment containing those nodes.\n    */\n    static from(nodes) {\n        if (!nodes)\n            return Fragment.empty;\n        if (nodes instanceof Fragment)\n            return nodes;\n        if (Array.isArray(nodes))\n            return this.fromArray(nodes);\n        if (nodes.attrs)\n            return new Fragment([nodes], nodes.nodeSize);\n        throw new RangeError(\"Can not convert \" + nodes + \" to a Fragment\" +\n            (nodes.nodesBetween ? \" (looks like multiple versions of prosemirror-model were loaded)\" : \"\"));\n    }\n}\n/**\nAn empty fragment. Intended to be reused whenever a node doesn't\ncontain anything (rather than allocating a new empty fragment for\neach leaf node).\n*/\nFragment.empty = new Fragment([], 0);\nconst found = { index: 0, offset: 0 };\nfunction retIndex(index, offset) {\n    found.index = index;\n    found.offset = offset;\n    return found;\n}\n\nfunction compareDeep(a, b) {\n    if (a === b)\n        return true;\n    if (!(a && typeof a == \"object\") ||\n        !(b && typeof b == \"object\"))\n        return false;\n    let array = Array.isArray(a);\n    if (Array.isArray(b) != array)\n        return false;\n    if (array) {\n        if (a.length != b.length)\n            return false;\n        for (let i = 0; i < a.length; i++)\n            if (!compareDeep(a[i], b[i]))\n                return false;\n    }\n    else {\n        for (let p in a)\n            if (!(p in b) || !compareDeep(a[p], b[p]))\n                return false;\n        for (let p in b)\n            if (!(p in a))\n                return false;\n    }\n    return true;\n}\n\n/**\nA mark is a piece of information that can be attached to a node,\nsuch as it being emphasized, in code font, or a link. It has a\ntype and optionally a set of attributes that provide further\ninformation (such as the target of the link). Marks are created\nthrough a `Schema`, which controls which types exist and which\nattributes they have.\n*/\nclass Mark {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The type of this mark.\n    */\n    type, \n    /**\n    The attributes associated with this mark.\n    */\n    attrs) {\n        this.type = type;\n        this.attrs = attrs;\n    }\n    /**\n    Given a set of marks, create a new set which contains this one as\n    well, in the right position. If this mark is already in the set,\n    the set itself is returned. If any marks that are set to be\n    [exclusive](https://prosemirror.net/docs/ref/#model.MarkSpec.excludes) with this mark are present,\n    those are replaced by this one.\n    */\n    addToSet(set) {\n        let copy, placed = false;\n        for (let i = 0; i < set.length; i++) {\n            let other = set[i];\n            if (this.eq(other))\n                return set;\n            if (this.type.excludes(other.type)) {\n                if (!copy)\n                    copy = set.slice(0, i);\n            }\n            else if (other.type.excludes(this.type)) {\n                return set;\n            }\n            else {\n                if (!placed && other.type.rank > this.type.rank) {\n                    if (!copy)\n                        copy = set.slice(0, i);\n                    copy.push(this);\n                    placed = true;\n                }\n                if (copy)\n                    copy.push(other);\n            }\n        }\n        if (!copy)\n            copy = set.slice();\n        if (!placed)\n            copy.push(this);\n        return copy;\n    }\n    /**\n    Remove this mark from the given set, returning a new set. If this\n    mark is not in the set, the set itself is returned.\n    */\n    removeFromSet(set) {\n        for (let i = 0; i < set.length; i++)\n            if (this.eq(set[i]))\n                return set.slice(0, i).concat(set.slice(i + 1));\n        return set;\n    }\n    /**\n    Test whether this mark is in the given set of marks.\n    */\n    isInSet(set) {\n        for (let i = 0; i < set.length; i++)\n            if (this.eq(set[i]))\n                return true;\n        return false;\n    }\n    /**\n    Test whether this mark has the same type and attributes as\n    another mark.\n    */\n    eq(other) {\n        return this == other ||\n            (this.type == other.type && compareDeep(this.attrs, other.attrs));\n    }\n    /**\n    Convert this mark to a JSON-serializeable representation.\n    */\n    toJSON() {\n        let obj = { type: this.type.name };\n        for (let _ in this.attrs) {\n            obj.attrs = this.attrs;\n            break;\n        }\n        return obj;\n    }\n    /**\n    Deserialize a mark from JSON.\n    */\n    static fromJSON(schema, json) {\n        if (!json)\n            throw new RangeError(\"Invalid input for Mark.fromJSON\");\n        let type = schema.marks[json.type];\n        if (!type)\n            throw new RangeError(`There is no mark type ${json.type} in this schema`);\n        let mark = type.create(json.attrs);\n        type.checkAttrs(mark.attrs);\n        return mark;\n    }\n    /**\n    Test whether two sets of marks are identical.\n    */\n    static sameSet(a, b) {\n        if (a == b)\n            return true;\n        if (a.length != b.length)\n            return false;\n        for (let i = 0; i < a.length; i++)\n            if (!a[i].eq(b[i]))\n                return false;\n        return true;\n    }\n    /**\n    Create a properly sorted mark set from null, a single mark, or an\n    unsorted array of marks.\n    */\n    static setFrom(marks) {\n        if (!marks || Array.isArray(marks) && marks.length == 0)\n            return Mark.none;\n        if (marks instanceof Mark)\n            return [marks];\n        let copy = marks.slice();\n        copy.sort((a, b) => a.type.rank - b.type.rank);\n        return copy;\n    }\n}\n/**\nThe empty set of marks.\n*/\nMark.none = [];\n\n/**\nError type raised by [`Node.replace`](https://prosemirror.net/docs/ref/#model.Node.replace) when\ngiven an invalid replacement.\n*/\nclass ReplaceError extends Error {\n}\n/*\nReplaceError = function(this: any, message: string) {\n  let err = Error.call(this, message)\n  ;(err as any).__proto__ = ReplaceError.prototype\n  return err\n} as any\n\nReplaceError.prototype = Object.create(Error.prototype)\nReplaceError.prototype.constructor = ReplaceError\nReplaceError.prototype.name = \"ReplaceError\"\n*/\n/**\nA slice represents a piece cut out of a larger document. It\nstores not only a fragment, but also the depth up to which nodes on\nboth side are ‘open’ (cut through).\n*/\nclass Slice {\n    /**\n    Create a slice. When specifying a non-zero open depth, you must\n    make sure that there are nodes of at least that depth at the\n    appropriate side of the fragment—i.e. if the fragment is an\n    empty paragraph node, `openStart` and `openEnd` can't be greater\n    than 1.\n    \n    It is not necessary for the content of open nodes to conform to\n    the schema's content constraints, though it should be a valid\n    start/end/middle for such a node, depending on which sides are\n    open.\n    */\n    constructor(\n    /**\n    The slice's content.\n    */\n    content, \n    /**\n    The open depth at the start of the fragment.\n    */\n    openStart, \n    /**\n    The open depth at the end.\n    */\n    openEnd) {\n        this.content = content;\n        this.openStart = openStart;\n        this.openEnd = openEnd;\n    }\n    /**\n    The size this slice would add when inserted into a document.\n    */\n    get size() {\n        return this.content.size - this.openStart - this.openEnd;\n    }\n    /**\n    @internal\n    */\n    insertAt(pos, fragment) {\n        let content = insertInto(this.content, pos + this.openStart, fragment);\n        return content && new Slice(content, this.openStart, this.openEnd);\n    }\n    /**\n    @internal\n    */\n    removeBetween(from, to) {\n        return new Slice(removeRange(this.content, from + this.openStart, to + this.openStart), this.openStart, this.openEnd);\n    }\n    /**\n    Tests whether this slice is equal to another slice.\n    */\n    eq(other) {\n        return this.content.eq(other.content) && this.openStart == other.openStart && this.openEnd == other.openEnd;\n    }\n    /**\n    @internal\n    */\n    toString() {\n        return this.content + \"(\" + this.openStart + \",\" + this.openEnd + \")\";\n    }\n    /**\n    Convert a slice to a JSON-serializable representation.\n    */\n    toJSON() {\n        if (!this.content.size)\n            return null;\n        let json = { content: this.content.toJSON() };\n        if (this.openStart > 0)\n            json.openStart = this.openStart;\n        if (this.openEnd > 0)\n            json.openEnd = this.openEnd;\n        return json;\n    }\n    /**\n    Deserialize a slice from its JSON representation.\n    */\n    static fromJSON(schema, json) {\n        if (!json)\n            return Slice.empty;\n        let openStart = json.openStart || 0, openEnd = json.openEnd || 0;\n        if (typeof openStart != \"number\" || typeof openEnd != \"number\")\n            throw new RangeError(\"Invalid input for Slice.fromJSON\");\n        return new Slice(Fragment.fromJSON(schema, json.content), openStart, openEnd);\n    }\n    /**\n    Create a slice from a fragment by taking the maximum possible\n    open value on both side of the fragment.\n    */\n    static maxOpen(fragment, openIsolating = true) {\n        let openStart = 0, openEnd = 0;\n        for (let n = fragment.firstChild; n && !n.isLeaf && (openIsolating || !n.type.spec.isolating); n = n.firstChild)\n            openStart++;\n        for (let n = fragment.lastChild; n && !n.isLeaf && (openIsolating || !n.type.spec.isolating); n = n.lastChild)\n            openEnd++;\n        return new Slice(fragment, openStart, openEnd);\n    }\n}\n/**\nThe empty slice.\n*/\nSlice.empty = new Slice(Fragment.empty, 0, 0);\nfunction removeRange(content, from, to) {\n    let { index, offset } = content.findIndex(from), child = content.maybeChild(index);\n    let { index: indexTo, offset: offsetTo } = content.findIndex(to);\n    if (offset == from || child.isText) {\n        if (offsetTo != to && !content.child(indexTo).isText)\n            throw new RangeError(\"Removing non-flat range\");\n        return content.cut(0, from).append(content.cut(to));\n    }\n    if (index != indexTo)\n        throw new RangeError(\"Removing non-flat range\");\n    return content.replaceChild(index, child.copy(removeRange(child.content, from - offset - 1, to - offset - 1)));\n}\nfunction insertInto(content, dist, insert, parent) {\n    let { index, offset } = content.findIndex(dist), child = content.maybeChild(index);\n    if (offset == dist || child.isText) {\n        if (parent && !parent.canReplace(index, index, insert))\n            return null;\n        return content.cut(0, dist).append(insert).append(content.cut(dist));\n    }\n    let inner = insertInto(child.content, dist - offset - 1, insert, child);\n    return inner && content.replaceChild(index, child.copy(inner));\n}\nfunction replace($from, $to, slice) {\n    if (slice.openStart > $from.depth)\n        throw new ReplaceError(\"Inserted content deeper than insertion position\");\n    if ($from.depth - slice.openStart != $to.depth - slice.openEnd)\n        throw new ReplaceError(\"Inconsistent open depths\");\n    return replaceOuter($from, $to, slice, 0);\n}\nfunction replaceOuter($from, $to, slice, depth) {\n    let index = $from.index(depth), node = $from.node(depth);\n    if (index == $to.index(depth) && depth < $from.depth - slice.openStart) {\n        let inner = replaceOuter($from, $to, slice, depth + 1);\n        return node.copy(node.content.replaceChild(index, inner));\n    }\n    else if (!slice.content.size) {\n        return close(node, replaceTwoWay($from, $to, depth));\n    }\n    else if (!slice.openStart && !slice.openEnd && $from.depth == depth && $to.depth == depth) { // Simple, flat case\n        let parent = $from.parent, content = parent.content;\n        return close(parent, content.cut(0, $from.parentOffset).append(slice.content).append(content.cut($to.parentOffset)));\n    }\n    else {\n        let { start, end } = prepareSliceForReplace(slice, $from);\n        return close(node, replaceThreeWay($from, start, end, $to, depth));\n    }\n}\nfunction checkJoin(main, sub) {\n    if (!sub.type.compatibleContent(main.type))\n        throw new ReplaceError(\"Cannot join \" + sub.type.name + \" onto \" + main.type.name);\n}\nfunction joinable($before, $after, depth) {\n    let node = $before.node(depth);\n    checkJoin(node, $after.node(depth));\n    return node;\n}\nfunction addNode(child, target) {\n    let last = target.length - 1;\n    if (last >= 0 && child.isText && child.sameMarkup(target[last]))\n        target[last] = child.withText(target[last].text + child.text);\n    else\n        target.push(child);\n}\nfunction addRange($start, $end, depth, target) {\n    let node = ($end || $start).node(depth);\n    let startIndex = 0, endIndex = $end ? $end.index(depth) : node.childCount;\n    if ($start) {\n        startIndex = $start.index(depth);\n        if ($start.depth > depth) {\n            startIndex++;\n        }\n        else if ($start.textOffset) {\n            addNode($start.nodeAfter, target);\n            startIndex++;\n        }\n    }\n    for (let i = startIndex; i < endIndex; i++)\n        addNode(node.child(i), target);\n    if ($end && $end.depth == depth && $end.textOffset)\n        addNode($end.nodeBefore, target);\n}\nfunction close(node, content) {\n    node.type.checkContent(content);\n    return node.copy(content);\n}\nfunction replaceThreeWay($from, $start, $end, $to, depth) {\n    let openStart = $from.depth > depth && joinable($from, $start, depth + 1);\n    let openEnd = $to.depth > depth && joinable($end, $to, depth + 1);\n    let content = [];\n    addRange(null, $from, depth, content);\n    if (openStart && openEnd && $start.index(depth) == $end.index(depth)) {\n        checkJoin(openStart, openEnd);\n        addNode(close(openStart, replaceThreeWay($from, $start, $end, $to, depth + 1)), content);\n    }\n    else {\n        if (openStart)\n            addNode(close(openStart, replaceTwoWay($from, $start, depth + 1)), content);\n        addRange($start, $end, depth, content);\n        if (openEnd)\n            addNode(close(openEnd, replaceTwoWay($end, $to, depth + 1)), content);\n    }\n    addRange($to, null, depth, content);\n    return new Fragment(content);\n}\nfunction replaceTwoWay($from, $to, depth) {\n    let content = [];\n    addRange(null, $from, depth, content);\n    if ($from.depth > depth) {\n        let type = joinable($from, $to, depth + 1);\n        addNode(close(type, replaceTwoWay($from, $to, depth + 1)), content);\n    }\n    addRange($to, null, depth, content);\n    return new Fragment(content);\n}\nfunction prepareSliceForReplace(slice, $along) {\n    let extra = $along.depth - slice.openStart, parent = $along.node(extra);\n    let node = parent.copy(slice.content);\n    for (let i = extra - 1; i >= 0; i--)\n        node = $along.node(i).copy(Fragment.from(node));\n    return { start: node.resolveNoCache(slice.openStart + extra),\n        end: node.resolveNoCache(node.content.size - slice.openEnd - extra) };\n}\n\n/**\nYou can [_resolve_](https://prosemirror.net/docs/ref/#model.Node.resolve) a position to get more\ninformation about it. Objects of this class represent such a\nresolved position, providing various pieces of context\ninformation, and some helper methods.\n\nThroughout this interface, methods that take an optional `depth`\nparameter will interpret undefined as `this.depth` and negative\nnumbers as `this.depth + value`.\n*/\nclass ResolvedPos {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The position that was resolved.\n    */\n    pos, \n    /**\n    @internal\n    */\n    path, \n    /**\n    The offset this position has into its parent node.\n    */\n    parentOffset) {\n        this.pos = pos;\n        this.path = path;\n        this.parentOffset = parentOffset;\n        this.depth = path.length / 3 - 1;\n    }\n    /**\n    @internal\n    */\n    resolveDepth(val) {\n        if (val == null)\n            return this.depth;\n        if (val < 0)\n            return this.depth + val;\n        return val;\n    }\n    /**\n    The parent node that the position points into. Note that even if\n    a position points into a text node, that node is not considered\n    the parent—text nodes are ‘flat’ in this model, and have no content.\n    */\n    get parent() { return this.node(this.depth); }\n    /**\n    The root node in which the position was resolved.\n    */\n    get doc() { return this.node(0); }\n    /**\n    The ancestor node at the given level. `p.node(p.depth)` is the\n    same as `p.parent`.\n    */\n    node(depth) { return this.path[this.resolveDepth(depth) * 3]; }\n    /**\n    The index into the ancestor at the given level. If this points\n    at the 3rd node in the 2nd paragraph on the top level, for\n    example, `p.index(0)` is 1 and `p.index(1)` is 2.\n    */\n    index(depth) { return this.path[this.resolveDepth(depth) * 3 + 1]; }\n    /**\n    The index pointing after this position into the ancestor at the\n    given level.\n    */\n    indexAfter(depth) {\n        depth = this.resolveDepth(depth);\n        return this.index(depth) + (depth == this.depth && !this.textOffset ? 0 : 1);\n    }\n    /**\n    The (absolute) position at the start of the node at the given\n    level.\n    */\n    start(depth) {\n        depth = this.resolveDepth(depth);\n        return depth == 0 ? 0 : this.path[depth * 3 - 1] + 1;\n    }\n    /**\n    The (absolute) position at the end of the node at the given\n    level.\n    */\n    end(depth) {\n        depth = this.resolveDepth(depth);\n        return this.start(depth) + this.node(depth).content.size;\n    }\n    /**\n    The (absolute) position directly before the wrapping node at the\n    given level, or, when `depth` is `this.depth + 1`, the original\n    position.\n    */\n    before(depth) {\n        depth = this.resolveDepth(depth);\n        if (!depth)\n            throw new RangeError(\"There is no position before the top-level node\");\n        return depth == this.depth + 1 ? this.pos : this.path[depth * 3 - 1];\n    }\n    /**\n    The (absolute) position directly after the wrapping node at the\n    given level, or the original position when `depth` is `this.depth + 1`.\n    */\n    after(depth) {\n        depth = this.resolveDepth(depth);\n        if (!depth)\n            throw new RangeError(\"There is no position after the top-level node\");\n        return depth == this.depth + 1 ? this.pos : this.path[depth * 3 - 1] + this.path[depth * 3].nodeSize;\n    }\n    /**\n    When this position points into a text node, this returns the\n    distance between the position and the start of the text node.\n    Will be zero for positions that point between nodes.\n    */\n    get textOffset() { return this.pos - this.path[this.path.length - 1]; }\n    /**\n    Get the node directly after the position, if any. If the position\n    points into a text node, only the part of that node after the\n    position is returned.\n    */\n    get nodeAfter() {\n        let parent = this.parent, index = this.index(this.depth);\n        if (index == parent.childCount)\n            return null;\n        let dOff = this.pos - this.path[this.path.length - 1], child = parent.child(index);\n        return dOff ? parent.child(index).cut(dOff) : child;\n    }\n    /**\n    Get the node directly before the position, if any. If the\n    position points into a text node, only the part of that node\n    before the position is returned.\n    */\n    get nodeBefore() {\n        let index = this.index(this.depth);\n        let dOff = this.pos - this.path[this.path.length - 1];\n        if (dOff)\n            return this.parent.child(index).cut(0, dOff);\n        return index == 0 ? null : this.parent.child(index - 1);\n    }\n    /**\n    Get the position at the given index in the parent node at the\n    given depth (which defaults to `this.depth`).\n    */\n    posAtIndex(index, depth) {\n        depth = this.resolveDepth(depth);\n        let node = this.path[depth * 3], pos = depth == 0 ? 0 : this.path[depth * 3 - 1] + 1;\n        for (let i = 0; i < index; i++)\n            pos += node.child(i).nodeSize;\n        return pos;\n    }\n    /**\n    Get the marks at this position, factoring in the surrounding\n    marks' [`inclusive`](https://prosemirror.net/docs/ref/#model.MarkSpec.inclusive) property. If the\n    position is at the start of a non-empty node, the marks of the\n    node after it (if any) are returned.\n    */\n    marks() {\n        let parent = this.parent, index = this.index();\n        // In an empty parent, return the empty array\n        if (parent.content.size == 0)\n            return Mark.none;\n        // When inside a text node, just return the text node's marks\n        if (this.textOffset)\n            return parent.child(index).marks;\n        let main = parent.maybeChild(index - 1), other = parent.maybeChild(index);\n        // If the `after` flag is true of there is no node before, make\n        // the node after this position the main reference.\n        if (!main) {\n            let tmp = main;\n            main = other;\n            other = tmp;\n        }\n        // Use all marks in the main node, except those that have\n        // `inclusive` set to false and are not present in the other node.\n        let marks = main.marks;\n        for (var i = 0; i < marks.length; i++)\n            if (marks[i].type.spec.inclusive === false && (!other || !marks[i].isInSet(other.marks)))\n                marks = marks[i--].removeFromSet(marks);\n        return marks;\n    }\n    /**\n    Get the marks after the current position, if any, except those\n    that are non-inclusive and not present at position `$end`. This\n    is mostly useful for getting the set of marks to preserve after a\n    deletion. Will return `null` if this position is at the end of\n    its parent node or its parent node isn't a textblock (in which\n    case no marks should be preserved).\n    */\n    marksAcross($end) {\n        let after = this.parent.maybeChild(this.index());\n        if (!after || !after.isInline)\n            return null;\n        let marks = after.marks, next = $end.parent.maybeChild($end.index());\n        for (var i = 0; i < marks.length; i++)\n            if (marks[i].type.spec.inclusive === false && (!next || !marks[i].isInSet(next.marks)))\n                marks = marks[i--].removeFromSet(marks);\n        return marks;\n    }\n    /**\n    The depth up to which this position and the given (non-resolved)\n    position share the same parent nodes.\n    */\n    sharedDepth(pos) {\n        for (let depth = this.depth; depth > 0; depth--)\n            if (this.start(depth) <= pos && this.end(depth) >= pos)\n                return depth;\n        return 0;\n    }\n    /**\n    Returns a range based on the place where this position and the\n    given position diverge around block content. If both point into\n    the same textblock, for example, a range around that textblock\n    will be returned. If they point into different blocks, the range\n    around those blocks in their shared ancestor is returned. You can\n    pass in an optional predicate that will be called with a parent\n    node to see if a range into that parent is acceptable.\n    */\n    blockRange(other = this, pred) {\n        if (other.pos < this.pos)\n            return other.blockRange(this);\n        for (let d = this.depth - (this.parent.inlineContent || this.pos == other.pos ? 1 : 0); d >= 0; d--)\n            if (other.pos <= this.end(d) && (!pred || pred(this.node(d))))\n                return new NodeRange(this, other, d);\n        return null;\n    }\n    /**\n    Query whether the given position shares the same parent node.\n    */\n    sameParent(other) {\n        return this.pos - this.parentOffset == other.pos - other.parentOffset;\n    }\n    /**\n    Return the greater of this and the given position.\n    */\n    max(other) {\n        return other.pos > this.pos ? other : this;\n    }\n    /**\n    Return the smaller of this and the given position.\n    */\n    min(other) {\n        return other.pos < this.pos ? other : this;\n    }\n    /**\n    @internal\n    */\n    toString() {\n        let str = \"\";\n        for (let i = 1; i <= this.depth; i++)\n            str += (str ? \"/\" : \"\") + this.node(i).type.name + \"_\" + this.index(i - 1);\n        return str + \":\" + this.parentOffset;\n    }\n    /**\n    @internal\n    */\n    static resolve(doc, pos) {\n        if (!(pos >= 0 && pos <= doc.content.size))\n            throw new RangeError(\"Position \" + pos + \" out of range\");\n        let path = [];\n        let start = 0, parentOffset = pos;\n        for (let node = doc;;) {\n            let { index, offset } = node.content.findIndex(parentOffset);\n            let rem = parentOffset - offset;\n            path.push(node, index, start + offset);\n            if (!rem)\n                break;\n            node = node.child(index);\n            if (node.isText)\n                break;\n            parentOffset = rem - 1;\n            start += offset + 1;\n        }\n        return new ResolvedPos(pos, path, parentOffset);\n    }\n    /**\n    @internal\n    */\n    static resolveCached(doc, pos) {\n        let cache = resolveCache.get(doc);\n        if (cache) {\n            for (let i = 0; i < cache.elts.length; i++) {\n                let elt = cache.elts[i];\n                if (elt.pos == pos)\n                    return elt;\n            }\n        }\n        else {\n            resolveCache.set(doc, cache = new ResolveCache);\n        }\n        let result = cache.elts[cache.i] = ResolvedPos.resolve(doc, pos);\n        cache.i = (cache.i + 1) % resolveCacheSize;\n        return result;\n    }\n}\nclass ResolveCache {\n    constructor() {\n        this.elts = [];\n        this.i = 0;\n    }\n}\nconst resolveCacheSize = 12, resolveCache = new WeakMap();\n/**\nRepresents a flat range of content, i.e. one that starts and\nends in the same node.\n*/\nclass NodeRange {\n    /**\n    Construct a node range. `$from` and `$to` should point into the\n    same node until at least the given `depth`, since a node range\n    denotes an adjacent set of nodes in a single parent node.\n    */\n    constructor(\n    /**\n    A resolved position along the start of the content. May have a\n    `depth` greater than this object's `depth` property, since\n    these are the positions that were used to compute the range,\n    not re-resolved positions directly at its boundaries.\n    */\n    $from, \n    /**\n    A position along the end of the content. See\n    caveat for [`$from`](https://prosemirror.net/docs/ref/#model.NodeRange.$from).\n    */\n    $to, \n    /**\n    The depth of the node that this range points into.\n    */\n    depth) {\n        this.$from = $from;\n        this.$to = $to;\n        this.depth = depth;\n    }\n    /**\n    The position at the start of the range.\n    */\n    get start() { return this.$from.before(this.depth + 1); }\n    /**\n    The position at the end of the range.\n    */\n    get end() { return this.$to.after(this.depth + 1); }\n    /**\n    The parent node that the range points into.\n    */\n    get parent() { return this.$from.node(this.depth); }\n    /**\n    The start index of the range in the parent node.\n    */\n    get startIndex() { return this.$from.index(this.depth); }\n    /**\n    The end index of the range in the parent node.\n    */\n    get endIndex() { return this.$to.indexAfter(this.depth); }\n}\n\nconst emptyAttrs = Object.create(null);\n/**\nThis class represents a node in the tree that makes up a\nProseMirror document. So a document is an instance of `Node`, with\nchildren that are also instances of `Node`.\n\nNodes are persistent data structures. Instead of changing them, you\ncreate new ones with the content you want. Old ones keep pointing\nat the old document shape. This is made cheaper by sharing\nstructure between the old and new data as much as possible, which a\ntree shape like this (without back pointers) makes easy.\n\n**Do not** directly mutate the properties of a `Node` object. See\n[the guide](https://prosemirror.net/docs/guide/#doc) for more information.\n*/\nclass Node {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The type of node that this is.\n    */\n    type, \n    /**\n    An object mapping attribute names to values. The kind of\n    attributes allowed and required are\n    [determined](https://prosemirror.net/docs/ref/#model.NodeSpec.attrs) by the node type.\n    */\n    attrs, \n    // A fragment holding the node's children.\n    content, \n    /**\n    The marks (things like whether it is emphasized or part of a\n    link) applied to this node.\n    */\n    marks = Mark.none) {\n        this.type = type;\n        this.attrs = attrs;\n        this.marks = marks;\n        this.content = content || Fragment.empty;\n    }\n    /**\n    The array of this node's child nodes.\n    */\n    get children() { return this.content.content; }\n    /**\n    The size of this node, as defined by the integer-based [indexing\n    scheme](https://prosemirror.net/docs/guide/#doc.indexing). For text nodes, this is the\n    amount of characters. For other leaf nodes, it is one. For\n    non-leaf nodes, it is the size of the content plus two (the\n    start and end token).\n    */\n    get nodeSize() { return this.isLeaf ? 1 : 2 + this.content.size; }\n    /**\n    The number of children that the node has.\n    */\n    get childCount() { return this.content.childCount; }\n    /**\n    Get the child node at the given index. Raises an error when the\n    index is out of range.\n    */\n    child(index) { return this.content.child(index); }\n    /**\n    Get the child node at the given index, if it exists.\n    */\n    maybeChild(index) { return this.content.maybeChild(index); }\n    /**\n    Call `f` for every child node, passing the node, its offset\n    into this parent node, and its index.\n    */\n    forEach(f) { this.content.forEach(f); }\n    /**\n    Invoke a callback for all descendant nodes recursively between\n    the given two positions that are relative to start of this\n    node's content. The callback is invoked with the node, its\n    position relative to the original node (method receiver),\n    its parent node, and its child index. When the callback returns\n    false for a given node, that node's children will not be\n    recursed over. The last parameter can be used to specify a\n    starting position to count from.\n    */\n    nodesBetween(from, to, f, startPos = 0) {\n        this.content.nodesBetween(from, to, f, startPos, this);\n    }\n    /**\n    Call the given callback for every descendant node. Doesn't\n    descend into a node when the callback returns `false`.\n    */\n    descendants(f) {\n        this.nodesBetween(0, this.content.size, f);\n    }\n    /**\n    Concatenates all the text nodes found in this fragment and its\n    children.\n    */\n    get textContent() {\n        return (this.isLeaf && this.type.spec.leafText)\n            ? this.type.spec.leafText(this)\n            : this.textBetween(0, this.content.size, \"\");\n    }\n    /**\n    Get all text between positions `from` and `to`. When\n    `blockSeparator` is given, it will be inserted to separate text\n    from different block nodes. If `leafText` is given, it'll be\n    inserted for every non-text leaf node encountered, otherwise\n    [`leafText`](https://prosemirror.net/docs/ref/#model.NodeSpec.leafText) will be used.\n    */\n    textBetween(from, to, blockSeparator, leafText) {\n        return this.content.textBetween(from, to, blockSeparator, leafText);\n    }\n    /**\n    Returns this node's first child, or `null` if there are no\n    children.\n    */\n    get firstChild() { return this.content.firstChild; }\n    /**\n    Returns this node's last child, or `null` if there are no\n    children.\n    */\n    get lastChild() { return this.content.lastChild; }\n    /**\n    Test whether two nodes represent the same piece of document.\n    */\n    eq(other) {\n        return this == other || (this.sameMarkup(other) && this.content.eq(other.content));\n    }\n    /**\n    Compare the markup (type, attributes, and marks) of this node to\n    those of another. Returns `true` if both have the same markup.\n    */\n    sameMarkup(other) {\n        return this.hasMarkup(other.type, other.attrs, other.marks);\n    }\n    /**\n    Check whether this node's markup correspond to the given type,\n    attributes, and marks.\n    */\n    hasMarkup(type, attrs, marks) {\n        return this.type == type &&\n            compareDeep(this.attrs, attrs || type.defaultAttrs || emptyAttrs) &&\n            Mark.sameSet(this.marks, marks || Mark.none);\n    }\n    /**\n    Create a new node with the same markup as this node, containing\n    the given content (or empty, if no content is given).\n    */\n    copy(content = null) {\n        if (content == this.content)\n            return this;\n        return new Node(this.type, this.attrs, content, this.marks);\n    }\n    /**\n    Create a copy of this node, with the given set of marks instead\n    of the node's own marks.\n    */\n    mark(marks) {\n        return marks == this.marks ? this : new Node(this.type, this.attrs, this.content, marks);\n    }\n    /**\n    Create a copy of this node with only the content between the\n    given positions. If `to` is not given, it defaults to the end of\n    the node.\n    */\n    cut(from, to = this.content.size) {\n        if (from == 0 && to == this.content.size)\n            return this;\n        return this.copy(this.content.cut(from, to));\n    }\n    /**\n    Cut out the part of the document between the given positions, and\n    return it as a `Slice` object.\n    */\n    slice(from, to = this.content.size, includeParents = false) {\n        if (from == to)\n            return Slice.empty;\n        let $from = this.resolve(from), $to = this.resolve(to);\n        let depth = includeParents ? 0 : $from.sharedDepth(to);\n        let start = $from.start(depth), node = $from.node(depth);\n        let content = node.content.cut($from.pos - start, $to.pos - start);\n        return new Slice(content, $from.depth - depth, $to.depth - depth);\n    }\n    /**\n    Replace the part of the document between the given positions with\n    the given slice. The slice must 'fit', meaning its open sides\n    must be able to connect to the surrounding content, and its\n    content nodes must be valid children for the node they are placed\n    into. If any of this is violated, an error of type\n    [`ReplaceError`](https://prosemirror.net/docs/ref/#model.ReplaceError) is thrown.\n    */\n    replace(from, to, slice) {\n        return replace(this.resolve(from), this.resolve(to), slice);\n    }\n    /**\n    Find the node directly after the given position.\n    */\n    nodeAt(pos) {\n        for (let node = this;;) {\n            let { index, offset } = node.content.findIndex(pos);\n            node = node.maybeChild(index);\n            if (!node)\n                return null;\n            if (offset == pos || node.isText)\n                return node;\n            pos -= offset + 1;\n        }\n    }\n    /**\n    Find the (direct) child node after the given offset, if any,\n    and return it along with its index and offset relative to this\n    node.\n    */\n    childAfter(pos) {\n        let { index, offset } = this.content.findIndex(pos);\n        return { node: this.content.maybeChild(index), index, offset };\n    }\n    /**\n    Find the (direct) child node before the given offset, if any,\n    and return it along with its index and offset relative to this\n    node.\n    */\n    childBefore(pos) {\n        if (pos == 0)\n            return { node: null, index: 0, offset: 0 };\n        let { index, offset } = this.content.findIndex(pos);\n        if (offset < pos)\n            return { node: this.content.child(index), index, offset };\n        let node = this.content.child(index - 1);\n        return { node, index: index - 1, offset: offset - node.nodeSize };\n    }\n    /**\n    Resolve the given position in the document, returning an\n    [object](https://prosemirror.net/docs/ref/#model.ResolvedPos) with information about its context.\n    */\n    resolve(pos) { return ResolvedPos.resolveCached(this, pos); }\n    /**\n    @internal\n    */\n    resolveNoCache(pos) { return ResolvedPos.resolve(this, pos); }\n    /**\n    Test whether a given mark or mark type occurs in this document\n    between the two given positions.\n    */\n    rangeHasMark(from, to, type) {\n        let found = false;\n        if (to > from)\n            this.nodesBetween(from, to, node => {\n                if (type.isInSet(node.marks))\n                    found = true;\n                return !found;\n            });\n        return found;\n    }\n    /**\n    True when this is a block (non-inline node)\n    */\n    get isBlock() { return this.type.isBlock; }\n    /**\n    True when this is a textblock node, a block node with inline\n    content.\n    */\n    get isTextblock() { return this.type.isTextblock; }\n    /**\n    True when this node allows inline content.\n    */\n    get inlineContent() { return this.type.inlineContent; }\n    /**\n    True when this is an inline node (a text node or a node that can\n    appear among text).\n    */\n    get isInline() { return this.type.isInline; }\n    /**\n    True when this is a text node.\n    */\n    get isText() { return this.type.isText; }\n    /**\n    True when this is a leaf node.\n    */\n    get isLeaf() { return this.type.isLeaf; }\n    /**\n    True when this is an atom, i.e. when it does not have directly\n    editable content. This is usually the same as `isLeaf`, but can\n    be configured with the [`atom` property](https://prosemirror.net/docs/ref/#model.NodeSpec.atom)\n    on a node's spec (typically used when the node is displayed as\n    an uneditable [node view](https://prosemirror.net/docs/ref/#view.NodeView)).\n    */\n    get isAtom() { return this.type.isAtom; }\n    /**\n    Return a string representation of this node for debugging\n    purposes.\n    */\n    toString() {\n        if (this.type.spec.toDebugString)\n            return this.type.spec.toDebugString(this);\n        let name = this.type.name;\n        if (this.content.size)\n            name += \"(\" + this.content.toStringInner() + \")\";\n        return wrapMarks(this.marks, name);\n    }\n    /**\n    Get the content match in this node at the given index.\n    */\n    contentMatchAt(index) {\n        let match = this.type.contentMatch.matchFragment(this.content, 0, index);\n        if (!match)\n            throw new Error(\"Called contentMatchAt on a node with invalid content\");\n        return match;\n    }\n    /**\n    Test whether replacing the range between `from` and `to` (by\n    child index) with the given replacement fragment (which defaults\n    to the empty fragment) would leave the node's content valid. You\n    can optionally pass `start` and `end` indices into the\n    replacement fragment.\n    */\n    canReplace(from, to, replacement = Fragment.empty, start = 0, end = replacement.childCount) {\n        let one = this.contentMatchAt(from).matchFragment(replacement, start, end);\n        let two = one && one.matchFragment(this.content, to);\n        if (!two || !two.validEnd)\n            return false;\n        for (let i = start; i < end; i++)\n            if (!this.type.allowsMarks(replacement.child(i).marks))\n                return false;\n        return true;\n    }\n    /**\n    Test whether replacing the range `from` to `to` (by index) with\n    a node of the given type would leave the node's content valid.\n    */\n    canReplaceWith(from, to, type, marks) {\n        if (marks && !this.type.allowsMarks(marks))\n            return false;\n        let start = this.contentMatchAt(from).matchType(type);\n        let end = start && start.matchFragment(this.content, to);\n        return end ? end.validEnd : false;\n    }\n    /**\n    Test whether the given node's content could be appended to this\n    node. If that node is empty, this will only return true if there\n    is at least one node type that can appear in both nodes (to avoid\n    merging completely incompatible nodes).\n    */\n    canAppend(other) {\n        if (other.content.size)\n            return this.canReplace(this.childCount, this.childCount, other.content);\n        else\n            return this.type.compatibleContent(other.type);\n    }\n    /**\n    Check whether this node and its descendants conform to the\n    schema, and raise an exception when they do not.\n    */\n    check() {\n        this.type.checkContent(this.content);\n        this.type.checkAttrs(this.attrs);\n        let copy = Mark.none;\n        for (let i = 0; i < this.marks.length; i++) {\n            let mark = this.marks[i];\n            mark.type.checkAttrs(mark.attrs);\n            copy = mark.addToSet(copy);\n        }\n        if (!Mark.sameSet(copy, this.marks))\n            throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(m => m.type.name)}`);\n        this.content.forEach(node => node.check());\n    }\n    /**\n    Return a JSON-serializeable representation of this node.\n    */\n    toJSON() {\n        let obj = { type: this.type.name };\n        for (let _ in this.attrs) {\n            obj.attrs = this.attrs;\n            break;\n        }\n        if (this.content.size)\n            obj.content = this.content.toJSON();\n        if (this.marks.length)\n            obj.marks = this.marks.map(n => n.toJSON());\n        return obj;\n    }\n    /**\n    Deserialize a node from its JSON representation.\n    */\n    static fromJSON(schema, json) {\n        if (!json)\n            throw new RangeError(\"Invalid input for Node.fromJSON\");\n        let marks = undefined;\n        if (json.marks) {\n            if (!Array.isArray(json.marks))\n                throw new RangeError(\"Invalid mark data for Node.fromJSON\");\n            marks = json.marks.map(schema.markFromJSON);\n        }\n        if (json.type == \"text\") {\n            if (typeof json.text != \"string\")\n                throw new RangeError(\"Invalid text node in JSON\");\n            return schema.text(json.text, marks);\n        }\n        let content = Fragment.fromJSON(schema, json.content);\n        let node = schema.nodeType(json.type).create(json.attrs, content, marks);\n        node.type.checkAttrs(node.attrs);\n        return node;\n    }\n}\nNode.prototype.text = undefined;\nclass TextNode extends Node {\n    /**\n    @internal\n    */\n    constructor(type, attrs, content, marks) {\n        super(type, attrs, null, marks);\n        if (!content)\n            throw new RangeError(\"Empty text nodes are not allowed\");\n        this.text = content;\n    }\n    toString() {\n        if (this.type.spec.toDebugString)\n            return this.type.spec.toDebugString(this);\n        return wrapMarks(this.marks, JSON.stringify(this.text));\n    }\n    get textContent() { return this.text; }\n    textBetween(from, to) { return this.text.slice(from, to); }\n    get nodeSize() { return this.text.length; }\n    mark(marks) {\n        return marks == this.marks ? this : new TextNode(this.type, this.attrs, this.text, marks);\n    }\n    withText(text) {\n        if (text == this.text)\n            return this;\n        return new TextNode(this.type, this.attrs, text, this.marks);\n    }\n    cut(from = 0, to = this.text.length) {\n        if (from == 0 && to == this.text.length)\n            return this;\n        return this.withText(this.text.slice(from, to));\n    }\n    eq(other) {\n        return this.sameMarkup(other) && this.text == other.text;\n    }\n    toJSON() {\n        let base = super.toJSON();\n        base.text = this.text;\n        return base;\n    }\n}\nfunction wrapMarks(marks, str) {\n    for (let i = marks.length - 1; i >= 0; i--)\n        str = marks[i].type.name + \"(\" + str + \")\";\n    return str;\n}\n\n/**\nInstances of this class represent a match state of a node type's\n[content expression](https://prosemirror.net/docs/ref/#model.NodeSpec.content), and can be used to\nfind out whether further content matches here, and whether a given\nposition is a valid end of the node.\n*/\nclass ContentMatch {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    True when this match state represents a valid end of the node.\n    */\n    validEnd) {\n        this.validEnd = validEnd;\n        /**\n        @internal\n        */\n        this.next = [];\n        /**\n        @internal\n        */\n        this.wrapCache = [];\n    }\n    /**\n    @internal\n    */\n    static parse(string, nodeTypes) {\n        let stream = new TokenStream(string, nodeTypes);\n        if (stream.next == null)\n            return ContentMatch.empty;\n        let expr = parseExpr(stream);\n        if (stream.next)\n            stream.err(\"Unexpected trailing text\");\n        let match = dfa(nfa(expr));\n        checkForDeadEnds(match, stream);\n        return match;\n    }\n    /**\n    Match a node type, returning a match after that node if\n    successful.\n    */\n    matchType(type) {\n        for (let i = 0; i < this.next.length; i++)\n            if (this.next[i].type == type)\n                return this.next[i].next;\n        return null;\n    }\n    /**\n    Try to match a fragment. Returns the resulting match when\n    successful.\n    */\n    matchFragment(frag, start = 0, end = frag.childCount) {\n        let cur = this;\n        for (let i = start; cur && i < end; i++)\n            cur = cur.matchType(frag.child(i).type);\n        return cur;\n    }\n    /**\n    @internal\n    */\n    get inlineContent() {\n        return this.next.length != 0 && this.next[0].type.isInline;\n    }\n    /**\n    Get the first matching node type at this match position that can\n    be generated.\n    */\n    get defaultType() {\n        for (let i = 0; i < this.next.length; i++) {\n            let { type } = this.next[i];\n            if (!(type.isText || type.hasRequiredAttrs()))\n                return type;\n        }\n        return null;\n    }\n    /**\n    @internal\n    */\n    compatible(other) {\n        for (let i = 0; i < this.next.length; i++)\n            for (let j = 0; j < other.next.length; j++)\n                if (this.next[i].type == other.next[j].type)\n                    return true;\n        return false;\n    }\n    /**\n    Try to match the given fragment, and if that fails, see if it can\n    be made to match by inserting nodes in front of it. When\n    successful, return a fragment of inserted nodes (which may be\n    empty if nothing had to be inserted). When `toEnd` is true, only\n    return a fragment if the resulting match goes to the end of the\n    content expression.\n    */\n    fillBefore(after, toEnd = false, startIndex = 0) {\n        let seen = [this];\n        function search(match, types) {\n            let finished = match.matchFragment(after, startIndex);\n            if (finished && (!toEnd || finished.validEnd))\n                return Fragment.from(types.map(tp => tp.createAndFill()));\n            for (let i = 0; i < match.next.length; i++) {\n                let { type, next } = match.next[i];\n                if (!(type.isText || type.hasRequiredAttrs()) && seen.indexOf(next) == -1) {\n                    seen.push(next);\n                    let found = search(next, types.concat(type));\n                    if (found)\n                        return found;\n                }\n            }\n            return null;\n        }\n        return search(this, []);\n    }\n    /**\n    Find a set of wrapping node types that would allow a node of the\n    given type to appear at this position. The result may be empty\n    (when it fits directly) and will be null when no such wrapping\n    exists.\n    */\n    findWrapping(target) {\n        for (let i = 0; i < this.wrapCache.length; i += 2)\n            if (this.wrapCache[i] == target)\n                return this.wrapCache[i + 1];\n        let computed = this.computeWrapping(target);\n        this.wrapCache.push(target, computed);\n        return computed;\n    }\n    /**\n    @internal\n    */\n    computeWrapping(target) {\n        let seen = Object.create(null), active = [{ match: this, type: null, via: null }];\n        while (active.length) {\n            let current = active.shift(), match = current.match;\n            if (match.matchType(target)) {\n                let result = [];\n                for (let obj = current; obj.type; obj = obj.via)\n                    result.push(obj.type);\n                return result.reverse();\n            }\n            for (let i = 0; i < match.next.length; i++) {\n                let { type, next } = match.next[i];\n                if (!type.isLeaf && !type.hasRequiredAttrs() && !(type.name in seen) && (!current.type || next.validEnd)) {\n                    active.push({ match: type.contentMatch, type, via: current });\n                    seen[type.name] = true;\n                }\n            }\n        }\n        return null;\n    }\n    /**\n    The number of outgoing edges this node has in the finite\n    automaton that describes the content expression.\n    */\n    get edgeCount() {\n        return this.next.length;\n    }\n    /**\n    Get the _n_​th outgoing edge from this node in the finite\n    automaton that describes the content expression.\n    */\n    edge(n) {\n        if (n >= this.next.length)\n            throw new RangeError(`There's no ${n}th edge in this content match`);\n        return this.next[n];\n    }\n    /**\n    @internal\n    */\n    toString() {\n        let seen = [];\n        function scan(m) {\n            seen.push(m);\n            for (let i = 0; i < m.next.length; i++)\n                if (seen.indexOf(m.next[i].next) == -1)\n                    scan(m.next[i].next);\n        }\n        scan(this);\n        return seen.map((m, i) => {\n            let out = i + (m.validEnd ? \"*\" : \" \") + \" \";\n            for (let i = 0; i < m.next.length; i++)\n                out += (i ? \", \" : \"\") + m.next[i].type.name + \"->\" + seen.indexOf(m.next[i].next);\n            return out;\n        }).join(\"\\n\");\n    }\n}\n/**\n@internal\n*/\nContentMatch.empty = new ContentMatch(true);\nclass TokenStream {\n    constructor(string, nodeTypes) {\n        this.string = string;\n        this.nodeTypes = nodeTypes;\n        this.inline = null;\n        this.pos = 0;\n        this.tokens = string.split(/\\s*(?=\\b|\\W|$)/);\n        if (this.tokens[this.tokens.length - 1] == \"\")\n            this.tokens.pop();\n        if (this.tokens[0] == \"\")\n            this.tokens.shift();\n    }\n    get next() { return this.tokens[this.pos]; }\n    eat(tok) { return this.next == tok && (this.pos++ || true); }\n    err(str) { throw new SyntaxError(str + \" (in content expression '\" + this.string + \"')\"); }\n}\nfunction parseExpr(stream) {\n    let exprs = [];\n    do {\n        exprs.push(parseExprSeq(stream));\n    } while (stream.eat(\"|\"));\n    return exprs.length == 1 ? exprs[0] : { type: \"choice\", exprs };\n}\nfunction parseExprSeq(stream) {\n    let exprs = [];\n    do {\n        exprs.push(parseExprSubscript(stream));\n    } while (stream.next && stream.next != \")\" && stream.next != \"|\");\n    return exprs.length == 1 ? exprs[0] : { type: \"seq\", exprs };\n}\nfunction parseExprSubscript(stream) {\n    let expr = parseExprAtom(stream);\n    for (;;) {\n        if (stream.eat(\"+\"))\n            expr = { type: \"plus\", expr };\n        else if (stream.eat(\"*\"))\n            expr = { type: \"star\", expr };\n        else if (stream.eat(\"?\"))\n            expr = { type: \"opt\", expr };\n        else if (stream.eat(\"{\"))\n            expr = parseExprRange(stream, expr);\n        else\n            break;\n    }\n    return expr;\n}\nfunction parseNum(stream) {\n    if (/\\D/.test(stream.next))\n        stream.err(\"Expected number, got '\" + stream.next + \"'\");\n    let result = Number(stream.next);\n    stream.pos++;\n    return result;\n}\nfunction parseExprRange(stream, expr) {\n    let min = parseNum(stream), max = min;\n    if (stream.eat(\",\")) {\n        if (stream.next != \"}\")\n            max = parseNum(stream);\n        else\n            max = -1;\n    }\n    if (!stream.eat(\"}\"))\n        stream.err(\"Unclosed braced range\");\n    return { type: \"range\", min, max, expr };\n}\nfunction resolveName(stream, name) {\n    let types = stream.nodeTypes, type = types[name];\n    if (type)\n        return [type];\n    let result = [];\n    for (let typeName in types) {\n        let type = types[typeName];\n        if (type.isInGroup(name))\n            result.push(type);\n    }\n    if (result.length == 0)\n        stream.err(\"No node type or group '\" + name + \"' found\");\n    return result;\n}\nfunction parseExprAtom(stream) {\n    if (stream.eat(\"(\")) {\n        let expr = parseExpr(stream);\n        if (!stream.eat(\")\"))\n            stream.err(\"Missing closing paren\");\n        return expr;\n    }\n    else if (!/\\W/.test(stream.next)) {\n        let exprs = resolveName(stream, stream.next).map(type => {\n            if (stream.inline == null)\n                stream.inline = type.isInline;\n            else if (stream.inline != type.isInline)\n                stream.err(\"Mixing inline and block content\");\n            return { type: \"name\", value: type };\n        });\n        stream.pos++;\n        return exprs.length == 1 ? exprs[0] : { type: \"choice\", exprs };\n    }\n    else {\n        stream.err(\"Unexpected token '\" + stream.next + \"'\");\n    }\n}\n// Construct an NFA from an expression as returned by the parser. The\n// NFA is represented as an array of states, which are themselves\n// arrays of edges, which are `{term, to}` objects. The first state is\n// the entry state and the last node is the success state.\n//\n// Note that unlike typical NFAs, the edge ordering in this one is\n// significant, in that it is used to contruct filler content when\n// necessary.\nfunction nfa(expr) {\n    let nfa = [[]];\n    connect(compile(expr, 0), node());\n    return nfa;\n    function node() { return nfa.push([]) - 1; }\n    function edge(from, to, term) {\n        let edge = { term, to };\n        nfa[from].push(edge);\n        return edge;\n    }\n    function connect(edges, to) {\n        edges.forEach(edge => edge.to = to);\n    }\n    function compile(expr, from) {\n        if (expr.type == \"choice\") {\n            return expr.exprs.reduce((out, expr) => out.concat(compile(expr, from)), []);\n        }\n        else if (expr.type == \"seq\") {\n            for (let i = 0;; i++) {\n                let next = compile(expr.exprs[i], from);\n                if (i == expr.exprs.length - 1)\n                    return next;\n                connect(next, from = node());\n            }\n        }\n        else if (expr.type == \"star\") {\n            let loop = node();\n            edge(from, loop);\n            connect(compile(expr.expr, loop), loop);\n            return [edge(loop)];\n        }\n        else if (expr.type == \"plus\") {\n            let loop = node();\n            connect(compile(expr.expr, from), loop);\n            connect(compile(expr.expr, loop), loop);\n            return [edge(loop)];\n        }\n        else if (expr.type == \"opt\") {\n            return [edge(from)].concat(compile(expr.expr, from));\n        }\n        else if (expr.type == \"range\") {\n            let cur = from;\n            for (let i = 0; i < expr.min; i++) {\n                let next = node();\n                connect(compile(expr.expr, cur), next);\n                cur = next;\n            }\n            if (expr.max == -1) {\n                connect(compile(expr.expr, cur), cur);\n            }\n            else {\n                for (let i = expr.min; i < expr.max; i++) {\n                    let next = node();\n                    edge(cur, next);\n                    connect(compile(expr.expr, cur), next);\n                    cur = next;\n                }\n            }\n            return [edge(cur)];\n        }\n        else if (expr.type == \"name\") {\n            return [edge(from, undefined, expr.value)];\n        }\n        else {\n            throw new Error(\"Unknown expr type\");\n        }\n    }\n}\nfunction cmp(a, b) { return b - a; }\n// Get the set of nodes reachable by null edges from `node`. Omit\n// nodes with only a single null-out-edge, since they may lead to\n// needless duplicated nodes.\nfunction nullFrom(nfa, node) {\n    let result = [];\n    scan(node);\n    return result.sort(cmp);\n    function scan(node) {\n        let edges = nfa[node];\n        if (edges.length == 1 && !edges[0].term)\n            return scan(edges[0].to);\n        result.push(node);\n        for (let i = 0; i < edges.length; i++) {\n            let { term, to } = edges[i];\n            if (!term && result.indexOf(to) == -1)\n                scan(to);\n        }\n    }\n}\n// Compiles an NFA as produced by `nfa` into a DFA, modeled as a set\n// of state objects (`ContentMatch` instances) with transitions\n// between them.\nfunction dfa(nfa) {\n    let labeled = Object.create(null);\n    return explore(nullFrom(nfa, 0));\n    function explore(states) {\n        let out = [];\n        states.forEach(node => {\n            nfa[node].forEach(({ term, to }) => {\n                if (!term)\n                    return;\n                let set;\n                for (let i = 0; i < out.length; i++)\n                    if (out[i][0] == term)\n                        set = out[i][1];\n                nullFrom(nfa, to).forEach(node => {\n                    if (!set)\n                        out.push([term, set = []]);\n                    if (set.indexOf(node) == -1)\n                        set.push(node);\n                });\n            });\n        });\n        let state = labeled[states.join(\",\")] = new ContentMatch(states.indexOf(nfa.length - 1) > -1);\n        for (let i = 0; i < out.length; i++) {\n            let states = out[i][1].sort(cmp);\n            state.next.push({ type: out[i][0], next: labeled[states.join(\",\")] || explore(states) });\n        }\n        return state;\n    }\n}\nfunction checkForDeadEnds(match, stream) {\n    for (let i = 0, work = [match]; i < work.length; i++) {\n        let state = work[i], dead = !state.validEnd, nodes = [];\n        for (let j = 0; j < state.next.length; j++) {\n            let { type, next } = state.next[j];\n            nodes.push(type.name);\n            if (dead && !(type.isText || type.hasRequiredAttrs()))\n                dead = false;\n            if (work.indexOf(next) == -1)\n                work.push(next);\n        }\n        if (dead)\n            stream.err(\"Only non-generatable nodes (\" + nodes.join(\", \") + \") in a required position (see https://prosemirror.net/docs/guide/#generatable)\");\n    }\n}\n\n// For node types where all attrs have a default value (or which don't\n// have any attributes), build up a single reusable default attribute\n// object, and use it for all nodes that don't specify specific\n// attributes.\nfunction defaultAttrs(attrs) {\n    let defaults = Object.create(null);\n    for (let attrName in attrs) {\n        let attr = attrs[attrName];\n        if (!attr.hasDefault)\n            return null;\n        defaults[attrName] = attr.default;\n    }\n    return defaults;\n}\nfunction computeAttrs(attrs, value) {\n    let built = Object.create(null);\n    for (let name in attrs) {\n        let given = value && value[name];\n        if (given === undefined) {\n            let attr = attrs[name];\n            if (attr.hasDefault)\n                given = attr.default;\n            else\n                throw new RangeError(\"No value supplied for attribute \" + name);\n        }\n        built[name] = given;\n    }\n    return built;\n}\nfunction checkAttrs(attrs, values, type, name) {\n    for (let name in values)\n        if (!(name in attrs))\n            throw new RangeError(`Unsupported attribute ${name} for ${type} of type ${name}`);\n    for (let name in attrs) {\n        let attr = attrs[name];\n        if (attr.validate)\n            attr.validate(values[name]);\n    }\n}\nfunction initAttrs(typeName, attrs) {\n    let result = Object.create(null);\n    if (attrs)\n        for (let name in attrs)\n            result[name] = new Attribute(typeName, name, attrs[name]);\n    return result;\n}\n/**\nNode types are objects allocated once per `Schema` and used to\n[tag](https://prosemirror.net/docs/ref/#model.Node.type) `Node` instances. They contain information\nabout the node type, such as its name and what kind of node it\nrepresents.\n*/\nclass NodeType {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The name the node type has in this schema.\n    */\n    name, \n    /**\n    A link back to the `Schema` the node type belongs to.\n    */\n    schema, \n    /**\n    The spec that this type is based on\n    */\n    spec) {\n        this.name = name;\n        this.schema = schema;\n        this.spec = spec;\n        /**\n        The set of marks allowed in this node. `null` means all marks\n        are allowed.\n        */\n        this.markSet = null;\n        this.groups = spec.group ? spec.group.split(\" \") : [];\n        this.attrs = initAttrs(name, spec.attrs);\n        this.defaultAttrs = defaultAttrs(this.attrs);\n        this.contentMatch = null;\n        this.inlineContent = null;\n        this.isBlock = !(spec.inline || name == \"text\");\n        this.isText = name == \"text\";\n    }\n    /**\n    True if this is an inline type.\n    */\n    get isInline() { return !this.isBlock; }\n    /**\n    True if this is a textblock type, a block that contains inline\n    content.\n    */\n    get isTextblock() { return this.isBlock && this.inlineContent; }\n    /**\n    True for node types that allow no content.\n    */\n    get isLeaf() { return this.contentMatch == ContentMatch.empty; }\n    /**\n    True when this node is an atom, i.e. when it does not have\n    directly editable content.\n    */\n    get isAtom() { return this.isLeaf || !!this.spec.atom; }\n    /**\n    Return true when this node type is part of the given\n    [group](https://prosemirror.net/docs/ref/#model.NodeSpec.group).\n    */\n    isInGroup(group) {\n        return this.groups.indexOf(group) > -1;\n    }\n    /**\n    The node type's [whitespace](https://prosemirror.net/docs/ref/#model.NodeSpec.whitespace) option.\n    */\n    get whitespace() {\n        return this.spec.whitespace || (this.spec.code ? \"pre\" : \"normal\");\n    }\n    /**\n    Tells you whether this node type has any required attributes.\n    */\n    hasRequiredAttrs() {\n        for (let n in this.attrs)\n            if (this.attrs[n].isRequired)\n                return true;\n        return false;\n    }\n    /**\n    Indicates whether this node allows some of the same content as\n    the given node type.\n    */\n    compatibleContent(other) {\n        return this == other || this.contentMatch.compatible(other.contentMatch);\n    }\n    /**\n    @internal\n    */\n    computeAttrs(attrs) {\n        if (!attrs && this.defaultAttrs)\n            return this.defaultAttrs;\n        else\n            return computeAttrs(this.attrs, attrs);\n    }\n    /**\n    Create a `Node` of this type. The given attributes are\n    checked and defaulted (you can pass `null` to use the type's\n    defaults entirely, if no required attributes exist). `content`\n    may be a `Fragment`, a node, an array of nodes, or\n    `null`. Similarly `marks` may be `null` to default to the empty\n    set of marks.\n    */\n    create(attrs = null, content, marks) {\n        if (this.isText)\n            throw new Error(\"NodeType.create can't construct text nodes\");\n        return new Node(this, this.computeAttrs(attrs), Fragment.from(content), Mark.setFrom(marks));\n    }\n    /**\n    Like [`create`](https://prosemirror.net/docs/ref/#model.NodeType.create), but check the given content\n    against the node type's content restrictions, and throw an error\n    if it doesn't match.\n    */\n    createChecked(attrs = null, content, marks) {\n        content = Fragment.from(content);\n        this.checkContent(content);\n        return new Node(this, this.computeAttrs(attrs), content, Mark.setFrom(marks));\n    }\n    /**\n    Like [`create`](https://prosemirror.net/docs/ref/#model.NodeType.create), but see if it is\n    necessary to add nodes to the start or end of the given fragment\n    to make it fit the node. If no fitting wrapping can be found,\n    return null. Note that, due to the fact that required nodes can\n    always be created, this will always succeed if you pass null or\n    `Fragment.empty` as content.\n    */\n    createAndFill(attrs = null, content, marks) {\n        attrs = this.computeAttrs(attrs);\n        content = Fragment.from(content);\n        if (content.size) {\n            let before = this.contentMatch.fillBefore(content);\n            if (!before)\n                return null;\n            content = before.append(content);\n        }\n        let matched = this.contentMatch.matchFragment(content);\n        let after = matched && matched.fillBefore(Fragment.empty, true);\n        if (!after)\n            return null;\n        return new Node(this, attrs, content.append(after), Mark.setFrom(marks));\n    }\n    /**\n    Returns true if the given fragment is valid content for this node\n    type.\n    */\n    validContent(content) {\n        let result = this.contentMatch.matchFragment(content);\n        if (!result || !result.validEnd)\n            return false;\n        for (let i = 0; i < content.childCount; i++)\n            if (!this.allowsMarks(content.child(i).marks))\n                return false;\n        return true;\n    }\n    /**\n    Throws a RangeError if the given fragment is not valid content for this\n    node type.\n    @internal\n    */\n    checkContent(content) {\n        if (!this.validContent(content))\n            throw new RangeError(`Invalid content for node ${this.name}: ${content.toString().slice(0, 50)}`);\n    }\n    /**\n    @internal\n    */\n    checkAttrs(attrs) {\n        checkAttrs(this.attrs, attrs, \"node\", this.name);\n    }\n    /**\n    Check whether the given mark type is allowed in this node.\n    */\n    allowsMarkType(markType) {\n        return this.markSet == null || this.markSet.indexOf(markType) > -1;\n    }\n    /**\n    Test whether the given set of marks are allowed in this node.\n    */\n    allowsMarks(marks) {\n        if (this.markSet == null)\n            return true;\n        for (let i = 0; i < marks.length; i++)\n            if (!this.allowsMarkType(marks[i].type))\n                return false;\n        return true;\n    }\n    /**\n    Removes the marks that are not allowed in this node from the given set.\n    */\n    allowedMarks(marks) {\n        if (this.markSet == null)\n            return marks;\n        let copy;\n        for (let i = 0; i < marks.length; i++) {\n            if (!this.allowsMarkType(marks[i].type)) {\n                if (!copy)\n                    copy = marks.slice(0, i);\n            }\n            else if (copy) {\n                copy.push(marks[i]);\n            }\n        }\n        return !copy ? marks : copy.length ? copy : Mark.none;\n    }\n    /**\n    @internal\n    */\n    static compile(nodes, schema) {\n        let result = Object.create(null);\n        nodes.forEach((name, spec) => result[name] = new NodeType(name, schema, spec));\n        let topType = schema.spec.topNode || \"doc\";\n        if (!result[topType])\n            throw new RangeError(\"Schema is missing its top node type ('\" + topType + \"')\");\n        if (!result.text)\n            throw new RangeError(\"Every schema needs a 'text' type\");\n        for (let _ in result.text.attrs)\n            throw new RangeError(\"The text node type should not have attributes\");\n        return result;\n    }\n}\nfunction validateType(typeName, attrName, type) {\n    let types = type.split(\"|\");\n    return (value) => {\n        let name = value === null ? \"null\" : typeof value;\n        if (types.indexOf(name) < 0)\n            throw new RangeError(`Expected value of type ${types} for attribute ${attrName} on type ${typeName}, got ${name}`);\n    };\n}\n// Attribute descriptors\nclass Attribute {\n    constructor(typeName, attrName, options) {\n        this.hasDefault = Object.prototype.hasOwnProperty.call(options, \"default\");\n        this.default = options.default;\n        this.validate = typeof options.validate == \"string\" ? validateType(typeName, attrName, options.validate) : options.validate;\n    }\n    get isRequired() {\n        return !this.hasDefault;\n    }\n}\n// Marks\n/**\nLike nodes, marks (which are associated with nodes to signify\nthings like emphasis or being part of a link) are\n[tagged](https://prosemirror.net/docs/ref/#model.Mark.type) with type objects, which are\ninstantiated once per `Schema`.\n*/\nclass MarkType {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The name of the mark type.\n    */\n    name, \n    /**\n    @internal\n    */\n    rank, \n    /**\n    The schema that this mark type instance is part of.\n    */\n    schema, \n    /**\n    The spec on which the type is based.\n    */\n    spec) {\n        this.name = name;\n        this.rank = rank;\n        this.schema = schema;\n        this.spec = spec;\n        this.attrs = initAttrs(name, spec.attrs);\n        this.excluded = null;\n        let defaults = defaultAttrs(this.attrs);\n        this.instance = defaults ? new Mark(this, defaults) : null;\n    }\n    /**\n    Create a mark of this type. `attrs` may be `null` or an object\n    containing only some of the mark's attributes. The others, if\n    they have defaults, will be added.\n    */\n    create(attrs = null) {\n        if (!attrs && this.instance)\n            return this.instance;\n        return new Mark(this, computeAttrs(this.attrs, attrs));\n    }\n    /**\n    @internal\n    */\n    static compile(marks, schema) {\n        let result = Object.create(null), rank = 0;\n        marks.forEach((name, spec) => result[name] = new MarkType(name, rank++, schema, spec));\n        return result;\n    }\n    /**\n    When there is a mark of this type in the given set, a new set\n    without it is returned. Otherwise, the input set is returned.\n    */\n    removeFromSet(set) {\n        for (var i = 0; i < set.length; i++)\n            if (set[i].type == this) {\n                set = set.slice(0, i).concat(set.slice(i + 1));\n                i--;\n            }\n        return set;\n    }\n    /**\n    Tests whether there is a mark of this type in the given set.\n    */\n    isInSet(set) {\n        for (let i = 0; i < set.length; i++)\n            if (set[i].type == this)\n                return set[i];\n    }\n    /**\n    @internal\n    */\n    checkAttrs(attrs) {\n        checkAttrs(this.attrs, attrs, \"mark\", this.name);\n    }\n    /**\n    Queries whether a given mark type is\n    [excluded](https://prosemirror.net/docs/ref/#model.MarkSpec.excludes) by this one.\n    */\n    excludes(other) {\n        return this.excluded.indexOf(other) > -1;\n    }\n}\n/**\nA document schema. Holds [node](https://prosemirror.net/docs/ref/#model.NodeType) and [mark\ntype](https://prosemirror.net/docs/ref/#model.MarkType) objects for the nodes and marks that may\noccur in conforming documents, and provides functionality for\ncreating and deserializing such documents.\n\nWhen given, the type parameters provide the names of the nodes and\nmarks in this schema.\n*/\nclass Schema {\n    /**\n    Construct a schema from a schema [specification](https://prosemirror.net/docs/ref/#model.SchemaSpec).\n    */\n    constructor(spec) {\n        /**\n        The [linebreak\n        replacement](https://prosemirror.net/docs/ref/#model.NodeSpec.linebreakReplacement) node defined\n        in this schema, if any.\n        */\n        this.linebreakReplacement = null;\n        /**\n        An object for storing whatever values modules may want to\n        compute and cache per schema. (If you want to store something\n        in it, try to use property names unlikely to clash.)\n        */\n        this.cached = Object.create(null);\n        let instanceSpec = this.spec = {};\n        for (let prop in spec)\n            instanceSpec[prop] = spec[prop];\n        instanceSpec.nodes = OrderedMap.from(spec.nodes),\n            instanceSpec.marks = OrderedMap.from(spec.marks || {}),\n            this.nodes = NodeType.compile(this.spec.nodes, this);\n        this.marks = MarkType.compile(this.spec.marks, this);\n        let contentExprCache = Object.create(null);\n        for (let prop in this.nodes) {\n            if (prop in this.marks)\n                throw new RangeError(prop + \" can not be both a node and a mark\");\n            let type = this.nodes[prop], contentExpr = type.spec.content || \"\", markExpr = type.spec.marks;\n            type.contentMatch = contentExprCache[contentExpr] ||\n                (contentExprCache[contentExpr] = ContentMatch.parse(contentExpr, this.nodes));\n            type.inlineContent = type.contentMatch.inlineContent;\n            if (type.spec.linebreakReplacement) {\n                if (this.linebreakReplacement)\n                    throw new RangeError(\"Multiple linebreak nodes defined\");\n                if (!type.isInline || !type.isLeaf)\n                    throw new RangeError(\"Linebreak replacement nodes must be inline leaf nodes\");\n                this.linebreakReplacement = type;\n            }\n            type.markSet = markExpr == \"_\" ? null :\n                markExpr ? gatherMarks(this, markExpr.split(\" \")) :\n                    markExpr == \"\" || !type.inlineContent ? [] : null;\n        }\n        for (let prop in this.marks) {\n            let type = this.marks[prop], excl = type.spec.excludes;\n            type.excluded = excl == null ? [type] : excl == \"\" ? [] : gatherMarks(this, excl.split(\" \"));\n        }\n        this.nodeFromJSON = json => Node.fromJSON(this, json);\n        this.markFromJSON = json => Mark.fromJSON(this, json);\n        this.topNodeType = this.nodes[this.spec.topNode || \"doc\"];\n        this.cached.wrappings = Object.create(null);\n    }\n    /**\n    Create a node in this schema. The `type` may be a string or a\n    `NodeType` instance. Attributes will be extended with defaults,\n    `content` may be a `Fragment`, `null`, a `Node`, or an array of\n    nodes.\n    */\n    node(type, attrs = null, content, marks) {\n        if (typeof type == \"string\")\n            type = this.nodeType(type);\n        else if (!(type instanceof NodeType))\n            throw new RangeError(\"Invalid node type: \" + type);\n        else if (type.schema != this)\n            throw new RangeError(\"Node type from different schema used (\" + type.name + \")\");\n        return type.createChecked(attrs, content, marks);\n    }\n    /**\n    Create a text node in the schema. Empty text nodes are not\n    allowed.\n    */\n    text(text, marks) {\n        let type = this.nodes.text;\n        return new TextNode(type, type.defaultAttrs, text, Mark.setFrom(marks));\n    }\n    /**\n    Create a mark with the given type and attributes.\n    */\n    mark(type, attrs) {\n        if (typeof type == \"string\")\n            type = this.marks[type];\n        return type.create(attrs);\n    }\n    /**\n    @internal\n    */\n    nodeType(name) {\n        let found = this.nodes[name];\n        if (!found)\n            throw new RangeError(\"Unknown node type: \" + name);\n        return found;\n    }\n}\nfunction gatherMarks(schema, marks) {\n    let found = [];\n    for (let i = 0; i < marks.length; i++) {\n        let name = marks[i], mark = schema.marks[name], ok = mark;\n        if (mark) {\n            found.push(mark);\n        }\n        else {\n            for (let prop in schema.marks) {\n                let mark = schema.marks[prop];\n                if (name == \"_\" || (mark.spec.group && mark.spec.group.split(\" \").indexOf(name) > -1))\n                    found.push(ok = mark);\n            }\n        }\n        if (!ok)\n            throw new SyntaxError(\"Unknown mark type: '\" + marks[i] + \"'\");\n    }\n    return found;\n}\n\nfunction isTagRule(rule) { return rule.tag != null; }\nfunction isStyleRule(rule) { return rule.style != null; }\n/**\nA DOM parser represents a strategy for parsing DOM content into a\nProseMirror document conforming to a given schema. Its behavior is\ndefined by an array of [rules](https://prosemirror.net/docs/ref/#model.ParseRule).\n*/\nclass DOMParser {\n    /**\n    Create a parser that targets the given schema, using the given\n    parsing rules.\n    */\n    constructor(\n    /**\n    The schema into which the parser parses.\n    */\n    schema, \n    /**\n    The set of [parse rules](https://prosemirror.net/docs/ref/#model.ParseRule) that the parser\n    uses, in order of precedence.\n    */\n    rules) {\n        this.schema = schema;\n        this.rules = rules;\n        /**\n        @internal\n        */\n        this.tags = [];\n        /**\n        @internal\n        */\n        this.styles = [];\n        let matchedStyles = this.matchedStyles = [];\n        rules.forEach(rule => {\n            if (isTagRule(rule)) {\n                this.tags.push(rule);\n            }\n            else if (isStyleRule(rule)) {\n                let prop = /[^=]*/.exec(rule.style)[0];\n                if (matchedStyles.indexOf(prop) < 0)\n                    matchedStyles.push(prop);\n                this.styles.push(rule);\n            }\n        });\n        // Only normalize list elements when lists in the schema can't directly contain themselves\n        this.normalizeLists = !this.tags.some(r => {\n            if (!/^(ul|ol)\\b/.test(r.tag) || !r.node)\n                return false;\n            let node = schema.nodes[r.node];\n            return node.contentMatch.matchType(node);\n        });\n    }\n    /**\n    Parse a document from the content of a DOM node.\n    */\n    parse(dom, options = {}) {\n        let context = new ParseContext(this, options, false);\n        context.addAll(dom, Mark.none, options.from, options.to);\n        return context.finish();\n    }\n    /**\n    Parses the content of the given DOM node, like\n    [`parse`](https://prosemirror.net/docs/ref/#model.DOMParser.parse), and takes the same set of\n    options. But unlike that method, which produces a whole node,\n    this one returns a slice that is open at the sides, meaning that\n    the schema constraints aren't applied to the start of nodes to\n    the left of the input and the end of nodes at the end.\n    */\n    parseSlice(dom, options = {}) {\n        let context = new ParseContext(this, options, true);\n        context.addAll(dom, Mark.none, options.from, options.to);\n        return Slice.maxOpen(context.finish());\n    }\n    /**\n    @internal\n    */\n    matchTag(dom, context, after) {\n        for (let i = after ? this.tags.indexOf(after) + 1 : 0; i < this.tags.length; i++) {\n            let rule = this.tags[i];\n            if (matches(dom, rule.tag) &&\n                (rule.namespace === undefined || dom.namespaceURI == rule.namespace) &&\n                (!rule.context || context.matchesContext(rule.context))) {\n                if (rule.getAttrs) {\n                    let result = rule.getAttrs(dom);\n                    if (result === false)\n                        continue;\n                    rule.attrs = result || undefined;\n                }\n                return rule;\n            }\n        }\n    }\n    /**\n    @internal\n    */\n    matchStyle(prop, value, context, after) {\n        for (let i = after ? this.styles.indexOf(after) + 1 : 0; i < this.styles.length; i++) {\n            let rule = this.styles[i], style = rule.style;\n            if (style.indexOf(prop) != 0 ||\n                rule.context && !context.matchesContext(rule.context) ||\n                // Test that the style string either precisely matches the prop,\n                // or has an '=' sign after the prop, followed by the given\n                // value.\n                style.length > prop.length &&\n                    (style.charCodeAt(prop.length) != 61 || style.slice(prop.length + 1) != value))\n                continue;\n            if (rule.getAttrs) {\n                let result = rule.getAttrs(value);\n                if (result === false)\n                    continue;\n                rule.attrs = result || undefined;\n            }\n            return rule;\n        }\n    }\n    /**\n    @internal\n    */\n    static schemaRules(schema) {\n        let result = [];\n        function insert(rule) {\n            let priority = rule.priority == null ? 50 : rule.priority, i = 0;\n            for (; i < result.length; i++) {\n                let next = result[i], nextPriority = next.priority == null ? 50 : next.priority;\n                if (nextPriority < priority)\n                    break;\n            }\n            result.splice(i, 0, rule);\n        }\n        for (let name in schema.marks) {\n            let rules = schema.marks[name].spec.parseDOM;\n            if (rules)\n                rules.forEach(rule => {\n                    insert(rule = copy(rule));\n                    if (!(rule.mark || rule.ignore || rule.clearMark))\n                        rule.mark = name;\n                });\n        }\n        for (let name in schema.nodes) {\n            let rules = schema.nodes[name].spec.parseDOM;\n            if (rules)\n                rules.forEach(rule => {\n                    insert(rule = copy(rule));\n                    if (!(rule.node || rule.ignore || rule.mark))\n                        rule.node = name;\n                });\n        }\n        return result;\n    }\n    /**\n    Construct a DOM parser using the parsing rules listed in a\n    schema's [node specs](https://prosemirror.net/docs/ref/#model.NodeSpec.parseDOM), reordered by\n    [priority](https://prosemirror.net/docs/ref/#model.GenericParseRule.priority).\n    */\n    static fromSchema(schema) {\n        return schema.cached.domParser ||\n            (schema.cached.domParser = new DOMParser(schema, DOMParser.schemaRules(schema)));\n    }\n}\nconst blockTags = {\n    address: true, article: true, aside: true, blockquote: true, canvas: true,\n    dd: true, div: true, dl: true, fieldset: true, figcaption: true, figure: true,\n    footer: true, form: true, h1: true, h2: true, h3: true, h4: true, h5: true,\n    h6: true, header: true, hgroup: true, hr: true, li: true, noscript: true, ol: true,\n    output: true, p: true, pre: true, section: true, table: true, tfoot: true, ul: true\n};\nconst ignoreTags = {\n    head: true, noscript: true, object: true, script: true, style: true, title: true\n};\nconst listTags = { ol: true, ul: true };\n// Using a bitfield for node context options\nconst OPT_PRESERVE_WS = 1, OPT_PRESERVE_WS_FULL = 2, OPT_OPEN_LEFT = 4;\nfunction wsOptionsFor(type, preserveWhitespace, base) {\n    if (preserveWhitespace != null)\n        return (preserveWhitespace ? OPT_PRESERVE_WS : 0) |\n            (preserveWhitespace === \"full\" ? OPT_PRESERVE_WS_FULL : 0);\n    return type && type.whitespace == \"pre\" ? OPT_PRESERVE_WS | OPT_PRESERVE_WS_FULL : base & ~OPT_OPEN_LEFT;\n}\nclass NodeContext {\n    constructor(type, attrs, marks, solid, match, options) {\n        this.type = type;\n        this.attrs = attrs;\n        this.marks = marks;\n        this.solid = solid;\n        this.options = options;\n        this.content = [];\n        // Marks applied to the node's children\n        this.activeMarks = Mark.none;\n        this.match = match || (options & OPT_OPEN_LEFT ? null : type.contentMatch);\n    }\n    findWrapping(node) {\n        if (!this.match) {\n            if (!this.type)\n                return [];\n            let fill = this.type.contentMatch.fillBefore(Fragment.from(node));\n            if (fill) {\n                this.match = this.type.contentMatch.matchFragment(fill);\n            }\n            else {\n                let start = this.type.contentMatch, wrap;\n                if (wrap = start.findWrapping(node.type)) {\n                    this.match = start;\n                    return wrap;\n                }\n                else {\n                    return null;\n                }\n            }\n        }\n        return this.match.findWrapping(node.type);\n    }\n    finish(openEnd) {\n        if (!(this.options & OPT_PRESERVE_WS)) { // Strip trailing whitespace\n            let last = this.content[this.content.length - 1], m;\n            if (last && last.isText && (m = /[ \\t\\r\\n\\u000c]+$/.exec(last.text))) {\n                let text = last;\n                if (last.text.length == m[0].length)\n                    this.content.pop();\n                else\n                    this.content[this.content.length - 1] = text.withText(text.text.slice(0, text.text.length - m[0].length));\n            }\n        }\n        let content = Fragment.from(this.content);\n        if (!openEnd && this.match)\n            content = content.append(this.match.fillBefore(Fragment.empty, true));\n        return this.type ? this.type.create(this.attrs, content, this.marks) : content;\n    }\n    inlineContext(node) {\n        if (this.type)\n            return this.type.inlineContent;\n        if (this.content.length)\n            return this.content[0].isInline;\n        return node.parentNode && !blockTags.hasOwnProperty(node.parentNode.nodeName.toLowerCase());\n    }\n}\nclass ParseContext {\n    constructor(\n    // The parser we are using.\n    parser, \n    // The options passed to this parse.\n    options, isOpen) {\n        this.parser = parser;\n        this.options = options;\n        this.isOpen = isOpen;\n        this.open = 0;\n        this.localPreserveWS = false;\n        let topNode = options.topNode, topContext;\n        let topOptions = wsOptionsFor(null, options.preserveWhitespace, 0) | (isOpen ? OPT_OPEN_LEFT : 0);\n        if (topNode)\n            topContext = new NodeContext(topNode.type, topNode.attrs, Mark.none, true, options.topMatch || topNode.type.contentMatch, topOptions);\n        else if (isOpen)\n            topContext = new NodeContext(null, null, Mark.none, true, null, topOptions);\n        else\n            topContext = new NodeContext(parser.schema.topNodeType, null, Mark.none, true, null, topOptions);\n        this.nodes = [topContext];\n        this.find = options.findPositions;\n        this.needsBlock = false;\n    }\n    get top() {\n        return this.nodes[this.open];\n    }\n    // Add a DOM node to the content. Text is inserted as text node,\n    // otherwise, the node is passed to `addElement` or, if it has a\n    // `style` attribute, `addElementWithStyles`.\n    addDOM(dom, marks) {\n        if (dom.nodeType == 3)\n            this.addTextNode(dom, marks);\n        else if (dom.nodeType == 1)\n            this.addElement(dom, marks);\n    }\n    addTextNode(dom, marks) {\n        let value = dom.nodeValue;\n        let top = this.top, preserveWS = (top.options & OPT_PRESERVE_WS_FULL) ? \"full\"\n            : this.localPreserveWS || (top.options & OPT_PRESERVE_WS) > 0;\n        let { schema } = this.parser;\n        if (preserveWS === \"full\" ||\n            top.inlineContext(dom) ||\n            /[^ \\t\\r\\n\\u000c]/.test(value)) {\n            if (!preserveWS) {\n                value = value.replace(/[ \\t\\r\\n\\u000c]+/g, \" \");\n                // If this starts with whitespace, and there is no node before it, or\n                // a hard break, or a text node that ends with whitespace, strip the\n                // leading space.\n                if (/^[ \\t\\r\\n\\u000c]/.test(value) && this.open == this.nodes.length - 1) {\n                    let nodeBefore = top.content[top.content.length - 1];\n                    let domNodeBefore = dom.previousSibling;\n                    if (!nodeBefore ||\n                        (domNodeBefore && domNodeBefore.nodeName == 'BR') ||\n                        (nodeBefore.isText && /[ \\t\\r\\n\\u000c]$/.test(nodeBefore.text)))\n                        value = value.slice(1);\n                }\n            }\n            else if (preserveWS === \"full\") {\n                value = value.replace(/\\r\\n?/g, \"\\n\");\n            }\n            else if (schema.linebreakReplacement && /[\\r\\n]/.test(value) && this.top.findWrapping(schema.linebreakReplacement.create())) {\n                let lines = value.split(/\\r?\\n|\\r/);\n                for (let i = 0; i < lines.length; i++) {\n                    if (i)\n                        this.insertNode(schema.linebreakReplacement.create(), marks, true);\n                    if (lines[i])\n                        this.insertNode(schema.text(lines[i]), marks, !/\\S/.test(lines[i]));\n                }\n                value = \"\";\n            }\n            else {\n                value = value.replace(/\\r?\\n|\\r/g, \" \");\n            }\n            if (value)\n                this.insertNode(schema.text(value), marks, !/\\S/.test(value));\n            this.findInText(dom);\n        }\n        else {\n            this.findInside(dom);\n        }\n    }\n    // Try to find a handler for the given tag and use that to parse. If\n    // none is found, the element's content nodes are added directly.\n    addElement(dom, marks, matchAfter) {\n        let outerWS = this.localPreserveWS, top = this.top;\n        if (dom.tagName == \"PRE\" || /pre/.test(dom.style && dom.style.whiteSpace))\n            this.localPreserveWS = true;\n        let name = dom.nodeName.toLowerCase(), ruleID;\n        if (listTags.hasOwnProperty(name) && this.parser.normalizeLists)\n            normalizeList(dom);\n        let rule = (this.options.ruleFromNode && this.options.ruleFromNode(dom)) ||\n            (ruleID = this.parser.matchTag(dom, this, matchAfter));\n        out: if (rule ? rule.ignore : ignoreTags.hasOwnProperty(name)) {\n            this.findInside(dom);\n            this.ignoreFallback(dom, marks);\n        }\n        else if (!rule || rule.skip || rule.closeParent) {\n            if (rule && rule.closeParent)\n                this.open = Math.max(0, this.open - 1);\n            else if (rule && rule.skip.nodeType)\n                dom = rule.skip;\n            let sync, oldNeedsBlock = this.needsBlock;\n            if (blockTags.hasOwnProperty(name)) {\n                if (top.content.length && top.content[0].isInline && this.open) {\n                    this.open--;\n                    top = this.top;\n                }\n                sync = true;\n                if (!top.type)\n                    this.needsBlock = true;\n            }\n            else if (!dom.firstChild) {\n                this.leafFallback(dom, marks);\n                break out;\n            }\n            let innerMarks = rule && rule.skip ? marks : this.readStyles(dom, marks);\n            if (innerMarks)\n                this.addAll(dom, innerMarks);\n            if (sync)\n                this.sync(top);\n            this.needsBlock = oldNeedsBlock;\n        }\n        else {\n            let innerMarks = this.readStyles(dom, marks);\n            if (innerMarks)\n                this.addElementByRule(dom, rule, innerMarks, rule.consuming === false ? ruleID : undefined);\n        }\n        this.localPreserveWS = outerWS;\n    }\n    // Called for leaf DOM nodes that would otherwise be ignored\n    leafFallback(dom, marks) {\n        if (dom.nodeName == \"BR\" && this.top.type && this.top.type.inlineContent)\n            this.addTextNode(dom.ownerDocument.createTextNode(\"\\n\"), marks);\n    }\n    // Called for ignored nodes\n    ignoreFallback(dom, marks) {\n        // Ignored BR nodes should at least create an inline context\n        if (dom.nodeName == \"BR\" && (!this.top.type || !this.top.type.inlineContent))\n            this.findPlace(this.parser.schema.text(\"-\"), marks, true);\n    }\n    // Run any style parser associated with the node's styles. Either\n    // return an updated array of marks, or null to indicate some of the\n    // styles had a rule with `ignore` set.\n    readStyles(dom, marks) {\n        let styles = dom.style;\n        // Because many properties will only show up in 'normalized' form\n        // in `style.item` (i.e. text-decoration becomes\n        // text-decoration-line, text-decoration-color, etc), we directly\n        // query the styles mentioned in our rules instead of iterating\n        // over the items.\n        if (styles && styles.length)\n            for (let i = 0; i < this.parser.matchedStyles.length; i++) {\n                let name = this.parser.matchedStyles[i], value = styles.getPropertyValue(name);\n                if (value)\n                    for (let after = undefined;;) {\n                        let rule = this.parser.matchStyle(name, value, this, after);\n                        if (!rule)\n                            break;\n                        if (rule.ignore)\n                            return null;\n                        if (rule.clearMark)\n                            marks = marks.filter(m => !rule.clearMark(m));\n                        else\n                            marks = marks.concat(this.parser.schema.marks[rule.mark].create(rule.attrs));\n                        if (rule.consuming === false)\n                            after = rule;\n                        else\n                            break;\n                    }\n            }\n        return marks;\n    }\n    // Look up a handler for the given node. If none are found, return\n    // false. Otherwise, apply it, use its return value to drive the way\n    // the node's content is wrapped, and return true.\n    addElementByRule(dom, rule, marks, continueAfter) {\n        let sync, nodeType;\n        if (rule.node) {\n            nodeType = this.parser.schema.nodes[rule.node];\n            if (!nodeType.isLeaf) {\n                let inner = this.enter(nodeType, rule.attrs || null, marks, rule.preserveWhitespace);\n                if (inner) {\n                    sync = true;\n                    marks = inner;\n                }\n            }\n            else if (!this.insertNode(nodeType.create(rule.attrs), marks, dom.nodeName == \"BR\")) {\n                this.leafFallback(dom, marks);\n            }\n        }\n        else {\n            let markType = this.parser.schema.marks[rule.mark];\n            marks = marks.concat(markType.create(rule.attrs));\n        }\n        let startIn = this.top;\n        if (nodeType && nodeType.isLeaf) {\n            this.findInside(dom);\n        }\n        else if (continueAfter) {\n            this.addElement(dom, marks, continueAfter);\n        }\n        else if (rule.getContent) {\n            this.findInside(dom);\n            rule.getContent(dom, this.parser.schema).forEach(node => this.insertNode(node, marks, false));\n        }\n        else {\n            let contentDOM = dom;\n            if (typeof rule.contentElement == \"string\")\n                contentDOM = dom.querySelector(rule.contentElement);\n            else if (typeof rule.contentElement == \"function\")\n                contentDOM = rule.contentElement(dom);\n            else if (rule.contentElement)\n                contentDOM = rule.contentElement;\n            this.findAround(dom, contentDOM, true);\n            this.addAll(contentDOM, marks);\n            this.findAround(dom, contentDOM, false);\n        }\n        if (sync && this.sync(startIn))\n            this.open--;\n    }\n    // Add all child nodes between `startIndex` and `endIndex` (or the\n    // whole node, if not given). If `sync` is passed, use it to\n    // synchronize after every block element.\n    addAll(parent, marks, startIndex, endIndex) {\n        let index = startIndex || 0;\n        for (let dom = startIndex ? parent.childNodes[startIndex] : parent.firstChild, end = endIndex == null ? null : parent.childNodes[endIndex]; dom != end; dom = dom.nextSibling, ++index) {\n            this.findAtPoint(parent, index);\n            this.addDOM(dom, marks);\n        }\n        this.findAtPoint(parent, index);\n    }\n    // Try to find a way to fit the given node type into the current\n    // context. May add intermediate wrappers and/or leave non-solid\n    // nodes that we're in.\n    findPlace(node, marks, cautious) {\n        let route, sync;\n        for (let depth = this.open, penalty = 0; depth >= 0; depth--) {\n            let cx = this.nodes[depth];\n            let found = cx.findWrapping(node);\n            if (found && (!route || route.length > found.length + penalty)) {\n                route = found;\n                sync = cx;\n                if (!found.length)\n                    break;\n            }\n            if (cx.solid) {\n                if (cautious)\n                    break;\n                penalty += 2;\n            }\n        }\n        if (!route)\n            return null;\n        this.sync(sync);\n        for (let i = 0; i < route.length; i++)\n            marks = this.enterInner(route[i], null, marks, false);\n        return marks;\n    }\n    // Try to insert the given node, adjusting the context when needed.\n    insertNode(node, marks, cautious) {\n        if (node.isInline && this.needsBlock && !this.top.type) {\n            let block = this.textblockFromContext();\n            if (block)\n                marks = this.enterInner(block, null, marks);\n        }\n        let innerMarks = this.findPlace(node, marks, cautious);\n        if (innerMarks) {\n            this.closeExtra();\n            let top = this.top;\n            if (top.match)\n                top.match = top.match.matchType(node.type);\n            let nodeMarks = Mark.none;\n            for (let m of innerMarks.concat(node.marks))\n                if (top.type ? top.type.allowsMarkType(m.type) : markMayApply(m.type, node.type))\n                    nodeMarks = m.addToSet(nodeMarks);\n            top.content.push(node.mark(nodeMarks));\n            return true;\n        }\n        return false;\n    }\n    // Try to start a node of the given type, adjusting the context when\n    // necessary.\n    enter(type, attrs, marks, preserveWS) {\n        let innerMarks = this.findPlace(type.create(attrs), marks, false);\n        if (innerMarks)\n            innerMarks = this.enterInner(type, attrs, marks, true, preserveWS);\n        return innerMarks;\n    }\n    // Open a node of the given type\n    enterInner(type, attrs, marks, solid = false, preserveWS) {\n        this.closeExtra();\n        let top = this.top;\n        top.match = top.match && top.match.matchType(type);\n        let options = wsOptionsFor(type, preserveWS, top.options);\n        if ((top.options & OPT_OPEN_LEFT) && top.content.length == 0)\n            options |= OPT_OPEN_LEFT;\n        let applyMarks = Mark.none;\n        marks = marks.filter(m => {\n            if (top.type ? top.type.allowsMarkType(m.type) : markMayApply(m.type, type)) {\n                applyMarks = m.addToSet(applyMarks);\n                return false;\n            }\n            return true;\n        });\n        this.nodes.push(new NodeContext(type, attrs, applyMarks, solid, null, options));\n        this.open++;\n        return marks;\n    }\n    // Make sure all nodes above this.open are finished and added to\n    // their parents\n    closeExtra(openEnd = false) {\n        let i = this.nodes.length - 1;\n        if (i > this.open) {\n            for (; i > this.open; i--)\n                this.nodes[i - 1].content.push(this.nodes[i].finish(openEnd));\n            this.nodes.length = this.open + 1;\n        }\n    }\n    finish() {\n        this.open = 0;\n        this.closeExtra(this.isOpen);\n        return this.nodes[0].finish(!!(this.isOpen || this.options.topOpen));\n    }\n    sync(to) {\n        for (let i = this.open; i >= 0; i--) {\n            if (this.nodes[i] == to) {\n                this.open = i;\n                return true;\n            }\n            else if (this.localPreserveWS) {\n                this.nodes[i].options |= OPT_PRESERVE_WS;\n            }\n        }\n        return false;\n    }\n    get currentPos() {\n        this.closeExtra();\n        let pos = 0;\n        for (let i = this.open; i >= 0; i--) {\n            let content = this.nodes[i].content;\n            for (let j = content.length - 1; j >= 0; j--)\n                pos += content[j].nodeSize;\n            if (i)\n                pos++;\n        }\n        return pos;\n    }\n    findAtPoint(parent, offset) {\n        if (this.find)\n            for (let i = 0; i < this.find.length; i++) {\n                if (this.find[i].node == parent && this.find[i].offset == offset)\n                    this.find[i].pos = this.currentPos;\n            }\n    }\n    findInside(parent) {\n        if (this.find)\n            for (let i = 0; i < this.find.length; i++) {\n                if (this.find[i].pos == null && parent.nodeType == 1 && parent.contains(this.find[i].node))\n                    this.find[i].pos = this.currentPos;\n            }\n    }\n    findAround(parent, content, before) {\n        if (parent != content && this.find)\n            for (let i = 0; i < this.find.length; i++) {\n                if (this.find[i].pos == null && parent.nodeType == 1 && parent.contains(this.find[i].node)) {\n                    let pos = content.compareDocumentPosition(this.find[i].node);\n                    if (pos & (before ? 2 : 4))\n                        this.find[i].pos = this.currentPos;\n                }\n            }\n    }\n    findInText(textNode) {\n        if (this.find)\n            for (let i = 0; i < this.find.length; i++) {\n                if (this.find[i].node == textNode)\n                    this.find[i].pos = this.currentPos - (textNode.nodeValue.length - this.find[i].offset);\n            }\n    }\n    // Determines whether the given context string matches this context.\n    matchesContext(context) {\n        if (context.indexOf(\"|\") > -1)\n            return context.split(/\\s*\\|\\s*/).some(this.matchesContext, this);\n        let parts = context.split(\"/\");\n        let option = this.options.context;\n        let useRoot = !this.isOpen && (!option || option.parent.type == this.nodes[0].type);\n        let minDepth = -(option ? option.depth + 1 : 0) + (useRoot ? 0 : 1);\n        let match = (i, depth) => {\n            for (; i >= 0; i--) {\n                let part = parts[i];\n                if (part == \"\") {\n                    if (i == parts.length - 1 || i == 0)\n                        continue;\n                    for (; depth >= minDepth; depth--)\n                        if (match(i - 1, depth))\n                            return true;\n                    return false;\n                }\n                else {\n                    let next = depth > 0 || (depth == 0 && useRoot) ? this.nodes[depth].type\n                        : option && depth >= minDepth ? option.node(depth - minDepth).type\n                            : null;\n                    if (!next || (next.name != part && !next.isInGroup(part)))\n                        return false;\n                    depth--;\n                }\n            }\n            return true;\n        };\n        return match(parts.length - 1, this.open);\n    }\n    textblockFromContext() {\n        let $context = this.options.context;\n        if ($context)\n            for (let d = $context.depth; d >= 0; d--) {\n                let deflt = $context.node(d).contentMatchAt($context.indexAfter(d)).defaultType;\n                if (deflt && deflt.isTextblock && deflt.defaultAttrs)\n                    return deflt;\n            }\n        for (let name in this.parser.schema.nodes) {\n            let type = this.parser.schema.nodes[name];\n            if (type.isTextblock && type.defaultAttrs)\n                return type;\n        }\n    }\n}\n// Kludge to work around directly nested list nodes produced by some\n// tools and allowed by browsers to mean that the nested list is\n// actually part of the list item above it.\nfunction normalizeList(dom) {\n    for (let child = dom.firstChild, prevItem = null; child; child = child.nextSibling) {\n        let name = child.nodeType == 1 ? child.nodeName.toLowerCase() : null;\n        if (name && listTags.hasOwnProperty(name) && prevItem) {\n            prevItem.appendChild(child);\n            child = prevItem;\n        }\n        else if (name == \"li\") {\n            prevItem = child;\n        }\n        else if (name) {\n            prevItem = null;\n        }\n    }\n}\n// Apply a CSS selector.\nfunction matches(dom, selector) {\n    return (dom.matches || dom.msMatchesSelector || dom.webkitMatchesSelector || dom.mozMatchesSelector).call(dom, selector);\n}\nfunction copy(obj) {\n    let copy = {};\n    for (let prop in obj)\n        copy[prop] = obj[prop];\n    return copy;\n}\n// Used when finding a mark at the top level of a fragment parse.\n// Checks whether it would be reasonable to apply a given mark type to\n// a given node, by looking at the way the mark occurs in the schema.\nfunction markMayApply(markType, nodeType) {\n    let nodes = nodeType.schema.nodes;\n    for (let name in nodes) {\n        let parent = nodes[name];\n        if (!parent.allowsMarkType(markType))\n            continue;\n        let seen = [], scan = (match) => {\n            seen.push(match);\n            for (let i = 0; i < match.edgeCount; i++) {\n                let { type, next } = match.edge(i);\n                if (type == nodeType)\n                    return true;\n                if (seen.indexOf(next) < 0 && scan(next))\n                    return true;\n            }\n        };\n        if (scan(parent.contentMatch))\n            return true;\n    }\n}\n\n/**\nA DOM serializer knows how to convert ProseMirror nodes and\nmarks of various types to DOM nodes.\n*/\nclass DOMSerializer {\n    /**\n    Create a serializer. `nodes` should map node names to functions\n    that take a node and return a description of the corresponding\n    DOM. `marks` does the same for mark names, but also gets an\n    argument that tells it whether the mark's content is block or\n    inline content (for typical use, it'll always be inline). A mark\n    serializer may be `null` to indicate that marks of that type\n    should not be serialized.\n    */\n    constructor(\n    /**\n    The node serialization functions.\n    */\n    nodes, \n    /**\n    The mark serialization functions.\n    */\n    marks) {\n        this.nodes = nodes;\n        this.marks = marks;\n    }\n    /**\n    Serialize the content of this fragment to a DOM fragment. When\n    not in the browser, the `document` option, containing a DOM\n    document, should be passed so that the serializer can create\n    nodes.\n    */\n    serializeFragment(fragment, options = {}, target) {\n        if (!target)\n            target = doc(options).createDocumentFragment();\n        let top = target, active = [];\n        fragment.forEach(node => {\n            if (active.length || node.marks.length) {\n                let keep = 0, rendered = 0;\n                while (keep < active.length && rendered < node.marks.length) {\n                    let next = node.marks[rendered];\n                    if (!this.marks[next.type.name]) {\n                        rendered++;\n                        continue;\n                    }\n                    if (!next.eq(active[keep][0]) || next.type.spec.spanning === false)\n                        break;\n                    keep++;\n                    rendered++;\n                }\n                while (keep < active.length)\n                    top = active.pop()[1];\n                while (rendered < node.marks.length) {\n                    let add = node.marks[rendered++];\n                    let markDOM = this.serializeMark(add, node.isInline, options);\n                    if (markDOM) {\n                        active.push([add, top]);\n                        top.appendChild(markDOM.dom);\n                        top = markDOM.contentDOM || markDOM.dom;\n                    }\n                }\n            }\n            top.appendChild(this.serializeNodeInner(node, options));\n        });\n        return target;\n    }\n    /**\n    @internal\n    */\n    serializeNodeInner(node, options) {\n        let { dom, contentDOM } = renderSpec(doc(options), this.nodes[node.type.name](node), null, node.attrs);\n        if (contentDOM) {\n            if (node.isLeaf)\n                throw new RangeError(\"Content hole not allowed in a leaf node spec\");\n            this.serializeFragment(node.content, options, contentDOM);\n        }\n        return dom;\n    }\n    /**\n    Serialize this node to a DOM node. This can be useful when you\n    need to serialize a part of a document, as opposed to the whole\n    document. To serialize a whole document, use\n    [`serializeFragment`](https://prosemirror.net/docs/ref/#model.DOMSerializer.serializeFragment) on\n    its [content](https://prosemirror.net/docs/ref/#model.Node.content).\n    */\n    serializeNode(node, options = {}) {\n        let dom = this.serializeNodeInner(node, options);\n        for (let i = node.marks.length - 1; i >= 0; i--) {\n            let wrap = this.serializeMark(node.marks[i], node.isInline, options);\n            if (wrap) {\n                (wrap.contentDOM || wrap.dom).appendChild(dom);\n                dom = wrap.dom;\n            }\n        }\n        return dom;\n    }\n    /**\n    @internal\n    */\n    serializeMark(mark, inline, options = {}) {\n        let toDOM = this.marks[mark.type.name];\n        return toDOM && renderSpec(doc(options), toDOM(mark, inline), null, mark.attrs);\n    }\n    static renderSpec(doc, structure, xmlNS = null, blockArraysIn) {\n        return renderSpec(doc, structure, xmlNS, blockArraysIn);\n    }\n    /**\n    Build a serializer using the [`toDOM`](https://prosemirror.net/docs/ref/#model.NodeSpec.toDOM)\n    properties in a schema's node and mark specs.\n    */\n    static fromSchema(schema) {\n        return schema.cached.domSerializer ||\n            (schema.cached.domSerializer = new DOMSerializer(this.nodesFromSchema(schema), this.marksFromSchema(schema)));\n    }\n    /**\n    Gather the serializers in a schema's node specs into an object.\n    This can be useful as a base to build a custom serializer from.\n    */\n    static nodesFromSchema(schema) {\n        let result = gatherToDOM(schema.nodes);\n        if (!result.text)\n            result.text = node => node.text;\n        return result;\n    }\n    /**\n    Gather the serializers in a schema's mark specs into an object.\n    */\n    static marksFromSchema(schema) {\n        return gatherToDOM(schema.marks);\n    }\n}\nfunction gatherToDOM(obj) {\n    let result = {};\n    for (let name in obj) {\n        let toDOM = obj[name].spec.toDOM;\n        if (toDOM)\n            result[name] = toDOM;\n    }\n    return result;\n}\nfunction doc(options) {\n    return options.document || window.document;\n}\nconst suspiciousAttributeCache = new WeakMap();\nfunction suspiciousAttributes(attrs) {\n    let value = suspiciousAttributeCache.get(attrs);\n    if (value === undefined)\n        suspiciousAttributeCache.set(attrs, value = suspiciousAttributesInner(attrs));\n    return value;\n}\nfunction suspiciousAttributesInner(attrs) {\n    let result = null;\n    function scan(value) {\n        if (value && typeof value == \"object\") {\n            if (Array.isArray(value)) {\n                if (typeof value[0] == \"string\") {\n                    if (!result)\n                        result = [];\n                    result.push(value);\n                }\n                else {\n                    for (let i = 0; i < value.length; i++)\n                        scan(value[i]);\n                }\n            }\n            else {\n                for (let prop in value)\n                    scan(value[prop]);\n            }\n        }\n    }\n    scan(attrs);\n    return result;\n}\nfunction renderSpec(doc, structure, xmlNS, blockArraysIn) {\n    if (typeof structure == \"string\")\n        return { dom: doc.createTextNode(structure) };\n    if (structure.nodeType != null)\n        return { dom: structure };\n    if (structure.dom && structure.dom.nodeType != null)\n        return structure;\n    let tagName = structure[0], suspicious;\n    if (typeof tagName != \"string\")\n        throw new RangeError(\"Invalid array passed to renderSpec\");\n    if (blockArraysIn && (suspicious = suspiciousAttributes(blockArraysIn)) &&\n        suspicious.indexOf(structure) > -1)\n        throw new RangeError(\"Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.\");\n    let space = tagName.indexOf(\" \");\n    if (space > 0) {\n        xmlNS = tagName.slice(0, space);\n        tagName = tagName.slice(space + 1);\n    }\n    let contentDOM;\n    let dom = (xmlNS ? doc.createElementNS(xmlNS, tagName) : doc.createElement(tagName));\n    let attrs = structure[1], start = 1;\n    if (attrs && typeof attrs == \"object\" && attrs.nodeType == null && !Array.isArray(attrs)) {\n        start = 2;\n        for (let name in attrs)\n            if (attrs[name] != null) {\n                let space = name.indexOf(\" \");\n                if (space > 0)\n                    dom.setAttributeNS(name.slice(0, space), name.slice(space + 1), attrs[name]);\n                else if (name == \"style\" && dom.style)\n                    dom.style.cssText = attrs[name];\n                else\n                    dom.setAttribute(name, attrs[name]);\n            }\n    }\n    for (let i = start; i < structure.length; i++) {\n        let child = structure[i];\n        if (child === 0) {\n            if (i < structure.length - 1 || i > start)\n                throw new RangeError(\"Content hole must be the only child of its parent node\");\n            return { dom, contentDOM: dom };\n        }\n        else {\n            let { dom: inner, contentDOM: innerContent } = renderSpec(doc, child, xmlNS, blockArraysIn);\n            dom.appendChild(inner);\n            if (innerContent) {\n                if (contentDOM)\n                    throw new RangeError(\"Multiple content holes\");\n                contentDOM = innerContent;\n            }\n        }\n    }\n    return { dom, contentDOM };\n}\n\nexport { ContentMatch, DOMParser, DOMSerializer, Fragment, Mark, MarkType, Node, NodeRange, NodeType, ReplaceError, ResolvedPos, Schema, Slice };\n","import { ReplaceError, Slice, Fragment, MarkType, Mark } from 'prosemirror-model';\n\n// Recovery values encode a range index and an offset. They are\n// represented as numbers, because tons of them will be created when\n// mapping, for example, a large number of decorations. The number's\n// lower 16 bits provide the index, the remaining bits the offset.\n//\n// Note: We intentionally don't use bit shift operators to en- and\n// decode these, since those clip to 32 bits, which we might in rare\n// cases want to overflow. A 64-bit float can represent 48-bit\n// integers precisely.\nconst lower16 = 0xffff;\nconst factor16 = Math.pow(2, 16);\nfunction makeRecover(index, offset) { return index + offset * factor16; }\nfunction recoverIndex(value) { return value & lower16; }\nfunction recoverOffset(value) { return (value - (value & lower16)) / factor16; }\nconst DEL_BEFORE = 1, DEL_AFTER = 2, DEL_ACROSS = 4, DEL_SIDE = 8;\n/**\nAn object representing a mapped position with extra\ninformation.\n*/\nclass MapResult {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The mapped version of the position.\n    */\n    pos, \n    /**\n    @internal\n    */\n    delInfo, \n    /**\n    @internal\n    */\n    recover) {\n        this.pos = pos;\n        this.delInfo = delInfo;\n        this.recover = recover;\n    }\n    /**\n    Tells you whether the position was deleted, that is, whether the\n    step removed the token on the side queried (via the `assoc`)\n    argument from the document.\n    */\n    get deleted() { return (this.delInfo & DEL_SIDE) > 0; }\n    /**\n    Tells you whether the token before the mapped position was deleted.\n    */\n    get deletedBefore() { return (this.delInfo & (DEL_BEFORE | DEL_ACROSS)) > 0; }\n    /**\n    True when the token after the mapped position was deleted.\n    */\n    get deletedAfter() { return (this.delInfo & (DEL_AFTER | DEL_ACROSS)) > 0; }\n    /**\n    Tells whether any of the steps mapped through deletes across the\n    position (including both the token before and after the\n    position).\n    */\n    get deletedAcross() { return (this.delInfo & DEL_ACROSS) > 0; }\n}\n/**\nA map describing the deletions and insertions made by a step, which\ncan be used to find the correspondence between positions in the\npre-step version of a document and the same position in the\npost-step version.\n*/\nclass StepMap {\n    /**\n    Create a position map. The modifications to the document are\n    represented as an array of numbers, in which each group of three\n    represents a modified chunk as `[start, oldSize, newSize]`.\n    */\n    constructor(\n    /**\n    @internal\n    */\n    ranges, \n    /**\n    @internal\n    */\n    inverted = false) {\n        this.ranges = ranges;\n        this.inverted = inverted;\n        if (!ranges.length && StepMap.empty)\n            return StepMap.empty;\n    }\n    /**\n    @internal\n    */\n    recover(value) {\n        let diff = 0, index = recoverIndex(value);\n        if (!this.inverted)\n            for (let i = 0; i < index; i++)\n                diff += this.ranges[i * 3 + 2] - this.ranges[i * 3 + 1];\n        return this.ranges[index * 3] + diff + recoverOffset(value);\n    }\n    mapResult(pos, assoc = 1) { return this._map(pos, assoc, false); }\n    map(pos, assoc = 1) { return this._map(pos, assoc, true); }\n    /**\n    @internal\n    */\n    _map(pos, assoc, simple) {\n        let diff = 0, oldIndex = this.inverted ? 2 : 1, newIndex = this.inverted ? 1 : 2;\n        for (let i = 0; i < this.ranges.length; i += 3) {\n            let start = this.ranges[i] - (this.inverted ? diff : 0);\n            if (start > pos)\n                break;\n            let oldSize = this.ranges[i + oldIndex], newSize = this.ranges[i + newIndex], end = start + oldSize;\n            if (pos <= end) {\n                let side = !oldSize ? assoc : pos == start ? -1 : pos == end ? 1 : assoc;\n                let result = start + diff + (side < 0 ? 0 : newSize);\n                if (simple)\n                    return result;\n                let recover = pos == (assoc < 0 ? start : end) ? null : makeRecover(i / 3, pos - start);\n                let del = pos == start ? DEL_AFTER : pos == end ? DEL_BEFORE : DEL_ACROSS;\n                if (assoc < 0 ? pos != start : pos != end)\n                    del |= DEL_SIDE;\n                return new MapResult(result, del, recover);\n            }\n            diff += newSize - oldSize;\n        }\n        return simple ? pos + diff : new MapResult(pos + diff, 0, null);\n    }\n    /**\n    @internal\n    */\n    touches(pos, recover) {\n        let diff = 0, index = recoverIndex(recover);\n        let oldIndex = this.inverted ? 2 : 1, newIndex = this.inverted ? 1 : 2;\n        for (let i = 0; i < this.ranges.length; i += 3) {\n            let start = this.ranges[i] - (this.inverted ? diff : 0);\n            if (start > pos)\n                break;\n            let oldSize = this.ranges[i + oldIndex], end = start + oldSize;\n            if (pos <= end && i == index * 3)\n                return true;\n            diff += this.ranges[i + newIndex] - oldSize;\n        }\n        return false;\n    }\n    /**\n    Calls the given function on each of the changed ranges included in\n    this map.\n    */\n    forEach(f) {\n        let oldIndex = this.inverted ? 2 : 1, newIndex = this.inverted ? 1 : 2;\n        for (let i = 0, diff = 0; i < this.ranges.length; i += 3) {\n            let start = this.ranges[i], oldStart = start - (this.inverted ? diff : 0), newStart = start + (this.inverted ? 0 : diff);\n            let oldSize = this.ranges[i + oldIndex], newSize = this.ranges[i + newIndex];\n            f(oldStart, oldStart + oldSize, newStart, newStart + newSize);\n            diff += newSize - oldSize;\n        }\n    }\n    /**\n    Create an inverted version of this map. The result can be used to\n    map positions in the post-step document to the pre-step document.\n    */\n    invert() {\n        return new StepMap(this.ranges, !this.inverted);\n    }\n    /**\n    @internal\n    */\n    toString() {\n        return (this.inverted ? \"-\" : \"\") + JSON.stringify(this.ranges);\n    }\n    /**\n    Create a map that moves all positions by offset `n` (which may be\n    negative). This can be useful when applying steps meant for a\n    sub-document to a larger document, or vice-versa.\n    */\n    static offset(n) {\n        return n == 0 ? StepMap.empty : new StepMap(n < 0 ? [0, -n, 0] : [0, 0, n]);\n    }\n}\n/**\nA StepMap that contains no changed ranges.\n*/\nStepMap.empty = new StepMap([]);\n/**\nA mapping represents a pipeline of zero or more [step\nmaps](https://prosemirror.net/docs/ref/#transform.StepMap). It has special provisions for losslessly\nhandling mapping positions through a series of steps in which some\nsteps are inverted versions of earlier steps. (This comes up when\n‘[rebasing](https://prosemirror.net/docs/guide/#transform.rebasing)’ steps for\ncollaboration or history management.)\n*/\nclass Mapping {\n    /**\n    Create a new mapping with the given position maps.\n    */\n    constructor(maps, \n    /**\n    @internal\n    */\n    mirror, \n    /**\n    The starting position in the `maps` array, used when `map` or\n    `mapResult` is called.\n    */\n    from = 0, \n    /**\n    The end position in the `maps` array.\n    */\n    to = maps ? maps.length : 0) {\n        this.mirror = mirror;\n        this.from = from;\n        this.to = to;\n        this._maps = maps || [];\n        this.ownData = !(maps || mirror);\n    }\n    /**\n    The step maps in this mapping.\n    */\n    get maps() { return this._maps; }\n    /**\n    Create a mapping that maps only through a part of this one.\n    */\n    slice(from = 0, to = this.maps.length) {\n        return new Mapping(this._maps, this.mirror, from, to);\n    }\n    /**\n    Add a step map to the end of this mapping. If `mirrors` is\n    given, it should be the index of the step map that is the mirror\n    image of this one.\n    */\n    appendMap(map, mirrors) {\n        if (!this.ownData) {\n            this._maps = this._maps.slice();\n            this.mirror = this.mirror && this.mirror.slice();\n            this.ownData = true;\n        }\n        this.to = this._maps.push(map);\n        if (mirrors != null)\n            this.setMirror(this._maps.length - 1, mirrors);\n    }\n    /**\n    Add all the step maps in a given mapping to this one (preserving\n    mirroring information).\n    */\n    appendMapping(mapping) {\n        for (let i = 0, startSize = this._maps.length; i < mapping._maps.length; i++) {\n            let mirr = mapping.getMirror(i);\n            this.appendMap(mapping._maps[i], mirr != null && mirr < i ? startSize + mirr : undefined);\n        }\n    }\n    /**\n    Finds the offset of the step map that mirrors the map at the\n    given offset, in this mapping (as per the second argument to\n    `appendMap`).\n    */\n    getMirror(n) {\n        if (this.mirror)\n            for (let i = 0; i < this.mirror.length; i++)\n                if (this.mirror[i] == n)\n                    return this.mirror[i + (i % 2 ? -1 : 1)];\n    }\n    /**\n    @internal\n    */\n    setMirror(n, m) {\n        if (!this.mirror)\n            this.mirror = [];\n        this.mirror.push(n, m);\n    }\n    /**\n    Append the inverse of the given mapping to this one.\n    */\n    appendMappingInverted(mapping) {\n        for (let i = mapping.maps.length - 1, totalSize = this._maps.length + mapping._maps.length; i >= 0; i--) {\n            let mirr = mapping.getMirror(i);\n            this.appendMap(mapping._maps[i].invert(), mirr != null && mirr > i ? totalSize - mirr - 1 : undefined);\n        }\n    }\n    /**\n    Create an inverted version of this mapping.\n    */\n    invert() {\n        let inverse = new Mapping;\n        inverse.appendMappingInverted(this);\n        return inverse;\n    }\n    /**\n    Map a position through this mapping.\n    */\n    map(pos, assoc = 1) {\n        if (this.mirror)\n            return this._map(pos, assoc, true);\n        for (let i = this.from; i < this.to; i++)\n            pos = this._maps[i].map(pos, assoc);\n        return pos;\n    }\n    /**\n    Map a position through this mapping, returning a mapping\n    result.\n    */\n    mapResult(pos, assoc = 1) { return this._map(pos, assoc, false); }\n    /**\n    @internal\n    */\n    _map(pos, assoc, simple) {\n        let delInfo = 0;\n        for (let i = this.from; i < this.to; i++) {\n            let map = this._maps[i], result = map.mapResult(pos, assoc);\n            if (result.recover != null) {\n                let corr = this.getMirror(i);\n                if (corr != null && corr > i && corr < this.to) {\n                    i = corr;\n                    pos = this._maps[corr].recover(result.recover);\n                    continue;\n                }\n            }\n            delInfo |= result.delInfo;\n            pos = result.pos;\n        }\n        return simple ? pos : new MapResult(pos, delInfo, null);\n    }\n}\n\nconst stepsByID = Object.create(null);\n/**\nA step object represents an atomic change. It generally applies\nonly to the document it was created for, since the positions\nstored in it will only make sense for that document.\n\nNew steps are defined by creating classes that extend `Step`,\noverriding the `apply`, `invert`, `map`, `getMap` and `fromJSON`\nmethods, and registering your class with a unique\nJSON-serialization identifier using\n[`Step.jsonID`](https://prosemirror.net/docs/ref/#transform.Step^jsonID).\n*/\nclass Step {\n    /**\n    Get the step map that represents the changes made by this step,\n    and which can be used to transform between positions in the old\n    and the new document.\n    */\n    getMap() { return StepMap.empty; }\n    /**\n    Try to merge this step with another one, to be applied directly\n    after it. Returns the merged step when possible, null if the\n    steps can't be merged.\n    */\n    merge(other) { return null; }\n    /**\n    Deserialize a step from its JSON representation. Will call\n    through to the step class' own implementation of this method.\n    */\n    static fromJSON(schema, json) {\n        if (!json || !json.stepType)\n            throw new RangeError(\"Invalid input for Step.fromJSON\");\n        let type = stepsByID[json.stepType];\n        if (!type)\n            throw new RangeError(`No step type ${json.stepType} defined`);\n        return type.fromJSON(schema, json);\n    }\n    /**\n    To be able to serialize steps to JSON, each step needs a string\n    ID to attach to its JSON representation. Use this method to\n    register an ID for your step classes. Try to pick something\n    that's unlikely to clash with steps from other modules.\n    */\n    static jsonID(id, stepClass) {\n        if (id in stepsByID)\n            throw new RangeError(\"Duplicate use of step JSON ID \" + id);\n        stepsByID[id] = stepClass;\n        stepClass.prototype.jsonID = id;\n        return stepClass;\n    }\n}\n/**\nThe result of [applying](https://prosemirror.net/docs/ref/#transform.Step.apply) a step. Contains either a\nnew document or a failure value.\n*/\nclass StepResult {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The transformed document, if successful.\n    */\n    doc, \n    /**\n    The failure message, if unsuccessful.\n    */\n    failed) {\n        this.doc = doc;\n        this.failed = failed;\n    }\n    /**\n    Create a successful step result.\n    */\n    static ok(doc) { return new StepResult(doc, null); }\n    /**\n    Create a failed step result.\n    */\n    static fail(message) { return new StepResult(null, message); }\n    /**\n    Call [`Node.replace`](https://prosemirror.net/docs/ref/#model.Node.replace) with the given\n    arguments. Create a successful result if it succeeds, and a\n    failed one if it throws a `ReplaceError`.\n    */\n    static fromReplace(doc, from, to, slice) {\n        try {\n            return StepResult.ok(doc.replace(from, to, slice));\n        }\n        catch (e) {\n            if (e instanceof ReplaceError)\n                return StepResult.fail(e.message);\n            throw e;\n        }\n    }\n}\n\nfunction mapFragment(fragment, f, parent) {\n    let mapped = [];\n    for (let i = 0; i < fragment.childCount; i++) {\n        let child = fragment.child(i);\n        if (child.content.size)\n            child = child.copy(mapFragment(child.content, f, child));\n        if (child.isInline)\n            child = f(child, parent, i);\n        mapped.push(child);\n    }\n    return Fragment.fromArray(mapped);\n}\n/**\nAdd a mark to all inline content between two positions.\n*/\nclass AddMarkStep extends Step {\n    /**\n    Create a mark step.\n    */\n    constructor(\n    /**\n    The start of the marked range.\n    */\n    from, \n    /**\n    The end of the marked range.\n    */\n    to, \n    /**\n    The mark to add.\n    */\n    mark) {\n        super();\n        this.from = from;\n        this.to = to;\n        this.mark = mark;\n    }\n    apply(doc) {\n        let oldSlice = doc.slice(this.from, this.to), $from = doc.resolve(this.from);\n        let parent = $from.node($from.sharedDepth(this.to));\n        let slice = new Slice(mapFragment(oldSlice.content, (node, parent) => {\n            if (!node.isAtom || !parent.type.allowsMarkType(this.mark.type))\n                return node;\n            return node.mark(this.mark.addToSet(node.marks));\n        }, parent), oldSlice.openStart, oldSlice.openEnd);\n        return StepResult.fromReplace(doc, this.from, this.to, slice);\n    }\n    invert() {\n        return new RemoveMarkStep(this.from, this.to, this.mark);\n    }\n    map(mapping) {\n        let from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);\n        if (from.deleted && to.deleted || from.pos >= to.pos)\n            return null;\n        return new AddMarkStep(from.pos, to.pos, this.mark);\n    }\n    merge(other) {\n        if (other instanceof AddMarkStep &&\n            other.mark.eq(this.mark) &&\n            this.from <= other.to && this.to >= other.from)\n            return new AddMarkStep(Math.min(this.from, other.from), Math.max(this.to, other.to), this.mark);\n        return null;\n    }\n    toJSON() {\n        return { stepType: \"addMark\", mark: this.mark.toJSON(),\n            from: this.from, to: this.to };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.from != \"number\" || typeof json.to != \"number\")\n            throw new RangeError(\"Invalid input for AddMarkStep.fromJSON\");\n        return new AddMarkStep(json.from, json.to, schema.markFromJSON(json.mark));\n    }\n}\nStep.jsonID(\"addMark\", AddMarkStep);\n/**\nRemove a mark from all inline content between two positions.\n*/\nclass RemoveMarkStep extends Step {\n    /**\n    Create a mark-removing step.\n    */\n    constructor(\n    /**\n    The start of the unmarked range.\n    */\n    from, \n    /**\n    The end of the unmarked range.\n    */\n    to, \n    /**\n    The mark to remove.\n    */\n    mark) {\n        super();\n        this.from = from;\n        this.to = to;\n        this.mark = mark;\n    }\n    apply(doc) {\n        let oldSlice = doc.slice(this.from, this.to);\n        let slice = new Slice(mapFragment(oldSlice.content, node => {\n            return node.mark(this.mark.removeFromSet(node.marks));\n        }, doc), oldSlice.openStart, oldSlice.openEnd);\n        return StepResult.fromReplace(doc, this.from, this.to, slice);\n    }\n    invert() {\n        return new AddMarkStep(this.from, this.to, this.mark);\n    }\n    map(mapping) {\n        let from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);\n        if (from.deleted && to.deleted || from.pos >= to.pos)\n            return null;\n        return new RemoveMarkStep(from.pos, to.pos, this.mark);\n    }\n    merge(other) {\n        if (other instanceof RemoveMarkStep &&\n            other.mark.eq(this.mark) &&\n            this.from <= other.to && this.to >= other.from)\n            return new RemoveMarkStep(Math.min(this.from, other.from), Math.max(this.to, other.to), this.mark);\n        return null;\n    }\n    toJSON() {\n        return { stepType: \"removeMark\", mark: this.mark.toJSON(),\n            from: this.from, to: this.to };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.from != \"number\" || typeof json.to != \"number\")\n            throw new RangeError(\"Invalid input for RemoveMarkStep.fromJSON\");\n        return new RemoveMarkStep(json.from, json.to, schema.markFromJSON(json.mark));\n    }\n}\nStep.jsonID(\"removeMark\", RemoveMarkStep);\n/**\nAdd a mark to a specific node.\n*/\nclass AddNodeMarkStep extends Step {\n    /**\n    Create a node mark step.\n    */\n    constructor(\n    /**\n    The position of the target node.\n    */\n    pos, \n    /**\n    The mark to add.\n    */\n    mark) {\n        super();\n        this.pos = pos;\n        this.mark = mark;\n    }\n    apply(doc) {\n        let node = doc.nodeAt(this.pos);\n        if (!node)\n            return StepResult.fail(\"No node at mark step's position\");\n        let updated = node.type.create(node.attrs, null, this.mark.addToSet(node.marks));\n        return StepResult.fromReplace(doc, this.pos, this.pos + 1, new Slice(Fragment.from(updated), 0, node.isLeaf ? 0 : 1));\n    }\n    invert(doc) {\n        let node = doc.nodeAt(this.pos);\n        if (node) {\n            let newSet = this.mark.addToSet(node.marks);\n            if (newSet.length == node.marks.length) {\n                for (let i = 0; i < node.marks.length; i++)\n                    if (!node.marks[i].isInSet(newSet))\n                        return new AddNodeMarkStep(this.pos, node.marks[i]);\n                return new AddNodeMarkStep(this.pos, this.mark);\n            }\n        }\n        return new RemoveNodeMarkStep(this.pos, this.mark);\n    }\n    map(mapping) {\n        let pos = mapping.mapResult(this.pos, 1);\n        return pos.deletedAfter ? null : new AddNodeMarkStep(pos.pos, this.mark);\n    }\n    toJSON() {\n        return { stepType: \"addNodeMark\", pos: this.pos, mark: this.mark.toJSON() };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.pos != \"number\")\n            throw new RangeError(\"Invalid input for AddNodeMarkStep.fromJSON\");\n        return new AddNodeMarkStep(json.pos, schema.markFromJSON(json.mark));\n    }\n}\nStep.jsonID(\"addNodeMark\", AddNodeMarkStep);\n/**\nRemove a mark from a specific node.\n*/\nclass RemoveNodeMarkStep extends Step {\n    /**\n    Create a mark-removing step.\n    */\n    constructor(\n    /**\n    The position of the target node.\n    */\n    pos, \n    /**\n    The mark to remove.\n    */\n    mark) {\n        super();\n        this.pos = pos;\n        this.mark = mark;\n    }\n    apply(doc) {\n        let node = doc.nodeAt(this.pos);\n        if (!node)\n            return StepResult.fail(\"No node at mark step's position\");\n        let updated = node.type.create(node.attrs, null, this.mark.removeFromSet(node.marks));\n        return StepResult.fromReplace(doc, this.pos, this.pos + 1, new Slice(Fragment.from(updated), 0, node.isLeaf ? 0 : 1));\n    }\n    invert(doc) {\n        let node = doc.nodeAt(this.pos);\n        if (!node || !this.mark.isInSet(node.marks))\n            return this;\n        return new AddNodeMarkStep(this.pos, this.mark);\n    }\n    map(mapping) {\n        let pos = mapping.mapResult(this.pos, 1);\n        return pos.deletedAfter ? null : new RemoveNodeMarkStep(pos.pos, this.mark);\n    }\n    toJSON() {\n        return { stepType: \"removeNodeMark\", pos: this.pos, mark: this.mark.toJSON() };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.pos != \"number\")\n            throw new RangeError(\"Invalid input for RemoveNodeMarkStep.fromJSON\");\n        return new RemoveNodeMarkStep(json.pos, schema.markFromJSON(json.mark));\n    }\n}\nStep.jsonID(\"removeNodeMark\", RemoveNodeMarkStep);\n\n/**\nReplace a part of the document with a slice of new content.\n*/\nclass ReplaceStep extends Step {\n    /**\n    The given `slice` should fit the 'gap' between `from` and\n    `to`—the depths must line up, and the surrounding nodes must be\n    able to be joined with the open sides of the slice. When\n    `structure` is true, the step will fail if the content between\n    from and to is not just a sequence of closing and then opening\n    tokens (this is to guard against rebased replace steps\n    overwriting something they weren't supposed to).\n    */\n    constructor(\n    /**\n    The start position of the replaced range.\n    */\n    from, \n    /**\n    The end position of the replaced range.\n    */\n    to, \n    /**\n    The slice to insert.\n    */\n    slice, \n    /**\n    @internal\n    */\n    structure = false) {\n        super();\n        this.from = from;\n        this.to = to;\n        this.slice = slice;\n        this.structure = structure;\n    }\n    apply(doc) {\n        if (this.structure && contentBetween(doc, this.from, this.to))\n            return StepResult.fail(\"Structure replace would overwrite content\");\n        return StepResult.fromReplace(doc, this.from, this.to, this.slice);\n    }\n    getMap() {\n        return new StepMap([this.from, this.to - this.from, this.slice.size]);\n    }\n    invert(doc) {\n        return new ReplaceStep(this.from, this.from + this.slice.size, doc.slice(this.from, this.to));\n    }\n    map(mapping) {\n        let from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);\n        if (from.deletedAcross && to.deletedAcross)\n            return null;\n        return new ReplaceStep(from.pos, Math.max(from.pos, to.pos), this.slice, this.structure);\n    }\n    merge(other) {\n        if (!(other instanceof ReplaceStep) || other.structure || this.structure)\n            return null;\n        if (this.from + this.slice.size == other.from && !this.slice.openEnd && !other.slice.openStart) {\n            let slice = this.slice.size + other.slice.size == 0 ? Slice.empty\n                : new Slice(this.slice.content.append(other.slice.content), this.slice.openStart, other.slice.openEnd);\n            return new ReplaceStep(this.from, this.to + (other.to - other.from), slice, this.structure);\n        }\n        else if (other.to == this.from && !this.slice.openStart && !other.slice.openEnd) {\n            let slice = this.slice.size + other.slice.size == 0 ? Slice.empty\n                : new Slice(other.slice.content.append(this.slice.content), other.slice.openStart, this.slice.openEnd);\n            return new ReplaceStep(other.from, this.to, slice, this.structure);\n        }\n        else {\n            return null;\n        }\n    }\n    toJSON() {\n        let json = { stepType: \"replace\", from: this.from, to: this.to };\n        if (this.slice.size)\n            json.slice = this.slice.toJSON();\n        if (this.structure)\n            json.structure = true;\n        return json;\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.from != \"number\" || typeof json.to != \"number\")\n            throw new RangeError(\"Invalid input for ReplaceStep.fromJSON\");\n        return new ReplaceStep(json.from, json.to, Slice.fromJSON(schema, json.slice), !!json.structure);\n    }\n}\nStep.jsonID(\"replace\", ReplaceStep);\n/**\nReplace a part of the document with a slice of content, but\npreserve a range of the replaced content by moving it into the\nslice.\n*/\nclass ReplaceAroundStep extends Step {\n    /**\n    Create a replace-around step with the given range and gap.\n    `insert` should be the point in the slice into which the content\n    of the gap should be moved. `structure` has the same meaning as\n    it has in the [`ReplaceStep`](https://prosemirror.net/docs/ref/#transform.ReplaceStep) class.\n    */\n    constructor(\n    /**\n    The start position of the replaced range.\n    */\n    from, \n    /**\n    The end position of the replaced range.\n    */\n    to, \n    /**\n    The start of preserved range.\n    */\n    gapFrom, \n    /**\n    The end of preserved range.\n    */\n    gapTo, \n    /**\n    The slice to insert.\n    */\n    slice, \n    /**\n    The position in the slice where the preserved range should be\n    inserted.\n    */\n    insert, \n    /**\n    @internal\n    */\n    structure = false) {\n        super();\n        this.from = from;\n        this.to = to;\n        this.gapFrom = gapFrom;\n        this.gapTo = gapTo;\n        this.slice = slice;\n        this.insert = insert;\n        this.structure = structure;\n    }\n    apply(doc) {\n        if (this.structure && (contentBetween(doc, this.from, this.gapFrom) ||\n            contentBetween(doc, this.gapTo, this.to)))\n            return StepResult.fail(\"Structure gap-replace would overwrite content\");\n        let gap = doc.slice(this.gapFrom, this.gapTo);\n        if (gap.openStart || gap.openEnd)\n            return StepResult.fail(\"Gap is not a flat range\");\n        let inserted = this.slice.insertAt(this.insert, gap.content);\n        if (!inserted)\n            return StepResult.fail(\"Content does not fit in gap\");\n        return StepResult.fromReplace(doc, this.from, this.to, inserted);\n    }\n    getMap() {\n        return new StepMap([this.from, this.gapFrom - this.from, this.insert,\n            this.gapTo, this.to - this.gapTo, this.slice.size - this.insert]);\n    }\n    invert(doc) {\n        let gap = this.gapTo - this.gapFrom;\n        return new ReplaceAroundStep(this.from, this.from + this.slice.size + gap, this.from + this.insert, this.from + this.insert + gap, doc.slice(this.from, this.to).removeBetween(this.gapFrom - this.from, this.gapTo - this.from), this.gapFrom - this.from, this.structure);\n    }\n    map(mapping) {\n        let from = mapping.mapResult(this.from, 1), to = mapping.mapResult(this.to, -1);\n        let gapFrom = this.from == this.gapFrom ? from.pos : mapping.map(this.gapFrom, -1);\n        let gapTo = this.to == this.gapTo ? to.pos : mapping.map(this.gapTo, 1);\n        if ((from.deletedAcross && to.deletedAcross) || gapFrom < from.pos || gapTo > to.pos)\n            return null;\n        return new ReplaceAroundStep(from.pos, to.pos, gapFrom, gapTo, this.slice, this.insert, this.structure);\n    }\n    toJSON() {\n        let json = { stepType: \"replaceAround\", from: this.from, to: this.to,\n            gapFrom: this.gapFrom, gapTo: this.gapTo, insert: this.insert };\n        if (this.slice.size)\n            json.slice = this.slice.toJSON();\n        if (this.structure)\n            json.structure = true;\n        return json;\n    }\n    /**\n    @internal\n    */\n    static fromJSON(schema, json) {\n        if (typeof json.from != \"number\" || typeof json.to != \"number\" ||\n            typeof json.gapFrom != \"number\" || typeof json.gapTo != \"number\" || typeof json.insert != \"number\")\n            throw new RangeError(\"Invalid input for ReplaceAroundStep.fromJSON\");\n        return new ReplaceAroundStep(json.from, json.to, json.gapFrom, json.gapTo, Slice.fromJSON(schema, json.slice), json.insert, !!json.structure);\n    }\n}\nStep.jsonID(\"replaceAround\", ReplaceAroundStep);\nfunction contentBetween(doc, from, to) {\n    let $from = doc.resolve(from), dist = to - from, depth = $from.depth;\n    while (dist > 0 && depth > 0 && $from.indexAfter(depth) == $from.node(depth).childCount) {\n        depth--;\n        dist--;\n    }\n    if (dist > 0) {\n        let next = $from.node(depth).maybeChild($from.indexAfter(depth));\n        while (dist > 0) {\n            if (!next || next.isLeaf)\n                return true;\n            next = next.firstChild;\n            dist--;\n        }\n    }\n    return false;\n}\n\nfunction addMark(tr, from, to, mark) {\n    let removed = [], added = [];\n    let removing, adding;\n    tr.doc.nodesBetween(from, to, (node, pos, parent) => {\n        if (!node.isInline)\n            return;\n        let marks = node.marks;\n        if (!mark.isInSet(marks) && parent.type.allowsMarkType(mark.type)) {\n            let start = Math.max(pos, from), end = Math.min(pos + node.nodeSize, to);\n            let newSet = mark.addToSet(marks);\n            for (let i = 0; i < marks.length; i++) {\n                if (!marks[i].isInSet(newSet)) {\n                    if (removing && removing.to == start && removing.mark.eq(marks[i]))\n                        removing.to = end;\n                    else\n                        removed.push(removing = new RemoveMarkStep(start, end, marks[i]));\n                }\n            }\n            if (adding && adding.to == start)\n                adding.to = end;\n            else\n                added.push(adding = new AddMarkStep(start, end, mark));\n        }\n    });\n    removed.forEach(s => tr.step(s));\n    added.forEach(s => tr.step(s));\n}\nfunction removeMark(tr, from, to, mark) {\n    let matched = [], step = 0;\n    tr.doc.nodesBetween(from, to, (node, pos) => {\n        if (!node.isInline)\n            return;\n        step++;\n        let toRemove = null;\n        if (mark instanceof MarkType) {\n            let set = node.marks, found;\n            while (found = mark.isInSet(set)) {\n                (toRemove || (toRemove = [])).push(found);\n                set = found.removeFromSet(set);\n            }\n        }\n        else if (mark) {\n            if (mark.isInSet(node.marks))\n                toRemove = [mark];\n        }\n        else {\n            toRemove = node.marks;\n        }\n        if (toRemove && toRemove.length) {\n            let end = Math.min(pos + node.nodeSize, to);\n            for (let i = 0; i < toRemove.length; i++) {\n                let style = toRemove[i], found;\n                for (let j = 0; j < matched.length; j++) {\n                    let m = matched[j];\n                    if (m.step == step - 1 && style.eq(matched[j].style))\n                        found = m;\n                }\n                if (found) {\n                    found.to = end;\n                    found.step = step;\n                }\n                else {\n                    matched.push({ style, from: Math.max(pos, from), to: end, step });\n                }\n            }\n        }\n    });\n    matched.forEach(m => tr.step(new RemoveMarkStep(m.from, m.to, m.style)));\n}\nfunction clearIncompatible(tr, pos, parentType, match = parentType.contentMatch, clearNewlines = true) {\n    let node = tr.doc.nodeAt(pos);\n    let replSteps = [], cur = pos + 1;\n    for (let i = 0; i < node.childCount; i++) {\n        let child = node.child(i), end = cur + child.nodeSize;\n        let allowed = match.matchType(child.type);\n        if (!allowed) {\n            replSteps.push(new ReplaceStep(cur, end, Slice.empty));\n        }\n        else {\n            match = allowed;\n            for (let j = 0; j < child.marks.length; j++)\n                if (!parentType.allowsMarkType(child.marks[j].type))\n                    tr.step(new RemoveMarkStep(cur, end, child.marks[j]));\n            if (clearNewlines && child.isText && parentType.whitespace != \"pre\") {\n                let m, newline = /\\r?\\n|\\r/g, slice;\n                while (m = newline.exec(child.text)) {\n                    if (!slice)\n                        slice = new Slice(Fragment.from(parentType.schema.text(\" \", parentType.allowedMarks(child.marks))), 0, 0);\n                    replSteps.push(new ReplaceStep(cur + m.index, cur + m.index + m[0].length, slice));\n                }\n            }\n        }\n        cur = end;\n    }\n    if (!match.validEnd) {\n        let fill = match.fillBefore(Fragment.empty, true);\n        tr.replace(cur, cur, new Slice(fill, 0, 0));\n    }\n    for (let i = replSteps.length - 1; i >= 0; i--)\n        tr.step(replSteps[i]);\n}\n\nfunction canCut(node, start, end) {\n    return (start == 0 || node.canReplace(start, node.childCount)) &&\n        (end == node.childCount || node.canReplace(0, end));\n}\n/**\nTry to find a target depth to which the content in the given range\ncan be lifted. Will not go across\n[isolating](https://prosemirror.net/docs/ref/#model.NodeSpec.isolating) parent nodes.\n*/\nfunction liftTarget(range) {\n    let parent = range.parent;\n    let content = parent.content.cutByIndex(range.startIndex, range.endIndex);\n    for (let depth = range.depth, contentBefore = 0, contentAfter = 0;; --depth) {\n        let node = range.$from.node(depth);\n        let index = range.$from.index(depth) + contentBefore, endIndex = range.$to.indexAfter(depth) - contentAfter;\n        if (depth < range.depth && node.canReplace(index, endIndex, content))\n            return depth;\n        if (depth == 0 || node.type.spec.isolating || !canCut(node, index, endIndex))\n            break;\n        if (index)\n            contentBefore = 1;\n        if (endIndex < node.childCount)\n            contentAfter = 1;\n    }\n    return null;\n}\nfunction lift(tr, range, target) {\n    let { $from, $to, depth } = range;\n    let gapStart = $from.before(depth + 1), gapEnd = $to.after(depth + 1);\n    let start = gapStart, end = gapEnd;\n    let before = Fragment.empty, openStart = 0;\n    for (let d = depth, splitting = false; d > target; d--)\n        if (splitting || $from.index(d) > 0) {\n            splitting = true;\n            before = Fragment.from($from.node(d).copy(before));\n            openStart++;\n        }\n        else {\n            start--;\n        }\n    let after = Fragment.empty, openEnd = 0;\n    for (let d = depth, splitting = false; d > target; d--)\n        if (splitting || $to.after(d + 1) < $to.end(d)) {\n            splitting = true;\n            after = Fragment.from($to.node(d).copy(after));\n            openEnd++;\n        }\n        else {\n            end++;\n        }\n    tr.step(new ReplaceAroundStep(start, end, gapStart, gapEnd, new Slice(before.append(after), openStart, openEnd), before.size - openStart, true));\n}\n/**\nTry to find a valid way to wrap the content in the given range in a\nnode of the given type. May introduce extra nodes around and inside\nthe wrapper node, if necessary. Returns null if no valid wrapping\ncould be found. When `innerRange` is given, that range's content is\nused as the content to fit into the wrapping, instead of the\ncontent of `range`.\n*/\nfunction findWrapping(range, nodeType, attrs = null, innerRange = range) {\n    let around = findWrappingOutside(range, nodeType);\n    let inner = around && findWrappingInside(innerRange, nodeType);\n    if (!inner)\n        return null;\n    return around.map(withAttrs)\n        .concat({ type: nodeType, attrs }).concat(inner.map(withAttrs));\n}\nfunction withAttrs(type) { return { type, attrs: null }; }\nfunction findWrappingOutside(range, type) {\n    let { parent, startIndex, endIndex } = range;\n    let around = parent.contentMatchAt(startIndex).findWrapping(type);\n    if (!around)\n        return null;\n    let outer = around.length ? around[0] : type;\n    return parent.canReplaceWith(startIndex, endIndex, outer) ? around : null;\n}\nfunction findWrappingInside(range, type) {\n    let { parent, startIndex, endIndex } = range;\n    let inner = parent.child(startIndex);\n    let inside = type.contentMatch.findWrapping(inner.type);\n    if (!inside)\n        return null;\n    let lastType = inside.length ? inside[inside.length - 1] : type;\n    let innerMatch = lastType.contentMatch;\n    for (let i = startIndex; innerMatch && i < endIndex; i++)\n        innerMatch = innerMatch.matchType(parent.child(i).type);\n    if (!innerMatch || !innerMatch.validEnd)\n        return null;\n    return inside;\n}\nfunction wrap(tr, range, wrappers) {\n    let content = Fragment.empty;\n    for (let i = wrappers.length - 1; i >= 0; i--) {\n        if (content.size) {\n            let match = wrappers[i].type.contentMatch.matchFragment(content);\n            if (!match || !match.validEnd)\n                throw new RangeError(\"Wrapper type given to Transform.wrap does not form valid content of its parent wrapper\");\n        }\n        content = Fragment.from(wrappers[i].type.create(wrappers[i].attrs, content));\n    }\n    let start = range.start, end = range.end;\n    tr.step(new ReplaceAroundStep(start, end, start, end, new Slice(content, 0, 0), wrappers.length, true));\n}\nfunction setBlockType(tr, from, to, type, attrs) {\n    if (!type.isTextblock)\n        throw new RangeError(\"Type given to setBlockType should be a textblock\");\n    let mapFrom = tr.steps.length;\n    tr.doc.nodesBetween(from, to, (node, pos) => {\n        let attrsHere = typeof attrs == \"function\" ? attrs(node) : attrs;\n        if (node.isTextblock && !node.hasMarkup(type, attrsHere) &&\n            canChangeType(tr.doc, tr.mapping.slice(mapFrom).map(pos), type)) {\n            let convertNewlines = null;\n            if (type.schema.linebreakReplacement) {\n                let pre = type.whitespace == \"pre\", supportLinebreak = !!type.contentMatch.matchType(type.schema.linebreakReplacement);\n                if (pre && !supportLinebreak)\n                    convertNewlines = false;\n                else if (!pre && supportLinebreak)\n                    convertNewlines = true;\n            }\n            // Ensure all markup that isn't allowed in the new node type is cleared\n            if (convertNewlines === false)\n                replaceLinebreaks(tr, node, pos, mapFrom);\n            clearIncompatible(tr, tr.mapping.slice(mapFrom).map(pos, 1), type, undefined, convertNewlines === null);\n            let mapping = tr.mapping.slice(mapFrom);\n            let startM = mapping.map(pos, 1), endM = mapping.map(pos + node.nodeSize, 1);\n            tr.step(new ReplaceAroundStep(startM, endM, startM + 1, endM - 1, new Slice(Fragment.from(type.create(attrsHere, null, node.marks)), 0, 0), 1, true));\n            if (convertNewlines === true)\n                replaceNewlines(tr, node, pos, mapFrom);\n            return false;\n        }\n    });\n}\nfunction replaceNewlines(tr, node, pos, mapFrom) {\n    node.forEach((child, offset) => {\n        if (child.isText) {\n            let m, newline = /\\r?\\n|\\r/g;\n            while (m = newline.exec(child.text)) {\n                let start = tr.mapping.slice(mapFrom).map(pos + 1 + offset + m.index);\n                tr.replaceWith(start, start + 1, node.type.schema.linebreakReplacement.create());\n            }\n        }\n    });\n}\nfunction replaceLinebreaks(tr, node, pos, mapFrom) {\n    node.forEach((child, offset) => {\n        if (child.type == child.type.schema.linebreakReplacement) {\n            let start = tr.mapping.slice(mapFrom).map(pos + 1 + offset);\n            tr.replaceWith(start, start + 1, node.type.schema.text(\"\\n\"));\n        }\n    });\n}\nfunction canChangeType(doc, pos, type) {\n    let $pos = doc.resolve(pos), index = $pos.index();\n    return $pos.parent.canReplaceWith(index, index + 1, type);\n}\n/**\nChange the type, attributes, and/or marks of the node at `pos`.\nWhen `type` isn't given, the existing node type is preserved,\n*/\nfunction setNodeMarkup(tr, pos, type, attrs, marks) {\n    let node = tr.doc.nodeAt(pos);\n    if (!node)\n        throw new RangeError(\"No node at given position\");\n    if (!type)\n        type = node.type;\n    let newNode = type.create(attrs, null, marks || node.marks);\n    if (node.isLeaf)\n        return tr.replaceWith(pos, pos + node.nodeSize, newNode);\n    if (!type.validContent(node.content))\n        throw new RangeError(\"Invalid content for node type \" + type.name);\n    tr.step(new ReplaceAroundStep(pos, pos + node.nodeSize, pos + 1, pos + node.nodeSize - 1, new Slice(Fragment.from(newNode), 0, 0), 1, true));\n}\n/**\nCheck whether splitting at the given position is allowed.\n*/\nfunction canSplit(doc, pos, depth = 1, typesAfter) {\n    let $pos = doc.resolve(pos), base = $pos.depth - depth;\n    let innerType = (typesAfter && typesAfter[typesAfter.length - 1]) || $pos.parent;\n    if (base < 0 || $pos.parent.type.spec.isolating ||\n        !$pos.parent.canReplace($pos.index(), $pos.parent.childCount) ||\n        !innerType.type.validContent($pos.parent.content.cutByIndex($pos.index(), $pos.parent.childCount)))\n        return false;\n    for (let d = $pos.depth - 1, i = depth - 2; d > base; d--, i--) {\n        let node = $pos.node(d), index = $pos.index(d);\n        if (node.type.spec.isolating)\n            return false;\n        let rest = node.content.cutByIndex(index, node.childCount);\n        let overrideChild = typesAfter && typesAfter[i + 1];\n        if (overrideChild)\n            rest = rest.replaceChild(0, overrideChild.type.create(overrideChild.attrs));\n        let after = (typesAfter && typesAfter[i]) || node;\n        if (!node.canReplace(index + 1, node.childCount) || !after.type.validContent(rest))\n            return false;\n    }\n    let index = $pos.indexAfter(base);\n    let baseType = typesAfter && typesAfter[0];\n    return $pos.node(base).canReplaceWith(index, index, baseType ? baseType.type : $pos.node(base + 1).type);\n}\nfunction split(tr, pos, depth = 1, typesAfter) {\n    let $pos = tr.doc.resolve(pos), before = Fragment.empty, after = Fragment.empty;\n    for (let d = $pos.depth, e = $pos.depth - depth, i = depth - 1; d > e; d--, i--) {\n        before = Fragment.from($pos.node(d).copy(before));\n        let typeAfter = typesAfter && typesAfter[i];\n        after = Fragment.from(typeAfter ? typeAfter.type.create(typeAfter.attrs, after) : $pos.node(d).copy(after));\n    }\n    tr.step(new ReplaceStep(pos, pos, new Slice(before.append(after), depth, depth), true));\n}\n/**\nTest whether the blocks before and after a given position can be\njoined.\n*/\nfunction canJoin(doc, pos) {\n    let $pos = doc.resolve(pos), index = $pos.index();\n    return joinable($pos.nodeBefore, $pos.nodeAfter) &&\n        $pos.parent.canReplace(index, index + 1);\n}\nfunction canAppendWithSubstitutedLinebreaks(a, b) {\n    if (!b.content.size)\n        a.type.compatibleContent(b.type);\n    let match = a.contentMatchAt(a.childCount);\n    let { linebreakReplacement } = a.type.schema;\n    for (let i = 0; i < b.childCount; i++) {\n        let child = b.child(i);\n        let type = child.type == linebreakReplacement ? a.type.schema.nodes.text : child.type;\n        match = match.matchType(type);\n        if (!match)\n            return false;\n        if (!a.type.allowsMarks(child.marks))\n            return false;\n    }\n    return match.validEnd;\n}\nfunction joinable(a, b) {\n    return !!(a && b && !a.isLeaf && canAppendWithSubstitutedLinebreaks(a, b));\n}\n/**\nFind an ancestor of the given position that can be joined to the\nblock before (or after if `dir` is positive). Returns the joinable\npoint, if any.\n*/\nfunction joinPoint(doc, pos, dir = -1) {\n    let $pos = doc.resolve(pos);\n    for (let d = $pos.depth;; d--) {\n        let before, after, index = $pos.index(d);\n        if (d == $pos.depth) {\n            before = $pos.nodeBefore;\n            after = $pos.nodeAfter;\n        }\n        else if (dir > 0) {\n            before = $pos.node(d + 1);\n            index++;\n            after = $pos.node(d).maybeChild(index);\n        }\n        else {\n            before = $pos.node(d).maybeChild(index - 1);\n            after = $pos.node(d + 1);\n        }\n        if (before && !before.isTextblock && joinable(before, after) &&\n            $pos.node(d).canReplace(index, index + 1))\n            return pos;\n        if (d == 0)\n            break;\n        pos = dir < 0 ? $pos.before(d) : $pos.after(d);\n    }\n}\nfunction join(tr, pos, depth) {\n    let convertNewlines = null;\n    let { linebreakReplacement } = tr.doc.type.schema;\n    let $before = tr.doc.resolve(pos - depth), beforeType = $before.node().type;\n    if (linebreakReplacement && beforeType.inlineContent) {\n        let pre = beforeType.whitespace == \"pre\";\n        let supportLinebreak = !!beforeType.contentMatch.matchType(linebreakReplacement);\n        if (pre && !supportLinebreak)\n            convertNewlines = false;\n        else if (!pre && supportLinebreak)\n            convertNewlines = true;\n    }\n    let mapFrom = tr.steps.length;\n    if (convertNewlines === false) {\n        let $after = tr.doc.resolve(pos + depth);\n        replaceLinebreaks(tr, $after.node(), $after.before(), mapFrom);\n    }\n    if (beforeType.inlineContent)\n        clearIncompatible(tr, pos + depth - 1, beforeType, $before.node().contentMatchAt($before.index()), convertNewlines == null);\n    let mapping = tr.mapping.slice(mapFrom), start = mapping.map(pos - depth);\n    tr.step(new ReplaceStep(start, mapping.map(pos + depth, -1), Slice.empty, true));\n    if (convertNewlines === true) {\n        let $full = tr.doc.resolve(start);\n        replaceNewlines(tr, $full.node(), $full.before(), tr.steps.length);\n    }\n    return tr;\n}\n/**\nTry to find a point where a node of the given type can be inserted\nnear `pos`, by searching up the node hierarchy when `pos` itself\nisn't a valid place but is at the start or end of a node. Return\nnull if no position was found.\n*/\nfunction insertPoint(doc, pos, nodeType) {\n    let $pos = doc.resolve(pos);\n    if ($pos.parent.canReplaceWith($pos.index(), $pos.index(), nodeType))\n        return pos;\n    if ($pos.parentOffset == 0)\n        for (let d = $pos.depth - 1; d >= 0; d--) {\n            let index = $pos.index(d);\n            if ($pos.node(d).canReplaceWith(index, index, nodeType))\n                return $pos.before(d + 1);\n            if (index > 0)\n                return null;\n        }\n    if ($pos.parentOffset == $pos.parent.content.size)\n        for (let d = $pos.depth - 1; d >= 0; d--) {\n            let index = $pos.indexAfter(d);\n            if ($pos.node(d).canReplaceWith(index, index, nodeType))\n                return $pos.after(d + 1);\n            if (index < $pos.node(d).childCount)\n                return null;\n        }\n    return null;\n}\n/**\nFinds a position at or around the given position where the given\nslice can be inserted. Will look at parent nodes' nearest boundary\nand try there, even if the original position wasn't directly at the\nstart or end of that node. Returns null when no position was found.\n*/\nfunction dropPoint(doc, pos, slice) {\n    let $pos = doc.resolve(pos);\n    if (!slice.content.size)\n        return pos;\n    let content = slice.content;\n    for (let i = 0; i < slice.openStart; i++)\n        content = content.firstChild.content;\n    for (let pass = 1; pass <= (slice.openStart == 0 && slice.size ? 2 : 1); pass++) {\n        for (let d = $pos.depth; d >= 0; d--) {\n            let bias = d == $pos.depth ? 0 : $pos.pos <= ($pos.start(d + 1) + $pos.end(d + 1)) / 2 ? -1 : 1;\n            let insertPos = $pos.index(d) + (bias > 0 ? 1 : 0);\n            let parent = $pos.node(d), fits = false;\n            if (pass == 1) {\n                fits = parent.canReplace(insertPos, insertPos, content);\n            }\n            else {\n                let wrapping = parent.contentMatchAt(insertPos).findWrapping(content.firstChild.type);\n                fits = wrapping && parent.canReplaceWith(insertPos, insertPos, wrapping[0]);\n            }\n            if (fits)\n                return bias == 0 ? $pos.pos : bias < 0 ? $pos.before(d + 1) : $pos.after(d + 1);\n        }\n    }\n    return null;\n}\n\n/**\n‘Fit’ a slice into a given position in the document, producing a\n[step](https://prosemirror.net/docs/ref/#transform.Step) that inserts it. Will return null if\nthere's no meaningful way to insert the slice here, or inserting it\nwould be a no-op (an empty slice over an empty range).\n*/\nfunction replaceStep(doc, from, to = from, slice = Slice.empty) {\n    if (from == to && !slice.size)\n        return null;\n    let $from = doc.resolve(from), $to = doc.resolve(to);\n    // Optimization -- avoid work if it's obvious that it's not needed.\n    if (fitsTrivially($from, $to, slice))\n        return new ReplaceStep(from, to, slice);\n    return new Fitter($from, $to, slice).fit();\n}\nfunction fitsTrivially($from, $to, slice) {\n    return !slice.openStart && !slice.openEnd && $from.start() == $to.start() &&\n        $from.parent.canReplace($from.index(), $to.index(), slice.content);\n}\n// Algorithm for 'placing' the elements of a slice into a gap:\n//\n// We consider the content of each node that is open to the left to be\n// independently placeable. I.e. in <p(\"foo\"), p(\"bar\")>, when the\n// paragraph on the left is open, \"foo\" can be placed (somewhere on\n// the left side of the replacement gap) independently from p(\"bar\").\n//\n// This class tracks the state of the placement progress in the\n// following properties:\n//\n//  - `frontier` holds a stack of `{type, match}` objects that\n//    represent the open side of the replacement. It starts at\n//    `$from`, then moves forward as content is placed, and is finally\n//    reconciled with `$to`.\n//\n//  - `unplaced` is a slice that represents the content that hasn't\n//    been placed yet.\n//\n//  - `placed` is a fragment of placed content. Its open-start value\n//    is implicit in `$from`, and its open-end value in `frontier`.\nclass Fitter {\n    constructor($from, $to, unplaced) {\n        this.$from = $from;\n        this.$to = $to;\n        this.unplaced = unplaced;\n        this.frontier = [];\n        this.placed = Fragment.empty;\n        for (let i = 0; i <= $from.depth; i++) {\n            let node = $from.node(i);\n            this.frontier.push({\n                type: node.type,\n                match: node.contentMatchAt($from.indexAfter(i))\n            });\n        }\n        for (let i = $from.depth; i > 0; i--)\n            this.placed = Fragment.from($from.node(i).copy(this.placed));\n    }\n    get depth() { return this.frontier.length - 1; }\n    fit() {\n        // As long as there's unplaced content, try to place some of it.\n        // If that fails, either increase the open score of the unplaced\n        // slice, or drop nodes from it, and then try again.\n        while (this.unplaced.size) {\n            let fit = this.findFittable();\n            if (fit)\n                this.placeNodes(fit);\n            else\n                this.openMore() || this.dropNode();\n        }\n        // When there's inline content directly after the frontier _and_\n        // directly after `this.$to`, we must generate a `ReplaceAround`\n        // step that pulls that content into the node after the frontier.\n        // That means the fitting must be done to the end of the textblock\n        // node after `this.$to`, not `this.$to` itself.\n        let moveInline = this.mustMoveInline(), placedSize = this.placed.size - this.depth - this.$from.depth;\n        let $from = this.$from, $to = this.close(moveInline < 0 ? this.$to : $from.doc.resolve(moveInline));\n        if (!$to)\n            return null;\n        // If closing to `$to` succeeded, create a step\n        let content = this.placed, openStart = $from.depth, openEnd = $to.depth;\n        while (openStart && openEnd && content.childCount == 1) { // Normalize by dropping open parent nodes\n            content = content.firstChild.content;\n            openStart--;\n            openEnd--;\n        }\n        let slice = new Slice(content, openStart, openEnd);\n        if (moveInline > -1)\n            return new ReplaceAroundStep($from.pos, moveInline, this.$to.pos, this.$to.end(), slice, placedSize);\n        if (slice.size || $from.pos != this.$to.pos) // Don't generate no-op steps\n            return new ReplaceStep($from.pos, $to.pos, slice);\n        return null;\n    }\n    // Find a position on the start spine of `this.unplaced` that has\n    // content that can be moved somewhere on the frontier. Returns two\n    // depths, one for the slice and one for the frontier.\n    findFittable() {\n        let startDepth = this.unplaced.openStart;\n        for (let cur = this.unplaced.content, d = 0, openEnd = this.unplaced.openEnd; d < startDepth; d++) {\n            let node = cur.firstChild;\n            if (cur.childCount > 1)\n                openEnd = 0;\n            if (node.type.spec.isolating && openEnd <= d) {\n                startDepth = d;\n                break;\n            }\n            cur = node.content;\n        }\n        // Only try wrapping nodes (pass 2) after finding a place without\n        // wrapping failed.\n        for (let pass = 1; pass <= 2; pass++) {\n            for (let sliceDepth = pass == 1 ? startDepth : this.unplaced.openStart; sliceDepth >= 0; sliceDepth--) {\n                let fragment, parent = null;\n                if (sliceDepth) {\n                    parent = contentAt(this.unplaced.content, sliceDepth - 1).firstChild;\n                    fragment = parent.content;\n                }\n                else {\n                    fragment = this.unplaced.content;\n                }\n                let first = fragment.firstChild;\n                for (let frontierDepth = this.depth; frontierDepth >= 0; frontierDepth--) {\n                    let { type, match } = this.frontier[frontierDepth], wrap, inject = null;\n                    // In pass 1, if the next node matches, or there is no next\n                    // node but the parents look compatible, we've found a\n                    // place.\n                    if (pass == 1 && (first ? match.matchType(first.type) || (inject = match.fillBefore(Fragment.from(first), false))\n                        : parent && type.compatibleContent(parent.type)))\n                        return { sliceDepth, frontierDepth, parent, inject };\n                    // In pass 2, look for a set of wrapping nodes that make\n                    // `first` fit here.\n                    else if (pass == 2 && first && (wrap = match.findWrapping(first.type)))\n                        return { sliceDepth, frontierDepth, parent, wrap };\n                    // Don't continue looking further up if the parent node\n                    // would fit here.\n                    if (parent && match.matchType(parent.type))\n                        break;\n                }\n            }\n        }\n    }\n    openMore() {\n        let { content, openStart, openEnd } = this.unplaced;\n        let inner = contentAt(content, openStart);\n        if (!inner.childCount || inner.firstChild.isLeaf)\n            return false;\n        this.unplaced = new Slice(content, openStart + 1, Math.max(openEnd, inner.size + openStart >= content.size - openEnd ? openStart + 1 : 0));\n        return true;\n    }\n    dropNode() {\n        let { content, openStart, openEnd } = this.unplaced;\n        let inner = contentAt(content, openStart);\n        if (inner.childCount <= 1 && openStart > 0) {\n            let openAtEnd = content.size - openStart <= openStart + inner.size;\n            this.unplaced = new Slice(dropFromFragment(content, openStart - 1, 1), openStart - 1, openAtEnd ? openStart - 1 : openEnd);\n        }\n        else {\n            this.unplaced = new Slice(dropFromFragment(content, openStart, 1), openStart, openEnd);\n        }\n    }\n    // Move content from the unplaced slice at `sliceDepth` to the\n    // frontier node at `frontierDepth`. Close that frontier node when\n    // applicable.\n    placeNodes({ sliceDepth, frontierDepth, parent, inject, wrap }) {\n        while (this.depth > frontierDepth)\n            this.closeFrontierNode();\n        if (wrap)\n            for (let i = 0; i < wrap.length; i++)\n                this.openFrontierNode(wrap[i]);\n        let slice = this.unplaced, fragment = parent ? parent.content : slice.content;\n        let openStart = slice.openStart - sliceDepth;\n        let taken = 0, add = [];\n        let { match, type } = this.frontier[frontierDepth];\n        if (inject) {\n            for (let i = 0; i < inject.childCount; i++)\n                add.push(inject.child(i));\n            match = match.matchFragment(inject);\n        }\n        // Computes the amount of (end) open nodes at the end of the\n        // fragment. When 0, the parent is open, but no more. When\n        // negative, nothing is open.\n        let openEndCount = (fragment.size + sliceDepth) - (slice.content.size - slice.openEnd);\n        // Scan over the fragment, fitting as many child nodes as\n        // possible.\n        while (taken < fragment.childCount) {\n            let next = fragment.child(taken), matches = match.matchType(next.type);\n            if (!matches)\n                break;\n            taken++;\n            if (taken > 1 || openStart == 0 || next.content.size) { // Drop empty open nodes\n                match = matches;\n                add.push(closeNodeStart(next.mark(type.allowedMarks(next.marks)), taken == 1 ? openStart : 0, taken == fragment.childCount ? openEndCount : -1));\n            }\n        }\n        let toEnd = taken == fragment.childCount;\n        if (!toEnd)\n            openEndCount = -1;\n        this.placed = addToFragment(this.placed, frontierDepth, Fragment.from(add));\n        this.frontier[frontierDepth].match = match;\n        // If the parent types match, and the entire node was moved, and\n        // it's not open, close this frontier node right away.\n        if (toEnd && openEndCount < 0 && parent && parent.type == this.frontier[this.depth].type && this.frontier.length > 1)\n            this.closeFrontierNode();\n        // Add new frontier nodes for any open nodes at the end.\n        for (let i = 0, cur = fragment; i < openEndCount; i++) {\n            let node = cur.lastChild;\n            this.frontier.push({ type: node.type, match: node.contentMatchAt(node.childCount) });\n            cur = node.content;\n        }\n        // Update `this.unplaced`. Drop the entire node from which we\n        // placed it we got to its end, otherwise just drop the placed\n        // nodes.\n        this.unplaced = !toEnd ? new Slice(dropFromFragment(slice.content, sliceDepth, taken), slice.openStart, slice.openEnd)\n            : sliceDepth == 0 ? Slice.empty\n                : new Slice(dropFromFragment(slice.content, sliceDepth - 1, 1), sliceDepth - 1, openEndCount < 0 ? slice.openEnd : sliceDepth - 1);\n    }\n    mustMoveInline() {\n        if (!this.$to.parent.isTextblock)\n            return -1;\n        let top = this.frontier[this.depth], level;\n        if (!top.type.isTextblock || !contentAfterFits(this.$to, this.$to.depth, top.type, top.match, false) ||\n            (this.$to.depth == this.depth && (level = this.findCloseLevel(this.$to)) && level.depth == this.depth))\n            return -1;\n        let { depth } = this.$to, after = this.$to.after(depth);\n        while (depth > 1 && after == this.$to.end(--depth))\n            ++after;\n        return after;\n    }\n    findCloseLevel($to) {\n        scan: for (let i = Math.min(this.depth, $to.depth); i >= 0; i--) {\n            let { match, type } = this.frontier[i];\n            let dropInner = i < $to.depth && $to.end(i + 1) == $to.pos + ($to.depth - (i + 1));\n            let fit = contentAfterFits($to, i, type, match, dropInner);\n            if (!fit)\n                continue;\n            for (let d = i - 1; d >= 0; d--) {\n                let { match, type } = this.frontier[d];\n                let matches = contentAfterFits($to, d, type, match, true);\n                if (!matches || matches.childCount)\n                    continue scan;\n            }\n            return { depth: i, fit, move: dropInner ? $to.doc.resolve($to.after(i + 1)) : $to };\n        }\n    }\n    close($to) {\n        let close = this.findCloseLevel($to);\n        if (!close)\n            return null;\n        while (this.depth > close.depth)\n            this.closeFrontierNode();\n        if (close.fit.childCount)\n            this.placed = addToFragment(this.placed, close.depth, close.fit);\n        $to = close.move;\n        for (let d = close.depth + 1; d <= $to.depth; d++) {\n            let node = $to.node(d), add = node.type.contentMatch.fillBefore(node.content, true, $to.index(d));\n            this.openFrontierNode(node.type, node.attrs, add);\n        }\n        return $to;\n    }\n    openFrontierNode(type, attrs = null, content) {\n        let top = this.frontier[this.depth];\n        top.match = top.match.matchType(type);\n        this.placed = addToFragment(this.placed, this.depth, Fragment.from(type.create(attrs, content)));\n        this.frontier.push({ type, match: type.contentMatch });\n    }\n    closeFrontierNode() {\n        let open = this.frontier.pop();\n        let add = open.match.fillBefore(Fragment.empty, true);\n        if (add.childCount)\n            this.placed = addToFragment(this.placed, this.frontier.length, add);\n    }\n}\nfunction dropFromFragment(fragment, depth, count) {\n    if (depth == 0)\n        return fragment.cutByIndex(count, fragment.childCount);\n    return fragment.replaceChild(0, fragment.firstChild.copy(dropFromFragment(fragment.firstChild.content, depth - 1, count)));\n}\nfunction addToFragment(fragment, depth, content) {\n    if (depth == 0)\n        return fragment.append(content);\n    return fragment.replaceChild(fragment.childCount - 1, fragment.lastChild.copy(addToFragment(fragment.lastChild.content, depth - 1, content)));\n}\nfunction contentAt(fragment, depth) {\n    for (let i = 0; i < depth; i++)\n        fragment = fragment.firstChild.content;\n    return fragment;\n}\nfunction closeNodeStart(node, openStart, openEnd) {\n    if (openStart <= 0)\n        return node;\n    let frag = node.content;\n    if (openStart > 1)\n        frag = frag.replaceChild(0, closeNodeStart(frag.firstChild, openStart - 1, frag.childCount == 1 ? openEnd - 1 : 0));\n    if (openStart > 0) {\n        frag = node.type.contentMatch.fillBefore(frag).append(frag);\n        if (openEnd <= 0)\n            frag = frag.append(node.type.contentMatch.matchFragment(frag).fillBefore(Fragment.empty, true));\n    }\n    return node.copy(frag);\n}\nfunction contentAfterFits($to, depth, type, match, open) {\n    let node = $to.node(depth), index = open ? $to.indexAfter(depth) : $to.index(depth);\n    if (index == node.childCount && !type.compatibleContent(node.type))\n        return null;\n    let fit = match.fillBefore(node.content, true, index);\n    return fit && !invalidMarks(type, node.content, index) ? fit : null;\n}\nfunction invalidMarks(type, fragment, start) {\n    for (let i = start; i < fragment.childCount; i++)\n        if (!type.allowsMarks(fragment.child(i).marks))\n            return true;\n    return false;\n}\nfunction definesContent(type) {\n    return type.spec.defining || type.spec.definingForContent;\n}\nfunction replaceRange(tr, from, to, slice) {\n    if (!slice.size)\n        return tr.deleteRange(from, to);\n    let $from = tr.doc.resolve(from), $to = tr.doc.resolve(to);\n    if (fitsTrivially($from, $to, slice))\n        return tr.step(new ReplaceStep(from, to, slice));\n    let targetDepths = coveredDepths($from, $to);\n    // Can't replace the whole document, so remove 0 if it's present\n    if (targetDepths[targetDepths.length - 1] == 0)\n        targetDepths.pop();\n    // Negative numbers represent not expansion over the whole node at\n    // that depth, but replacing from $from.before(-D) to $to.pos.\n    let preferredTarget = -($from.depth + 1);\n    targetDepths.unshift(preferredTarget);\n    // This loop picks a preferred target depth, if one of the covering\n    // depths is not outside of a defining node, and adds negative\n    // depths for any depth that has $from at its start and does not\n    // cross a defining node.\n    for (let d = $from.depth, pos = $from.pos - 1; d > 0; d--, pos--) {\n        let spec = $from.node(d).type.spec;\n        if (spec.defining || spec.definingAsContext || spec.isolating)\n            break;\n        if (targetDepths.indexOf(d) > -1)\n            preferredTarget = d;\n        else if ($from.before(d) == pos)\n            targetDepths.splice(1, 0, -d);\n    }\n    // Try to fit each possible depth of the slice into each possible\n    // target depth, starting with the preferred depths.\n    let preferredTargetIndex = targetDepths.indexOf(preferredTarget);\n    let leftNodes = [], preferredDepth = slice.openStart;\n    for (let content = slice.content, i = 0;; i++) {\n        let node = content.firstChild;\n        leftNodes.push(node);\n        if (i == slice.openStart)\n            break;\n        content = node.content;\n    }\n    // Back up preferredDepth to cover defining textblocks directly\n    // above it, possibly skipping a non-defining textblock.\n    for (let d = preferredDepth - 1; d >= 0; d--) {\n        let leftNode = leftNodes[d], def = definesContent(leftNode.type);\n        if (def && !leftNode.sameMarkup($from.node(Math.abs(preferredTarget) - 1)))\n            preferredDepth = d;\n        else if (def || !leftNode.type.isTextblock)\n            break;\n    }\n    for (let j = slice.openStart; j >= 0; j--) {\n        let openDepth = (j + preferredDepth + 1) % (slice.openStart + 1);\n        let insert = leftNodes[openDepth];\n        if (!insert)\n            continue;\n        for (let i = 0; i < targetDepths.length; i++) {\n            // Loop over possible expansion levels, starting with the\n            // preferred one\n            let targetDepth = targetDepths[(i + preferredTargetIndex) % targetDepths.length], expand = true;\n            if (targetDepth < 0) {\n                expand = false;\n                targetDepth = -targetDepth;\n            }\n            let parent = $from.node(targetDepth - 1), index = $from.index(targetDepth - 1);\n            if (parent.canReplaceWith(index, index, insert.type, insert.marks))\n                return tr.replace($from.before(targetDepth), expand ? $to.after(targetDepth) : to, new Slice(closeFragment(slice.content, 0, slice.openStart, openDepth), openDepth, slice.openEnd));\n        }\n    }\n    let startSteps = tr.steps.length;\n    for (let i = targetDepths.length - 1; i >= 0; i--) {\n        tr.replace(from, to, slice);\n        if (tr.steps.length > startSteps)\n            break;\n        let depth = targetDepths[i];\n        if (depth < 0)\n            continue;\n        from = $from.before(depth);\n        to = $to.after(depth);\n    }\n}\nfunction closeFragment(fragment, depth, oldOpen, newOpen, parent) {\n    if (depth < oldOpen) {\n        let first = fragment.firstChild;\n        fragment = fragment.replaceChild(0, first.copy(closeFragment(first.content, depth + 1, oldOpen, newOpen, first)));\n    }\n    if (depth > newOpen) {\n        let match = parent.contentMatchAt(0);\n        let start = match.fillBefore(fragment).append(fragment);\n        fragment = start.append(match.matchFragment(start).fillBefore(Fragment.empty, true));\n    }\n    return fragment;\n}\nfunction replaceRangeWith(tr, from, to, node) {\n    if (!node.isInline && from == to && tr.doc.resolve(from).parent.content.size) {\n        let point = insertPoint(tr.doc, from, node.type);\n        if (point != null)\n            from = to = point;\n    }\n    tr.replaceRange(from, to, new Slice(Fragment.from(node), 0, 0));\n}\nfunction deleteRange(tr, from, to) {\n    let $from = tr.doc.resolve(from), $to = tr.doc.resolve(to);\n    let covered = coveredDepths($from, $to);\n    for (let i = 0; i < covered.length; i++) {\n        let depth = covered[i], last = i == covered.length - 1;\n        if ((last && depth == 0) || $from.node(depth).type.contentMatch.validEnd)\n            return tr.delete($from.start(depth), $to.end(depth));\n        if (depth > 0 && (last || $from.node(depth - 1).canReplace($from.index(depth - 1), $to.indexAfter(depth - 1))))\n            return tr.delete($from.before(depth), $to.after(depth));\n    }\n    for (let d = 1; d <= $from.depth && d <= $to.depth; d++) {\n        if (from - $from.start(d) == $from.depth - d && to > $from.end(d) && $to.end(d) - to != $to.depth - d &&\n            $from.start(d - 1) == $to.start(d - 1) && $from.node(d - 1).canReplace($from.index(d - 1), $to.index(d - 1)))\n            return tr.delete($from.before(d), to);\n    }\n    tr.delete(from, to);\n}\n// Returns an array of all depths for which $from - $to spans the\n// whole content of the nodes at that depth.\nfunction coveredDepths($from, $to) {\n    let result = [], minDepth = Math.min($from.depth, $to.depth);\n    for (let d = minDepth; d >= 0; d--) {\n        let start = $from.start(d);\n        if (start < $from.pos - ($from.depth - d) ||\n            $to.end(d) > $to.pos + ($to.depth - d) ||\n            $from.node(d).type.spec.isolating ||\n            $to.node(d).type.spec.isolating)\n            break;\n        if (start == $to.start(d) ||\n            (d == $from.depth && d == $to.depth && $from.parent.inlineContent && $to.parent.inlineContent &&\n                d && $to.start(d - 1) == start - 1))\n            result.push(d);\n    }\n    return result;\n}\n\n/**\nUpdate an attribute in a specific node.\n*/\nclass AttrStep extends Step {\n    /**\n    Construct an attribute step.\n    */\n    constructor(\n    /**\n    The position of the target node.\n    */\n    pos, \n    /**\n    The attribute to set.\n    */\n    attr, \n    // The attribute's new value.\n    value) {\n        super();\n        this.pos = pos;\n        this.attr = attr;\n        this.value = value;\n    }\n    apply(doc) {\n        let node = doc.nodeAt(this.pos);\n        if (!node)\n            return StepResult.fail(\"No node at attribute step's position\");\n        let attrs = Object.create(null);\n        for (let name in node.attrs)\n            attrs[name] = node.attrs[name];\n        attrs[this.attr] = this.value;\n        let updated = node.type.create(attrs, null, node.marks);\n        return StepResult.fromReplace(doc, this.pos, this.pos + 1, new Slice(Fragment.from(updated), 0, node.isLeaf ? 0 : 1));\n    }\n    getMap() {\n        return StepMap.empty;\n    }\n    invert(doc) {\n        return new AttrStep(this.pos, this.attr, doc.nodeAt(this.pos).attrs[this.attr]);\n    }\n    map(mapping) {\n        let pos = mapping.mapResult(this.pos, 1);\n        return pos.deletedAfter ? null : new AttrStep(pos.pos, this.attr, this.value);\n    }\n    toJSON() {\n        return { stepType: \"attr\", pos: this.pos, attr: this.attr, value: this.value };\n    }\n    static fromJSON(schema, json) {\n        if (typeof json.pos != \"number\" || typeof json.attr != \"string\")\n            throw new RangeError(\"Invalid input for AttrStep.fromJSON\");\n        return new AttrStep(json.pos, json.attr, json.value);\n    }\n}\nStep.jsonID(\"attr\", AttrStep);\n/**\nUpdate an attribute in the doc node.\n*/\nclass DocAttrStep extends Step {\n    /**\n    Construct an attribute step.\n    */\n    constructor(\n    /**\n    The attribute to set.\n    */\n    attr, \n    // The attribute's new value.\n    value) {\n        super();\n        this.attr = attr;\n        this.value = value;\n    }\n    apply(doc) {\n        let attrs = Object.create(null);\n        for (let name in doc.attrs)\n            attrs[name] = doc.attrs[name];\n        attrs[this.attr] = this.value;\n        let updated = doc.type.create(attrs, doc.content, doc.marks);\n        return StepResult.ok(updated);\n    }\n    getMap() {\n        return StepMap.empty;\n    }\n    invert(doc) {\n        return new DocAttrStep(this.attr, doc.attrs[this.attr]);\n    }\n    map(mapping) {\n        return this;\n    }\n    toJSON() {\n        return { stepType: \"docAttr\", attr: this.attr, value: this.value };\n    }\n    static fromJSON(schema, json) {\n        if (typeof json.attr != \"string\")\n            throw new RangeError(\"Invalid input for DocAttrStep.fromJSON\");\n        return new DocAttrStep(json.attr, json.value);\n    }\n}\nStep.jsonID(\"docAttr\", DocAttrStep);\n\n/**\n@internal\n*/\nlet TransformError = class extends Error {\n};\nTransformError = function TransformError(message) {\n    let err = Error.call(this, message);\n    err.__proto__ = TransformError.prototype;\n    return err;\n};\nTransformError.prototype = Object.create(Error.prototype);\nTransformError.prototype.constructor = TransformError;\nTransformError.prototype.name = \"TransformError\";\n/**\nAbstraction to build up and track an array of\n[steps](https://prosemirror.net/docs/ref/#transform.Step) representing a document transformation.\n\nMost transforming methods return the `Transform` object itself, so\nthat they can be chained.\n*/\nclass Transform {\n    /**\n    Create a transform that starts with the given document.\n    */\n    constructor(\n    /**\n    The current document (the result of applying the steps in the\n    transform).\n    */\n    doc) {\n        this.doc = doc;\n        /**\n        The steps in this transform.\n        */\n        this.steps = [];\n        /**\n        The documents before each of the steps.\n        */\n        this.docs = [];\n        /**\n        A mapping with the maps for each of the steps in this transform.\n        */\n        this.mapping = new Mapping;\n    }\n    /**\n    The starting document.\n    */\n    get before() { return this.docs.length ? this.docs[0] : this.doc; }\n    /**\n    Apply a new step in this transform, saving the result. Throws an\n    error when the step fails.\n    */\n    step(step) {\n        let result = this.maybeStep(step);\n        if (result.failed)\n            throw new TransformError(result.failed);\n        return this;\n    }\n    /**\n    Try to apply a step in this transformation, ignoring it if it\n    fails. Returns the step result.\n    */\n    maybeStep(step) {\n        let result = step.apply(this.doc);\n        if (!result.failed)\n            this.addStep(step, result.doc);\n        return result;\n    }\n    /**\n    True when the document has been changed (when there are any\n    steps).\n    */\n    get docChanged() {\n        return this.steps.length > 0;\n    }\n    /**\n    Return a single range, in post-transform document positions,\n    that covers all content changed by this transform. Returns null\n    if no replacements are made. Note that this will ignore changes\n    that add/remove marks without replacing the underlying content.\n    */\n    changedRange() {\n        let from = 1e9, to = -1e9;\n        for (let i = 0; i < this.mapping.maps.length; i++) {\n            let map = this.mapping.maps[i];\n            if (i) {\n                from = map.map(from, 1);\n                to = map.map(to, -1);\n            }\n            map.forEach((_f, _t, fromB, toB) => {\n                from = Math.min(from, fromB);\n                to = Math.max(to, toB);\n            });\n        }\n        return from == 1e9 ? null : { from, to };\n    }\n    /**\n    @internal\n    */\n    addStep(step, doc) {\n        this.docs.push(this.doc);\n        this.steps.push(step);\n        this.mapping.appendMap(step.getMap());\n        this.doc = doc;\n    }\n    /**\n    Replace the part of the document between `from` and `to` with the\n    given `slice`.\n    */\n    replace(from, to = from, slice = Slice.empty) {\n        let step = replaceStep(this.doc, from, to, slice);\n        if (step)\n            this.step(step);\n        return this;\n    }\n    /**\n    Replace the given range with the given content, which may be a\n    fragment, node, or array of nodes.\n    */\n    replaceWith(from, to, content) {\n        return this.replace(from, to, new Slice(Fragment.from(content), 0, 0));\n    }\n    /**\n    Delete the content between the given positions.\n    */\n    delete(from, to) {\n        return this.replace(from, to, Slice.empty);\n    }\n    /**\n    Insert the given content at the given position.\n    */\n    insert(pos, content) {\n        return this.replaceWith(pos, pos, content);\n    }\n    /**\n    Replace a range of the document with a given slice, using\n    `from`, `to`, and the slice's\n    [`openStart`](https://prosemirror.net/docs/ref/#model.Slice.openStart) property as hints, rather\n    than fixed start and end points. This method may grow the\n    replaced area or close open nodes in the slice in order to get a\n    fit that is more in line with WYSIWYG expectations, by dropping\n    fully covered parent nodes of the replaced region when they are\n    marked [non-defining as\n    context](https://prosemirror.net/docs/ref/#model.NodeSpec.definingAsContext), or including an\n    open parent node from the slice that _is_ marked as [defining\n    its content](https://prosemirror.net/docs/ref/#model.NodeSpec.definingForContent).\n    \n    This is the method, for example, to handle paste. The similar\n    [`replace`](https://prosemirror.net/docs/ref/#transform.Transform.replace) method is a more\n    primitive tool which will _not_ move the start and end of its given\n    range, and is useful in situations where you need more precise\n    control over what happens.\n    */\n    replaceRange(from, to, slice) {\n        replaceRange(this, from, to, slice);\n        return this;\n    }\n    /**\n    Replace the given range with a node, but use `from` and `to` as\n    hints, rather than precise positions. When from and to are the same\n    and are at the start or end of a parent node in which the given\n    node doesn't fit, this method may _move_ them out towards a parent\n    that does allow the given node to be placed. When the given range\n    completely covers a parent node, this method may completely replace\n    that parent node.\n    */\n    replaceRangeWith(from, to, node) {\n        replaceRangeWith(this, from, to, node);\n        return this;\n    }\n    /**\n    Delete the given range, expanding it to cover fully covered\n    parent nodes until a valid replace is found.\n    */\n    deleteRange(from, to) {\n        deleteRange(this, from, to);\n        return this;\n    }\n    /**\n    Split the content in the given range off from its parent, if there\n    is sibling content before or after it, and move it up the tree to\n    the depth specified by `target`. You'll probably want to use\n    [`liftTarget`](https://prosemirror.net/docs/ref/#transform.liftTarget) to compute `target`, to make\n    sure the lift is valid.\n    */\n    lift(range, target) {\n        lift(this, range, target);\n        return this;\n    }\n    /**\n    Join the blocks around the given position. If depth is 2, their\n    last and first siblings are also joined, and so on.\n    */\n    join(pos, depth = 1) {\n        join(this, pos, depth);\n        return this;\n    }\n    /**\n    Wrap the given [range](https://prosemirror.net/docs/ref/#model.NodeRange) in the given set of wrappers.\n    The wrappers are assumed to be valid in this position, and should\n    probably be computed with [`findWrapping`](https://prosemirror.net/docs/ref/#transform.findWrapping).\n    */\n    wrap(range, wrappers) {\n        wrap(this, range, wrappers);\n        return this;\n    }\n    /**\n    Set the type of all textblocks (partly) between `from` and `to` to\n    the given node type with the given attributes.\n    */\n    setBlockType(from, to = from, type, attrs = null) {\n        setBlockType(this, from, to, type, attrs);\n        return this;\n    }\n    /**\n    Change the type, attributes, and/or marks of the node at `pos`.\n    When `type` isn't given, the existing node type is preserved,\n    */\n    setNodeMarkup(pos, type, attrs = null, marks) {\n        setNodeMarkup(this, pos, type, attrs, marks);\n        return this;\n    }\n    /**\n    Set a single attribute on a given node to a new value.\n    The `pos` addresses the document content. Use `setDocAttribute`\n    to set attributes on the document itself.\n    */\n    setNodeAttribute(pos, attr, value) {\n        this.step(new AttrStep(pos, attr, value));\n        return this;\n    }\n    /**\n    Set a single attribute on the document to a new value.\n    */\n    setDocAttribute(attr, value) {\n        this.step(new DocAttrStep(attr, value));\n        return this;\n    }\n    /**\n    Add a mark to the node at position `pos`.\n    */\n    addNodeMark(pos, mark) {\n        this.step(new AddNodeMarkStep(pos, mark));\n        return this;\n    }\n    /**\n    Remove a mark (or all marks of the given type) from the node at\n    position `pos`.\n    */\n    removeNodeMark(pos, mark) {\n        let node = this.doc.nodeAt(pos);\n        if (!node)\n            throw new RangeError(\"No node at position \" + pos);\n        if (mark instanceof Mark) {\n            if (mark.isInSet(node.marks))\n                this.step(new RemoveNodeMarkStep(pos, mark));\n        }\n        else {\n            let set = node.marks, found, steps = [];\n            while (found = mark.isInSet(set)) {\n                steps.push(new RemoveNodeMarkStep(pos, found));\n                set = found.removeFromSet(set);\n            }\n            for (let i = steps.length - 1; i >= 0; i--)\n                this.step(steps[i]);\n        }\n        return this;\n    }\n    /**\n    Split the node at the given position, and optionally, if `depth` is\n    greater than one, any number of nodes above that. By default, the\n    parts split off will inherit the node type of the original node.\n    This can be changed by passing an array of types and attributes to\n    use after the split (with the outermost nodes coming first).\n    */\n    split(pos, depth = 1, typesAfter) {\n        split(this, pos, depth, typesAfter);\n        return this;\n    }\n    /**\n    Add the given mark to the inline content between `from` and `to`.\n    */\n    addMark(from, to, mark) {\n        addMark(this, from, to, mark);\n        return this;\n    }\n    /**\n    Remove marks from inline nodes between `from` and `to`. When\n    `mark` is a single mark, remove precisely that mark. When it is\n    a mark type, remove all marks of that type. When it is null,\n    remove all marks of any type.\n    */\n    removeMark(from, to, mark) {\n        removeMark(this, from, to, mark);\n        return this;\n    }\n    /**\n    Removes all marks and nodes from the content of the node at\n    `pos` that don't match the given new parent node type. Accepts\n    an optional starting [content match](https://prosemirror.net/docs/ref/#model.ContentMatch) as\n    third argument.\n    */\n    clearIncompatible(pos, parentType, match) {\n        clearIncompatible(this, pos, parentType, match);\n        return this;\n    }\n}\n\nexport { AddMarkStep, AddNodeMarkStep, AttrStep, DocAttrStep, MapResult, Mapping, RemoveMarkStep, RemoveNodeMarkStep, ReplaceAroundStep, ReplaceStep, Step, StepMap, StepResult, Transform, TransformError, canJoin, canSplit, dropPoint, findWrapping, insertPoint, joinPoint, liftTarget, replaceStep };\n","// src/code.ts\nimport { Mark, markInputRule, markPasteRule, mergeAttributes } from \"@tiptap/core\";\nvar inputRegex = /(^|[^`])`([^`]+)`(?!`)$/;\nvar pasteRegex = /(^|[^`])`([^`]+)`(?!`)/g;\nvar Code = Mark.create({\n  name: \"code\",\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  excludes: \"_\",\n  code: true,\n  exitable: true,\n  parseHTML() {\n    return [{ tag: \"code\" }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"code\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  markdownTokenName: \"codespan\",\n  parseMarkdown: (token, helpers) => {\n    return helpers.applyMark(\"code\", [{ type: \"text\", text: token.text || \"\" }]);\n  },\n  renderMarkdown: (node, h) => {\n    if (!node.content) {\n      return \"\";\n    }\n    return `\\`${h.renderChildren(node.content)}\\``;\n  },\n  addCommands() {\n    return {\n      setCode: () => ({ commands }) => {\n        return commands.setMark(this.name);\n      },\n      toggleCode: () => ({ commands }) => {\n        return commands.toggleMark(this.name);\n      },\n      unsetCode: () => ({ commands }) => {\n        return commands.unsetMark(this.name);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-e\": () => this.editor.commands.toggleCode()\n    };\n  },\n  addInputRules() {\n    return [\n      markInputRule({\n        find: inputRegex,\n        type: this.type\n      })\n    ];\n  },\n  addPasteRules() {\n    return [\n      markPasteRule({\n        find: pasteRegex,\n        type: this.type\n      })\n    ];\n  }\n});\n\n// src/index.ts\nvar index_default = Code;\nexport {\n  Code,\n  index_default as default,\n  inputRegex,\n  pasteRegex\n};\n//# sourceMappingURL=index.js.map","// src/document.ts\nimport { Node } from \"@tiptap/core\";\nvar Document = Node.create({\n  name: \"doc\",\n  topNode: true,\n  content: \"block+\",\n  renderMarkdown: (node, h) => {\n    if (!node.content) {\n      return \"\";\n    }\n    return h.renderChildren(node.content, \"\\n\\n\");\n  }\n});\n\n// src/index.ts\nvar index_default = Document;\nexport {\n  Document,\n  index_default as default\n};\n//# sourceMappingURL=index.js.map","// src/hard-break.ts\nimport { mergeAttributes, Node } from \"@tiptap/core\";\nvar HardBreak = Node.create({\n  name: \"hardBreak\",\n  markdownTokenName: \"br\",\n  addOptions() {\n    return {\n      keepMarks: true,\n      HTMLAttributes: {}\n    };\n  },\n  inline: true,\n  group: \"inline\",\n  selectable: false,\n  linebreakReplacement: true,\n  parseHTML() {\n    return [{ tag: \"br\" }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"br\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes)];\n  },\n  renderText() {\n    return \"\\n\";\n  },\n  renderMarkdown: () => `  \n`,\n  parseMarkdown: () => {\n    return {\n      type: \"hardBreak\"\n    };\n  },\n  addCommands() {\n    return {\n      setHardBreak: () => ({ commands, chain, state, editor }) => {\n        return commands.first([\n          () => commands.exitCode(),\n          () => commands.command(() => {\n            const { selection, storedMarks } = state;\n            if (selection.$from.parent.type.spec.isolating) {\n              return false;\n            }\n            const { keepMarks } = this.options;\n            const { splittableMarks } = editor.extensionManager;\n            const marks = storedMarks || selection.$to.parentOffset && selection.$from.marks();\n            return chain().insertContent({ type: this.name }).command(({ tr, dispatch }) => {\n              if (dispatch && marks && keepMarks) {\n                const filteredMarks = marks.filter((mark) => splittableMarks.includes(mark.type.name));\n                tr.ensureMarks(filteredMarks);\n              }\n              return true;\n            }).run();\n          })\n        ]);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Enter\": () => this.editor.commands.setHardBreak(),\n      \"Shift-Enter\": () => this.editor.commands.setHardBreak()\n    };\n  }\n});\n\n// src/index.ts\nvar index_default = HardBreak;\nexport {\n  HardBreak,\n  index_default as default\n};\n//# sourceMappingURL=index.js.map","// src/heading.ts\nimport { mergeAttributes, Node, textblockTypeInputRule } from \"@tiptap/core\";\nvar Heading = Node.create({\n  name: \"heading\",\n  addOptions() {\n    return {\n      levels: [1, 2, 3, 4, 5, 6],\n      HTMLAttributes: {}\n    };\n  },\n  content: \"inline*\",\n  group: \"block\",\n  defining: true,\n  addAttributes() {\n    return {\n      level: {\n        default: 1,\n        rendered: false\n      }\n    };\n  },\n  parseHTML() {\n    return this.options.levels.map((level) => ({\n      tag: `h${level}`,\n      attrs: { level }\n    }));\n  },\n  renderHTML({ node, HTMLAttributes }) {\n    const hasLevel = this.options.levels.includes(node.attrs.level);\n    const level = hasLevel ? node.attrs.level : this.options.levels[0];\n    return [`h${level}`, mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  parseMarkdown: (token, helpers) => {\n    return helpers.createNode(\"heading\", { level: token.depth || 1 }, helpers.parseInline(token.tokens || []));\n  },\n  renderMarkdown: (node, h) => {\n    var _a;\n    const level = ((_a = node.attrs) == null ? void 0 : _a.level) ? parseInt(node.attrs.level, 10) : 1;\n    const headingChars = \"#\".repeat(level);\n    if (!node.content) {\n      return \"\";\n    }\n    return `${headingChars} ${h.renderChildren(node.content)}`;\n  },\n  addCommands() {\n    return {\n      setHeading: (attributes) => ({ commands }) => {\n        if (!this.options.levels.includes(attributes.level)) {\n          return false;\n        }\n        return commands.setNode(this.name, attributes);\n      },\n      toggleHeading: (attributes) => ({ commands }) => {\n        if (!this.options.levels.includes(attributes.level)) {\n          return false;\n        }\n        return commands.toggleNode(this.name, \"paragraph\", attributes);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return this.options.levels.reduce(\n      (items, level) => ({\n        ...items,\n        ...{\n          [`Mod-Alt-${level}`]: () => this.editor.commands.toggleHeading({ level })\n        }\n      }),\n      {}\n    );\n  },\n  addInputRules() {\n    return this.options.levels.map((level) => {\n      return textblockTypeInputRule({\n        find: new RegExp(`^(#{${Math.min(...this.options.levels)},${level}})\\\\s$`),\n        type: this.type,\n        getAttributes: {\n          level\n        }\n      });\n    });\n  }\n});\n\n// src/index.ts\nvar index_default = Heading;\nexport {\n  Heading,\n  index_default as default\n};\n//# sourceMappingURL=index.js.map","// src/italic.ts\nimport { Mark, markInputRule, markPasteRule, mergeAttributes } from \"@tiptap/core\";\nvar starInputRegex = /(?:^|\\s)(\\*(?!\\s+\\*)((?:[^*]+))\\*(?!\\s+\\*))$/;\nvar starPasteRegex = /(?:^|\\s)(\\*(?!\\s+\\*)((?:[^*]+))\\*(?!\\s+\\*))/g;\nvar underscoreInputRegex = /(?:^|\\s)(_(?!\\s+_)((?:[^_]+))_(?!\\s+_))$/;\nvar underscorePasteRegex = /(?:^|\\s)(_(?!\\s+_)((?:[^_]+))_(?!\\s+_))/g;\nvar Italic = Mark.create({\n  name: \"italic\",\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"em\"\n      },\n      {\n        tag: \"i\",\n        getAttrs: (node) => node.style.fontStyle !== \"normal\" && null\n      },\n      {\n        style: \"font-style=normal\",\n        clearMark: (mark) => mark.type.name === this.name\n      },\n      {\n        style: \"font-style=italic\"\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"em\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  addCommands() {\n    return {\n      setItalic: () => ({ commands }) => {\n        return commands.setMark(this.name);\n      },\n      toggleItalic: () => ({ commands }) => {\n        return commands.toggleMark(this.name);\n      },\n      unsetItalic: () => ({ commands }) => {\n        return commands.unsetMark(this.name);\n      }\n    };\n  },\n  markdownTokenName: \"em\",\n  parseMarkdown: (token, helpers) => {\n    return helpers.applyMark(\"italic\", helpers.parseInline(token.tokens || []));\n  },\n  renderMarkdown: (node, h) => {\n    return `*${h.renderChildren(node)}*`;\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-i\": () => this.editor.commands.toggleItalic(),\n      \"Mod-I\": () => this.editor.commands.toggleItalic()\n    };\n  },\n  addInputRules() {\n    return [\n      markInputRule({\n        find: starInputRegex,\n        type: this.type\n      }),\n      markInputRule({\n        find: underscoreInputRegex,\n        type: this.type\n      })\n    ];\n  },\n  addPasteRules() {\n    return [\n      markPasteRule({\n        find: starPasteRegex,\n        type: this.type\n      }),\n      markPasteRule({\n        find: underscorePasteRegex,\n        type: this.type\n      })\n    ];\n  }\n});\n\n// src/index.ts\nvar index_default = Italic;\nexport {\n  Italic,\n  index_default as default,\n  starInputRegex,\n  starPasteRegex,\n  underscoreInputRegex,\n  underscorePasteRegex\n};\n//# sourceMappingURL=index.js.map","// src/paragraph.ts\nimport { mergeAttributes, Node } from \"@tiptap/core\";\nvar EMPTY_PARAGRAPH_MARKDOWN = \"&nbsp;\";\nvar NBSP_CHAR = \"\\xA0\";\nvar Paragraph = Node.create({\n  name: \"paragraph\",\n  priority: 1e3,\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  group: \"block\",\n  content: \"inline*\",\n  parseHTML() {\n    return [{ tag: \"p\" }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"p\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  parseMarkdown: (token, helpers) => {\n    const tokens = token.tokens || [];\n    if (tokens.length === 1 && tokens[0].type === \"image\") {\n      return helpers.parseChildren([tokens[0]]);\n    }\n    const content = helpers.parseInline(tokens);\n    if (content.length === 1 && content[0].type === \"text\" && (content[0].text === EMPTY_PARAGRAPH_MARKDOWN || content[0].text === NBSP_CHAR)) {\n      return helpers.createNode(\"paragraph\", void 0, []);\n    }\n    return helpers.createNode(\"paragraph\", void 0, content);\n  },\n  renderMarkdown: (node, h) => {\n    if (!node) {\n      return \"\";\n    }\n    const content = Array.isArray(node.content) ? node.content : [];\n    if (content.length === 0) {\n      return EMPTY_PARAGRAPH_MARKDOWN;\n    }\n    return h.renderChildren(content);\n  },\n  addCommands() {\n    return {\n      setParagraph: () => ({ commands }) => {\n        return commands.setNode(this.name);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Alt-0\": () => this.editor.commands.setParagraph()\n    };\n  }\n});\n\n// src/index.ts\nvar index_default = Paragraph;\nexport {\n  Paragraph,\n  index_default as default\n};\n//# sourceMappingURL=index.js.map","// src/strike.ts\nimport { Mark, markInputRule, markPasteRule, mergeAttributes } from \"@tiptap/core\";\nvar inputRegex = /(?:^|\\s)(~~(?!\\s+~~)((?:[^~]+))~~(?!\\s+~~))$/;\nvar pasteRegex = /(?:^|\\s)(~~(?!\\s+~~)((?:[^~]+))~~(?!\\s+~~))/g;\nvar Strike = Mark.create({\n  name: \"strike\",\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"s\"\n      },\n      {\n        tag: \"del\"\n      },\n      {\n        tag: \"strike\"\n      },\n      {\n        style: \"text-decoration\",\n        consuming: false,\n        getAttrs: (style) => style.includes(\"line-through\") ? {} : false\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"s\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  markdownTokenName: \"del\",\n  parseMarkdown: (token, helpers) => {\n    return helpers.applyMark(\"strike\", helpers.parseInline(token.tokens || []));\n  },\n  renderMarkdown: (node, h) => {\n    return `~~${h.renderChildren(node)}~~`;\n  },\n  addCommands() {\n    return {\n      setStrike: () => ({ commands }) => {\n        return commands.setMark(this.name);\n      },\n      toggleStrike: () => ({ commands }) => {\n        return commands.toggleMark(this.name);\n      },\n      unsetStrike: () => ({ commands }) => {\n        return commands.unsetMark(this.name);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Shift-s\": () => this.editor.commands.toggleStrike()\n    };\n  },\n  addInputRules() {\n    return [\n      markInputRule({\n        find: inputRegex,\n        type: this.type\n      })\n    ];\n  },\n  addPasteRules() {\n    return [\n      markPasteRule({\n        find: pasteRegex,\n        type: this.type\n      })\n    ];\n  }\n});\n\n// src/index.ts\nvar index_default = Strike;\nexport {\n  Strike,\n  index_default as default,\n  inputRegex,\n  pasteRegex\n};\n//# sourceMappingURL=index.js.map","// src/text.ts\nimport { Node } from \"@tiptap/core\";\nvar Text = Node.create({\n  name: \"text\",\n  group: \"inline\",\n  parseMarkdown: (token) => {\n    return {\n      type: \"text\",\n      text: token.text || \"\"\n    };\n  },\n  renderMarkdown: (node) => node.text || \"\"\n});\n\n// src/index.ts\nvar index_default = Text;\nexport {\n  Text,\n  index_default as default\n};\n//# sourceMappingURL=index.js.map","// src/underline.ts\nimport { Mark, mergeAttributes } from \"@tiptap/core\";\nvar Underline = Mark.create({\n  name: \"underline\",\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"u\"\n      },\n      {\n        style: \"text-decoration\",\n        consuming: false,\n        getAttrs: (style) => style.includes(\"underline\") ? {} : false\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"u\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  parseMarkdown(token, helpers) {\n    return helpers.applyMark(this.name || \"underline\", helpers.parseInline(token.tokens || []));\n  },\n  renderMarkdown(node, helpers) {\n    return `++${helpers.renderChildren(node)}++`;\n  },\n  markdownTokenizer: {\n    name: \"underline\",\n    level: \"inline\",\n    start(src) {\n      return src.indexOf(\"++\");\n    },\n    tokenize(src, _tokens, lexer) {\n      const rule = /^(\\+\\+)([\\s\\S]+?)(\\+\\+)/;\n      const match = rule.exec(src);\n      if (!match) {\n        return void 0;\n      }\n      const innerContent = match[2].trim();\n      return {\n        type: \"underline\",\n        raw: match[0],\n        text: innerContent,\n        tokens: lexer.inlineTokens(innerContent)\n      };\n    }\n  },\n  addCommands() {\n    return {\n      setUnderline: () => ({ commands }) => {\n        return commands.setMark(this.name);\n      },\n      toggleUnderline: () => ({ commands }) => {\n        return commands.toggleMark(this.name);\n      },\n      unsetUnderline: () => ({ commands }) => {\n        return commands.unsetMark(this.name);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-u\": () => this.editor.commands.toggleUnderline(),\n      \"Mod-U\": () => this.editor.commands.toggleUnderline()\n    };\n  }\n});\n\n// src/index.ts\nvar index_default = Underline;\nexport {\n  Underline,\n  index_default as default\n};\n//# sourceMappingURL=index.js.map","// src/image.ts\nimport { mergeAttributes, Node, nodeInputRule, ResizableNodeView } from \"@tiptap/core\";\nvar inputRegex = /(?:^|\\s)(!\\[(.+|:?)]\\((\\S+)(?:(?:\\s+)[\"'](\\S+)[\"'])?\\))$/;\nvar Image = Node.create({\n  name: \"image\",\n  addOptions() {\n    return {\n      inline: false,\n      allowBase64: false,\n      HTMLAttributes: {},\n      resize: false\n    };\n  },\n  inline() {\n    return this.options.inline;\n  },\n  group() {\n    return this.options.inline ? \"inline\" : \"block\";\n  },\n  draggable: true,\n  addAttributes() {\n    return {\n      src: {\n        default: null\n      },\n      alt: {\n        default: null\n      },\n      title: {\n        default: null\n      },\n      width: {\n        default: null\n      },\n      height: {\n        default: null\n      }\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: this.options.allowBase64 ? \"img[src]\" : 'img[src]:not([src^=\"data:\"])'\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"img\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes)];\n  },\n  parseMarkdown: (token, helpers) => {\n    return helpers.createNode(\"image\", {\n      src: token.href,\n      title: token.title,\n      alt: token.text\n    });\n  },\n  renderMarkdown: (node) => {\n    var _a, _b, _c, _d, _e, _f;\n    const src = (_b = (_a = node.attrs) == null ? void 0 : _a.src) != null ? _b : \"\";\n    const alt = (_d = (_c = node.attrs) == null ? void 0 : _c.alt) != null ? _d : \"\";\n    const title = (_f = (_e = node.attrs) == null ? void 0 : _e.title) != null ? _f : \"\";\n    return title ? `![${alt}](${src} \"${title}\")` : `![${alt}](${src})`;\n  },\n  addNodeView() {\n    if (!this.options.resize || !this.options.resize.enabled || typeof document === \"undefined\") {\n      return null;\n    }\n    const { directions, minWidth, minHeight, alwaysPreserveAspectRatio } = this.options.resize;\n    return ({ node, getPos, HTMLAttributes, editor }) => {\n      const el = document.createElement(\"img\");\n      Object.entries(HTMLAttributes).forEach(([key, value]) => {\n        if (value != null) {\n          switch (key) {\n            case \"width\":\n            case \"height\":\n              break;\n            default:\n              el.setAttribute(key, value);\n              break;\n          }\n        }\n      });\n      el.src = HTMLAttributes.src;\n      const nodeView = new ResizableNodeView({\n        element: el,\n        editor,\n        node,\n        getPos,\n        onResize: (width, height) => {\n          el.style.width = `${width}px`;\n          el.style.height = `${height}px`;\n        },\n        onCommit: (width, height) => {\n          const pos = getPos();\n          if (pos === void 0) {\n            return;\n          }\n          this.editor.chain().setNodeSelection(pos).updateAttributes(this.name, {\n            width,\n            height\n          }).run();\n        },\n        onUpdate: (updatedNode, _decorations, _innerDecorations) => {\n          if (updatedNode.type !== node.type) {\n            return false;\n          }\n          return true;\n        },\n        options: {\n          directions,\n          min: {\n            width: minWidth,\n            height: minHeight\n          },\n          preserveAspectRatio: alwaysPreserveAspectRatio === true\n        }\n      });\n      const dom = nodeView.dom;\n      dom.style.visibility = \"hidden\";\n      dom.style.pointerEvents = \"none\";\n      el.onload = () => {\n        dom.style.visibility = \"\";\n        dom.style.pointerEvents = \"\";\n      };\n      return nodeView;\n    };\n  },\n  addCommands() {\n    return {\n      setImage: (options) => ({ commands }) => {\n        return commands.insertContent({\n          type: this.name,\n          attrs: options\n        });\n      }\n    };\n  },\n  addInputRules() {\n    return [\n      nodeInputRule({\n        find: inputRegex,\n        type: this.type,\n        getAttributes: (match) => {\n          const [, , alt, src, title] = match;\n          return { src, alt, title };\n        }\n      })\n    ];\n  }\n});\n\n// src/index.ts\nvar index_default = Image;\nexport {\n  Image,\n  index_default as default,\n  inputRegex\n};\n//# sourceMappingURL=index.js.map","// src/text-align.ts\nimport { Extension } from \"@tiptap/core\";\nvar TextAlign = Extension.create({\n  name: \"textAlign\",\n  addOptions() {\n    return {\n      types: [],\n      alignments: [\"left\", \"center\", \"right\", \"justify\"],\n      defaultAlignment: null\n    };\n  },\n  addGlobalAttributes() {\n    return [\n      {\n        types: this.options.types,\n        attributes: {\n          textAlign: {\n            default: this.options.defaultAlignment,\n            parseHTML: (element) => {\n              const alignment = element.style.textAlign;\n              return this.options.alignments.includes(alignment) ? alignment : this.options.defaultAlignment;\n            },\n            renderHTML: (attributes) => {\n              if (!attributes.textAlign) {\n                return {};\n              }\n              return { style: `text-align: ${attributes.textAlign}` };\n            }\n          }\n        }\n      }\n    ];\n  },\n  addCommands() {\n    return {\n      setTextAlign: (alignment) => ({ commands }) => {\n        if (!this.options.alignments.includes(alignment)) {\n          return false;\n        }\n        return this.options.types.map((type) => commands.updateAttributes(type, { textAlign: alignment })).some((response) => response);\n      },\n      unsetTextAlign: () => ({ commands }) => {\n        return this.options.types.map((type) => commands.resetAttributes(type, \"textAlign\")).some((response) => response);\n      },\n      toggleTextAlign: (alignment) => ({ editor, commands }) => {\n        if (!this.options.alignments.includes(alignment)) {\n          return false;\n        }\n        if (editor.isActive({ textAlign: alignment })) {\n          return commands.unsetTextAlign();\n        }\n        return commands.setTextAlign(alignment);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Shift-l\": () => this.editor.commands.setTextAlign(\"left\"),\n      \"Mod-Shift-e\": () => this.editor.commands.setTextAlign(\"center\"),\n      \"Mod-Shift-r\": () => this.editor.commands.setTextAlign(\"right\"),\n      \"Mod-Shift-j\": () => this.editor.commands.setTextAlign(\"justify\")\n    };\n  }\n});\n\n// src/index.ts\nvar index_default = TextAlign;\nexport {\n  TextAlign,\n  index_default as default\n};\n//# sourceMappingURL=index.js.map","import * as core from \"../core/index.js\";\nimport { ZodRealError } from \"./errors.js\";\nexport const parse = /* @__PURE__ */ core._parse(ZodRealError);\nexport const parseAsync = /* @__PURE__ */ core._parseAsync(ZodRealError);\nexport const safeParse = /* @__PURE__ */ core._safeParse(ZodRealError);\nexport const safeParseAsync = /* @__PURE__ */ core._safeParseAsync(ZodRealError);\n// Codec functions\nexport const encode = /* @__PURE__ */ core._encode(ZodRealError);\nexport const decode = /* @__PURE__ */ core._decode(ZodRealError);\nexport const encodeAsync = /* @__PURE__ */ core._encodeAsync(ZodRealError);\nexport const decodeAsync = /* @__PURE__ */ core._decodeAsync(ZodRealError);\nexport const safeEncode = /* @__PURE__ */ core._safeEncode(ZodRealError);\nexport const safeDecode = /* @__PURE__ */ core._safeDecode(ZodRealError);\nexport const safeEncodeAsync = /* @__PURE__ */ core._safeEncodeAsync(ZodRealError);\nexport const safeDecodeAsync = /* @__PURE__ */ core._safeDecodeAsync(ZodRealError);\n","import * as core from \"../core/index.js\";\nimport * as schemas from \"./schemas.js\";\nexport const ZodISODateTime = /*@__PURE__*/ core.$constructor(\"ZodISODateTime\", (inst, def) => {\n    core.$ZodISODateTime.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function datetime(params) {\n    return core._isoDateTime(ZodISODateTime, params);\n}\nexport const ZodISODate = /*@__PURE__*/ core.$constructor(\"ZodISODate\", (inst, def) => {\n    core.$ZodISODate.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function date(params) {\n    return core._isoDate(ZodISODate, params);\n}\nexport const ZodISOTime = /*@__PURE__*/ core.$constructor(\"ZodISOTime\", (inst, def) => {\n    core.$ZodISOTime.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function time(params) {\n    return core._isoTime(ZodISOTime, params);\n}\nexport const ZodISODuration = /*@__PURE__*/ core.$constructor(\"ZodISODuration\", (inst, def) => {\n    core.$ZodISODuration.init(inst, def);\n    schemas.ZodStringFormat.init(inst, def);\n});\nexport function duration(params) {\n    return core._isoDuration(ZodISODuration, params);\n}\n","import km from \"./km.js\";\n/** @deprecated Use `km` instead. */\nexport default function () {\n    return km();\n}\n","import uk from \"./uk.js\";\n/** @deprecated Use `uk` instead. */\nexport default function () {\n    return uk();\n}\n","// src/index.ts\nimport { Placeholder } from \"@tiptap/extensions\";\nimport { Placeholder as Placeholder2 } from \"@tiptap/extensions\";\nvar index_default = Placeholder;\nexport {\n  Placeholder2 as Placeholder,\n  index_default as default\n};\n//# sourceMappingURL=index.js.map","import { Slice, Fragment, Mark, Node } from 'prosemirror-model';\nimport { ReplaceStep, ReplaceAroundStep, Transform } from 'prosemirror-transform';\n\nconst classesById = Object.create(null);\n/**\nSuperclass for editor selections. Every selection type should\nextend this. Should not be instantiated directly.\n*/\nclass Selection {\n    /**\n    Initialize a selection with the head and anchor and ranges. If no\n    ranges are given, constructs a single range across `$anchor` and\n    `$head`.\n    */\n    constructor(\n    /**\n    The resolved anchor of the selection (the side that stays in\n    place when the selection is modified).\n    */\n    $anchor, \n    /**\n    The resolved head of the selection (the side that moves when\n    the selection is modified).\n    */\n    $head, ranges) {\n        this.$anchor = $anchor;\n        this.$head = $head;\n        this.ranges = ranges || [new SelectionRange($anchor.min($head), $anchor.max($head))];\n    }\n    /**\n    The selection's anchor, as an unresolved position.\n    */\n    get anchor() { return this.$anchor.pos; }\n    /**\n    The selection's head.\n    */\n    get head() { return this.$head.pos; }\n    /**\n    The lower bound of the selection's main range.\n    */\n    get from() { return this.$from.pos; }\n    /**\n    The upper bound of the selection's main range.\n    */\n    get to() { return this.$to.pos; }\n    /**\n    The resolved lower  bound of the selection's main range.\n    */\n    get $from() {\n        return this.ranges[0].$from;\n    }\n    /**\n    The resolved upper bound of the selection's main range.\n    */\n    get $to() {\n        return this.ranges[0].$to;\n    }\n    /**\n    Indicates whether the selection contains any content.\n    */\n    get empty() {\n        let ranges = this.ranges;\n        for (let i = 0; i < ranges.length; i++)\n            if (ranges[i].$from.pos != ranges[i].$to.pos)\n                return false;\n        return true;\n    }\n    /**\n    Get the content of this selection as a slice.\n    */\n    content() {\n        return this.$from.doc.slice(this.from, this.to, true);\n    }\n    /**\n    Replace the selection with a slice or, if no slice is given,\n    delete the selection. Will append to the given transaction.\n    */\n    replace(tr, content = Slice.empty) {\n        // Put the new selection at the position after the inserted\n        // content. When that ended in an inline node, search backwards,\n        // to get the position after that node. If not, search forward.\n        let lastNode = content.content.lastChild, lastParent = null;\n        for (let i = 0; i < content.openEnd; i++) {\n            lastParent = lastNode;\n            lastNode = lastNode.lastChild;\n        }\n        let mapFrom = tr.steps.length, ranges = this.ranges;\n        for (let i = 0; i < ranges.length; i++) {\n            let { $from, $to } = ranges[i], mapping = tr.mapping.slice(mapFrom);\n            tr.replaceRange(mapping.map($from.pos), mapping.map($to.pos), i ? Slice.empty : content);\n            if (i == 0)\n                selectionToInsertionEnd(tr, mapFrom, (lastNode ? lastNode.isInline : lastParent && lastParent.isTextblock) ? -1 : 1);\n        }\n    }\n    /**\n    Replace the selection with the given node, appending the changes\n    to the given transaction.\n    */\n    replaceWith(tr, node) {\n        let mapFrom = tr.steps.length, ranges = this.ranges;\n        for (let i = 0; i < ranges.length; i++) {\n            let { $from, $to } = ranges[i], mapping = tr.mapping.slice(mapFrom);\n            let from = mapping.map($from.pos), to = mapping.map($to.pos);\n            if (i) {\n                tr.deleteRange(from, to);\n            }\n            else {\n                tr.replaceRangeWith(from, to, node);\n                selectionToInsertionEnd(tr, mapFrom, node.isInline ? -1 : 1);\n            }\n        }\n    }\n    /**\n    Find a valid cursor or leaf node selection starting at the given\n    position and searching back if `dir` is negative, and forward if\n    positive. When `textOnly` is true, only consider cursor\n    selections. Will return null when no valid selection position is\n    found.\n    */\n    static findFrom($pos, dir, textOnly = false) {\n        let inner = $pos.parent.inlineContent ? new TextSelection($pos)\n            : findSelectionIn($pos.node(0), $pos.parent, $pos.pos, $pos.index(), dir, textOnly);\n        if (inner)\n            return inner;\n        for (let depth = $pos.depth - 1; depth >= 0; depth--) {\n            let found = dir < 0\n                ? findSelectionIn($pos.node(0), $pos.node(depth), $pos.before(depth + 1), $pos.index(depth), dir, textOnly)\n                : findSelectionIn($pos.node(0), $pos.node(depth), $pos.after(depth + 1), $pos.index(depth) + 1, dir, textOnly);\n            if (found)\n                return found;\n        }\n        return null;\n    }\n    /**\n    Find a valid cursor or leaf node selection near the given\n    position. Searches forward first by default, but if `bias` is\n    negative, it will search backwards first.\n    */\n    static near($pos, bias = 1) {\n        return this.findFrom($pos, bias) || this.findFrom($pos, -bias) || new AllSelection($pos.node(0));\n    }\n    /**\n    Find the cursor or leaf node selection closest to the start of\n    the given document. Will return an\n    [`AllSelection`](https://prosemirror.net/docs/ref/#state.AllSelection) if no valid position\n    exists.\n    */\n    static atStart(doc) {\n        return findSelectionIn(doc, doc, 0, 0, 1) || new AllSelection(doc);\n    }\n    /**\n    Find the cursor or leaf node selection closest to the end of the\n    given document.\n    */\n    static atEnd(doc) {\n        return findSelectionIn(doc, doc, doc.content.size, doc.childCount, -1) || new AllSelection(doc);\n    }\n    /**\n    Deserialize the JSON representation of a selection. Must be\n    implemented for custom classes (as a static class method).\n    */\n    static fromJSON(doc, json) {\n        if (!json || !json.type)\n            throw new RangeError(\"Invalid input for Selection.fromJSON\");\n        let cls = classesById[json.type];\n        if (!cls)\n            throw new RangeError(`No selection type ${json.type} defined`);\n        return cls.fromJSON(doc, json);\n    }\n    /**\n    To be able to deserialize selections from JSON, custom selection\n    classes must register themselves with an ID string, so that they\n    can be disambiguated. Try to pick something that's unlikely to\n    clash with classes from other modules.\n    */\n    static jsonID(id, selectionClass) {\n        if (id in classesById)\n            throw new RangeError(\"Duplicate use of selection JSON ID \" + id);\n        classesById[id] = selectionClass;\n        selectionClass.prototype.jsonID = id;\n        return selectionClass;\n    }\n    /**\n    Get a [bookmark](https://prosemirror.net/docs/ref/#state.SelectionBookmark) for this selection,\n    which is a value that can be mapped without having access to a\n    current document, and later resolved to a real selection for a\n    given document again. (This is used mostly by the history to\n    track and restore old selections.) The default implementation of\n    this method just converts the selection to a text selection and\n    returns the bookmark for that.\n    */\n    getBookmark() {\n        return TextSelection.between(this.$anchor, this.$head).getBookmark();\n    }\n}\nSelection.prototype.visible = true;\n/**\nRepresents a selected range in a document.\n*/\nclass SelectionRange {\n    /**\n    Create a range.\n    */\n    constructor(\n    /**\n    The lower bound of the range.\n    */\n    $from, \n    /**\n    The upper bound of the range.\n    */\n    $to) {\n        this.$from = $from;\n        this.$to = $to;\n    }\n}\nlet warnedAboutTextSelection = false;\nfunction checkTextSelection($pos) {\n    if (!warnedAboutTextSelection && !$pos.parent.inlineContent) {\n        warnedAboutTextSelection = true;\n        console[\"warn\"](\"TextSelection endpoint not pointing into a node with inline content (\" + $pos.parent.type.name + \")\");\n    }\n}\n/**\nA text selection represents a classical editor selection, with a\nhead (the moving side) and anchor (immobile side), both of which\npoint into textblock nodes. It can be empty (a regular cursor\nposition).\n*/\nclass TextSelection extends Selection {\n    /**\n    Construct a text selection between the given points.\n    */\n    constructor($anchor, $head = $anchor) {\n        checkTextSelection($anchor);\n        checkTextSelection($head);\n        super($anchor, $head);\n    }\n    /**\n    Returns a resolved position if this is a cursor selection (an\n    empty text selection), and null otherwise.\n    */\n    get $cursor() { return this.$anchor.pos == this.$head.pos ? this.$head : null; }\n    map(doc, mapping) {\n        let $head = doc.resolve(mapping.map(this.head));\n        if (!$head.parent.inlineContent)\n            return Selection.near($head);\n        let $anchor = doc.resolve(mapping.map(this.anchor));\n        return new TextSelection($anchor.parent.inlineContent ? $anchor : $head, $head);\n    }\n    replace(tr, content = Slice.empty) {\n        super.replace(tr, content);\n        if (content == Slice.empty) {\n            let marks = this.$from.marksAcross(this.$to);\n            if (marks)\n                tr.ensureMarks(marks);\n        }\n    }\n    eq(other) {\n        return other instanceof TextSelection && other.anchor == this.anchor && other.head == this.head;\n    }\n    getBookmark() {\n        return new TextBookmark(this.anchor, this.head);\n    }\n    toJSON() {\n        return { type: \"text\", anchor: this.anchor, head: this.head };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(doc, json) {\n        if (typeof json.anchor != \"number\" || typeof json.head != \"number\")\n            throw new RangeError(\"Invalid input for TextSelection.fromJSON\");\n        return new TextSelection(doc.resolve(json.anchor), doc.resolve(json.head));\n    }\n    /**\n    Create a text selection from non-resolved positions.\n    */\n    static create(doc, anchor, head = anchor) {\n        let $anchor = doc.resolve(anchor);\n        return new this($anchor, head == anchor ? $anchor : doc.resolve(head));\n    }\n    /**\n    Return a text selection that spans the given positions or, if\n    they aren't text positions, find a text selection near them.\n    `bias` determines whether the method searches forward (default)\n    or backwards (negative number) first. Will fall back to calling\n    [`Selection.near`](https://prosemirror.net/docs/ref/#state.Selection^near) when the document\n    doesn't contain a valid text position.\n    */\n    static between($anchor, $head, bias) {\n        let dPos = $anchor.pos - $head.pos;\n        if (!bias || dPos)\n            bias = dPos >= 0 ? 1 : -1;\n        if (!$head.parent.inlineContent) {\n            let found = Selection.findFrom($head, bias, true) || Selection.findFrom($head, -bias, true);\n            if (found)\n                $head = found.$head;\n            else\n                return Selection.near($head, bias);\n        }\n        if (!$anchor.parent.inlineContent) {\n            if (dPos == 0) {\n                $anchor = $head;\n            }\n            else {\n                $anchor = (Selection.findFrom($anchor, -bias, true) || Selection.findFrom($anchor, bias, true)).$anchor;\n                if (($anchor.pos < $head.pos) != (dPos < 0))\n                    $anchor = $head;\n            }\n        }\n        return new TextSelection($anchor, $head);\n    }\n}\nSelection.jsonID(\"text\", TextSelection);\nclass TextBookmark {\n    constructor(anchor, head) {\n        this.anchor = anchor;\n        this.head = head;\n    }\n    map(mapping) {\n        return new TextBookmark(mapping.map(this.anchor), mapping.map(this.head));\n    }\n    resolve(doc) {\n        return TextSelection.between(doc.resolve(this.anchor), doc.resolve(this.head));\n    }\n}\n/**\nA node selection is a selection that points at a single node. All\nnodes marked [selectable](https://prosemirror.net/docs/ref/#model.NodeSpec.selectable) can be the\ntarget of a node selection. In such a selection, `from` and `to`\npoint directly before and after the selected node, `anchor` equals\n`from`, and `head` equals `to`..\n*/\nclass NodeSelection extends Selection {\n    /**\n    Create a node selection. Does not verify the validity of its\n    argument.\n    */\n    constructor($pos) {\n        let node = $pos.nodeAfter;\n        let $end = $pos.node(0).resolve($pos.pos + node.nodeSize);\n        super($pos, $end);\n        this.node = node;\n    }\n    map(doc, mapping) {\n        let { deleted, pos } = mapping.mapResult(this.anchor);\n        let $pos = doc.resolve(pos);\n        if (deleted)\n            return Selection.near($pos);\n        return new NodeSelection($pos);\n    }\n    content() {\n        return new Slice(Fragment.from(this.node), 0, 0);\n    }\n    eq(other) {\n        return other instanceof NodeSelection && other.anchor == this.anchor;\n    }\n    toJSON() {\n        return { type: \"node\", anchor: this.anchor };\n    }\n    getBookmark() { return new NodeBookmark(this.anchor); }\n    /**\n    @internal\n    */\n    static fromJSON(doc, json) {\n        if (typeof json.anchor != \"number\")\n            throw new RangeError(\"Invalid input for NodeSelection.fromJSON\");\n        return new NodeSelection(doc.resolve(json.anchor));\n    }\n    /**\n    Create a node selection from non-resolved positions.\n    */\n    static create(doc, from) {\n        return new NodeSelection(doc.resolve(from));\n    }\n    /**\n    Determines whether the given node may be selected as a node\n    selection.\n    */\n    static isSelectable(node) {\n        return !node.isText && node.type.spec.selectable !== false;\n    }\n}\nNodeSelection.prototype.visible = false;\nSelection.jsonID(\"node\", NodeSelection);\nclass NodeBookmark {\n    constructor(anchor) {\n        this.anchor = anchor;\n    }\n    map(mapping) {\n        let { deleted, pos } = mapping.mapResult(this.anchor);\n        return deleted ? new TextBookmark(pos, pos) : new NodeBookmark(pos);\n    }\n    resolve(doc) {\n        let $pos = doc.resolve(this.anchor), node = $pos.nodeAfter;\n        if (node && NodeSelection.isSelectable(node))\n            return new NodeSelection($pos);\n        return Selection.near($pos);\n    }\n}\n/**\nA selection type that represents selecting the whole document\n(which can not necessarily be expressed with a text selection, when\nthere are for example leaf block nodes at the start or end of the\ndocument).\n*/\nclass AllSelection extends Selection {\n    /**\n    Create an all-selection over the given document.\n    */\n    constructor(doc) {\n        super(doc.resolve(0), doc.resolve(doc.content.size));\n    }\n    replace(tr, content = Slice.empty) {\n        if (content == Slice.empty) {\n            tr.delete(0, tr.doc.content.size);\n            let sel = Selection.atStart(tr.doc);\n            if (!sel.eq(tr.selection))\n                tr.setSelection(sel);\n        }\n        else {\n            super.replace(tr, content);\n        }\n    }\n    toJSON() { return { type: \"all\" }; }\n    /**\n    @internal\n    */\n    static fromJSON(doc) { return new AllSelection(doc); }\n    map(doc) { return new AllSelection(doc); }\n    eq(other) { return other instanceof AllSelection; }\n    getBookmark() { return AllBookmark; }\n}\nSelection.jsonID(\"all\", AllSelection);\nconst AllBookmark = {\n    map() { return this; },\n    resolve(doc) { return new AllSelection(doc); }\n};\n// FIXME we'll need some awareness of text direction when scanning for selections\n// Try to find a selection inside the given node. `pos` points at the\n// position where the search starts. When `text` is true, only return\n// text selections.\nfunction findSelectionIn(doc, node, pos, index, dir, text = false) {\n    if (node.inlineContent)\n        return TextSelection.create(doc, pos);\n    for (let i = index - (dir > 0 ? 0 : 1); dir > 0 ? i < node.childCount : i >= 0; i += dir) {\n        let child = node.child(i);\n        if (!child.isAtom) {\n            let inner = findSelectionIn(doc, child, pos + dir, dir < 0 ? child.childCount : 0, dir, text);\n            if (inner)\n                return inner;\n        }\n        else if (!text && NodeSelection.isSelectable(child)) {\n            return NodeSelection.create(doc, pos - (dir < 0 ? child.nodeSize : 0));\n        }\n        pos += child.nodeSize * dir;\n    }\n    return null;\n}\nfunction selectionToInsertionEnd(tr, startLen, bias) {\n    let last = tr.steps.length - 1;\n    if (last < startLen)\n        return;\n    let step = tr.steps[last];\n    if (!(step instanceof ReplaceStep || step instanceof ReplaceAroundStep))\n        return;\n    let map = tr.mapping.maps[last], end;\n    map.forEach((_from, _to, _newFrom, newTo) => { if (end == null)\n        end = newTo; });\n    tr.setSelection(Selection.near(tr.doc.resolve(end), bias));\n}\n\nconst UPDATED_SEL = 1, UPDATED_MARKS = 2, UPDATED_SCROLL = 4;\n/**\nAn editor state transaction, which can be applied to a state to\ncreate an updated state. Use\n[`EditorState.tr`](https://prosemirror.net/docs/ref/#state.EditorState.tr) to create an instance.\n\nTransactions track changes to the document (they are a subclass of\n[`Transform`](https://prosemirror.net/docs/ref/#transform.Transform)), but also other state changes,\nlike selection updates and adjustments of the set of [stored\nmarks](https://prosemirror.net/docs/ref/#state.EditorState.storedMarks). In addition, you can store\nmetadata properties in a transaction, which are extra pieces of\ninformation that client code or plugins can use to describe what a\ntransaction represents, so that they can update their [own\nstate](https://prosemirror.net/docs/ref/#state.StateField) accordingly.\n\nThe [editor view](https://prosemirror.net/docs/ref/#view.EditorView) uses a few metadata\nproperties: it will attach a property `\"pointer\"` with the value\n`true` to selection transactions directly caused by mouse or touch\ninput, a `\"composition\"` property holding an ID identifying the\ncomposition that caused it to transactions caused by composed DOM\ninput, and a `\"uiEvent\"` property of that may be `\"paste\"`,\n`\"cut\"`, or `\"drop\"`.\n*/\nclass Transaction extends Transform {\n    /**\n    @internal\n    */\n    constructor(state) {\n        super(state.doc);\n        // The step count for which the current selection is valid.\n        this.curSelectionFor = 0;\n        // Bitfield to track which aspects of the state were updated by\n        // this transaction.\n        this.updated = 0;\n        // Object used to store metadata properties for the transaction.\n        this.meta = Object.create(null);\n        this.time = Date.now();\n        this.curSelection = state.selection;\n        this.storedMarks = state.storedMarks;\n    }\n    /**\n    The transaction's current selection. This defaults to the editor\n    selection [mapped](https://prosemirror.net/docs/ref/#state.Selection.map) through the steps in the\n    transaction, but can be overwritten with\n    [`setSelection`](https://prosemirror.net/docs/ref/#state.Transaction.setSelection).\n    */\n    get selection() {\n        if (this.curSelectionFor < this.steps.length) {\n            this.curSelection = this.curSelection.map(this.doc, this.mapping.slice(this.curSelectionFor));\n            this.curSelectionFor = this.steps.length;\n        }\n        return this.curSelection;\n    }\n    /**\n    Update the transaction's current selection. Will determine the\n    selection that the editor gets when the transaction is applied.\n    */\n    setSelection(selection) {\n        if (selection.$from.doc != this.doc)\n            throw new RangeError(\"Selection passed to setSelection must point at the current document\");\n        this.curSelection = selection;\n        this.curSelectionFor = this.steps.length;\n        this.updated = (this.updated | UPDATED_SEL) & ~UPDATED_MARKS;\n        this.storedMarks = null;\n        return this;\n    }\n    /**\n    Whether the selection was explicitly updated by this transaction.\n    */\n    get selectionSet() {\n        return (this.updated & UPDATED_SEL) > 0;\n    }\n    /**\n    Set the current stored marks.\n    */\n    setStoredMarks(marks) {\n        this.storedMarks = marks;\n        this.updated |= UPDATED_MARKS;\n        return this;\n    }\n    /**\n    Make sure the current stored marks or, if that is null, the marks\n    at the selection, match the given set of marks. Does nothing if\n    this is already the case.\n    */\n    ensureMarks(marks) {\n        if (!Mark.sameSet(this.storedMarks || this.selection.$from.marks(), marks))\n            this.setStoredMarks(marks);\n        return this;\n    }\n    /**\n    Add a mark to the set of stored marks.\n    */\n    addStoredMark(mark) {\n        return this.ensureMarks(mark.addToSet(this.storedMarks || this.selection.$head.marks()));\n    }\n    /**\n    Remove a mark or mark type from the set of stored marks.\n    */\n    removeStoredMark(mark) {\n        return this.ensureMarks(mark.removeFromSet(this.storedMarks || this.selection.$head.marks()));\n    }\n    /**\n    Whether the stored marks were explicitly set for this transaction.\n    */\n    get storedMarksSet() {\n        return (this.updated & UPDATED_MARKS) > 0;\n    }\n    /**\n    @internal\n    */\n    addStep(step, doc) {\n        super.addStep(step, doc);\n        this.updated = this.updated & ~UPDATED_MARKS;\n        this.storedMarks = null;\n    }\n    /**\n    Update the timestamp for the transaction.\n    */\n    setTime(time) {\n        this.time = time;\n        return this;\n    }\n    /**\n    Replace the current selection with the given slice.\n    */\n    replaceSelection(slice) {\n        this.selection.replace(this, slice);\n        return this;\n    }\n    /**\n    Replace the selection with the given node. When `inheritMarks` is\n    true and the content is inline, it inherits the marks from the\n    place where it is inserted.\n    */\n    replaceSelectionWith(node, inheritMarks = true) {\n        let selection = this.selection;\n        if (inheritMarks)\n            node = node.mark(this.storedMarks || (selection.empty ? selection.$from.marks() : (selection.$from.marksAcross(selection.$to) || Mark.none)));\n        selection.replaceWith(this, node);\n        return this;\n    }\n    /**\n    Delete the selection.\n    */\n    deleteSelection() {\n        this.selection.replace(this);\n        return this;\n    }\n    /**\n    Replace the given range, or the selection if no range is given,\n    with a text node containing the given string.\n    */\n    insertText(text, from, to) {\n        let schema = this.doc.type.schema;\n        if (from == null) {\n            if (!text)\n                return this.deleteSelection();\n            return this.replaceSelectionWith(schema.text(text), true);\n        }\n        else {\n            if (to == null)\n                to = from;\n            if (!text)\n                return this.deleteRange(from, to);\n            let marks = this.storedMarks;\n            if (!marks) {\n                let $from = this.doc.resolve(from);\n                marks = to == from ? $from.marks() : $from.marksAcross(this.doc.resolve(to));\n            }\n            this.replaceRangeWith(from, to, schema.text(text, marks));\n            if (!this.selection.empty && this.selection.to == from + text.length)\n                this.setSelection(Selection.near(this.selection.$to));\n            return this;\n        }\n    }\n    /**\n    Store a metadata property in this transaction, keyed either by\n    name or by plugin.\n    */\n    setMeta(key, value) {\n        this.meta[typeof key == \"string\" ? key : key.key] = value;\n        return this;\n    }\n    /**\n    Retrieve a metadata property for a given name or plugin.\n    */\n    getMeta(key) {\n        return this.meta[typeof key == \"string\" ? key : key.key];\n    }\n    /**\n    Returns true if this transaction doesn't contain any metadata,\n    and can thus safely be extended.\n    */\n    get isGeneric() {\n        for (let _ in this.meta)\n            return false;\n        return true;\n    }\n    /**\n    Indicate that the editor should scroll the selection into view\n    when updated to the state produced by this transaction.\n    */\n    scrollIntoView() {\n        this.updated |= UPDATED_SCROLL;\n        return this;\n    }\n    /**\n    True when this transaction has had `scrollIntoView` called on it.\n    */\n    get scrolledIntoView() {\n        return (this.updated & UPDATED_SCROLL) > 0;\n    }\n}\n\nfunction bind(f, self) {\n    return !self || !f ? f : f.bind(self);\n}\nclass FieldDesc {\n    constructor(name, desc, self) {\n        this.name = name;\n        this.init = bind(desc.init, self);\n        this.apply = bind(desc.apply, self);\n    }\n}\nconst baseFields = [\n    new FieldDesc(\"doc\", {\n        init(config) { return config.doc || config.schema.topNodeType.createAndFill(); },\n        apply(tr) { return tr.doc; }\n    }),\n    new FieldDesc(\"selection\", {\n        init(config, instance) { return config.selection || Selection.atStart(instance.doc); },\n        apply(tr) { return tr.selection; }\n    }),\n    new FieldDesc(\"storedMarks\", {\n        init(config) { return config.storedMarks || null; },\n        apply(tr, _marks, _old, state) { return state.selection.$cursor ? tr.storedMarks : null; }\n    }),\n    new FieldDesc(\"scrollToSelection\", {\n        init() { return 0; },\n        apply(tr, prev) { return tr.scrolledIntoView ? prev + 1 : prev; }\n    })\n];\n// Object wrapping the part of a state object that stays the same\n// across transactions. Stored in the state's `config` property.\nclass Configuration {\n    constructor(schema, plugins) {\n        this.schema = schema;\n        this.plugins = [];\n        this.pluginsByKey = Object.create(null);\n        this.fields = baseFields.slice();\n        if (plugins)\n            plugins.forEach(plugin => {\n                if (this.pluginsByKey[plugin.key])\n                    throw new RangeError(\"Adding different instances of a keyed plugin (\" + plugin.key + \")\");\n                this.plugins.push(plugin);\n                this.pluginsByKey[plugin.key] = plugin;\n                if (plugin.spec.state)\n                    this.fields.push(new FieldDesc(plugin.key, plugin.spec.state, plugin));\n            });\n    }\n}\n/**\nThe state of a ProseMirror editor is represented by an object of\nthis type. A state is a persistent data structure—it isn't\nupdated, but rather a new state value is computed from an old one\nusing the [`apply`](https://prosemirror.net/docs/ref/#state.EditorState.apply) method.\n\nA state holds a number of built-in fields, and plugins can\n[define](https://prosemirror.net/docs/ref/#state.PluginSpec.state) additional fields.\n*/\nclass EditorState {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    config) {\n        this.config = config;\n    }\n    /**\n    The schema of the state's document.\n    */\n    get schema() {\n        return this.config.schema;\n    }\n    /**\n    The plugins that are active in this state.\n    */\n    get plugins() {\n        return this.config.plugins;\n    }\n    /**\n    Apply the given transaction to produce a new state.\n    */\n    apply(tr) {\n        return this.applyTransaction(tr).state;\n    }\n    /**\n    @internal\n    */\n    filterTransaction(tr, ignore = -1) {\n        for (let i = 0; i < this.config.plugins.length; i++)\n            if (i != ignore) {\n                let plugin = this.config.plugins[i];\n                if (plugin.spec.filterTransaction && !plugin.spec.filterTransaction.call(plugin, tr, this))\n                    return false;\n            }\n        return true;\n    }\n    /**\n    Verbose variant of [`apply`](https://prosemirror.net/docs/ref/#state.EditorState.apply) that\n    returns the precise transactions that were applied (which might\n    be influenced by the [transaction\n    hooks](https://prosemirror.net/docs/ref/#state.PluginSpec.filterTransaction) of\n    plugins) along with the new state.\n    */\n    applyTransaction(rootTr) {\n        if (!this.filterTransaction(rootTr))\n            return { state: this, transactions: [] };\n        let trs = [rootTr], newState = this.applyInner(rootTr), seen = null;\n        // This loop repeatedly gives plugins a chance to respond to\n        // transactions as new transactions are added, making sure to only\n        // pass the transactions the plugin did not see before.\n        for (;;) {\n            let haveNew = false;\n            for (let i = 0; i < this.config.plugins.length; i++) {\n                let plugin = this.config.plugins[i];\n                if (plugin.spec.appendTransaction) {\n                    let n = seen ? seen[i].n : 0, oldState = seen ? seen[i].state : this;\n                    let tr = n < trs.length &&\n                        plugin.spec.appendTransaction.call(plugin, n ? trs.slice(n) : trs, oldState, newState);\n                    if (tr && newState.filterTransaction(tr, i)) {\n                        tr.setMeta(\"appendedTransaction\", rootTr);\n                        if (!seen) {\n                            seen = [];\n                            for (let j = 0; j < this.config.plugins.length; j++)\n                                seen.push(j < i ? { state: newState, n: trs.length } : { state: this, n: 0 });\n                        }\n                        trs.push(tr);\n                        newState = newState.applyInner(tr);\n                        haveNew = true;\n                    }\n                    if (seen)\n                        seen[i] = { state: newState, n: trs.length };\n                }\n            }\n            if (!haveNew)\n                return { state: newState, transactions: trs };\n        }\n    }\n    /**\n    @internal\n    */\n    applyInner(tr) {\n        if (!tr.before.eq(this.doc))\n            throw new RangeError(\"Applying a mismatched transaction\");\n        let newInstance = new EditorState(this.config), fields = this.config.fields;\n        for (let i = 0; i < fields.length; i++) {\n            let field = fields[i];\n            newInstance[field.name] = field.apply(tr, this[field.name], this, newInstance);\n        }\n        return newInstance;\n    }\n    /**\n    Accessor that constructs and returns a new [transaction](https://prosemirror.net/docs/ref/#state.Transaction) from this state.\n    */\n    get tr() { return new Transaction(this); }\n    /**\n    Create a new state.\n    */\n    static create(config) {\n        let $config = new Configuration(config.doc ? config.doc.type.schema : config.schema, config.plugins);\n        let instance = new EditorState($config);\n        for (let i = 0; i < $config.fields.length; i++)\n            instance[$config.fields[i].name] = $config.fields[i].init(config, instance);\n        return instance;\n    }\n    /**\n    Create a new state based on this one, but with an adjusted set\n    of active plugins. State fields that exist in both sets of\n    plugins are kept unchanged. Those that no longer exist are\n    dropped, and those that are new are initialized using their\n    [`init`](https://prosemirror.net/docs/ref/#state.StateField.init) method, passing in the new\n    configuration object..\n    */\n    reconfigure(config) {\n        let $config = new Configuration(this.schema, config.plugins);\n        let fields = $config.fields, instance = new EditorState($config);\n        for (let i = 0; i < fields.length; i++) {\n            let name = fields[i].name;\n            instance[name] = this.hasOwnProperty(name) ? this[name] : fields[i].init(config, instance);\n        }\n        return instance;\n    }\n    /**\n    Serialize this state to JSON. If you want to serialize the state\n    of plugins, pass an object mapping property names to use in the\n    resulting JSON object to plugin objects. The argument may also be\n    a string or number, in which case it is ignored, to support the\n    way `JSON.stringify` calls `toString` methods.\n    */\n    toJSON(pluginFields) {\n        let result = { doc: this.doc.toJSON(), selection: this.selection.toJSON() };\n        if (this.storedMarks)\n            result.storedMarks = this.storedMarks.map(m => m.toJSON());\n        if (pluginFields && typeof pluginFields == 'object')\n            for (let prop in pluginFields) {\n                if (prop == \"doc\" || prop == \"selection\")\n                    throw new RangeError(\"The JSON fields `doc` and `selection` are reserved\");\n                let plugin = pluginFields[prop], state = plugin.spec.state;\n                if (state && state.toJSON)\n                    result[prop] = state.toJSON.call(plugin, this[plugin.key]);\n            }\n        return result;\n    }\n    /**\n    Deserialize a JSON representation of a state. `config` should\n    have at least a `schema` field, and should contain array of\n    plugins to initialize the state with. `pluginFields` can be used\n    to deserialize the state of plugins, by associating plugin\n    instances with the property names they use in the JSON object.\n    */\n    static fromJSON(config, json, pluginFields) {\n        if (!json)\n            throw new RangeError(\"Invalid input for EditorState.fromJSON\");\n        if (!config.schema)\n            throw new RangeError(\"Required config field 'schema' missing\");\n        let $config = new Configuration(config.schema, config.plugins);\n        let instance = new EditorState($config);\n        $config.fields.forEach(field => {\n            if (field.name == \"doc\") {\n                instance.doc = Node.fromJSON(config.schema, json.doc);\n            }\n            else if (field.name == \"selection\") {\n                instance.selection = Selection.fromJSON(instance.doc, json.selection);\n            }\n            else if (field.name == \"storedMarks\") {\n                if (json.storedMarks)\n                    instance.storedMarks = json.storedMarks.map(config.schema.markFromJSON);\n            }\n            else {\n                if (pluginFields)\n                    for (let prop in pluginFields) {\n                        let plugin = pluginFields[prop], state = plugin.spec.state;\n                        if (plugin.key == field.name && state && state.fromJSON &&\n                            Object.prototype.hasOwnProperty.call(json, prop)) {\n                            instance[field.name] = state.fromJSON.call(plugin, config, json[prop], instance);\n                            return;\n                        }\n                    }\n                instance[field.name] = field.init(config, instance);\n            }\n        });\n        return instance;\n    }\n}\n\nfunction bindProps(obj, self, target) {\n    for (let prop in obj) {\n        let val = obj[prop];\n        if (val instanceof Function)\n            val = val.bind(self);\n        else if (prop == \"handleDOMEvents\")\n            val = bindProps(val, self, {});\n        target[prop] = val;\n    }\n    return target;\n}\n/**\nPlugins bundle functionality that can be added to an editor.\nThey are part of the [editor state](https://prosemirror.net/docs/ref/#state.EditorState) and\nmay influence that state and the view that contains it.\n*/\nclass Plugin {\n    /**\n    Create a plugin.\n    */\n    constructor(\n    /**\n    The plugin's [spec object](https://prosemirror.net/docs/ref/#state.PluginSpec).\n    */\n    spec) {\n        this.spec = spec;\n        /**\n        The [props](https://prosemirror.net/docs/ref/#view.EditorProps) exported by this plugin.\n        */\n        this.props = {};\n        if (spec.props)\n            bindProps(spec.props, this, this.props);\n        this.key = spec.key ? spec.key.key : createKey(\"plugin\");\n    }\n    /**\n    Extract the plugin's state field from an editor state.\n    */\n    getState(state) { return state[this.key]; }\n}\nconst keys = Object.create(null);\nfunction createKey(name) {\n    if (name in keys)\n        return name + \"$\" + ++keys[name];\n    keys[name] = 0;\n    return name + \"$\";\n}\n/**\nA key is used to [tag](https://prosemirror.net/docs/ref/#state.PluginSpec.key) plugins in a way\nthat makes it possible to find them, given an editor state.\nAssigning a key does mean only one plugin of that type can be\nactive in a state.\n*/\nclass PluginKey {\n    /**\n    Create a plugin key.\n    */\n    constructor(name = \"key\") { this.key = createKey(name); }\n    /**\n    Get the active plugin with this key, if any, from an editor\n    state.\n    */\n    get(state) { return state.config.pluginsByKey[this.key]; }\n    /**\n    Get the plugin's state from an editor state.\n    */\n    getState(state) { return state[this.key]; }\n}\n\nexport { AllSelection, EditorState, NodeSelection, Plugin, PluginKey, Selection, SelectionRange, TextSelection, Transaction };\n","import { keyName, base } from 'w3c-keyname';\nimport { Plugin } from 'prosemirror-state';\n\nconst mac = typeof navigator != \"undefined\" && /Mac|iP(hone|[oa]d)/.test(navigator.platform);\nconst windows = typeof navigator != \"undefined\" && /Win/.test(navigator.platform);\nfunction normalizeKeyName(name) {\n    let parts = name.split(/-(?!$)/), result = parts[parts.length - 1];\n    if (result == \"Space\")\n        result = \" \";\n    let alt, ctrl, shift, meta;\n    for (let i = 0; i < parts.length - 1; i++) {\n        let mod = parts[i];\n        if (/^(cmd|meta|m)$/i.test(mod))\n            meta = true;\n        else if (/^a(lt)?$/i.test(mod))\n            alt = true;\n        else if (/^(c|ctrl|control)$/i.test(mod))\n            ctrl = true;\n        else if (/^s(hift)?$/i.test(mod))\n            shift = true;\n        else if (/^mod$/i.test(mod)) {\n            if (mac)\n                meta = true;\n            else\n                ctrl = true;\n        }\n        else\n            throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt)\n        result = \"Alt-\" + result;\n    if (ctrl)\n        result = \"Ctrl-\" + result;\n    if (meta)\n        result = \"Meta-\" + result;\n    if (shift)\n        result = \"Shift-\" + result;\n    return result;\n}\nfunction normalize(map) {\n    let copy = Object.create(null);\n    for (let prop in map)\n        copy[normalizeKeyName(prop)] = map[prop];\n    return copy;\n}\nfunction modifiers(name, event, shift = true) {\n    if (event.altKey)\n        name = \"Alt-\" + name;\n    if (event.ctrlKey)\n        name = \"Ctrl-\" + name;\n    if (event.metaKey)\n        name = \"Meta-\" + name;\n    if (shift && event.shiftKey)\n        name = \"Shift-\" + name;\n    return name;\n}\n/**\nCreate a keymap plugin for the given set of bindings.\n\nBindings should map key names to [command](https://prosemirror.net/docs/ref/#commands)-style\nfunctions, which will be called with `(EditorState, dispatch,\nEditorView)` arguments, and should return true when they've handled\nthe key. Note that the view argument isn't part of the command\nprotocol, but can be used as an escape hatch if a binding needs to\ndirectly interact with the UI.\n\nKey names may be strings like `\"Shift-Ctrl-Enter\"`—a key\nidentifier prefixed with zero or more modifiers. Key identifiers\nare based on the strings that can appear in\n[`KeyEvent.key`](https:developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key).\nUse lowercase letters to refer to letter keys (or uppercase letters\nif you want shift to be held). You may use `\"Space\"` as an alias\nfor the `\" \"` name.\n\nModifiers can be given in any order. `Shift-` (or `s-`), `Alt-` (or\n`a-`), `Ctrl-` (or `c-` or `Control-`) and `Cmd-` (or `m-` or\n`Meta-`) are recognized. For characters that are created by holding\nshift, the `Shift-` prefix is implied, and should not be added\nexplicitly.\n\nYou can use `Mod-` as a shorthand for `Cmd-` on Mac and `Ctrl-` on\nother platforms.\n\nYou can add multiple keymap plugins to an editor. The order in\nwhich they appear determines their precedence (the ones early in\nthe array get to dispatch first).\n*/\nfunction keymap(bindings) {\n    return new Plugin({ props: { handleKeyDown: keydownHandler(bindings) } });\n}\n/**\nGiven a set of bindings (using the same format as\n[`keymap`](https://prosemirror.net/docs/ref/#keymap.keymap)), return a [keydown\nhandler](https://prosemirror.net/docs/ref/#view.EditorProps.handleKeyDown) that handles them.\n*/\nfunction keydownHandler(bindings) {\n    let map = normalize(bindings);\n    return function (view, event) {\n        let name = keyName(event), baseName, direct = map[modifiers(name, event)];\n        if (direct && direct(view.state, view.dispatch, view))\n            return true;\n        // A character key\n        if (name.length == 1 && name != \" \") {\n            if (event.shiftKey) {\n                // In case the name was already modified by shift, try looking\n                // it up without its shift modifier\n                let noShift = map[modifiers(name, event, false)];\n                if (noShift && noShift(view.state, view.dispatch, view))\n                    return true;\n            }\n            if ((event.altKey || event.metaKey || event.ctrlKey) &&\n                // Ctrl-Alt may be used for AltGr on Windows\n                !(windows && event.ctrlKey && event.altKey) &&\n                (baseName = base[event.keyCode]) && baseName != name) {\n                // Try falling back to the keyCode when there's a modifier\n                // active or the character produced isn't ASCII, and our table\n                // produces a different name from the the keyCode. See #668,\n                // #1060, #1529.\n                let fromCode = map[modifiers(baseName, event)];\n                if (fromCode && fromCode(view.state, view.dispatch, view))\n                    return true;\n            }\n        }\n        return false;\n    };\n}\n\nexport { keydownHandler, keymap };\n","// src/blockquote.tsx\nimport { mergeAttributes, Node, wrappingInputRule } from \"@tiptap/core\";\nimport { jsx } from \"@tiptap/core/jsx-runtime\";\nvar inputRegex = /^\\s*>\\s$/;\nvar Blockquote = Node.create({\n  name: \"blockquote\",\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  content: \"block+\",\n  group: \"block\",\n  defining: true,\n  parseHTML() {\n    return [{ tag: \"blockquote\" }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return /* @__PURE__ */ jsx(\"blockquote\", { ...mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), children: /* @__PURE__ */ jsx(\"slot\", {}) });\n  },\n  parseMarkdown: (token, helpers) => {\n    return helpers.createNode(\"blockquote\", void 0, helpers.parseChildren(token.tokens || []));\n  },\n  renderMarkdown: (node, h) => {\n    if (!node.content) {\n      return \"\";\n    }\n    const prefix = \">\";\n    const result = [];\n    node.content.forEach((child) => {\n      const childContent = h.renderChildren([child]);\n      const lines = childContent.split(\"\\n\");\n      const linesWithPrefix = lines.map((line) => {\n        if (line.trim() === \"\") {\n          return prefix;\n        }\n        return `${prefix} ${line}`;\n      });\n      result.push(linesWithPrefix.join(\"\\n\"));\n    });\n    return result.join(`\n${prefix}\n`);\n  },\n  addCommands() {\n    return {\n      setBlockquote: () => ({ commands }) => {\n        return commands.wrapIn(this.name);\n      },\n      toggleBlockquote: () => ({ commands }) => {\n        return commands.toggleWrap(this.name);\n      },\n      unsetBlockquote: () => ({ commands }) => {\n        return commands.lift(this.name);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Shift-b\": () => this.editor.commands.toggleBlockquote()\n    };\n  },\n  addInputRules() {\n    return [\n      wrappingInputRule({\n        find: inputRegex,\n        type: this.type\n      })\n    ];\n  }\n});\n\n// src/index.ts\nvar index_default = Blockquote;\nexport {\n  Blockquote,\n  index_default as default,\n  inputRegex\n};\n//# sourceMappingURL=index.js.map","// src/bold.tsx\nimport { Mark, markInputRule, markPasteRule, mergeAttributes } from \"@tiptap/core\";\nimport { jsx } from \"@tiptap/core/jsx-runtime\";\nvar starInputRegex = /(?:^|\\s)(\\*\\*(?!\\s+\\*\\*)((?:[^*]+))\\*\\*(?!\\s+\\*\\*))$/;\nvar starPasteRegex = /(?:^|\\s)(\\*\\*(?!\\s+\\*\\*)((?:[^*]+))\\*\\*(?!\\s+\\*\\*))/g;\nvar underscoreInputRegex = /(?:^|\\s)(__(?!\\s+__)((?:[^_]+))__(?!\\s+__))$/;\nvar underscorePasteRegex = /(?:^|\\s)(__(?!\\s+__)((?:[^_]+))__(?!\\s+__))/g;\nvar Bold = Mark.create({\n  name: \"bold\",\n  addOptions() {\n    return {\n      HTMLAttributes: {}\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"strong\"\n      },\n      {\n        tag: \"b\",\n        getAttrs: (node) => node.style.fontWeight !== \"normal\" && null\n      },\n      {\n        style: \"font-weight=400\",\n        clearMark: (mark) => mark.type.name === this.name\n      },\n      {\n        style: \"font-weight\",\n        getAttrs: (value) => /^(bold(er)?|[5-9]\\d{2,})$/.test(value) && null\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return /* @__PURE__ */ jsx(\"strong\", { ...mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), children: /* @__PURE__ */ jsx(\"slot\", {}) });\n  },\n  markdownTokenName: \"strong\",\n  parseMarkdown: (token, helpers) => {\n    return helpers.applyMark(\"bold\", helpers.parseInline(token.tokens || []));\n  },\n  renderMarkdown: (node, h) => {\n    return `**${h.renderChildren(node)}**`;\n  },\n  addCommands() {\n    return {\n      setBold: () => ({ commands }) => {\n        return commands.setMark(this.name);\n      },\n      toggleBold: () => ({ commands }) => {\n        return commands.toggleMark(this.name);\n      },\n      unsetBold: () => ({ commands }) => {\n        return commands.unsetMark(this.name);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-b\": () => this.editor.commands.toggleBold(),\n      \"Mod-B\": () => this.editor.commands.toggleBold()\n    };\n  },\n  addInputRules() {\n    return [\n      markInputRule({\n        find: starInputRegex,\n        type: this.type\n      }),\n      markInputRule({\n        find: underscoreInputRegex,\n        type: this.type\n      })\n    ];\n  },\n  addPasteRules() {\n    return [\n      markPasteRule({\n        find: starPasteRegex,\n        type: this.type\n      }),\n      markPasteRule({\n        find: underscorePasteRegex,\n        type: this.type\n      })\n    ];\n  }\n});\n\n// src/index.ts\nvar index_default = Bold;\nexport {\n  Bold,\n  index_default as default,\n  starInputRegex,\n  starPasteRegex,\n  underscoreInputRegex,\n  underscorePasteRegex\n};\n//# sourceMappingURL=index.js.map","// src/code-block.ts\nimport { mergeAttributes, Node, textblockTypeInputRule } from \"@tiptap/core\";\nimport { Plugin, PluginKey, Selection, TextSelection } from \"@tiptap/pm/state\";\nvar DEFAULT_TAB_SIZE = 4;\nvar backtickInputRegex = /^```([a-z]+)?[\\s\\n]$/;\nvar tildeInputRegex = /^~~~([a-z]+)?[\\s\\n]$/;\nvar CodeBlock = Node.create({\n  name: \"codeBlock\",\n  addOptions() {\n    return {\n      languageClassPrefix: \"language-\",\n      exitOnTripleEnter: true,\n      exitOnArrowDown: true,\n      defaultLanguage: null,\n      enableTabIndentation: false,\n      tabSize: DEFAULT_TAB_SIZE,\n      HTMLAttributes: {}\n    };\n  },\n  content: \"text*\",\n  marks: \"\",\n  group: \"block\",\n  code: true,\n  defining: true,\n  addAttributes() {\n    return {\n      language: {\n        default: this.options.defaultLanguage,\n        parseHTML: (element) => {\n          var _a;\n          const { languageClassPrefix } = this.options;\n          if (!languageClassPrefix) {\n            return null;\n          }\n          const classNames = [...((_a = element.firstElementChild) == null ? void 0 : _a.classList) || []];\n          const languages = classNames.filter((className) => className.startsWith(languageClassPrefix)).map((className) => className.replace(languageClassPrefix, \"\"));\n          const language = languages[0];\n          if (!language) {\n            return null;\n          }\n          return language;\n        },\n        rendered: false\n      }\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"pre\",\n        preserveWhitespace: \"full\"\n      }\n    ];\n  },\n  renderHTML({ node, HTMLAttributes }) {\n    return [\n      \"pre\",\n      mergeAttributes(this.options.HTMLAttributes, HTMLAttributes),\n      [\n        \"code\",\n        {\n          class: node.attrs.language ? this.options.languageClassPrefix + node.attrs.language : null\n        },\n        0\n      ]\n    ];\n  },\n  markdownTokenName: \"code\",\n  parseMarkdown: (token, helpers) => {\n    var _a;\n    if (((_a = token.raw) == null ? void 0 : _a.startsWith(\"```\")) === false && token.codeBlockStyle !== \"indented\") {\n      return [];\n    }\n    return helpers.createNode(\n      \"codeBlock\",\n      { language: token.lang || null },\n      token.text ? [helpers.createTextNode(token.text)] : []\n    );\n  },\n  renderMarkdown: (node, h) => {\n    var _a;\n    let output = \"\";\n    const language = ((_a = node.attrs) == null ? void 0 : _a.language) || \"\";\n    if (!node.content) {\n      output = `\\`\\`\\`${language}\n\n\\`\\`\\``;\n    } else {\n      const lines = [`\\`\\`\\`${language}`, h.renderChildren(node.content), \"```\"];\n      output = lines.join(\"\\n\");\n    }\n    return output;\n  },\n  addCommands() {\n    return {\n      setCodeBlock: (attributes) => ({ commands }) => {\n        return commands.setNode(this.name, attributes);\n      },\n      toggleCodeBlock: (attributes) => ({ commands }) => {\n        return commands.toggleNode(this.name, \"paragraph\", attributes);\n      }\n    };\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-Alt-c\": () => this.editor.commands.toggleCodeBlock(),\n      // remove code block when at start of document or code block is empty\n      Backspace: () => {\n        const { empty, $anchor } = this.editor.state.selection;\n        const isAtStart = $anchor.pos === 1;\n        if (!empty || $anchor.parent.type.name !== this.name) {\n          return false;\n        }\n        if (isAtStart || !$anchor.parent.textContent.length) {\n          return this.editor.commands.clearNodes();\n        }\n        return false;\n      },\n      // handle tab indentation\n      Tab: ({ editor }) => {\n        var _a;\n        if (!this.options.enableTabIndentation) {\n          return false;\n        }\n        const tabSize = (_a = this.options.tabSize) != null ? _a : DEFAULT_TAB_SIZE;\n        const { state } = editor;\n        const { selection } = state;\n        const { $from, empty } = selection;\n        if ($from.parent.type !== this.type) {\n          return false;\n        }\n        const indent = \" \".repeat(tabSize);\n        if (empty) {\n          return editor.commands.insertContent(indent);\n        }\n        return editor.commands.command(({ tr }) => {\n          const { from, to } = selection;\n          const text = state.doc.textBetween(from, to, \"\\n\", \"\\n\");\n          const lines = text.split(\"\\n\");\n          const indentedText = lines.map((line) => indent + line).join(\"\\n\");\n          tr.replaceWith(from, to, state.schema.text(indentedText));\n          return true;\n        });\n      },\n      // handle shift+tab reverse indentation\n      \"Shift-Tab\": ({ editor }) => {\n        var _a;\n        if (!this.options.enableTabIndentation) {\n          return false;\n        }\n        const tabSize = (_a = this.options.tabSize) != null ? _a : DEFAULT_TAB_SIZE;\n        const { state } = editor;\n        const { selection } = state;\n        const { $from, empty } = selection;\n        if ($from.parent.type !== this.type) {\n          return false;\n        }\n        if (empty) {\n          return editor.commands.command(({ tr }) => {\n            var _a2;\n            const { pos } = $from;\n            const codeBlockStart = $from.start();\n            const codeBlockEnd = $from.end();\n            const allText = state.doc.textBetween(codeBlockStart, codeBlockEnd, \"\\n\", \"\\n\");\n            const lines = allText.split(\"\\n\");\n            let currentLineIndex = 0;\n            let charCount = 0;\n            const relativeCursorPos = pos - codeBlockStart;\n            for (let i = 0; i < lines.length; i += 1) {\n              if (charCount + lines[i].length >= relativeCursorPos) {\n                currentLineIndex = i;\n                break;\n              }\n              charCount += lines[i].length + 1;\n            }\n            const currentLine = lines[currentLineIndex];\n            const leadingSpaces = ((_a2 = currentLine.match(/^ */)) == null ? void 0 : _a2[0]) || \"\";\n            const spacesToRemove = Math.min(leadingSpaces.length, tabSize);\n            if (spacesToRemove === 0) {\n              return true;\n            }\n            let lineStartPos = codeBlockStart;\n            for (let i = 0; i < currentLineIndex; i += 1) {\n              lineStartPos += lines[i].length + 1;\n            }\n            tr.delete(lineStartPos, lineStartPos + spacesToRemove);\n            const cursorPosInLine = pos - lineStartPos;\n            if (cursorPosInLine <= spacesToRemove) {\n              tr.setSelection(TextSelection.create(tr.doc, lineStartPos));\n            }\n            return true;\n          });\n        }\n        return editor.commands.command(({ tr }) => {\n          const { from, to } = selection;\n          const text = state.doc.textBetween(from, to, \"\\n\", \"\\n\");\n          const lines = text.split(\"\\n\");\n          const reverseIndentText = lines.map((line) => {\n            var _a2;\n            const leadingSpaces = ((_a2 = line.match(/^ */)) == null ? void 0 : _a2[0]) || \"\";\n            const spacesToRemove = Math.min(leadingSpaces.length, tabSize);\n            return line.slice(spacesToRemove);\n          }).join(\"\\n\");\n          tr.replaceWith(from, to, state.schema.text(reverseIndentText));\n          return true;\n        });\n      },\n      // exit node on triple enter\n      Enter: ({ editor }) => {\n        if (!this.options.exitOnTripleEnter) {\n          return false;\n        }\n        const { state } = editor;\n        const { selection } = state;\n        const { $from, empty } = selection;\n        if (!empty || $from.parent.type !== this.type) {\n          return false;\n        }\n        const isAtEnd = $from.parentOffset === $from.parent.nodeSize - 2;\n        const endsWithDoubleNewline = $from.parent.textContent.endsWith(\"\\n\\n\");\n        if (!isAtEnd || !endsWithDoubleNewline) {\n          return false;\n        }\n        return editor.chain().command(({ tr }) => {\n          tr.delete($from.pos - 2, $from.pos);\n          return true;\n        }).exitCode().run();\n      },\n      // exit node on arrow down\n      ArrowDown: ({ editor }) => {\n        if (!this.options.exitOnArrowDown) {\n          return false;\n        }\n        const { state } = editor;\n        const { selection, doc } = state;\n        const { $from, empty } = selection;\n        if (!empty || $from.parent.type !== this.type) {\n          return false;\n        }\n        const isAtEnd = $from.parentOffset === $from.parent.nodeSize - 2;\n        if (!isAtEnd) {\n          return false;\n        }\n        const after = $from.after();\n        if (after === void 0) {\n          return false;\n        }\n        const nodeAfter = doc.nodeAt(after);\n        if (nodeAfter) {\n          return editor.commands.command(({ tr }) => {\n            tr.setSelection(Selection.near(doc.resolve(after)));\n            return true;\n          });\n        }\n        return editor.commands.exitCode();\n      }\n    };\n  },\n  addInputRules() {\n    return [\n      textblockTypeInputRule({\n        find: backtickInputRegex,\n        type: this.type,\n        getAttributes: (match) => ({\n          language: match[1]\n        })\n      }),\n      textblockTypeInputRule({\n        find: tildeInputRegex,\n        type: this.type,\n        getAttributes: (match) => ({\n          language: match[1]\n        })\n      })\n    ];\n  },\n  addProseMirrorPlugins() {\n    return [\n      // this plugin creates a code block for pasted content from VS Code\n      // we can also detect the copied code language\n      new Plugin({\n        key: new PluginKey(\"codeBlockVSCodeHandler\"),\n        props: {\n          handlePaste: (view, event) => {\n            if (!event.clipboardData) {\n              return false;\n            }\n            if (this.editor.isActive(this.type.name)) {\n              return false;\n            }\n            const text = event.clipboardData.getData(\"text/plain\");\n            const vscode = event.clipboardData.getData(\"vscode-editor-data\");\n            const vscodeData = vscode ? JSON.parse(vscode) : void 0;\n            const language = vscodeData == null ? void 0 : vscodeData.mode;\n            if (!text || !language) {\n              return false;\n            }\n            const { tr, schema } = view.state;\n            const textNode = schema.text(text.replace(/\\r\\n?/g, \"\\n\"));\n            tr.replaceSelectionWith(this.type.create({ language }, textNode));\n            if (tr.selection.$from.parent.type !== this.type) {\n              tr.setSelection(TextSelection.near(tr.doc.resolve(Math.max(0, tr.selection.from - 2))));\n            }\n            tr.setMeta(\"paste\", true);\n            view.dispatch(tr);\n            return true;\n          }\n        }\n      })\n    ];\n  }\n});\n\n// src/index.ts\nvar index_default = CodeBlock;\nexport {\n  CodeBlock,\n  backtickInputRegex,\n  index_default as default,\n  tildeInputRegex\n};\n//# sourceMappingURL=index.js.map","// src/horizontal-rule.ts\nimport { canInsertNode, isNodeSelection, mergeAttributes, Node, nodeInputRule } from \"@tiptap/core\";\nimport { NodeSelection, TextSelection } from \"@tiptap/pm/state\";\nvar HorizontalRule = Node.create({\n  name: \"horizontalRule\",\n  addOptions() {\n    return {\n      HTMLAttributes: {},\n      nextNodeType: \"paragraph\"\n    };\n  },\n  group: \"block\",\n  parseHTML() {\n    return [{ tag: \"hr\" }];\n  },\n  renderHTML({ HTMLAttributes }) {\n    return [\"hr\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes)];\n  },\n  markdownTokenName: \"hr\",\n  parseMarkdown: (token, helpers) => {\n    return helpers.createNode(\"horizontalRule\");\n  },\n  renderMarkdown: () => {\n    return \"---\";\n  },\n  addCommands() {\n    return {\n      setHorizontalRule: () => ({ chain, state }) => {\n        if (!canInsertNode(state, state.schema.nodes[this.name])) {\n          return false;\n        }\n        const { selection } = state;\n        const { $to: $originTo } = selection;\n        const currentChain = chain();\n        if (isNodeSelection(selection)) {\n          currentChain.insertContentAt($originTo.pos, {\n            type: this.name\n          });\n        } else {\n          currentChain.insertContent({ type: this.name });\n        }\n        return currentChain.command(({ state: chainState, tr, dispatch }) => {\n          if (dispatch) {\n            const { $to } = tr.selection;\n            const posAfter = $to.end();\n            if ($to.nodeAfter) {\n              if ($to.nodeAfter.isTextblock) {\n                tr.setSelection(TextSelection.create(tr.doc, $to.pos + 1));\n              } else if ($to.nodeAfter.isBlock) {\n                tr.setSelection(NodeSelection.create(tr.doc, $to.pos));\n              } else {\n                tr.setSelection(TextSelection.create(tr.doc, $to.pos));\n              }\n            } else {\n              const nodeType = chainState.schema.nodes[this.options.nextNodeType] || $to.parent.type.contentMatch.defaultType;\n              const node = nodeType == null ? void 0 : nodeType.create();\n              if (node) {\n                tr.insert(posAfter, node);\n                tr.setSelection(TextSelection.create(tr.doc, posAfter + 1));\n              }\n            }\n            tr.scrollIntoView();\n          }\n          return true;\n        }).run();\n      }\n    };\n  },\n  addInputRules() {\n    return [\n      nodeInputRule({\n        find: /^(?:---|—-|___\\s|\\*\\*\\*\\s)$/,\n        type: this.type\n      })\n    ];\n  }\n});\n\n// src/index.ts\nvar index_default = HorizontalRule;\nexport {\n  HorizontalRule,\n  index_default as default\n};\n//# sourceMappingURL=index.js.map","import { Plugin } from 'prosemirror-state';\nimport { dropPoint } from 'prosemirror-transform';\n\n/**\nCreate a plugin that, when added to a ProseMirror instance,\ncauses a decoration to show up at the drop position when something\nis dragged over the editor.\n\nNodes may add a `disableDropCursor` property to their spec to\ncontrol the showing of a drop cursor inside them. This may be a\nboolean or a function, which will be called with a view and a\nposition, and should return a boolean.\n*/\nfunction dropCursor(options = {}) {\n    return new Plugin({\n        view(editorView) { return new DropCursorView(editorView, options); }\n    });\n}\nclass DropCursorView {\n    constructor(editorView, options) {\n        var _a;\n        this.editorView = editorView;\n        this.cursorPos = null;\n        this.element = null;\n        this.timeout = -1;\n        this.width = (_a = options.width) !== null && _a !== void 0 ? _a : 1;\n        this.color = options.color === false ? undefined : (options.color || \"black\");\n        this.class = options.class;\n        this.handlers = [\"dragover\", \"dragend\", \"drop\", \"dragleave\"].map(name => {\n            let handler = (e) => { this[name](e); };\n            editorView.dom.addEventListener(name, handler);\n            return { name, handler };\n        });\n    }\n    destroy() {\n        this.handlers.forEach(({ name, handler }) => this.editorView.dom.removeEventListener(name, handler));\n    }\n    update(editorView, prevState) {\n        if (this.cursorPos != null && prevState.doc != editorView.state.doc) {\n            if (this.cursorPos > editorView.state.doc.content.size)\n                this.setCursor(null);\n            else\n                this.updateOverlay();\n        }\n    }\n    setCursor(pos) {\n        if (pos == this.cursorPos)\n            return;\n        this.cursorPos = pos;\n        if (pos == null) {\n            this.element.parentNode.removeChild(this.element);\n            this.element = null;\n        }\n        else {\n            this.updateOverlay();\n        }\n    }\n    updateOverlay() {\n        let $pos = this.editorView.state.doc.resolve(this.cursorPos);\n        let isBlock = !$pos.parent.inlineContent, rect;\n        let editorDOM = this.editorView.dom, editorRect = editorDOM.getBoundingClientRect();\n        let scaleX = editorRect.width / editorDOM.offsetWidth, scaleY = editorRect.height / editorDOM.offsetHeight;\n        if (isBlock) {\n            let before = $pos.nodeBefore, after = $pos.nodeAfter;\n            if (before || after) {\n                let node = this.editorView.nodeDOM(this.cursorPos - (before ? before.nodeSize : 0));\n                if (node) {\n                    let nodeRect = node.getBoundingClientRect();\n                    let top = before ? nodeRect.bottom : nodeRect.top;\n                    if (before && after)\n                        top = (top + this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top) / 2;\n                    let halfWidth = (this.width / 2) * scaleY;\n                    rect = { left: nodeRect.left, right: nodeRect.right, top: top - halfWidth, bottom: top + halfWidth };\n                }\n            }\n        }\n        if (!rect) {\n            let coords = this.editorView.coordsAtPos(this.cursorPos);\n            let halfWidth = (this.width / 2) * scaleX;\n            rect = { left: coords.left - halfWidth, right: coords.left + halfWidth, top: coords.top, bottom: coords.bottom };\n        }\n        let parent = this.editorView.dom.offsetParent;\n        if (!this.element) {\n            this.element = parent.appendChild(document.createElement(\"div\"));\n            if (this.class)\n                this.element.className = this.class;\n            this.element.style.cssText = \"position: absolute; z-index: 50; pointer-events: none;\";\n            if (this.color) {\n                this.element.style.backgroundColor = this.color;\n            }\n        }\n        this.element.classList.toggle(\"prosemirror-dropcursor-block\", isBlock);\n        this.element.classList.toggle(\"prosemirror-dropcursor-inline\", !isBlock);\n        let parentLeft, parentTop;\n        if (!parent || parent == document.body && getComputedStyle(parent).position == \"static\") {\n            parentLeft = -pageXOffset;\n            parentTop = -pageYOffset;\n        }\n        else {\n            let rect = parent.getBoundingClientRect();\n            let parentScaleX = rect.width / parent.offsetWidth, parentScaleY = rect.height / parent.offsetHeight;\n            parentLeft = rect.left - parent.scrollLeft * parentScaleX;\n            parentTop = rect.top - parent.scrollTop * parentScaleY;\n        }\n        this.element.style.left = (rect.left - parentLeft) / scaleX + \"px\";\n        this.element.style.top = (rect.top - parentTop) / scaleY + \"px\";\n        this.element.style.width = (rect.right - rect.left) / scaleX + \"px\";\n        this.element.style.height = (rect.bottom - rect.top) / scaleY + \"px\";\n    }\n    scheduleRemoval(timeout) {\n        clearTimeout(this.timeout);\n        this.timeout = setTimeout(() => this.setCursor(null), timeout);\n    }\n    dragover(event) {\n        if (!this.editorView.editable)\n            return;\n        let pos = this.editorView.posAtCoords({ left: event.clientX, top: event.clientY });\n        let node = pos && pos.inside >= 0 && this.editorView.state.doc.nodeAt(pos.inside);\n        let disableDropCursor = node && node.type.spec.disableDropCursor;\n        let disabled = typeof disableDropCursor == \"function\"\n            ? disableDropCursor(this.editorView, pos, event)\n            : disableDropCursor;\n        if (pos && !disabled) {\n            let target = pos.pos;\n            if (this.editorView.dragging && this.editorView.dragging.slice) {\n                let point = dropPoint(this.editorView.state.doc, target, this.editorView.dragging.slice);\n                if (point != null)\n                    target = point;\n            }\n            this.setCursor(target);\n            this.scheduleRemoval(5000);\n        }\n    }\n    dragend() {\n        this.scheduleRemoval(20);\n    }\n    drop() {\n        this.scheduleRemoval(20);\n    }\n    dragleave(event) {\n        if (!this.editorView.dom.contains(event.relatedTarget))\n            this.setCursor(null);\n    }\n}\n\nexport { dropCursor };\n","import * as core from \"../core/index.js\";\nimport { $ZodError } from \"../core/index.js\";\nimport * as util from \"../core/util.js\";\nconst initializer = (inst, issues) => {\n    $ZodError.init(inst, issues);\n    inst.name = \"ZodError\";\n    Object.defineProperties(inst, {\n        format: {\n            value: (mapper) => core.formatError(inst, mapper),\n            // enumerable: false,\n        },\n        flatten: {\n            value: (mapper) => core.flattenError(inst, mapper),\n            // enumerable: false,\n        },\n        addIssue: {\n            value: (issue) => {\n                inst.issues.push(issue);\n                inst.message = JSON.stringify(inst.issues, util.jsonStringifyReplacer, 2);\n            },\n            // enumerable: false,\n        },\n        addIssues: {\n            value: (issues) => {\n                inst.issues.push(...issues);\n                inst.message = JSON.stringify(inst.issues, util.jsonStringifyReplacer, 2);\n            },\n            // enumerable: false,\n        },\n        isEmpty: {\n            get() {\n                return inst.issues.length === 0;\n            },\n            // enumerable: false,\n        },\n    });\n    // Object.defineProperty(inst, \"isEmpty\", {\n    //   get() {\n    //     return inst.issues.length === 0;\n    //   },\n    // });\n};\nexport const ZodError = core.$constructor(\"ZodError\", initializer);\nexport const ZodRealError = core.$constructor(\"ZodError\", initializer, {\n    Parent: Error,\n});\n// /** @deprecated Use `z.core.$ZodErrorMapCtx` instead. */\n// export type ErrorMapCtx = core.$ZodErrorMapCtx;\n","// src/character-count/character-count.ts\nimport { Extension } from \"@tiptap/core\";\nimport { Plugin, PluginKey } from \"@tiptap/pm/state\";\nvar CharacterCount = Extension.create({\n  name: \"characterCount\",\n  addOptions() {\n    return {\n      limit: null,\n      mode: \"textSize\",\n      textCounter: (text) => text.length,\n      wordCounter: (text) => text.split(\" \").filter((word) => word !== \"\").length\n    };\n  },\n  addStorage() {\n    return {\n      characters: () => 0,\n      words: () => 0\n    };\n  },\n  onBeforeCreate() {\n    this.storage.characters = (options) => {\n      const node = (options == null ? void 0 : options.node) || this.editor.state.doc;\n      const mode = (options == null ? void 0 : options.mode) || this.options.mode;\n      if (mode === \"textSize\") {\n        const text = node.textBetween(0, node.content.size, void 0, \" \");\n        return this.options.textCounter(text);\n      }\n      return node.nodeSize;\n    };\n    this.storage.words = (options) => {\n      const node = (options == null ? void 0 : options.node) || this.editor.state.doc;\n      const text = node.textBetween(0, node.content.size, \" \", \" \");\n      return this.options.wordCounter(text);\n    };\n  },\n  addProseMirrorPlugins() {\n    let initialEvaluationDone = false;\n    return [\n      new Plugin({\n        key: new PluginKey(\"characterCount\"),\n        appendTransaction: (transactions, oldState, newState) => {\n          if (initialEvaluationDone) {\n            return;\n          }\n          const limit = this.options.limit;\n          if (limit === null || limit === void 0 || limit === 0) {\n            initialEvaluationDone = true;\n            return;\n          }\n          const initialContentSize = this.storage.characters({ node: newState.doc });\n          if (initialContentSize > limit) {\n            const over = initialContentSize - limit;\n            const from = 0;\n            const to = over;\n            console.warn(\n              `[CharacterCount] Initial content exceeded limit of ${limit} characters. Content was automatically trimmed.`\n            );\n            const tr = newState.tr.deleteRange(from, to);\n            initialEvaluationDone = true;\n            return tr;\n          }\n          initialEvaluationDone = true;\n        },\n        filterTransaction: (transaction, state) => {\n          const limit = this.options.limit;\n          if (!transaction.docChanged || limit === 0 || limit === null || limit === void 0) {\n            return true;\n          }\n          const oldSize = this.storage.characters({ node: state.doc });\n          const newSize = this.storage.characters({ node: transaction.doc });\n          if (newSize <= limit) {\n            return true;\n          }\n          if (oldSize > limit && newSize > limit && newSize <= oldSize) {\n            return true;\n          }\n          if (oldSize > limit && newSize > limit && newSize > oldSize) {\n            return false;\n          }\n          const isPaste = transaction.getMeta(\"paste\");\n          if (!isPaste) {\n            return false;\n          }\n          const pos = transaction.selection.$head.pos;\n          const over = newSize - limit;\n          const from = pos - over;\n          const to = pos;\n          transaction.deleteRange(from, to);\n          const updatedSize = this.storage.characters({ node: transaction.doc });\n          if (updatedSize > limit) {\n            return false;\n          }\n          return true;\n        }\n      })\n    ];\n  }\n});\n\n// src/drop-cursor/drop-cursor.ts\nimport { Extension as Extension2 } from \"@tiptap/core\";\nimport { dropCursor } from \"@tiptap/pm/dropcursor\";\nvar Dropcursor = Extension2.create({\n  name: \"dropCursor\",\n  addOptions() {\n    return {\n      color: \"currentColor\",\n      width: 1,\n      class: void 0\n    };\n  },\n  addProseMirrorPlugins() {\n    return [dropCursor(this.options)];\n  }\n});\n\n// src/focus/focus.ts\nimport { Extension as Extension3 } from \"@tiptap/core\";\nimport { Plugin as Plugin2, PluginKey as PluginKey2 } from \"@tiptap/pm/state\";\nimport { Decoration, DecorationSet } from \"@tiptap/pm/view\";\nvar Focus = Extension3.create({\n  name: \"focus\",\n  addOptions() {\n    return {\n      className: \"has-focus\",\n      mode: \"all\"\n    };\n  },\n  addProseMirrorPlugins() {\n    return [\n      new Plugin2({\n        key: new PluginKey2(\"focus\"),\n        props: {\n          decorations: ({ doc, selection }) => {\n            const { isEditable, isFocused } = this.editor;\n            const { anchor } = selection;\n            const decorations = [];\n            if (!isEditable || !isFocused) {\n              return DecorationSet.create(doc, []);\n            }\n            let maxLevels = 0;\n            if (this.options.mode === \"deepest\") {\n              doc.descendants((node, pos) => {\n                if (node.isText) {\n                  return;\n                }\n                const isCurrent = anchor >= pos && anchor <= pos + node.nodeSize - 1;\n                if (!isCurrent) {\n                  return false;\n                }\n                maxLevels += 1;\n              });\n            }\n            let currentLevel = 0;\n            doc.descendants((node, pos) => {\n              if (node.isText) {\n                return false;\n              }\n              const isCurrent = anchor >= pos && anchor <= pos + node.nodeSize - 1;\n              if (!isCurrent) {\n                return false;\n              }\n              currentLevel += 1;\n              const outOfScope = this.options.mode === \"deepest\" && maxLevels - currentLevel > 0 || this.options.mode === \"shallowest\" && currentLevel > 1;\n              if (outOfScope) {\n                return this.options.mode === \"deepest\";\n              }\n              decorations.push(\n                Decoration.node(pos, pos + node.nodeSize, {\n                  class: this.options.className\n                })\n              );\n            });\n            return DecorationSet.create(doc, decorations);\n          }\n        }\n      })\n    ];\n  }\n});\n\n// src/gap-cursor/gap-cursor.ts\nimport { callOrReturn, Extension as Extension4, getExtensionField } from \"@tiptap/core\";\nimport { gapCursor } from \"@tiptap/pm/gapcursor\";\nvar Gapcursor = Extension4.create({\n  name: \"gapCursor\",\n  addProseMirrorPlugins() {\n    return [gapCursor()];\n  },\n  extendNodeSchema(extension) {\n    var _a;\n    const context = {\n      name: extension.name,\n      options: extension.options,\n      storage: extension.storage\n    };\n    return {\n      allowGapCursor: (_a = callOrReturn(getExtensionField(extension, \"allowGapCursor\", context))) != null ? _a : null\n    };\n  }\n});\n\n// src/placeholder/placeholder.ts\nimport { Extension as Extension5, isNodeEmpty } from \"@tiptap/core\";\nimport { Plugin as Plugin3, PluginKey as PluginKey3 } from \"@tiptap/pm/state\";\nimport { Decoration as Decoration2, DecorationSet as DecorationSet2 } from \"@tiptap/pm/view\";\nvar DEFAULT_DATA_ATTRIBUTE = \"placeholder\";\nfunction preparePlaceholderAttribute(attr) {\n  return attr.replace(/\\s+/g, \"-\").replace(/[^a-zA-Z0-9-]/g, \"\").replace(/^[0-9-]+/, \"\").replace(/^-+/, \"\").toLowerCase();\n}\nvar Placeholder = Extension5.create({\n  name: \"placeholder\",\n  addOptions() {\n    return {\n      emptyEditorClass: \"is-editor-empty\",\n      emptyNodeClass: \"is-empty\",\n      dataAttribute: DEFAULT_DATA_ATTRIBUTE,\n      placeholder: \"Write something \\u2026\",\n      showOnlyWhenEditable: true,\n      showOnlyCurrent: true,\n      includeChildren: false\n    };\n  },\n  addProseMirrorPlugins() {\n    const dataAttribute = this.options.dataAttribute ? `data-${preparePlaceholderAttribute(this.options.dataAttribute)}` : `data-${DEFAULT_DATA_ATTRIBUTE}`;\n    return [\n      new Plugin3({\n        key: new PluginKey3(\"placeholder\"),\n        props: {\n          decorations: ({ doc, selection }) => {\n            const active = this.editor.isEditable || !this.options.showOnlyWhenEditable;\n            const { anchor } = selection;\n            const decorations = [];\n            if (!active) {\n              return null;\n            }\n            const isEmptyDoc = this.editor.isEmpty;\n            doc.descendants((node, pos) => {\n              const hasAnchor = anchor >= pos && anchor <= pos + node.nodeSize;\n              const isEmpty = !node.isLeaf && isNodeEmpty(node);\n              if ((hasAnchor || !this.options.showOnlyCurrent) && isEmpty) {\n                const classes = [this.options.emptyNodeClass];\n                if (isEmptyDoc) {\n                  classes.push(this.options.emptyEditorClass);\n                }\n                const decoration = Decoration2.node(pos, pos + node.nodeSize, {\n                  class: classes.join(\" \"),\n                  [dataAttribute]: typeof this.options.placeholder === \"function\" ? this.options.placeholder({\n                    editor: this.editor,\n                    node,\n                    pos,\n                    hasAnchor\n                  }) : this.options.placeholder\n                });\n                decorations.push(decoration);\n              }\n              return this.options.includeChildren;\n            });\n            return DecorationSet2.create(doc, decorations);\n          }\n        }\n      })\n    ];\n  }\n});\n\n// src/selection/selection.ts\nimport { Extension as Extension6, isNodeSelection } from \"@tiptap/core\";\nimport { Plugin as Plugin4, PluginKey as PluginKey4 } from \"@tiptap/pm/state\";\nimport { Decoration as Decoration3, DecorationSet as DecorationSet3 } from \"@tiptap/pm/view\";\nvar Selection = Extension6.create({\n  name: \"selection\",\n  addOptions() {\n    return {\n      className: \"selection\"\n    };\n  },\n  addProseMirrorPlugins() {\n    const { editor, options } = this;\n    return [\n      new Plugin4({\n        key: new PluginKey4(\"selection\"),\n        props: {\n          decorations(state) {\n            if (state.selection.empty || editor.isFocused || !editor.isEditable || isNodeSelection(state.selection) || editor.view.dragging) {\n              return null;\n            }\n            return DecorationSet3.create(state.doc, [\n              Decoration3.inline(state.selection.from, state.selection.to, {\n                class: options.className\n              })\n            ]);\n          }\n        }\n      })\n    ];\n  }\n});\n\n// src/trailing-node/trailing-node.ts\nimport { Extension as Extension7 } from \"@tiptap/core\";\nimport { Plugin as Plugin5, PluginKey as PluginKey5 } from \"@tiptap/pm/state\";\nfunction nodeEqualsType({ types, node }) {\n  return node && Array.isArray(types) && types.includes(node.type) || (node == null ? void 0 : node.type) === types;\n}\nvar TrailingNode = Extension7.create({\n  name: \"trailingNode\",\n  addOptions() {\n    return {\n      node: void 0,\n      notAfter: []\n    };\n  },\n  addProseMirrorPlugins() {\n    var _a;\n    const plugin = new PluginKey5(this.name);\n    const defaultNode = this.options.node || ((_a = this.editor.schema.topNodeType.contentMatch.defaultType) == null ? void 0 : _a.name) || \"paragraph\";\n    const disabledNodes = Object.entries(this.editor.schema.nodes).map(([, value]) => value).filter((node) => (this.options.notAfter || []).concat(defaultNode).includes(node.name));\n    return [\n      new Plugin5({\n        key: plugin,\n        appendTransaction: (_, __, state) => {\n          const { doc, tr, schema } = state;\n          const shouldInsertNodeAtEnd = plugin.getState(state);\n          const endPosition = doc.content.size;\n          const type = schema.nodes[defaultNode];\n          if (!shouldInsertNodeAtEnd) {\n            return;\n          }\n          return tr.insert(endPosition, type.create());\n        },\n        state: {\n          init: (_, state) => {\n            const lastNode = state.tr.doc.lastChild;\n            return !nodeEqualsType({ node: lastNode, types: disabledNodes });\n          },\n          apply: (tr, value) => {\n            if (!tr.docChanged) {\n              return value;\n            }\n            if (tr.getMeta(\"__uniqueIDTransaction\")) {\n              return value;\n            }\n            const lastNode = tr.doc.lastChild;\n            return !nodeEqualsType({ node: lastNode, types: disabledNodes });\n          }\n        }\n      })\n    ];\n  }\n});\n\n// src/undo-redo/undo-redo.ts\nimport { Extension as Extension8 } from \"@tiptap/core\";\nimport { history, redo, undo } from \"@tiptap/pm/history\";\nvar UndoRedo = Extension8.create({\n  name: \"undoRedo\",\n  addOptions() {\n    return {\n      depth: 100,\n      newGroupDelay: 500\n    };\n  },\n  addCommands() {\n    return {\n      undo: () => ({ state, dispatch }) => {\n        return undo(state, dispatch);\n      },\n      redo: () => ({ state, dispatch }) => {\n        return redo(state, dispatch);\n      }\n    };\n  },\n  addProseMirrorPlugins() {\n    return [history(this.options)];\n  },\n  addKeyboardShortcuts() {\n    return {\n      \"Mod-z\": () => this.editor.commands.undo(),\n      \"Shift-Mod-z\": () => this.editor.commands.redo(),\n      \"Mod-y\": () => this.editor.commands.redo(),\n      // Russian keyboard layouts\n      \"Mod-\\u044F\": () => this.editor.commands.undo(),\n      \"Shift-Mod-\\u044F\": () => this.editor.commands.redo()\n    };\n  }\n});\nexport {\n  CharacterCount,\n  Dropcursor,\n  Focus,\n  Gapcursor,\n  Placeholder,\n  Selection,\n  TrailingNode,\n  UndoRedo,\n  preparePlaceholderAttribute\n};\n//# sourceMappingURL=index.js.map","// src/create-context.tsx\nimport * as React from \"react\";\nimport { jsx } from \"react/jsx-runtime\";\nfunction createContext2(rootComponentName, defaultContext) {\n  const Context = React.createContext(defaultContext);\n  Context.displayName = rootComponentName + \"Context\";\n  const Provider = (props) => {\n    const { children, ...context } = props;\n    const value = React.useMemo(() => context, Object.values(context));\n    return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n  };\n  Provider.displayName = rootComponentName + \"Provider\";\n  function useContext2(consumerName) {\n    const context = React.useContext(Context);\n    if (context) return context;\n    if (defaultContext !== void 0) return defaultContext;\n    throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n  }\n  return [Provider, useContext2];\n}\nfunction createContextScope(scopeName, createContextScopeDeps = []) {\n  let defaultContexts = [];\n  function createContext3(rootComponentName, defaultContext) {\n    const BaseContext = React.createContext(defaultContext);\n    BaseContext.displayName = rootComponentName + \"Context\";\n    const index = defaultContexts.length;\n    defaultContexts = [...defaultContexts, defaultContext];\n    const Provider = (props) => {\n      const { scope, children, ...context } = props;\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const value = React.useMemo(() => context, Object.values(context));\n      return /* @__PURE__ */ jsx(Context.Provider, { value, children });\n    };\n    Provider.displayName = rootComponentName + \"Provider\";\n    function useContext2(consumerName, scope) {\n      const Context = scope?.[scopeName]?.[index] || BaseContext;\n      const context = React.useContext(Context);\n      if (context) return context;\n      if (defaultContext !== void 0) return defaultContext;\n      throw new Error(`\\`${consumerName}\\` must be used within \\`${rootComponentName}\\``);\n    }\n    return [Provider, useContext2];\n  }\n  const createScope = () => {\n    const scopeContexts = defaultContexts.map((defaultContext) => {\n      return React.createContext(defaultContext);\n    });\n    return function useScope(scope) {\n      const contexts = scope?.[scopeName] || scopeContexts;\n      return React.useMemo(\n        () => ({ [`__scope${scopeName}`]: { ...scope, [scopeName]: contexts } }),\n        [scope, contexts]\n      );\n    };\n  };\n  createScope.scopeName = scopeName;\n  return [createContext3, composeContextScopes(createScope, ...createContextScopeDeps)];\n}\nfunction composeContextScopes(...scopes) {\n  const baseScope = scopes[0];\n  if (scopes.length === 1) return baseScope;\n  const createScope = () => {\n    const scopeHooks = scopes.map((createScope2) => ({\n      useScope: createScope2(),\n      scopeName: createScope2.scopeName\n    }));\n    return function useComposedScopes(overrideScopes) {\n      const nextScopes = scopeHooks.reduce((nextScopes2, { useScope, scopeName }) => {\n        const scopeProps = useScope(overrideScopes);\n        const currentScope = scopeProps[`__scope${scopeName}`];\n        return { ...nextScopes2, ...currentScope };\n      }, {});\n      return React.useMemo(() => ({ [`__scope${baseScope.scopeName}`]: nextScopes }), [nextScopes]);\n    };\n  };\n  createScope.scopeName = baseScope.scopeName;\n  return createScope;\n}\nexport {\n  createContext2 as createContext,\n  createContextScope\n};\n//# sourceMappingURL=index.mjs.map\n","// src/primitive.tsx\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NODES = [\n  \"a\",\n  \"button\",\n  \"div\",\n  \"form\",\n  \"h2\",\n  \"h3\",\n  \"img\",\n  \"input\",\n  \"label\",\n  \"li\",\n  \"nav\",\n  \"ol\",\n  \"p\",\n  \"select\",\n  \"span\",\n  \"svg\",\n  \"ul\"\n];\nvar Primitive = NODES.reduce((primitive, node) => {\n  const Slot = createSlot(`Primitive.${node}`);\n  const Node = React.forwardRef((props, forwardedRef) => {\n    const { asChild, ...primitiveProps } = props;\n    const Comp = asChild ? Slot : node;\n    if (typeof window !== \"undefined\") {\n      window[Symbol.for(\"radix-ui\")] = true;\n    }\n    return /* @__PURE__ */ jsx(Comp, { ...primitiveProps, ref: forwardedRef });\n  });\n  Node.displayName = `Primitive.${node}`;\n  return { ...primitive, [node]: Node };\n}, {});\nfunction dispatchDiscreteCustomEvent(target, event) {\n  if (target) ReactDOM.flushSync(() => target.dispatchEvent(event));\n}\nvar Root = Primitive;\nexport {\n  Primitive,\n  Root,\n  dispatchDiscreteCustomEvent\n};\n//# sourceMappingURL=index.mjs.map\n","import * as core from \"./core.js\";\nimport * as errors from \"./errors.js\";\nimport * as util from \"./util.js\";\nexport const _parse = (_Err) => (schema, value, _ctx, _params) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: false }) : { async: false };\n    const result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise) {\n        throw new core.$ZodAsyncError();\n    }\n    if (result.issues.length) {\n        const e = new (_params?.Err ?? _Err)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())));\n        util.captureStackTrace(e, _params?.callee);\n        throw e;\n    }\n    return result.value;\n};\nexport const parse = /* @__PURE__*/ _parse(errors.$ZodRealError);\nexport const _parseAsync = (_Err) => async (schema, value, _ctx, params) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };\n    let result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise)\n        result = await result;\n    if (result.issues.length) {\n        const e = new (params?.Err ?? _Err)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())));\n        util.captureStackTrace(e, params?.callee);\n        throw e;\n    }\n    return result.value;\n};\nexport const parseAsync = /* @__PURE__*/ _parseAsync(errors.$ZodRealError);\nexport const _safeParse = (_Err) => (schema, value, _ctx) => {\n    const ctx = _ctx ? { ..._ctx, async: false } : { async: false };\n    const result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise) {\n        throw new core.$ZodAsyncError();\n    }\n    return result.issues.length\n        ? {\n            success: false,\n            error: new (_Err ?? errors.$ZodError)(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        }\n        : { success: true, data: result.value };\n};\nexport const safeParse = /* @__PURE__*/ _safeParse(errors.$ZodRealError);\nexport const _safeParseAsync = (_Err) => async (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { async: true }) : { async: true };\n    let result = schema._zod.run({ value, issues: [] }, ctx);\n    if (result instanceof Promise)\n        result = await result;\n    return result.issues.length\n        ? {\n            success: false,\n            error: new _Err(result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        }\n        : { success: true, data: result.value };\n};\nexport const safeParseAsync = /* @__PURE__*/ _safeParseAsync(errors.$ZodRealError);\nexport const _encode = (_Err) => (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { direction: \"backward\" }) : { direction: \"backward\" };\n    return _parse(_Err)(schema, value, ctx);\n};\nexport const encode = /* @__PURE__*/ _encode(errors.$ZodRealError);\nexport const _decode = (_Err) => (schema, value, _ctx) => {\n    return _parse(_Err)(schema, value, _ctx);\n};\nexport const decode = /* @__PURE__*/ _decode(errors.$ZodRealError);\nexport const _encodeAsync = (_Err) => async (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { direction: \"backward\" }) : { direction: \"backward\" };\n    return _parseAsync(_Err)(schema, value, ctx);\n};\nexport const encodeAsync = /* @__PURE__*/ _encodeAsync(errors.$ZodRealError);\nexport const _decodeAsync = (_Err) => async (schema, value, _ctx) => {\n    return _parseAsync(_Err)(schema, value, _ctx);\n};\nexport const decodeAsync = /* @__PURE__*/ _decodeAsync(errors.$ZodRealError);\nexport const _safeEncode = (_Err) => (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { direction: \"backward\" }) : { direction: \"backward\" };\n    return _safeParse(_Err)(schema, value, ctx);\n};\nexport const safeEncode = /* @__PURE__*/ _safeEncode(errors.$ZodRealError);\nexport const _safeDecode = (_Err) => (schema, value, _ctx) => {\n    return _safeParse(_Err)(schema, value, _ctx);\n};\nexport const safeDecode = /* @__PURE__*/ _safeDecode(errors.$ZodRealError);\nexport const _safeEncodeAsync = (_Err) => async (schema, value, _ctx) => {\n    const ctx = _ctx ? Object.assign(_ctx, { direction: \"backward\" }) : { direction: \"backward\" };\n    return _safeParseAsync(_Err)(schema, value, ctx);\n};\nexport const safeEncodeAsync = /* @__PURE__*/ _safeEncodeAsync(errors.$ZodRealError);\nexport const _safeDecodeAsync = (_Err) => async (schema, value, _ctx) => {\n    return _safeParseAsync(_Err)(schema, value, _ctx);\n};\nexport const safeDecodeAsync = /* @__PURE__*/ _safeDecodeAsync(errors.$ZodRealError);\n","import RopeSequence from 'rope-sequence';\nimport { Mapping } from 'prosemirror-transform';\nimport { PluginKey, Plugin } from 'prosemirror-state';\n\n// ProseMirror's history isn't simply a way to roll back to a previous\n// state, because ProseMirror supports applying changes without adding\n// them to the history (for example during collaboration).\n//\n// To this end, each 'Branch' (one for the undo history and one for\n// the redo history) keeps an array of 'Items', which can optionally\n// hold a step (an actual undoable change), and always hold a position\n// map (which is needed to move changes below them to apply to the\n// current document).\n//\n// An item that has both a step and a selection bookmark is the start\n// of an 'event' — a group of changes that will be undone or redone at\n// once. (It stores only the bookmark, since that way we don't have to\n// provide a document until the selection is actually applied, which\n// is useful when compressing.)\n// Used to schedule history compression\nconst max_empty_items = 500;\nclass Branch {\n    constructor(items, eventCount) {\n        this.items = items;\n        this.eventCount = eventCount;\n    }\n    // Pop the latest event off the branch's history and apply it\n    // to a document transform.\n    popEvent(state, preserveItems) {\n        if (this.eventCount == 0)\n            return null;\n        let end = this.items.length;\n        for (;; end--) {\n            let next = this.items.get(end - 1);\n            if (next.selection) {\n                --end;\n                break;\n            }\n        }\n        let remap, mapFrom;\n        if (preserveItems) {\n            remap = this.remapping(end, this.items.length);\n            mapFrom = remap.maps.length;\n        }\n        let transform = state.tr;\n        let selection, remaining;\n        let addAfter = [], addBefore = [];\n        this.items.forEach((item, i) => {\n            if (!item.step) {\n                if (!remap) {\n                    remap = this.remapping(end, i + 1);\n                    mapFrom = remap.maps.length;\n                }\n                mapFrom--;\n                addBefore.push(item);\n                return;\n            }\n            if (remap) {\n                addBefore.push(new Item(item.map));\n                let step = item.step.map(remap.slice(mapFrom)), map;\n                if (step && transform.maybeStep(step).doc) {\n                    map = transform.mapping.maps[transform.mapping.maps.length - 1];\n                    addAfter.push(new Item(map, undefined, undefined, addAfter.length + addBefore.length));\n                }\n                mapFrom--;\n                if (map)\n                    remap.appendMap(map, mapFrom);\n            }\n            else {\n                transform.maybeStep(item.step);\n            }\n            if (item.selection) {\n                selection = remap ? item.selection.map(remap.slice(mapFrom)) : item.selection;\n                remaining = new Branch(this.items.slice(0, end).append(addBefore.reverse().concat(addAfter)), this.eventCount - 1);\n                return false;\n            }\n        }, this.items.length, 0);\n        return { remaining: remaining, transform, selection: selection };\n    }\n    // Create a new branch with the given transform added.\n    addTransform(transform, selection, histOptions, preserveItems) {\n        let newItems = [], eventCount = this.eventCount;\n        let oldItems = this.items, lastItem = !preserveItems && oldItems.length ? oldItems.get(oldItems.length - 1) : null;\n        for (let i = 0; i < transform.steps.length; i++) {\n            let step = transform.steps[i].invert(transform.docs[i]);\n            let item = new Item(transform.mapping.maps[i], step, selection), merged;\n            if (merged = lastItem && lastItem.merge(item)) {\n                item = merged;\n                if (i)\n                    newItems.pop();\n                else\n                    oldItems = oldItems.slice(0, oldItems.length - 1);\n            }\n            newItems.push(item);\n            if (selection) {\n                eventCount++;\n                selection = undefined;\n            }\n            if (!preserveItems)\n                lastItem = item;\n        }\n        let overflow = eventCount - histOptions.depth;\n        if (overflow > DEPTH_OVERFLOW) {\n            oldItems = cutOffEvents(oldItems, overflow);\n            eventCount -= overflow;\n        }\n        return new Branch(oldItems.append(newItems), eventCount);\n    }\n    remapping(from, to) {\n        let maps = new Mapping;\n        this.items.forEach((item, i) => {\n            let mirrorPos = item.mirrorOffset != null && i - item.mirrorOffset >= from\n                ? maps.maps.length - item.mirrorOffset : undefined;\n            maps.appendMap(item.map, mirrorPos);\n        }, from, to);\n        return maps;\n    }\n    addMaps(array) {\n        if (this.eventCount == 0)\n            return this;\n        return new Branch(this.items.append(array.map(map => new Item(map))), this.eventCount);\n    }\n    // When the collab module receives remote changes, the history has\n    // to know about those, so that it can adjust the steps that were\n    // rebased on top of the remote changes, and include the position\n    // maps for the remote changes in its array of items.\n    rebased(rebasedTransform, rebasedCount) {\n        if (!this.eventCount)\n            return this;\n        let rebasedItems = [], start = Math.max(0, this.items.length - rebasedCount);\n        let mapping = rebasedTransform.mapping;\n        let newUntil = rebasedTransform.steps.length;\n        let eventCount = this.eventCount;\n        this.items.forEach(item => { if (item.selection)\n            eventCount--; }, start);\n        let iRebased = rebasedCount;\n        this.items.forEach(item => {\n            let pos = mapping.getMirror(--iRebased);\n            if (pos == null)\n                return;\n            newUntil = Math.min(newUntil, pos);\n            let map = mapping.maps[pos];\n            if (item.step) {\n                let step = rebasedTransform.steps[pos].invert(rebasedTransform.docs[pos]);\n                let selection = item.selection && item.selection.map(mapping.slice(iRebased + 1, pos));\n                if (selection)\n                    eventCount++;\n                rebasedItems.push(new Item(map, step, selection));\n            }\n            else {\n                rebasedItems.push(new Item(map));\n            }\n        }, start);\n        let newMaps = [];\n        for (let i = rebasedCount; i < newUntil; i++)\n            newMaps.push(new Item(mapping.maps[i]));\n        let items = this.items.slice(0, start).append(newMaps).append(rebasedItems);\n        let branch = new Branch(items, eventCount);\n        if (branch.emptyItemCount() > max_empty_items)\n            branch = branch.compress(this.items.length - rebasedItems.length);\n        return branch;\n    }\n    emptyItemCount() {\n        let count = 0;\n        this.items.forEach(item => { if (!item.step)\n            count++; });\n        return count;\n    }\n    // Compressing a branch means rewriting it to push the air (map-only\n    // items) out. During collaboration, these naturally accumulate\n    // because each remote change adds one. The `upto` argument is used\n    // to ensure that only the items below a given level are compressed,\n    // because `rebased` relies on a clean, untouched set of items in\n    // order to associate old items with rebased steps.\n    compress(upto = this.items.length) {\n        let remap = this.remapping(0, upto), mapFrom = remap.maps.length;\n        let items = [], events = 0;\n        this.items.forEach((item, i) => {\n            if (i >= upto) {\n                items.push(item);\n                if (item.selection)\n                    events++;\n            }\n            else if (item.step) {\n                let step = item.step.map(remap.slice(mapFrom)), map = step && step.getMap();\n                mapFrom--;\n                if (map)\n                    remap.appendMap(map, mapFrom);\n                if (step) {\n                    let selection = item.selection && item.selection.map(remap.slice(mapFrom));\n                    if (selection)\n                        events++;\n                    let newItem = new Item(map.invert(), step, selection), merged, last = items.length - 1;\n                    if (merged = items.length && items[last].merge(newItem))\n                        items[last] = merged;\n                    else\n                        items.push(newItem);\n                }\n            }\n            else if (item.map) {\n                mapFrom--;\n            }\n        }, this.items.length, 0);\n        return new Branch(RopeSequence.from(items.reverse()), events);\n    }\n}\nBranch.empty = new Branch(RopeSequence.empty, 0);\nfunction cutOffEvents(items, n) {\n    let cutPoint;\n    items.forEach((item, i) => {\n        if (item.selection && (n-- == 0)) {\n            cutPoint = i;\n            return false;\n        }\n    });\n    return items.slice(cutPoint);\n}\nclass Item {\n    constructor(\n    // The (forward) step map for this item.\n    map, \n    // The inverted step\n    step, \n    // If this is non-null, this item is the start of a group, and\n    // this selection is the starting selection for the group (the one\n    // that was active before the first step was applied)\n    selection, \n    // If this item is the inverse of a previous mapping on the stack,\n    // this points at the inverse's offset\n    mirrorOffset) {\n        this.map = map;\n        this.step = step;\n        this.selection = selection;\n        this.mirrorOffset = mirrorOffset;\n    }\n    merge(other) {\n        if (this.step && other.step && !other.selection) {\n            let step = other.step.merge(this.step);\n            if (step)\n                return new Item(step.getMap().invert(), step, this.selection);\n        }\n    }\n}\n// The value of the state field that tracks undo/redo history for that\n// state. Will be stored in the plugin state when the history plugin\n// is active.\nclass HistoryState {\n    constructor(done, undone, prevRanges, prevTime, prevComposition) {\n        this.done = done;\n        this.undone = undone;\n        this.prevRanges = prevRanges;\n        this.prevTime = prevTime;\n        this.prevComposition = prevComposition;\n    }\n}\nconst DEPTH_OVERFLOW = 20;\n// Record a transformation in undo history.\nfunction applyTransaction(history, state, tr, options) {\n    let historyTr = tr.getMeta(historyKey), rebased;\n    if (historyTr)\n        return historyTr.historyState;\n    if (tr.getMeta(closeHistoryKey))\n        history = new HistoryState(history.done, history.undone, null, 0, -1);\n    let appended = tr.getMeta(\"appendedTransaction\");\n    if (tr.steps.length == 0) {\n        return history;\n    }\n    else if (appended && appended.getMeta(historyKey)) {\n        if (appended.getMeta(historyKey).redo)\n            return new HistoryState(history.done.addTransform(tr, undefined, options, mustPreserveItems(state)), history.undone, rangesFor(tr.mapping.maps), history.prevTime, history.prevComposition);\n        else\n            return new HistoryState(history.done, history.undone.addTransform(tr, undefined, options, mustPreserveItems(state)), null, history.prevTime, history.prevComposition);\n    }\n    else if (tr.getMeta(\"addToHistory\") !== false && !(appended && appended.getMeta(\"addToHistory\") === false)) {\n        // Group transforms that occur in quick succession into one event.\n        let composition = tr.getMeta(\"composition\");\n        let newGroup = history.prevTime == 0 ||\n            (!appended && history.prevComposition != composition &&\n                (history.prevTime < (tr.time || 0) - options.newGroupDelay || !isAdjacentTo(tr, history.prevRanges)));\n        let prevRanges = appended ? mapRanges(history.prevRanges, tr.mapping) : rangesFor(tr.mapping.maps);\n        return new HistoryState(history.done.addTransform(tr, newGroup ? state.selection.getBookmark() : undefined, options, mustPreserveItems(state)), Branch.empty, prevRanges, tr.time, composition == null ? history.prevComposition : composition);\n    }\n    else if (rebased = tr.getMeta(\"rebased\")) {\n        // Used by the collab module to tell the history that some of its\n        // content has been rebased.\n        return new HistoryState(history.done.rebased(tr, rebased), history.undone.rebased(tr, rebased), mapRanges(history.prevRanges, tr.mapping), history.prevTime, history.prevComposition);\n    }\n    else {\n        return new HistoryState(history.done.addMaps(tr.mapping.maps), history.undone.addMaps(tr.mapping.maps), mapRanges(history.prevRanges, tr.mapping), history.prevTime, history.prevComposition);\n    }\n}\nfunction isAdjacentTo(transform, prevRanges) {\n    if (!prevRanges)\n        return false;\n    if (!transform.docChanged)\n        return true;\n    let adjacent = false;\n    transform.mapping.maps[0].forEach((start, end) => {\n        for (let i = 0; i < prevRanges.length; i += 2)\n            if (start <= prevRanges[i + 1] && end >= prevRanges[i])\n                adjacent = true;\n    });\n    return adjacent;\n}\nfunction rangesFor(maps) {\n    let result = [];\n    for (let i = maps.length - 1; i >= 0 && result.length == 0; i--)\n        maps[i].forEach((_from, _to, from, to) => result.push(from, to));\n    return result;\n}\nfunction mapRanges(ranges, mapping) {\n    if (!ranges)\n        return null;\n    let result = [];\n    for (let i = 0; i < ranges.length; i += 2) {\n        let from = mapping.map(ranges[i], 1), to = mapping.map(ranges[i + 1], -1);\n        if (from <= to)\n            result.push(from, to);\n    }\n    return result;\n}\n// Apply the latest event from one branch to the document and shift the event\n// onto the other branch.\nfunction histTransaction(history, state, redo) {\n    let preserveItems = mustPreserveItems(state);\n    let histOptions = historyKey.get(state).spec.config;\n    let pop = (redo ? history.undone : history.done).popEvent(state, preserveItems);\n    if (!pop)\n        return null;\n    let selection = pop.selection.resolve(pop.transform.doc);\n    let added = (redo ? history.done : history.undone).addTransform(pop.transform, state.selection.getBookmark(), histOptions, preserveItems);\n    let newHist = new HistoryState(redo ? added : pop.remaining, redo ? pop.remaining : added, null, 0, -1);\n    return pop.transform.setSelection(selection).setMeta(historyKey, { redo, historyState: newHist });\n}\nlet cachedPreserveItems = false, cachedPreserveItemsPlugins = null;\n// Check whether any plugin in the given state has a\n// `historyPreserveItems` property in its spec, in which case we must\n// preserve steps exactly as they came in, so that they can be\n// rebased.\nfunction mustPreserveItems(state) {\n    let plugins = state.plugins;\n    if (cachedPreserveItemsPlugins != plugins) {\n        cachedPreserveItems = false;\n        cachedPreserveItemsPlugins = plugins;\n        for (let i = 0; i < plugins.length; i++)\n            if (plugins[i].spec.historyPreserveItems) {\n                cachedPreserveItems = true;\n                break;\n            }\n    }\n    return cachedPreserveItems;\n}\n/**\nSet a flag on the given transaction that will prevent further steps\nfrom being appended to an existing history event (so that they\nrequire a separate undo command to undo).\n*/\nfunction closeHistory(tr) {\n    return tr.setMeta(closeHistoryKey, true);\n}\nconst historyKey = new PluginKey(\"history\");\nconst closeHistoryKey = new PluginKey(\"closeHistory\");\n/**\nReturns a plugin that enables the undo history for an editor. The\nplugin will track undo and redo stacks, which can be used with the\n[`undo`](https://prosemirror.net/docs/ref/#history.undo) and [`redo`](https://prosemirror.net/docs/ref/#history.redo) commands.\n\nYou can set an `\"addToHistory\"` [metadata\nproperty](https://prosemirror.net/docs/ref/#state.Transaction.setMeta) of `false` on a transaction\nto prevent it from being rolled back by undo.\n*/\nfunction history(config = {}) {\n    config = { depth: config.depth || 100,\n        newGroupDelay: config.newGroupDelay || 500 };\n    return new Plugin({\n        key: historyKey,\n        state: {\n            init() {\n                return new HistoryState(Branch.empty, Branch.empty, null, 0, -1);\n            },\n            apply(tr, hist, state) {\n                return applyTransaction(hist, state, tr, config);\n            }\n        },\n        config,\n        props: {\n            handleDOMEvents: {\n                beforeinput(view, e) {\n                    let inputType = e.inputType;\n                    let command = inputType == \"historyUndo\" ? undo : inputType == \"historyRedo\" ? redo : null;\n                    if (!command || !view.editable)\n                        return false;\n                    e.preventDefault();\n                    return command(view.state, view.dispatch);\n                }\n            }\n        }\n    });\n}\nfunction buildCommand(redo, scroll) {\n    return (state, dispatch) => {\n        let hist = historyKey.getState(state);\n        if (!hist || (redo ? hist.undone : hist.done).eventCount == 0)\n            return false;\n        if (dispatch) {\n            let tr = histTransaction(hist, state, redo);\n            if (tr)\n                dispatch(scroll ? tr.scrollIntoView() : tr);\n        }\n        return true;\n    };\n}\n/**\nA command function that undoes the last change, if any.\n*/\nconst undo = buildCommand(false, true);\n/**\nA command function that redoes the last undone change, if any.\n*/\nconst redo = buildCommand(true, true);\n/**\nA command function that undoes the last change. Don't scroll the\nselection into view.\n*/\nconst undoNoScroll = buildCommand(false, false);\n/**\nA command function that redoes the last undone change. Don't\nscroll the selection into view.\n*/\nconst redoNoScroll = buildCommand(true, false);\n/**\nThe amount of undoable events available in a given state.\n*/\nfunction undoDepth(state) {\n    let hist = historyKey.getState(state);\n    return hist ? hist.done.eventCount : 0;\n}\n/**\nThe amount of redoable events available in a given editor state.\n*/\nfunction redoDepth(state) {\n    let hist = historyKey.getState(state);\n    return hist ? hist.undone.eventCount : 0;\n}\n/**\nReturns true if the given transaction was generated by the history\nplugin.\n*/\nfunction isHistoryTransaction(tr) {\n    return tr.getMeta(historyKey) != null;\n}\n\nexport { closeHistory, history, isHistoryTransaction, redo, redoDepth, redoNoScroll, undo, undoDepth, undoNoScroll };\n","// src/slot.tsx\nimport * as React from \"react\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { Fragment as Fragment2, jsx } from \"react/jsx-runtime\";\n// @__NO_SIDE_EFFECTS__\nfunction createSlot(ownerName) {\n  const SlotClone = /* @__PURE__ */ createSlotClone(ownerName);\n  const Slot2 = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n    if (slottable) {\n      const newElement = slottable.props.children;\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement) ? newElement.props.children : null;\n        } else {\n          return child;\n        }\n      });\n      return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children: React.isValidElement(newElement) ? React.cloneElement(newElement, void 0, newChildren) : null });\n    }\n    return /* @__PURE__ */ jsx(SlotClone, { ...slotProps, ref: forwardedRef, children });\n  });\n  Slot2.displayName = `${ownerName}.Slot`;\n  return Slot2;\n}\nvar Slot = /* @__PURE__ */ createSlot(\"Slot\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlotClone(ownerName) {\n  const SlotClone = React.forwardRef((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props2 = mergeProps(slotProps, children.props);\n      if (children.type !== React.Fragment) {\n        props2.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props2);\n    }\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\nvar SLOTTABLE_IDENTIFIER = Symbol(\"radix.slottable\");\n// @__NO_SIDE_EFFECTS__\nfunction createSlottable(ownerName) {\n  const Slottable2 = ({ children }) => {\n    return /* @__PURE__ */ jsx(Fragment2, { children });\n  };\n  Slottable2.displayName = `${ownerName}.Slottable`;\n  Slottable2.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable2;\n}\nvar Slottable = /* @__PURE__ */ createSlottable(\"Slottable\");\nfunction isSlottable(child) {\n  return React.isValidElement(child) && typeof child.type === \"function\" && \"__radixId\" in child.type && child.type.__radixId === SLOTTABLE_IDENTIFIER;\n}\nfunction mergeProps(slotProps, childProps) {\n  const overrideProps = { ...childProps };\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      } else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    } else if (propName === \"style\") {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === \"className\") {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(\" \");\n    }\n  }\n  return { ...slotProps, ...overrideProps };\n}\nfunction getElementRef(element) {\n  let getter = Object.getOwnPropertyDescriptor(element.props, \"ref\")?.get;\n  let mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.ref;\n  }\n  getter = Object.getOwnPropertyDescriptor(element, \"ref\")?.get;\n  mayWarn = getter && \"isReactWarning\" in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return element.props.ref;\n  }\n  return element.props.ref || element.ref;\n}\nexport {\n  Slot as Root,\n  Slot,\n  Slottable,\n  createSlot,\n  createSlottable\n};\n//# sourceMappingURL=index.mjs.map\n","import { liftTarget, replaceStep, ReplaceStep, canJoin, joinPoint, canSplit, ReplaceAroundStep, findWrapping } from 'prosemirror-transform';\nimport { Slice, Fragment } from 'prosemirror-model';\nimport { NodeSelection, Selection, TextSelection, AllSelection, SelectionRange } from 'prosemirror-state';\n\n/**\nDelete the selection, if there is one.\n*/\nconst deleteSelection = (state, dispatch) => {\n    if (state.selection.empty)\n        return false;\n    if (dispatch)\n        dispatch(state.tr.deleteSelection().scrollIntoView());\n    return true;\n};\nfunction atBlockStart(state, view) {\n    let { $cursor } = state.selection;\n    if (!$cursor || (view ? !view.endOfTextblock(\"backward\", state)\n        : $cursor.parentOffset > 0))\n        return null;\n    return $cursor;\n}\n/**\nIf the selection is empty and at the start of a textblock, try to\nreduce the distance between that block and the one before it—if\nthere's a block directly before it that can be joined, join them.\nIf not, try to move the selected block closer to the next one in\nthe document structure by lifting it out of its parent or moving it\ninto a parent of the previous block. Will use the view for accurate\n(bidi-aware) start-of-textblock detection if given.\n*/\nconst joinBackward = (state, dispatch, view) => {\n    let $cursor = atBlockStart(state, view);\n    if (!$cursor)\n        return false;\n    let $cut = findCutBefore($cursor);\n    // If there is no node before this, try to lift\n    if (!$cut) {\n        let range = $cursor.blockRange(), target = range && liftTarget(range);\n        if (target == null)\n            return false;\n        if (dispatch)\n            dispatch(state.tr.lift(range, target).scrollIntoView());\n        return true;\n    }\n    let before = $cut.nodeBefore;\n    // Apply the joining algorithm\n    if (deleteBarrier(state, $cut, dispatch, -1))\n        return true;\n    // If the node below has no content and the node above is\n    // selectable, delete the node below and select the one above.\n    if ($cursor.parent.content.size == 0 &&\n        (textblockAt(before, \"end\") || NodeSelection.isSelectable(before))) {\n        for (let depth = $cursor.depth;; depth--) {\n            let delStep = replaceStep(state.doc, $cursor.before(depth), $cursor.after(depth), Slice.empty);\n            if (delStep && delStep.slice.size < delStep.to - delStep.from) {\n                if (dispatch) {\n                    let tr = state.tr.step(delStep);\n                    tr.setSelection(textblockAt(before, \"end\")\n                        ? Selection.findFrom(tr.doc.resolve(tr.mapping.map($cut.pos, -1)), -1)\n                        : NodeSelection.create(tr.doc, $cut.pos - before.nodeSize));\n                    dispatch(tr.scrollIntoView());\n                }\n                return true;\n            }\n            if (depth == 1 || $cursor.node(depth - 1).childCount > 1)\n                break;\n        }\n    }\n    // If the node before is an atom, delete it\n    if (before.isAtom && $cut.depth == $cursor.depth - 1) {\n        if (dispatch)\n            dispatch(state.tr.delete($cut.pos - before.nodeSize, $cut.pos).scrollIntoView());\n        return true;\n    }\n    return false;\n};\n/**\nA more limited form of [`joinBackward`](https://prosemirror.net/docs/ref/#commands.joinBackward)\nthat only tries to join the current textblock to the one before\nit, if the cursor is at the start of a textblock.\n*/\nconst joinTextblockBackward = (state, dispatch, view) => {\n    let $cursor = atBlockStart(state, view);\n    if (!$cursor)\n        return false;\n    let $cut = findCutBefore($cursor);\n    return $cut ? joinTextblocksAround(state, $cut, dispatch) : false;\n};\n/**\nA more limited form of [`joinForward`](https://prosemirror.net/docs/ref/#commands.joinForward)\nthat only tries to join the current textblock to the one after\nit, if the cursor is at the end of a textblock.\n*/\nconst joinTextblockForward = (state, dispatch, view) => {\n    let $cursor = atBlockEnd(state, view);\n    if (!$cursor)\n        return false;\n    let $cut = findCutAfter($cursor);\n    return $cut ? joinTextblocksAround(state, $cut, dispatch) : false;\n};\nfunction joinTextblocksAround(state, $cut, dispatch) {\n    let before = $cut.nodeBefore, beforeText = before, beforePos = $cut.pos - 1;\n    for (; !beforeText.isTextblock; beforePos--) {\n        if (beforeText.type.spec.isolating)\n            return false;\n        let child = beforeText.lastChild;\n        if (!child)\n            return false;\n        beforeText = child;\n    }\n    let after = $cut.nodeAfter, afterText = after, afterPos = $cut.pos + 1;\n    for (; !afterText.isTextblock; afterPos++) {\n        if (afterText.type.spec.isolating)\n            return false;\n        let child = afterText.firstChild;\n        if (!child)\n            return false;\n        afterText = child;\n    }\n    let step = replaceStep(state.doc, beforePos, afterPos, Slice.empty);\n    if (!step || step.from != beforePos ||\n        step instanceof ReplaceStep && step.slice.size >= afterPos - beforePos)\n        return false;\n    if (dispatch) {\n        let tr = state.tr.step(step);\n        tr.setSelection(TextSelection.create(tr.doc, beforePos));\n        dispatch(tr.scrollIntoView());\n    }\n    return true;\n}\nfunction textblockAt(node, side, only = false) {\n    for (let scan = node; scan; scan = (side == \"start\" ? scan.firstChild : scan.lastChild)) {\n        if (scan.isTextblock)\n            return true;\n        if (only && scan.childCount != 1)\n            return false;\n    }\n    return false;\n}\n/**\nWhen the selection is empty and at the start of a textblock, select\nthe node before that textblock, if possible. This is intended to be\nbound to keys like backspace, after\n[`joinBackward`](https://prosemirror.net/docs/ref/#commands.joinBackward) or other deleting\ncommands, as a fall-back behavior when the schema doesn't allow\ndeletion at the selected point.\n*/\nconst selectNodeBackward = (state, dispatch, view) => {\n    let { $head, empty } = state.selection, $cut = $head;\n    if (!empty)\n        return false;\n    if ($head.parent.isTextblock) {\n        if (view ? !view.endOfTextblock(\"backward\", state) : $head.parentOffset > 0)\n            return false;\n        $cut = findCutBefore($head);\n    }\n    let node = $cut && $cut.nodeBefore;\n    if (!node || !NodeSelection.isSelectable(node))\n        return false;\n    if (dispatch)\n        dispatch(state.tr.setSelection(NodeSelection.create(state.doc, $cut.pos - node.nodeSize)).scrollIntoView());\n    return true;\n};\nfunction findCutBefore($pos) {\n    if (!$pos.parent.type.spec.isolating)\n        for (let i = $pos.depth - 1; i >= 0; i--) {\n            if ($pos.index(i) > 0)\n                return $pos.doc.resolve($pos.before(i + 1));\n            if ($pos.node(i).type.spec.isolating)\n                break;\n        }\n    return null;\n}\nfunction atBlockEnd(state, view) {\n    let { $cursor } = state.selection;\n    if (!$cursor || (view ? !view.endOfTextblock(\"forward\", state)\n        : $cursor.parentOffset < $cursor.parent.content.size))\n        return null;\n    return $cursor;\n}\n/**\nIf the selection is empty and the cursor is at the end of a\ntextblock, try to reduce or remove the boundary between that block\nand the one after it, either by joining them or by moving the other\nblock closer to this one in the tree structure. Will use the view\nfor accurate start-of-textblock detection if given.\n*/\nconst joinForward = (state, dispatch, view) => {\n    let $cursor = atBlockEnd(state, view);\n    if (!$cursor)\n        return false;\n    let $cut = findCutAfter($cursor);\n    // If there is no node after this, there's nothing to do\n    if (!$cut)\n        return false;\n    let after = $cut.nodeAfter;\n    // Try the joining algorithm\n    if (deleteBarrier(state, $cut, dispatch, 1))\n        return true;\n    // If the node above has no content and the node below is\n    // selectable, delete the node above and select the one below.\n    if ($cursor.parent.content.size == 0 &&\n        (textblockAt(after, \"start\") || NodeSelection.isSelectable(after))) {\n        let delStep = replaceStep(state.doc, $cursor.before(), $cursor.after(), Slice.empty);\n        if (delStep && delStep.slice.size < delStep.to - delStep.from) {\n            if (dispatch) {\n                let tr = state.tr.step(delStep);\n                tr.setSelection(textblockAt(after, \"start\") ? Selection.findFrom(tr.doc.resolve(tr.mapping.map($cut.pos)), 1)\n                    : NodeSelection.create(tr.doc, tr.mapping.map($cut.pos)));\n                dispatch(tr.scrollIntoView());\n            }\n            return true;\n        }\n    }\n    // If the next node is an atom, delete it\n    if (after.isAtom && $cut.depth == $cursor.depth - 1) {\n        if (dispatch)\n            dispatch(state.tr.delete($cut.pos, $cut.pos + after.nodeSize).scrollIntoView());\n        return true;\n    }\n    return false;\n};\n/**\nWhen the selection is empty and at the end of a textblock, select\nthe node coming after that textblock, if possible. This is intended\nto be bound to keys like delete, after\n[`joinForward`](https://prosemirror.net/docs/ref/#commands.joinForward) and similar deleting\ncommands, to provide a fall-back behavior when the schema doesn't\nallow deletion at the selected point.\n*/\nconst selectNodeForward = (state, dispatch, view) => {\n    let { $head, empty } = state.selection, $cut = $head;\n    if (!empty)\n        return false;\n    if ($head.parent.isTextblock) {\n        if (view ? !view.endOfTextblock(\"forward\", state) : $head.parentOffset < $head.parent.content.size)\n            return false;\n        $cut = findCutAfter($head);\n    }\n    let node = $cut && $cut.nodeAfter;\n    if (!node || !NodeSelection.isSelectable(node))\n        return false;\n    if (dispatch)\n        dispatch(state.tr.setSelection(NodeSelection.create(state.doc, $cut.pos)).scrollIntoView());\n    return true;\n};\nfunction findCutAfter($pos) {\n    if (!$pos.parent.type.spec.isolating)\n        for (let i = $pos.depth - 1; i >= 0; i--) {\n            let parent = $pos.node(i);\n            if ($pos.index(i) + 1 < parent.childCount)\n                return $pos.doc.resolve($pos.after(i + 1));\n            if (parent.type.spec.isolating)\n                break;\n        }\n    return null;\n}\n/**\nJoin the selected block or, if there is a text selection, the\nclosest ancestor block of the selection that can be joined, with\nthe sibling above it.\n*/\nconst joinUp = (state, dispatch) => {\n    let sel = state.selection, nodeSel = sel instanceof NodeSelection, point;\n    if (nodeSel) {\n        if (sel.node.isTextblock || !canJoin(state.doc, sel.from))\n            return false;\n        point = sel.from;\n    }\n    else {\n        point = joinPoint(state.doc, sel.from, -1);\n        if (point == null)\n            return false;\n    }\n    if (dispatch) {\n        let tr = state.tr.join(point);\n        if (nodeSel)\n            tr.setSelection(NodeSelection.create(tr.doc, point - state.doc.resolve(point).nodeBefore.nodeSize));\n        dispatch(tr.scrollIntoView());\n    }\n    return true;\n};\n/**\nJoin the selected block, or the closest ancestor of the selection\nthat can be joined, with the sibling after it.\n*/\nconst joinDown = (state, dispatch) => {\n    let sel = state.selection, point;\n    if (sel instanceof NodeSelection) {\n        if (sel.node.isTextblock || !canJoin(state.doc, sel.to))\n            return false;\n        point = sel.to;\n    }\n    else {\n        point = joinPoint(state.doc, sel.to, 1);\n        if (point == null)\n            return false;\n    }\n    if (dispatch)\n        dispatch(state.tr.join(point).scrollIntoView());\n    return true;\n};\n/**\nLift the selected block, or the closest ancestor block of the\nselection that can be lifted, out of its parent node.\n*/\nconst lift = (state, dispatch) => {\n    let { $from, $to } = state.selection;\n    let range = $from.blockRange($to), target = range && liftTarget(range);\n    if (target == null)\n        return false;\n    if (dispatch)\n        dispatch(state.tr.lift(range, target).scrollIntoView());\n    return true;\n};\n/**\nIf the selection is in a node whose type has a truthy\n[`code`](https://prosemirror.net/docs/ref/#model.NodeSpec.code) property in its spec, replace the\nselection with a newline character.\n*/\nconst newlineInCode = (state, dispatch) => {\n    let { $head, $anchor } = state.selection;\n    if (!$head.parent.type.spec.code || !$head.sameParent($anchor))\n        return false;\n    if (dispatch)\n        dispatch(state.tr.insertText(\"\\n\").scrollIntoView());\n    return true;\n};\nfunction defaultBlockAt(match) {\n    for (let i = 0; i < match.edgeCount; i++) {\n        let { type } = match.edge(i);\n        if (type.isTextblock && !type.hasRequiredAttrs())\n            return type;\n    }\n    return null;\n}\n/**\nWhen the selection is in a node with a truthy\n[`code`](https://prosemirror.net/docs/ref/#model.NodeSpec.code) property in its spec, create a\ndefault block after the code block, and move the cursor there.\n*/\nconst exitCode = (state, dispatch) => {\n    let { $head, $anchor } = state.selection;\n    if (!$head.parent.type.spec.code || !$head.sameParent($anchor))\n        return false;\n    let above = $head.node(-1), after = $head.indexAfter(-1), type = defaultBlockAt(above.contentMatchAt(after));\n    if (!type || !above.canReplaceWith(after, after, type))\n        return false;\n    if (dispatch) {\n        let pos = $head.after(), tr = state.tr.replaceWith(pos, pos, type.createAndFill());\n        tr.setSelection(Selection.near(tr.doc.resolve(pos), 1));\n        dispatch(tr.scrollIntoView());\n    }\n    return true;\n};\n/**\nIf a block node is selected, create an empty paragraph before (if\nit is its parent's first child) or after it.\n*/\nconst createParagraphNear = (state, dispatch) => {\n    let sel = state.selection, { $from, $to } = sel;\n    if (sel instanceof AllSelection || $from.parent.inlineContent || $to.parent.inlineContent)\n        return false;\n    let type = defaultBlockAt($to.parent.contentMatchAt($to.indexAfter()));\n    if (!type || !type.isTextblock)\n        return false;\n    if (dispatch) {\n        let side = (!$from.parentOffset && $to.index() < $to.parent.childCount ? $from : $to).pos;\n        let tr = state.tr.insert(side, type.createAndFill());\n        tr.setSelection(TextSelection.create(tr.doc, side + 1));\n        dispatch(tr.scrollIntoView());\n    }\n    return true;\n};\n/**\nIf the cursor is in an empty textblock that can be lifted, lift the\nblock.\n*/\nconst liftEmptyBlock = (state, dispatch) => {\n    let { $cursor } = state.selection;\n    if (!$cursor || $cursor.parent.content.size)\n        return false;\n    if ($cursor.depth > 1 && $cursor.after() != $cursor.end(-1)) {\n        let before = $cursor.before();\n        if (canSplit(state.doc, before)) {\n            if (dispatch)\n                dispatch(state.tr.split(before).scrollIntoView());\n            return true;\n        }\n    }\n    let range = $cursor.blockRange(), target = range && liftTarget(range);\n    if (target == null)\n        return false;\n    if (dispatch)\n        dispatch(state.tr.lift(range, target).scrollIntoView());\n    return true;\n};\n/**\nCreate a variant of [`splitBlock`](https://prosemirror.net/docs/ref/#commands.splitBlock) that uses\na custom function to determine the type of the newly split off block.\n*/\nfunction splitBlockAs(splitNode) {\n    return (state, dispatch) => {\n        let { $from, $to } = state.selection;\n        if (state.selection instanceof NodeSelection && state.selection.node.isBlock) {\n            if (!$from.parentOffset || !canSplit(state.doc, $from.pos))\n                return false;\n            if (dispatch)\n                dispatch(state.tr.split($from.pos).scrollIntoView());\n            return true;\n        }\n        if (!$from.depth)\n            return false;\n        let types = [];\n        let splitDepth, deflt, atEnd = false, atStart = false;\n        for (let d = $from.depth;; d--) {\n            let node = $from.node(d);\n            if (node.isBlock) {\n                atEnd = $from.end(d) == $from.pos + ($from.depth - d);\n                atStart = $from.start(d) == $from.pos - ($from.depth - d);\n                deflt = defaultBlockAt($from.node(d - 1).contentMatchAt($from.indexAfter(d - 1)));\n                let splitType = splitNode && splitNode($to.parent, atEnd, $from);\n                types.unshift(splitType || (atEnd && deflt ? { type: deflt } : null));\n                splitDepth = d;\n                break;\n            }\n            else {\n                if (d == 1)\n                    return false;\n                types.unshift(null);\n            }\n        }\n        let tr = state.tr;\n        if (state.selection instanceof TextSelection || state.selection instanceof AllSelection)\n            tr.deleteSelection();\n        let splitPos = tr.mapping.map($from.pos);\n        let can = canSplit(tr.doc, splitPos, types.length, types);\n        if (!can) {\n            types[0] = deflt ? { type: deflt } : null;\n            can = canSplit(tr.doc, splitPos, types.length, types);\n        }\n        if (!can)\n            return false;\n        tr.split(splitPos, types.length, types);\n        if (!atEnd && atStart && $from.node(splitDepth).type != deflt) {\n            let first = tr.mapping.map($from.before(splitDepth)), $first = tr.doc.resolve(first);\n            if (deflt && $from.node(splitDepth - 1).canReplaceWith($first.index(), $first.index() + 1, deflt))\n                tr.setNodeMarkup(tr.mapping.map($from.before(splitDepth)), deflt);\n        }\n        if (dispatch)\n            dispatch(tr.scrollIntoView());\n        return true;\n    };\n}\n/**\nSplit the parent block of the selection. If the selection is a text\nselection, also delete its content.\n*/\nconst splitBlock = splitBlockAs();\n/**\nActs like [`splitBlock`](https://prosemirror.net/docs/ref/#commands.splitBlock), but without\nresetting the set of active marks at the cursor.\n*/\nconst splitBlockKeepMarks = (state, dispatch) => {\n    return splitBlock(state, dispatch && (tr => {\n        let marks = state.storedMarks || (state.selection.$to.parentOffset && state.selection.$from.marks());\n        if (marks)\n            tr.ensureMarks(marks);\n        dispatch(tr);\n    }));\n};\n/**\nMove the selection to the node wrapping the current selection, if\nany. (Will not select the document node.)\n*/\nconst selectParentNode = (state, dispatch) => {\n    let { $from, to } = state.selection, pos;\n    let same = $from.sharedDepth(to);\n    if (same == 0)\n        return false;\n    pos = $from.before(same);\n    if (dispatch)\n        dispatch(state.tr.setSelection(NodeSelection.create(state.doc, pos)));\n    return true;\n};\n/**\nSelect the whole document.\n*/\nconst selectAll = (state, dispatch) => {\n    if (dispatch)\n        dispatch(state.tr.setSelection(new AllSelection(state.doc)));\n    return true;\n};\nfunction joinMaybeClear(state, $pos, dispatch) {\n    let before = $pos.nodeBefore, after = $pos.nodeAfter, index = $pos.index();\n    if (!before || !after || !before.type.compatibleContent(after.type))\n        return false;\n    if (!before.content.size && $pos.parent.canReplace(index - 1, index)) {\n        if (dispatch)\n            dispatch(state.tr.delete($pos.pos - before.nodeSize, $pos.pos).scrollIntoView());\n        return true;\n    }\n    if (!$pos.parent.canReplace(index, index + 1) || !(after.isTextblock || canJoin(state.doc, $pos.pos)))\n        return false;\n    if (dispatch)\n        dispatch(state.tr.join($pos.pos).scrollIntoView());\n    return true;\n}\nfunction deleteBarrier(state, $cut, dispatch, dir) {\n    let before = $cut.nodeBefore, after = $cut.nodeAfter, conn, match;\n    let isolated = before.type.spec.isolating || after.type.spec.isolating;\n    if (!isolated && joinMaybeClear(state, $cut, dispatch))\n        return true;\n    let canDelAfter = !isolated && $cut.parent.canReplace($cut.index(), $cut.index() + 1);\n    if (canDelAfter &&\n        (conn = (match = before.contentMatchAt(before.childCount)).findWrapping(after.type)) &&\n        match.matchType(conn[0] || after.type).validEnd) {\n        if (dispatch) {\n            let end = $cut.pos + after.nodeSize, wrap = Fragment.empty;\n            for (let i = conn.length - 1; i >= 0; i--)\n                wrap = Fragment.from(conn[i].create(null, wrap));\n            wrap = Fragment.from(before.copy(wrap));\n            let tr = state.tr.step(new ReplaceAroundStep($cut.pos - 1, end, $cut.pos, end, new Slice(wrap, 1, 0), conn.length, true));\n            let $joinAt = tr.doc.resolve(end + 2 * conn.length);\n            if ($joinAt.nodeAfter && $joinAt.nodeAfter.type == before.type &&\n                canJoin(tr.doc, $joinAt.pos))\n                tr.join($joinAt.pos);\n            dispatch(tr.scrollIntoView());\n        }\n        return true;\n    }\n    let selAfter = after.type.spec.isolating || (dir > 0 && isolated) ? null : Selection.findFrom($cut, 1);\n    let range = selAfter && selAfter.$from.blockRange(selAfter.$to), target = range && liftTarget(range);\n    if (target != null && target >= $cut.depth) {\n        if (dispatch)\n            dispatch(state.tr.lift(range, target).scrollIntoView());\n        return true;\n    }\n    if (canDelAfter && textblockAt(after, \"start\", true) && textblockAt(before, \"end\")) {\n        let at = before, wrap = [];\n        for (;;) {\n            wrap.push(at);\n            if (at.isTextblock)\n                break;\n            at = at.lastChild;\n        }\n        let afterText = after, afterDepth = 1;\n        for (; !afterText.isTextblock; afterText = afterText.firstChild)\n            afterDepth++;\n        if (at.canReplace(at.childCount, at.childCount, afterText.content)) {\n            if (dispatch) {\n                let end = Fragment.empty;\n                for (let i = wrap.length - 1; i >= 0; i--)\n                    end = Fragment.from(wrap[i].copy(end));\n                let tr = state.tr.step(new ReplaceAroundStep($cut.pos - wrap.length, $cut.pos + after.nodeSize, $cut.pos + afterDepth, $cut.pos + after.nodeSize - afterDepth, new Slice(end, wrap.length, 0), 0, true));\n                dispatch(tr.scrollIntoView());\n            }\n            return true;\n        }\n    }\n    return false;\n}\nfunction selectTextblockSide(side) {\n    return function (state, dispatch) {\n        let sel = state.selection, $pos = side < 0 ? sel.$from : sel.$to;\n        let depth = $pos.depth;\n        while ($pos.node(depth).isInline) {\n            if (!depth)\n                return false;\n            depth--;\n        }\n        if (!$pos.node(depth).isTextblock)\n            return false;\n        if (dispatch)\n            dispatch(state.tr.setSelection(TextSelection.create(state.doc, side < 0 ? $pos.start(depth) : $pos.end(depth))));\n        return true;\n    };\n}\n/**\nMoves the cursor to the start of current text block.\n*/\nconst selectTextblockStart = selectTextblockSide(-1);\n/**\nMoves the cursor to the end of current text block.\n*/\nconst selectTextblockEnd = selectTextblockSide(1);\n// Parameterized commands\n/**\nWrap the selection in a node of the given type with the given\nattributes.\n*/\nfunction wrapIn(nodeType, attrs = null) {\n    return function (state, dispatch) {\n        let { $from, $to } = state.selection;\n        let range = $from.blockRange($to), wrapping = range && findWrapping(range, nodeType, attrs);\n        if (!wrapping)\n            return false;\n        if (dispatch)\n            dispatch(state.tr.wrap(range, wrapping).scrollIntoView());\n        return true;\n    };\n}\n/**\nReturns a command that tries to set the selected textblocks to the\ngiven node type with the given attributes.\n*/\nfunction setBlockType(nodeType, attrs = null) {\n    return function (state, dispatch) {\n        let applicable = false;\n        for (let i = 0; i < state.selection.ranges.length && !applicable; i++) {\n            let { $from: { pos: from }, $to: { pos: to } } = state.selection.ranges[i];\n            state.doc.nodesBetween(from, to, (node, pos) => {\n                if (applicable)\n                    return false;\n                if (!node.isTextblock || node.hasMarkup(nodeType, attrs))\n                    return;\n                if (node.type == nodeType) {\n                    applicable = true;\n                }\n                else {\n                    let $pos = state.doc.resolve(pos), index = $pos.index();\n                    applicable = $pos.parent.canReplaceWith(index, index + 1, nodeType);\n                }\n            });\n        }\n        if (!applicable)\n            return false;\n        if (dispatch) {\n            let tr = state.tr;\n            for (let i = 0; i < state.selection.ranges.length; i++) {\n                let { $from: { pos: from }, $to: { pos: to } } = state.selection.ranges[i];\n                tr.setBlockType(from, to, nodeType, attrs);\n            }\n            dispatch(tr.scrollIntoView());\n        }\n        return true;\n    };\n}\nfunction markApplies(doc, ranges, type, enterAtoms) {\n    for (let i = 0; i < ranges.length; i++) {\n        let { $from, $to } = ranges[i];\n        let can = $from.depth == 0 ? doc.inlineContent && doc.type.allowsMarkType(type) : false;\n        doc.nodesBetween($from.pos, $to.pos, (node, pos) => {\n            if (can || !enterAtoms && node.isAtom && node.isInline && pos >= $from.pos && pos + node.nodeSize <= $to.pos)\n                return false;\n            can = node.inlineContent && node.type.allowsMarkType(type);\n        });\n        if (can)\n            return true;\n    }\n    return false;\n}\nfunction removeInlineAtoms(ranges) {\n    let result = [];\n    for (let i = 0; i < ranges.length; i++) {\n        let { $from, $to } = ranges[i];\n        $from.doc.nodesBetween($from.pos, $to.pos, (node, pos) => {\n            if (node.isAtom && node.content.size && node.isInline && pos >= $from.pos && pos + node.nodeSize <= $to.pos) {\n                if (pos + 1 > $from.pos)\n                    result.push(new SelectionRange($from, $from.doc.resolve(pos + 1)));\n                $from = $from.doc.resolve(pos + 1 + node.content.size);\n                return false;\n            }\n        });\n        if ($from.pos < $to.pos)\n            result.push(new SelectionRange($from, $to));\n    }\n    return result;\n}\n/**\nCreate a command function that toggles the given mark with the\ngiven attributes. Will return `false` when the current selection\ndoesn't support that mark. This will remove the mark if any marks\nof that type exist in the selection, or add it otherwise. If the\nselection is empty, this applies to the [stored\nmarks](https://prosemirror.net/docs/ref/#state.EditorState.storedMarks) instead of a range of the\ndocument.\n*/\nfunction toggleMark(markType, attrs = null, options) {\n    let removeWhenPresent = (options && options.removeWhenPresent) !== false;\n    let enterAtoms = (options && options.enterInlineAtoms) !== false;\n    let dropSpace = !(options && options.includeWhitespace);\n    return function (state, dispatch) {\n        let { empty, $cursor, ranges } = state.selection;\n        if ((empty && !$cursor) || !markApplies(state.doc, ranges, markType, enterAtoms))\n            return false;\n        if (dispatch) {\n            if ($cursor) {\n                if (markType.isInSet(state.storedMarks || $cursor.marks()))\n                    dispatch(state.tr.removeStoredMark(markType));\n                else\n                    dispatch(state.tr.addStoredMark(markType.create(attrs)));\n            }\n            else {\n                let add, tr = state.tr;\n                if (!enterAtoms)\n                    ranges = removeInlineAtoms(ranges);\n                if (removeWhenPresent) {\n                    add = !ranges.some(r => state.doc.rangeHasMark(r.$from.pos, r.$to.pos, markType));\n                }\n                else {\n                    add = !ranges.every(r => {\n                        let missing = false;\n                        tr.doc.nodesBetween(r.$from.pos, r.$to.pos, (node, pos, parent) => {\n                            if (missing)\n                                return false;\n                            missing = !markType.isInSet(node.marks) && !!parent && parent.type.allowsMarkType(markType) &&\n                                !(node.isText && /^\\s*$/.test(node.textBetween(Math.max(0, r.$from.pos - pos), Math.min(node.nodeSize, r.$to.pos - pos))));\n                        });\n                        return !missing;\n                    });\n                }\n                for (let i = 0; i < ranges.length; i++) {\n                    let { $from, $to } = ranges[i];\n                    if (!add) {\n                        tr.removeMark($from.pos, $to.pos, markType);\n                    }\n                    else {\n                        let from = $from.pos, to = $to.pos, start = $from.nodeAfter, end = $to.nodeBefore;\n                        let spaceStart = dropSpace && start && start.isText ? /^\\s*/.exec(start.text)[0].length : 0;\n                        let spaceEnd = dropSpace && end && end.isText ? /\\s*$/.exec(end.text)[0].length : 0;\n                        if (from + spaceStart < to) {\n                            from += spaceStart;\n                            to -= spaceEnd;\n                        }\n                        tr.addMark(from, to, markType.create(attrs));\n                    }\n                }\n                dispatch(tr.scrollIntoView());\n            }\n        }\n        return true;\n    };\n}\nfunction wrapDispatchForJoin(dispatch, isJoinable) {\n    return (tr) => {\n        if (!tr.isGeneric)\n            return dispatch(tr);\n        let ranges = [];\n        for (let i = 0; i < tr.mapping.maps.length; i++) {\n            let map = tr.mapping.maps[i];\n            for (let j = 0; j < ranges.length; j++)\n                ranges[j] = map.map(ranges[j]);\n            map.forEach((_s, _e, from, to) => ranges.push(from, to));\n        }\n        // Figure out which joinable points exist inside those ranges,\n        // by checking all node boundaries in their parent nodes.\n        let joinable = [];\n        for (let i = 0; i < ranges.length; i += 2) {\n            let from = ranges[i], to = ranges[i + 1];\n            let $from = tr.doc.resolve(from), depth = $from.sharedDepth(to), parent = $from.node(depth);\n            for (let index = $from.indexAfter(depth), pos = $from.after(depth + 1); pos <= to; ++index) {\n                let after = parent.maybeChild(index);\n                if (!after)\n                    break;\n                if (index && joinable.indexOf(pos) == -1) {\n                    let before = parent.child(index - 1);\n                    if (before.type == after.type && isJoinable(before, after))\n                        joinable.push(pos);\n                }\n                pos += after.nodeSize;\n            }\n        }\n        // Join the joinable points\n        joinable.sort((a, b) => a - b);\n        for (let i = joinable.length - 1; i >= 0; i--) {\n            if (canJoin(tr.doc, joinable[i]))\n                tr.join(joinable[i]);\n        }\n        dispatch(tr);\n    };\n}\n/**\nWrap a command so that, when it produces a transform that causes\ntwo joinable nodes to end up next to each other, those are joined.\nNodes are considered joinable when they are of the same type and\nwhen the `isJoinable` predicate returns true for them or, if an\narray of strings was passed, if their node type name is in that\narray.\n*/\nfunction autoJoin(command, isJoinable) {\n    let canJoin = Array.isArray(isJoinable) ? (node) => isJoinable.indexOf(node.type.name) > -1\n        : isJoinable;\n    return (state, dispatch, view) => command(state, dispatch && wrapDispatchForJoin(dispatch, canJoin), view);\n}\n/**\nCombine a number of command functions into a single function (which\ncalls them one by one until one returns true).\n*/\nfunction chainCommands(...commands) {\n    return function (state, dispatch, view) {\n        for (let i = 0; i < commands.length; i++)\n            if (commands[i](state, dispatch, view))\n                return true;\n        return false;\n    };\n}\nlet backspace = chainCommands(deleteSelection, joinBackward, selectNodeBackward);\nlet del = chainCommands(deleteSelection, joinForward, selectNodeForward);\n/**\nA basic keymap containing bindings not specific to any schema.\nBinds the following keys (when multiple commands are listed, they\nare chained with [`chainCommands`](https://prosemirror.net/docs/ref/#commands.chainCommands)):\n\n* **Enter** to `newlineInCode`, `createParagraphNear`, `liftEmptyBlock`, `splitBlock`\n* **Mod-Enter** to `exitCode`\n* **Backspace** and **Mod-Backspace** to `deleteSelection`, `joinBackward`, `selectNodeBackward`\n* **Delete** and **Mod-Delete** to `deleteSelection`, `joinForward`, `selectNodeForward`\n* **Mod-Delete** to `deleteSelection`, `joinForward`, `selectNodeForward`\n* **Mod-a** to `selectAll`\n*/\nconst pcBaseKeymap = {\n    \"Enter\": chainCommands(newlineInCode, createParagraphNear, liftEmptyBlock, splitBlock),\n    \"Mod-Enter\": exitCode,\n    \"Backspace\": backspace,\n    \"Mod-Backspace\": backspace,\n    \"Shift-Backspace\": backspace,\n    \"Delete\": del,\n    \"Mod-Delete\": del,\n    \"Mod-a\": selectAll\n};\n/**\nA copy of `pcBaseKeymap` that also binds **Ctrl-h** like Backspace,\n**Ctrl-d** like Delete, **Alt-Backspace** like Ctrl-Backspace, and\n**Ctrl-Alt-Backspace**, **Alt-Delete**, and **Alt-d** like\nCtrl-Delete.\n*/\nconst macBaseKeymap = {\n    \"Ctrl-h\": pcBaseKeymap[\"Backspace\"],\n    \"Alt-Backspace\": pcBaseKeymap[\"Mod-Backspace\"],\n    \"Ctrl-d\": pcBaseKeymap[\"Delete\"],\n    \"Ctrl-Alt-Backspace\": pcBaseKeymap[\"Mod-Delete\"],\n    \"Alt-Delete\": pcBaseKeymap[\"Mod-Delete\"],\n    \"Alt-d\": pcBaseKeymap[\"Mod-Delete\"],\n    \"Ctrl-a\": selectTextblockStart,\n    \"Ctrl-e\": selectTextblockEnd\n};\nfor (let key in pcBaseKeymap)\n    macBaseKeymap[key] = pcBaseKeymap[key];\nconst mac = typeof navigator != \"undefined\" ? /Mac|iP(hone|[oa]d)/.test(navigator.platform)\n    // @ts-ignore\n    : typeof os != \"undefined\" && os.platform ? os.platform() == \"darwin\" : false;\n/**\nDepending on the detected platform, this will hold\n[`pcBasekeymap`](https://prosemirror.net/docs/ref/#commands.pcBaseKeymap) or\n[`macBaseKeymap`](https://prosemirror.net/docs/ref/#commands.macBaseKeymap).\n*/\nconst baseKeymap = mac ? macBaseKeymap : pcBaseKeymap;\n\nexport { autoJoin, baseKeymap, chainCommands, createParagraphNear, deleteSelection, exitCode, joinBackward, joinDown, joinForward, joinTextblockBackward, joinTextblockForward, joinUp, lift, liftEmptyBlock, macBaseKeymap, newlineInCode, pcBaseKeymap, selectAll, selectNodeBackward, selectNodeForward, selectParentNode, selectTextblockEnd, selectTextblockStart, setBlockType, splitBlock, splitBlockAs, splitBlockKeepMarks, toggleMark, wrapIn };\n","import { findWrapping, ReplaceAroundStep, canSplit, liftTarget, canJoin } from 'prosemirror-transform';\nimport { NodeRange, Fragment, Slice } from 'prosemirror-model';\nimport { Selection } from 'prosemirror-state';\n\nconst olDOM = [\"ol\", 0], ulDOM = [\"ul\", 0], liDOM = [\"li\", 0];\n/**\nAn ordered list [node spec](https://prosemirror.net/docs/ref/#model.NodeSpec). Has a single\nattribute, `order`, which determines the number at which the list\nstarts counting, and defaults to 1. Represented as an `<ol>`\nelement.\n*/\nconst orderedList = {\n    attrs: { order: { default: 1, validate: \"number\" } },\n    parseDOM: [{ tag: \"ol\", getAttrs(dom) {\n                return { order: dom.hasAttribute(\"start\") ? +dom.getAttribute(\"start\") : 1 };\n            } }],\n    toDOM(node) {\n        return node.attrs.order == 1 ? olDOM : [\"ol\", { start: node.attrs.order }, 0];\n    }\n};\n/**\nA bullet list node spec, represented in the DOM as `<ul>`.\n*/\nconst bulletList = {\n    parseDOM: [{ tag: \"ul\" }],\n    toDOM() { return ulDOM; }\n};\n/**\nA list item (`<li>`) spec.\n*/\nconst listItem = {\n    parseDOM: [{ tag: \"li\" }],\n    toDOM() { return liDOM; },\n    defining: true\n};\nfunction add(obj, props) {\n    let copy = {};\n    for (let prop in obj)\n        copy[prop] = obj[prop];\n    for (let prop in props)\n        copy[prop] = props[prop];\n    return copy;\n}\n/**\nConvenience function for adding list-related node types to a map\nspecifying the nodes for a schema. Adds\n[`orderedList`](https://prosemirror.net/docs/ref/#schema-list.orderedList) as `\"ordered_list\"`,\n[`bulletList`](https://prosemirror.net/docs/ref/#schema-list.bulletList) as `\"bullet_list\"`, and\n[`listItem`](https://prosemirror.net/docs/ref/#schema-list.listItem) as `\"list_item\"`.\n\n`itemContent` determines the content expression for the list items.\nIf you want the commands defined in this module to apply to your\nlist structure, it should have a shape like `\"paragraph block*\"` or\n`\"paragraph (ordered_list | bullet_list)*\"`. `listGroup` can be\ngiven to assign a group name to the list node types, for example\n`\"block\"`.\n*/\nfunction addListNodes(nodes, itemContent, listGroup) {\n    return nodes.append({\n        ordered_list: add(orderedList, { content: \"list_item+\", group: listGroup }),\n        bullet_list: add(bulletList, { content: \"list_item+\", group: listGroup }),\n        list_item: add(listItem, { content: itemContent })\n    });\n}\n/**\nReturns a command function that wraps the selection in a list with\nthe given type an attributes. If `dispatch` is null, only return a\nvalue to indicate whether this is possible, but don't actually\nperform the change.\n*/\nfunction wrapInList(listType, attrs = null) {\n    return function (state, dispatch) {\n        let { $from, $to } = state.selection;\n        let range = $from.blockRange($to);\n        if (!range)\n            return false;\n        let tr = dispatch ? state.tr : null;\n        if (!wrapRangeInList(tr, range, listType, attrs))\n            return false;\n        if (dispatch)\n            dispatch(tr.scrollIntoView());\n        return true;\n    };\n}\n/**\nTry to wrap the given node range in a list of the given type.\nReturn `true` when this is possible, `false` otherwise. When `tr`\nis non-null, the wrapping is added to that transaction. When it is\n`null`, the function only queries whether the wrapping is\npossible.\n*/\nfunction wrapRangeInList(tr, range, listType, attrs = null) {\n    let doJoin = false, outerRange = range, doc = range.$from.doc;\n    // This is at the top of an existing list item\n    if (range.depth >= 2 && range.$from.node(range.depth - 1).type.compatibleContent(listType) && range.startIndex == 0) {\n        // Don't do anything if this is the top of the list\n        if (range.$from.index(range.depth - 1) == 0)\n            return false;\n        let $insert = doc.resolve(range.start - 2);\n        outerRange = new NodeRange($insert, $insert, range.depth);\n        if (range.endIndex < range.parent.childCount)\n            range = new NodeRange(range.$from, doc.resolve(range.$to.end(range.depth)), range.depth);\n        doJoin = true;\n    }\n    let wrap = findWrapping(outerRange, listType, attrs, range);\n    if (!wrap)\n        return false;\n    if (tr)\n        doWrapInList(tr, range, wrap, doJoin, listType);\n    return true;\n}\nfunction doWrapInList(tr, range, wrappers, joinBefore, listType) {\n    let content = Fragment.empty;\n    for (let i = wrappers.length - 1; i >= 0; i--)\n        content = Fragment.from(wrappers[i].type.create(wrappers[i].attrs, content));\n    tr.step(new ReplaceAroundStep(range.start - (joinBefore ? 2 : 0), range.end, range.start, range.end, new Slice(content, 0, 0), wrappers.length, true));\n    let found = 0;\n    for (let i = 0; i < wrappers.length; i++)\n        if (wrappers[i].type == listType)\n            found = i + 1;\n    let splitDepth = wrappers.length - found;\n    let splitPos = range.start + wrappers.length - (joinBefore ? 2 : 0), parent = range.parent;\n    for (let i = range.startIndex, e = range.endIndex, first = true; i < e; i++, first = false) {\n        if (!first && canSplit(tr.doc, splitPos, splitDepth)) {\n            tr.split(splitPos, splitDepth);\n            splitPos += 2 * splitDepth;\n        }\n        splitPos += parent.child(i).nodeSize;\n    }\n    return tr;\n}\n/**\nBuild a command that splits a non-empty textblock at the top level\nof a list item by also splitting that list item.\n*/\nfunction splitListItem(itemType, itemAttrs) {\n    return function (state, dispatch) {\n        let { $from, $to, node } = state.selection;\n        if ((node && node.isBlock) || $from.depth < 2 || !$from.sameParent($to))\n            return false;\n        let grandParent = $from.node(-1);\n        if (grandParent.type != itemType)\n            return false;\n        if ($from.parent.content.size == 0 && $from.node(-1).childCount == $from.indexAfter(-1)) {\n            // In an empty block. If this is a nested list, the wrapping\n            // list item should be split. Otherwise, bail out and let next\n            // command handle lifting.\n            if ($from.depth == 3 || $from.node(-3).type != itemType ||\n                $from.index(-2) != $from.node(-2).childCount - 1)\n                return false;\n            if (dispatch) {\n                let wrap = Fragment.empty;\n                let depthBefore = $from.index(-1) ? 1 : $from.index(-2) ? 2 : 3;\n                // Build a fragment containing empty versions of the structure\n                // from the outer list item to the parent node of the cursor\n                for (let d = $from.depth - depthBefore; d >= $from.depth - 3; d--)\n                    wrap = Fragment.from($from.node(d).copy(wrap));\n                let depthAfter = $from.indexAfter(-1) < $from.node(-2).childCount ? 1\n                    : $from.indexAfter(-2) < $from.node(-3).childCount ? 2 : 3;\n                // Add a second list item with an empty default start node\n                wrap = wrap.append(Fragment.from(itemType.createAndFill()));\n                let start = $from.before($from.depth - (depthBefore - 1));\n                let tr = state.tr.replace(start, $from.after(-depthAfter), new Slice(wrap, 4 - depthBefore, 0));\n                let sel = -1;\n                tr.doc.nodesBetween(start, tr.doc.content.size, (node, pos) => {\n                    if (sel > -1)\n                        return false;\n                    if (node.isTextblock && node.content.size == 0)\n                        sel = pos + 1;\n                });\n                if (sel > -1)\n                    tr.setSelection(Selection.near(tr.doc.resolve(sel)));\n                dispatch(tr.scrollIntoView());\n            }\n            return true;\n        }\n        let nextType = $to.pos == $from.end() ? grandParent.contentMatchAt(0).defaultType : null;\n        let tr = state.tr.delete($from.pos, $to.pos);\n        let types = nextType ? [itemAttrs ? { type: itemType, attrs: itemAttrs } : null, { type: nextType }] : undefined;\n        if (!canSplit(tr.doc, $from.pos, 2, types))\n            return false;\n        if (dispatch)\n            dispatch(tr.split($from.pos, 2, types).scrollIntoView());\n        return true;\n    };\n}\n/**\nActs like [`splitListItem`](https://prosemirror.net/docs/ref/#schema-list.splitListItem), but\nwithout resetting the set of active marks at the cursor.\n*/\nfunction splitListItemKeepMarks(itemType, itemAttrs) {\n    let split = splitListItem(itemType, itemAttrs);\n    return (state, dispatch) => {\n        return split(state, dispatch && (tr => {\n            let marks = state.storedMarks || (state.selection.$to.parentOffset && state.selection.$from.marks());\n            if (marks)\n                tr.ensureMarks(marks);\n            dispatch(tr);\n        }));\n    };\n}\n/**\nCreate a command to lift the list item around the selection up into\na wrapping list.\n*/\nfunction liftListItem(itemType) {\n    return function (state, dispatch) {\n        let { $from, $to } = state.selection;\n        let range = $from.blockRange($to, node => node.childCount > 0 && node.firstChild.type == itemType);\n        if (!range)\n            return false;\n        if (!dispatch)\n            return true;\n        if ($from.node(range.depth - 1).type == itemType) // Inside a parent list\n            return liftToOuterList(state, dispatch, itemType, range);\n        else // Outer list node\n            return liftOutOfList(state, dispatch, range);\n    };\n}\nfunction liftToOuterList(state, dispatch, itemType, range) {\n    let tr = state.tr, end = range.end, endOfList = range.$to.end(range.depth);\n    if (end < endOfList) {\n        // There are siblings after the lifted items, which must become\n        // children of the last item\n        tr.step(new ReplaceAroundStep(end - 1, endOfList, end, endOfList, new Slice(Fragment.from(itemType.create(null, range.parent.copy())), 1, 0), 1, true));\n        range = new NodeRange(tr.doc.resolve(range.$from.pos), tr.doc.resolve(endOfList), range.depth);\n    }\n    const target = liftTarget(range);\n    if (target == null)\n        return false;\n    tr.lift(range, target);\n    let $after = tr.doc.resolve(tr.mapping.map(end, -1) - 1);\n    if (canJoin(tr.doc, $after.pos) && $after.nodeBefore.type == $after.nodeAfter.type)\n        tr.join($after.pos);\n    dispatch(tr.scrollIntoView());\n    return true;\n}\nfunction liftOutOfList(state, dispatch, range) {\n    let tr = state.tr, list = range.parent;\n    // Merge the list items into a single big item\n    for (let pos = range.end, i = range.endIndex - 1, e = range.startIndex; i > e; i--) {\n        pos -= list.child(i).nodeSize;\n        tr.delete(pos - 1, pos + 1);\n    }\n    let $start = tr.doc.resolve(range.start), item = $start.nodeAfter;\n    if (tr.mapping.map(range.end) != range.start + $start.nodeAfter.nodeSize)\n        return false;\n    let atStart = range.startIndex == 0, atEnd = range.endIndex == list.childCount;\n    let parent = $start.node(-1), indexBefore = $start.index(-1);\n    if (!parent.canReplace(indexBefore + (atStart ? 0 : 1), indexBefore + 1, item.content.append(atEnd ? Fragment.empty : Fragment.from(list))))\n        return false;\n    let start = $start.pos, end = start + item.nodeSize;\n    // Strip off the surrounding list. At the sides where we're not at\n    // the end of the list, the existing list is closed. At sides where\n    // this is the end, it is overwritten to its end.\n    tr.step(new ReplaceAroundStep(start - (atStart ? 1 : 0), end + (atEnd ? 1 : 0), start + 1, end - 1, new Slice((atStart ? Fragment.empty : Fragment.from(list.copy(Fragment.empty)))\n        .append(atEnd ? Fragment.empty : Fragment.from(list.copy(Fragment.empty))), atStart ? 0 : 1, atEnd ? 0 : 1), atStart ? 0 : 1));\n    dispatch(tr.scrollIntoView());\n    return true;\n}\n/**\nCreate a command to sink the list item around the selection down\ninto an inner list.\n*/\nfunction sinkListItem(itemType) {\n    return function (state, dispatch) {\n        let { $from, $to } = state.selection;\n        let range = $from.blockRange($to, node => node.childCount > 0 && node.firstChild.type == itemType);\n        if (!range)\n            return false;\n        let startIndex = range.startIndex;\n        if (startIndex == 0)\n            return false;\n        let parent = range.parent, nodeBefore = parent.child(startIndex - 1);\n        if (nodeBefore.type != itemType)\n            return false;\n        if (dispatch) {\n            let nestedBefore = nodeBefore.lastChild && nodeBefore.lastChild.type == parent.type;\n            let inner = Fragment.from(nestedBefore ? itemType.create() : null);\n            let slice = new Slice(Fragment.from(itemType.create(null, Fragment.from(parent.type.create(null, inner)))), nestedBefore ? 3 : 1, 0);\n            let before = range.start, after = range.end;\n            dispatch(state.tr.step(new ReplaceAroundStep(before - (nestedBefore ? 3 : 1), after, before, after, slice, 1, true))\n                .scrollIntoView());\n        }\n        return true;\n    };\n}\n\nexport { addListNodes, bulletList, liftListItem, listItem, orderedList, sinkListItem, splitListItem, splitListItemKeepMarks, wrapInList, wrapRangeInList };\n","import { TextSelection, NodeSelection, AllSelection, Selection } from 'prosemirror-state';\nimport { DOMSerializer, Fragment, Mark, Slice, DOMParser } from 'prosemirror-model';\nimport { dropPoint } from 'prosemirror-transform';\n\nconst domIndex = function (node) {\n    for (var index = 0;; index++) {\n        node = node.previousSibling;\n        if (!node)\n            return index;\n    }\n};\nconst parentNode = function (node) {\n    let parent = node.assignedSlot || node.parentNode;\n    return parent && parent.nodeType == 11 ? parent.host : parent;\n};\nlet reusedRange = null;\n// Note that this will always return the same range, because DOM range\n// objects are every expensive, and keep slowing down subsequent DOM\n// updates, for some reason.\nconst textRange = function (node, from, to) {\n    let range = reusedRange || (reusedRange = document.createRange());\n    range.setEnd(node, to == null ? node.nodeValue.length : to);\n    range.setStart(node, from || 0);\n    return range;\n};\nconst clearReusedRange = function () {\n    reusedRange = null;\n};\n// Scans forward and backward through DOM positions equivalent to the\n// given one to see if the two are in the same place (i.e. after a\n// text node vs at the end of that text node)\nconst isEquivalentPosition = function (node, off, targetNode, targetOff) {\n    return targetNode && (scanFor(node, off, targetNode, targetOff, -1) ||\n        scanFor(node, off, targetNode, targetOff, 1));\n};\nconst atomElements = /^(img|br|input|textarea|hr)$/i;\nfunction scanFor(node, off, targetNode, targetOff, dir) {\n    var _a;\n    for (;;) {\n        if (node == targetNode && off == targetOff)\n            return true;\n        if (off == (dir < 0 ? 0 : nodeSize(node))) {\n            let parent = node.parentNode;\n            if (!parent || parent.nodeType != 1 || hasBlockDesc(node) || atomElements.test(node.nodeName) ||\n                node.contentEditable == \"false\")\n                return false;\n            off = domIndex(node) + (dir < 0 ? 0 : 1);\n            node = parent;\n        }\n        else if (node.nodeType == 1) {\n            let child = node.childNodes[off + (dir < 0 ? -1 : 0)];\n            if (child.nodeType == 1 && child.contentEditable == \"false\") {\n                if ((_a = child.pmViewDesc) === null || _a === void 0 ? void 0 : _a.ignoreForSelection)\n                    off += dir;\n                else\n                    return false;\n            }\n            else {\n                node = child;\n                off = dir < 0 ? nodeSize(node) : 0;\n            }\n        }\n        else {\n            return false;\n        }\n    }\n}\nfunction nodeSize(node) {\n    return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;\n}\nfunction textNodeBefore$1(node, offset) {\n    for (;;) {\n        if (node.nodeType == 3 && offset)\n            return node;\n        if (node.nodeType == 1 && offset > 0) {\n            if (node.contentEditable == \"false\")\n                return null;\n            node = node.childNodes[offset - 1];\n            offset = nodeSize(node);\n        }\n        else if (node.parentNode && !hasBlockDesc(node)) {\n            offset = domIndex(node);\n            node = node.parentNode;\n        }\n        else {\n            return null;\n        }\n    }\n}\nfunction textNodeAfter$1(node, offset) {\n    for (;;) {\n        if (node.nodeType == 3 && offset < node.nodeValue.length)\n            return node;\n        if (node.nodeType == 1 && offset < node.childNodes.length) {\n            if (node.contentEditable == \"false\")\n                return null;\n            node = node.childNodes[offset];\n            offset = 0;\n        }\n        else if (node.parentNode && !hasBlockDesc(node)) {\n            offset = domIndex(node) + 1;\n            node = node.parentNode;\n        }\n        else {\n            return null;\n        }\n    }\n}\nfunction isOnEdge(node, offset, parent) {\n    for (let atStart = offset == 0, atEnd = offset == nodeSize(node); atStart || atEnd;) {\n        if (node == parent)\n            return true;\n        let index = domIndex(node);\n        node = node.parentNode;\n        if (!node)\n            return false;\n        atStart = atStart && index == 0;\n        atEnd = atEnd && index == nodeSize(node);\n    }\n}\nfunction hasBlockDesc(dom) {\n    let desc;\n    for (let cur = dom; cur; cur = cur.parentNode)\n        if (desc = cur.pmViewDesc)\n            break;\n    return desc && desc.node && desc.node.isBlock && (desc.dom == dom || desc.contentDOM == dom);\n}\n// Work around Chrome issue https://bugs.chromium.org/p/chromium/issues/detail?id=447523\n// (isCollapsed inappropriately returns true in shadow dom)\nconst selectionCollapsed = function (domSel) {\n    return domSel.focusNode && isEquivalentPosition(domSel.focusNode, domSel.focusOffset, domSel.anchorNode, domSel.anchorOffset);\n};\nfunction keyEvent(keyCode, key) {\n    let event = document.createEvent(\"Event\");\n    event.initEvent(\"keydown\", true, true);\n    event.keyCode = keyCode;\n    event.key = event.code = key;\n    return event;\n}\nfunction deepActiveElement(doc) {\n    let elt = doc.activeElement;\n    while (elt && elt.shadowRoot)\n        elt = elt.shadowRoot.activeElement;\n    return elt;\n}\nfunction caretFromPoint(doc, x, y) {\n    if (doc.caretPositionFromPoint) {\n        try { // Firefox throws for this call in hard-to-predict circumstances (#994)\n            let pos = doc.caretPositionFromPoint(x, y);\n            // Clip the offset, because Chrome will return a text offset\n            // into <input> nodes, which can't be treated as a regular DOM\n            // offset\n            if (pos)\n                return { node: pos.offsetNode, offset: Math.min(nodeSize(pos.offsetNode), pos.offset) };\n        }\n        catch (_) { }\n    }\n    if (doc.caretRangeFromPoint) {\n        let range = doc.caretRangeFromPoint(x, y);\n        if (range)\n            return { node: range.startContainer, offset: Math.min(nodeSize(range.startContainer), range.startOffset) };\n    }\n}\n\nconst nav = typeof navigator != \"undefined\" ? navigator : null;\nconst doc = typeof document != \"undefined\" ? document : null;\nconst agent = (nav && nav.userAgent) || \"\";\nconst ie_edge = /Edge\\/(\\d+)/.exec(agent);\nconst ie_upto10 = /MSIE \\d/.exec(agent);\nconst ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(agent);\nconst ie = !!(ie_upto10 || ie_11up || ie_edge);\nconst ie_version = ie_upto10 ? document.documentMode : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : 0;\nconst gecko = !ie && /gecko\\/(\\d+)/i.test(agent);\ngecko && +(/Firefox\\/(\\d+)/.exec(agent) || [0, 0])[1];\nconst _chrome = !ie && /Chrome\\/(\\d+)/.exec(agent);\nconst chrome = !!_chrome;\nconst chrome_version = _chrome ? +_chrome[1] : 0;\nconst safari = !ie && !!nav && /Apple Computer/.test(nav.vendor);\n// Is true for both iOS and iPadOS for convenience\nconst ios = safari && (/Mobile\\/\\w+/.test(agent) || !!nav && nav.maxTouchPoints > 2);\nconst mac = ios || (nav ? /Mac/.test(nav.platform) : false);\nconst windows = nav ? /Win/.test(nav.platform) : false;\nconst android = /Android \\d/.test(agent);\nconst webkit = !!doc && \"webkitFontSmoothing\" in doc.documentElement.style;\nconst webkit_version = webkit ? +(/\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0;\n\nfunction windowRect(doc) {\n    let vp = doc.defaultView && doc.defaultView.visualViewport;\n    if (vp)\n        return {\n            left: 0, right: vp.width,\n            top: 0, bottom: vp.height\n        };\n    return { left: 0, right: doc.documentElement.clientWidth,\n        top: 0, bottom: doc.documentElement.clientHeight };\n}\nfunction getSide(value, side) {\n    return typeof value == \"number\" ? value : value[side];\n}\nfunction clientRect(node) {\n    let rect = node.getBoundingClientRect();\n    // Adjust for elements with style \"transform: scale()\"\n    let scaleX = (rect.width / node.offsetWidth) || 1;\n    let scaleY = (rect.height / node.offsetHeight) || 1;\n    // Make sure scrollbar width isn't included in the rectangle\n    return { left: rect.left, right: rect.left + node.clientWidth * scaleX,\n        top: rect.top, bottom: rect.top + node.clientHeight * scaleY };\n}\nfunction scrollRectIntoView(view, rect, startDOM) {\n    let scrollThreshold = view.someProp(\"scrollThreshold\") || 0, scrollMargin = view.someProp(\"scrollMargin\") || 5;\n    let doc = view.dom.ownerDocument;\n    for (let parent = startDOM || view.dom;;) {\n        if (!parent)\n            break;\n        if (parent.nodeType != 1) {\n            parent = parentNode(parent);\n            continue;\n        }\n        let elt = parent;\n        let atTop = elt == doc.body;\n        let bounding = atTop ? windowRect(doc) : clientRect(elt);\n        let moveX = 0, moveY = 0;\n        if (rect.top < bounding.top + getSide(scrollThreshold, \"top\"))\n            moveY = -(bounding.top - rect.top + getSide(scrollMargin, \"top\"));\n        else if (rect.bottom > bounding.bottom - getSide(scrollThreshold, \"bottom\"))\n            moveY = rect.bottom - rect.top > bounding.bottom - bounding.top\n                ? rect.top + getSide(scrollMargin, \"top\") - bounding.top\n                : rect.bottom - bounding.bottom + getSide(scrollMargin, \"bottom\");\n        if (rect.left < bounding.left + getSide(scrollThreshold, \"left\"))\n            moveX = -(bounding.left - rect.left + getSide(scrollMargin, \"left\"));\n        else if (rect.right > bounding.right - getSide(scrollThreshold, \"right\"))\n            moveX = rect.right - bounding.right + getSide(scrollMargin, \"right\");\n        if (moveX || moveY) {\n            if (atTop) {\n                doc.defaultView.scrollBy(moveX, moveY);\n            }\n            else {\n                let startX = elt.scrollLeft, startY = elt.scrollTop;\n                if (moveY)\n                    elt.scrollTop += moveY;\n                if (moveX)\n                    elt.scrollLeft += moveX;\n                let dX = elt.scrollLeft - startX, dY = elt.scrollTop - startY;\n                rect = { left: rect.left - dX, top: rect.top - dY, right: rect.right - dX, bottom: rect.bottom - dY };\n            }\n        }\n        let pos = atTop ? \"fixed\" : getComputedStyle(parent).position;\n        if (/^(fixed|sticky)$/.test(pos))\n            break;\n        parent = pos == \"absolute\" ? parent.offsetParent : parentNode(parent);\n    }\n}\n// Store the scroll position of the editor's parent nodes, along with\n// the top position of an element near the top of the editor, which\n// will be used to make sure the visible viewport remains stable even\n// when the size of the content above changes.\nfunction storeScrollPos(view) {\n    let rect = view.dom.getBoundingClientRect(), startY = Math.max(0, rect.top);\n    let refDOM, refTop;\n    for (let x = (rect.left + rect.right) / 2, y = startY + 1; y < Math.min(innerHeight, rect.bottom); y += 5) {\n        let dom = view.root.elementFromPoint(x, y);\n        if (!dom || dom == view.dom || !view.dom.contains(dom))\n            continue;\n        let localRect = dom.getBoundingClientRect();\n        if (localRect.top >= startY - 20) {\n            refDOM = dom;\n            refTop = localRect.top;\n            break;\n        }\n    }\n    return { refDOM: refDOM, refTop: refTop, stack: scrollStack(view.dom) };\n}\nfunction scrollStack(dom) {\n    let stack = [], doc = dom.ownerDocument;\n    for (let cur = dom; cur; cur = parentNode(cur)) {\n        stack.push({ dom: cur, top: cur.scrollTop, left: cur.scrollLeft });\n        if (dom == doc)\n            break;\n    }\n    return stack;\n}\n// Reset the scroll position of the editor's parent nodes to that what\n// it was before, when storeScrollPos was called.\nfunction resetScrollPos({ refDOM, refTop, stack }) {\n    let newRefTop = refDOM ? refDOM.getBoundingClientRect().top : 0;\n    restoreScrollStack(stack, newRefTop == 0 ? 0 : newRefTop - refTop);\n}\nfunction restoreScrollStack(stack, dTop) {\n    for (let i = 0; i < stack.length; i++) {\n        let { dom, top, left } = stack[i];\n        if (dom.scrollTop != top + dTop)\n            dom.scrollTop = top + dTop;\n        if (dom.scrollLeft != left)\n            dom.scrollLeft = left;\n    }\n}\nlet preventScrollSupported = null;\n// Feature-detects support for .focus({preventScroll: true}), and uses\n// a fallback kludge when not supported.\nfunction focusPreventScroll(dom) {\n    if (dom.setActive)\n        return dom.setActive(); // in IE\n    if (preventScrollSupported)\n        return dom.focus(preventScrollSupported);\n    let stored = scrollStack(dom);\n    dom.focus(preventScrollSupported == null ? {\n        get preventScroll() {\n            preventScrollSupported = { preventScroll: true };\n            return true;\n        }\n    } : undefined);\n    if (!preventScrollSupported) {\n        preventScrollSupported = false;\n        restoreScrollStack(stored, 0);\n    }\n}\nfunction findOffsetInNode(node, coords) {\n    let closest, dxClosest = 2e8, coordsClosest, offset = 0;\n    let rowBot = coords.top, rowTop = coords.top;\n    let firstBelow, coordsBelow;\n    for (let child = node.firstChild, childIndex = 0; child; child = child.nextSibling, childIndex++) {\n        let rects;\n        if (child.nodeType == 1)\n            rects = child.getClientRects();\n        else if (child.nodeType == 3)\n            rects = textRange(child).getClientRects();\n        else\n            continue;\n        for (let i = 0; i < rects.length; i++) {\n            let rect = rects[i];\n            if (rect.top <= rowBot && rect.bottom >= rowTop) {\n                rowBot = Math.max(rect.bottom, rowBot);\n                rowTop = Math.min(rect.top, rowTop);\n                let dx = rect.left > coords.left ? rect.left - coords.left\n                    : rect.right < coords.left ? coords.left - rect.right : 0;\n                if (dx < dxClosest) {\n                    closest = child;\n                    dxClosest = dx;\n                    coordsClosest = dx && closest.nodeType == 3 ? {\n                        left: rect.right < coords.left ? rect.right : rect.left,\n                        top: coords.top\n                    } : coords;\n                    if (child.nodeType == 1 && dx)\n                        offset = childIndex + (coords.left >= (rect.left + rect.right) / 2 ? 1 : 0);\n                    continue;\n                }\n            }\n            else if (rect.top > coords.top && !firstBelow && rect.left <= coords.left && rect.right >= coords.left) {\n                firstBelow = child;\n                coordsBelow = { left: Math.max(rect.left, Math.min(rect.right, coords.left)), top: rect.top };\n            }\n            if (!closest && (coords.left >= rect.right && coords.top >= rect.top ||\n                coords.left >= rect.left && coords.top >= rect.bottom))\n                offset = childIndex + 1;\n        }\n    }\n    if (!closest && firstBelow) {\n        closest = firstBelow;\n        coordsClosest = coordsBelow;\n        dxClosest = 0;\n    }\n    if (closest && closest.nodeType == 3)\n        return findOffsetInText(closest, coordsClosest);\n    if (!closest || (dxClosest && closest.nodeType == 1))\n        return { node, offset };\n    return findOffsetInNode(closest, coordsClosest);\n}\nfunction findOffsetInText(node, coords) {\n    let len = node.nodeValue.length;\n    let range = document.createRange(), result;\n    for (let i = 0; i < len; i++) {\n        range.setEnd(node, i + 1);\n        range.setStart(node, i);\n        let rect = singleRect(range, 1);\n        if (rect.top == rect.bottom)\n            continue;\n        if (inRect(coords, rect)) {\n            result = { node, offset: i + (coords.left >= (rect.left + rect.right) / 2 ? 1 : 0) };\n            break;\n        }\n    }\n    range.detach();\n    return result || { node, offset: 0 };\n}\nfunction inRect(coords, rect) {\n    return coords.left >= rect.left - 1 && coords.left <= rect.right + 1 &&\n        coords.top >= rect.top - 1 && coords.top <= rect.bottom + 1;\n}\nfunction targetKludge(dom, coords) {\n    let parent = dom.parentNode;\n    if (parent && /^li$/i.test(parent.nodeName) && coords.left < dom.getBoundingClientRect().left)\n        return parent;\n    return dom;\n}\nfunction posFromElement(view, elt, coords) {\n    let { node, offset } = findOffsetInNode(elt, coords), bias = -1;\n    if (node.nodeType == 1 && !node.firstChild) {\n        let rect = node.getBoundingClientRect();\n        bias = rect.left != rect.right && coords.left > (rect.left + rect.right) / 2 ? 1 : -1;\n    }\n    return view.docView.posFromDOM(node, offset, bias);\n}\nfunction posFromCaret(view, node, offset, coords) {\n    // Browser (in caretPosition/RangeFromPoint) will agressively\n    // normalize towards nearby inline nodes. Since we are interested in\n    // positions between block nodes too, we first walk up the hierarchy\n    // of nodes to see if there are block nodes that the coordinates\n    // fall outside of. If so, we take the position before/after that\n    // block. If not, we call `posFromDOM` on the raw node/offset.\n    let outsideBlock = -1;\n    for (let cur = node, sawBlock = false;;) {\n        if (cur == view.dom)\n            break;\n        let desc = view.docView.nearestDesc(cur, true), rect;\n        if (!desc)\n            return null;\n        if (desc.dom.nodeType == 1 && (desc.node.isBlock && desc.parent || !desc.contentDOM) &&\n            // Ignore elements with zero-size bounding rectangles\n            ((rect = desc.dom.getBoundingClientRect()).width || rect.height)) {\n            if (desc.node.isBlock && desc.parent && !/^T(R|BODY|HEAD|FOOT)$/.test(desc.dom.nodeName)) {\n                // Only apply the horizontal test to the innermost block. Vertical for any parent.\n                if (!sawBlock && rect.left > coords.left || rect.top > coords.top)\n                    outsideBlock = desc.posBefore;\n                else if (!sawBlock && rect.right < coords.left || rect.bottom < coords.top)\n                    outsideBlock = desc.posAfter;\n                sawBlock = true;\n            }\n            if (!desc.contentDOM && outsideBlock < 0 && !desc.node.isText) {\n                // If we are inside a leaf, return the side of the leaf closer to the coords\n                let before = desc.node.isBlock ? coords.top < (rect.top + rect.bottom) / 2\n                    : coords.left < (rect.left + rect.right) / 2;\n                return before ? desc.posBefore : desc.posAfter;\n            }\n        }\n        cur = desc.dom.parentNode;\n    }\n    return outsideBlock > -1 ? outsideBlock : view.docView.posFromDOM(node, offset, -1);\n}\nfunction elementFromPoint(element, coords, box) {\n    let len = element.childNodes.length;\n    if (len && box.top < box.bottom) {\n        for (let startI = Math.max(0, Math.min(len - 1, Math.floor(len * (coords.top - box.top) / (box.bottom - box.top)) - 2)), i = startI;;) {\n            let child = element.childNodes[i];\n            if (child.nodeType == 1) {\n                let rects = child.getClientRects();\n                for (let j = 0; j < rects.length; j++) {\n                    let rect = rects[j];\n                    if (inRect(coords, rect))\n                        return elementFromPoint(child, coords, rect);\n                }\n            }\n            if ((i = (i + 1) % len) == startI)\n                break;\n        }\n    }\n    return element;\n}\n// Given an x,y position on the editor, get the position in the document.\nfunction posAtCoords(view, coords) {\n    let doc = view.dom.ownerDocument, node, offset = 0;\n    let caret = caretFromPoint(doc, coords.left, coords.top);\n    if (caret)\n        ({ node, offset } = caret);\n    let elt = (view.root.elementFromPoint ? view.root : doc)\n        .elementFromPoint(coords.left, coords.top);\n    let pos;\n    if (!elt || !view.dom.contains(elt.nodeType != 1 ? elt.parentNode : elt)) {\n        let box = view.dom.getBoundingClientRect();\n        if (!inRect(coords, box))\n            return null;\n        elt = elementFromPoint(view.dom, coords, box);\n        if (!elt)\n            return null;\n    }\n    // Safari's caretRangeFromPoint returns nonsense when on a draggable element\n    if (safari) {\n        for (let p = elt; node && p; p = parentNode(p))\n            if (p.draggable)\n                node = undefined;\n    }\n    elt = targetKludge(elt, coords);\n    if (node) {\n        if (gecko && node.nodeType == 1) {\n            // Firefox will sometimes return offsets into <input> nodes, which\n            // have no actual children, from caretPositionFromPoint (#953)\n            offset = Math.min(offset, node.childNodes.length);\n            // It'll also move the returned position before image nodes,\n            // even if those are behind it.\n            if (offset < node.childNodes.length) {\n                let next = node.childNodes[offset], box;\n                if (next.nodeName == \"IMG\" && (box = next.getBoundingClientRect()).right <= coords.left &&\n                    box.bottom > coords.top)\n                    offset++;\n            }\n        }\n        let prev;\n        // When clicking above the right side of an uneditable node, Chrome will report a cursor position after that node.\n        if (webkit && offset && node.nodeType == 1 && (prev = node.childNodes[offset - 1]).nodeType == 1 &&\n            prev.contentEditable == \"false\" && prev.getBoundingClientRect().top >= coords.top)\n            offset--;\n        // Suspiciously specific kludge to work around caret*FromPoint\n        // never returning a position at the end of the document\n        if (node == view.dom && offset == node.childNodes.length - 1 && node.lastChild.nodeType == 1 &&\n            coords.top > node.lastChild.getBoundingClientRect().bottom)\n            pos = view.state.doc.content.size;\n        // Ignore positions directly after a BR, since caret*FromPoint\n        // 'round up' positions that would be more accurately placed\n        // before the BR node.\n        else if (offset == 0 || node.nodeType != 1 || node.childNodes[offset - 1].nodeName != \"BR\")\n            pos = posFromCaret(view, node, offset, coords);\n    }\n    if (pos == null)\n        pos = posFromElement(view, elt, coords);\n    let desc = view.docView.nearestDesc(elt, true);\n    return { pos, inside: desc ? desc.posAtStart - desc.border : -1 };\n}\nfunction nonZero(rect) {\n    return rect.top < rect.bottom || rect.left < rect.right;\n}\nfunction singleRect(target, bias) {\n    let rects = target.getClientRects();\n    if (rects.length) {\n        let first = rects[bias < 0 ? 0 : rects.length - 1];\n        if (nonZero(first))\n            return first;\n    }\n    return Array.prototype.find.call(rects, nonZero) || target.getBoundingClientRect();\n}\nconst BIDI = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n// Given a position in the document model, get a bounding box of the\n// character at that position, relative to the window.\nfunction coordsAtPos(view, pos, side) {\n    let { node, offset, atom } = view.docView.domFromPos(pos, side < 0 ? -1 : 1);\n    let supportEmptyRange = webkit || gecko;\n    if (node.nodeType == 3) {\n        // These browsers support querying empty text ranges. Prefer that in\n        // bidi context or when at the end of a node.\n        if (supportEmptyRange && (BIDI.test(node.nodeValue) || (side < 0 ? !offset : offset == node.nodeValue.length))) {\n            let rect = singleRect(textRange(node, offset, offset), side);\n            // Firefox returns bad results (the position before the space)\n            // when querying a position directly after line-broken\n            // whitespace. Detect this situation and and kludge around it\n            if (gecko && offset && /\\s/.test(node.nodeValue[offset - 1]) && offset < node.nodeValue.length) {\n                let rectBefore = singleRect(textRange(node, offset - 1, offset - 1), -1);\n                if (rectBefore.top == rect.top) {\n                    let rectAfter = singleRect(textRange(node, offset, offset + 1), -1);\n                    if (rectAfter.top != rect.top)\n                        return flattenV(rectAfter, rectAfter.left < rectBefore.left);\n                }\n            }\n            return rect;\n        }\n        else {\n            let from = offset, to = offset, takeSide = side < 0 ? 1 : -1;\n            if (side < 0 && !offset) {\n                to++;\n                takeSide = -1;\n            }\n            else if (side >= 0 && offset == node.nodeValue.length) {\n                from--;\n                takeSide = 1;\n            }\n            else if (side < 0) {\n                from--;\n            }\n            else {\n                to++;\n            }\n            return flattenV(singleRect(textRange(node, from, to), takeSide), takeSide < 0);\n        }\n    }\n    let $dom = view.state.doc.resolve(pos - (atom || 0));\n    // Return a horizontal line in block context\n    if (!$dom.parent.inlineContent) {\n        if (atom == null && offset && (side < 0 || offset == nodeSize(node))) {\n            let before = node.childNodes[offset - 1];\n            if (before.nodeType == 1)\n                return flattenH(before.getBoundingClientRect(), false);\n        }\n        if (atom == null && offset < nodeSize(node)) {\n            let after = node.childNodes[offset];\n            if (after.nodeType == 1)\n                return flattenH(after.getBoundingClientRect(), true);\n        }\n        return flattenH(node.getBoundingClientRect(), side >= 0);\n    }\n    // Inline, not in text node (this is not Bidi-safe)\n    if (atom == null && offset && (side < 0 || offset == nodeSize(node))) {\n        let before = node.childNodes[offset - 1];\n        let target = before.nodeType == 3 ? textRange(before, nodeSize(before) - (supportEmptyRange ? 0 : 1))\n            // BR nodes tend to only return the rectangle before them.\n            // Only use them if they are the last element in their parent\n            : before.nodeType == 1 && (before.nodeName != \"BR\" || !before.nextSibling) ? before : null;\n        if (target)\n            return flattenV(singleRect(target, 1), false);\n    }\n    if (atom == null && offset < nodeSize(node)) {\n        let after = node.childNodes[offset];\n        while (after.pmViewDesc && after.pmViewDesc.ignoreForCoords)\n            after = after.nextSibling;\n        let target = !after ? null : after.nodeType == 3 ? textRange(after, 0, (supportEmptyRange ? 0 : 1))\n            : after.nodeType == 1 ? after : null;\n        if (target)\n            return flattenV(singleRect(target, -1), true);\n    }\n    // All else failed, just try to get a rectangle for the target node\n    return flattenV(singleRect(node.nodeType == 3 ? textRange(node) : node, -side), side >= 0);\n}\nfunction flattenV(rect, left) {\n    if (rect.width == 0)\n        return rect;\n    let x = left ? rect.left : rect.right;\n    return { top: rect.top, bottom: rect.bottom, left: x, right: x };\n}\nfunction flattenH(rect, top) {\n    if (rect.height == 0)\n        return rect;\n    let y = top ? rect.top : rect.bottom;\n    return { top: y, bottom: y, left: rect.left, right: rect.right };\n}\nfunction withFlushedState(view, state, f) {\n    let viewState = view.state, active = view.root.activeElement;\n    if (viewState != state)\n        view.updateState(state);\n    if (active != view.dom)\n        view.focus();\n    try {\n        return f();\n    }\n    finally {\n        if (viewState != state)\n            view.updateState(viewState);\n        if (active != view.dom && active)\n            active.focus();\n    }\n}\n// Whether vertical position motion in a given direction\n// from a position would leave a text block.\nfunction endOfTextblockVertical(view, state, dir) {\n    let sel = state.selection;\n    let $pos = dir == \"up\" ? sel.$from : sel.$to;\n    return withFlushedState(view, state, () => {\n        let { node: dom } = view.docView.domFromPos($pos.pos, dir == \"up\" ? -1 : 1);\n        for (;;) {\n            let nearest = view.docView.nearestDesc(dom, true);\n            if (!nearest)\n                break;\n            if (nearest.node.isBlock) {\n                dom = nearest.contentDOM || nearest.dom;\n                break;\n            }\n            dom = nearest.dom.parentNode;\n        }\n        let coords = coordsAtPos(view, $pos.pos, 1);\n        for (let child = dom.firstChild; child; child = child.nextSibling) {\n            let boxes;\n            if (child.nodeType == 1)\n                boxes = child.getClientRects();\n            else if (child.nodeType == 3)\n                boxes = textRange(child, 0, child.nodeValue.length).getClientRects();\n            else\n                continue;\n            for (let i = 0; i < boxes.length; i++) {\n                let box = boxes[i];\n                if (box.bottom > box.top + 1 &&\n                    (dir == \"up\" ? coords.top - box.top > (box.bottom - coords.top) * 2\n                        : box.bottom - coords.bottom > (coords.bottom - box.top) * 2))\n                    return false;\n            }\n        }\n        return true;\n    });\n}\nconst maybeRTL = /[\\u0590-\\u08ac]/;\nfunction endOfTextblockHorizontal(view, state, dir) {\n    let { $head } = state.selection;\n    if (!$head.parent.isTextblock)\n        return false;\n    let offset = $head.parentOffset, atStart = !offset, atEnd = offset == $head.parent.content.size;\n    let sel = view.domSelection();\n    if (!sel)\n        return $head.pos == $head.start() || $head.pos == $head.end();\n    // If the textblock is all LTR, or the browser doesn't support\n    // Selection.modify (Edge), fall back to a primitive approach\n    if (!maybeRTL.test($head.parent.textContent) || !sel.modify)\n        return dir == \"left\" || dir == \"backward\" ? atStart : atEnd;\n    return withFlushedState(view, state, () => {\n        // This is a huge hack, but appears to be the best we can\n        // currently do: use `Selection.modify` to move the selection by\n        // one character, and see if that moves the cursor out of the\n        // textblock (or doesn't move it at all, when at the start/end of\n        // the document).\n        let { focusNode: oldNode, focusOffset: oldOff, anchorNode, anchorOffset } = view.domSelectionRange();\n        let oldBidiLevel = sel.caretBidiLevel // Only for Firefox\n        ;\n        sel.modify(\"move\", dir, \"character\");\n        let parentDOM = $head.depth ? view.docView.domAfterPos($head.before()) : view.dom;\n        let { focusNode: newNode, focusOffset: newOff } = view.domSelectionRange();\n        let result = newNode && !parentDOM.contains(newNode.nodeType == 1 ? newNode : newNode.parentNode) ||\n            (oldNode == newNode && oldOff == newOff);\n        // Restore the previous selection\n        try {\n            sel.collapse(anchorNode, anchorOffset);\n            if (oldNode && (oldNode != anchorNode || oldOff != anchorOffset) && sel.extend)\n                sel.extend(oldNode, oldOff);\n        }\n        catch (_) { }\n        if (oldBidiLevel != null)\n            sel.caretBidiLevel = oldBidiLevel;\n        return result;\n    });\n}\nlet cachedState = null;\nlet cachedDir = null;\nlet cachedResult = false;\nfunction endOfTextblock(view, state, dir) {\n    if (cachedState == state && cachedDir == dir)\n        return cachedResult;\n    cachedState = state;\n    cachedDir = dir;\n    return cachedResult = dir == \"up\" || dir == \"down\"\n        ? endOfTextblockVertical(view, state, dir)\n        : endOfTextblockHorizontal(view, state, dir);\n}\n\n// View descriptions are data structures that describe the DOM that is\n// used to represent the editor's content. They are used for:\n//\n// - Incremental redrawing when the document changes\n//\n// - Figuring out what part of the document a given DOM position\n//   corresponds to\n//\n// - Wiring in custom implementations of the editing interface for a\n//   given node\n//\n// They form a doubly-linked mutable tree, starting at `view.docView`.\nconst NOT_DIRTY = 0, CHILD_DIRTY = 1, CONTENT_DIRTY = 2, NODE_DIRTY = 3;\n// Superclass for the various kinds of descriptions. Defines their\n// basic structure and shared methods.\nclass ViewDesc {\n    constructor(parent, children, dom, \n    // This is the node that holds the child views. It may be null for\n    // descs that don't have children.\n    contentDOM) {\n        this.parent = parent;\n        this.children = children;\n        this.dom = dom;\n        this.contentDOM = contentDOM;\n        this.dirty = NOT_DIRTY;\n        // An expando property on the DOM node provides a link back to its\n        // description.\n        dom.pmViewDesc = this;\n    }\n    // Used to check whether a given description corresponds to a\n    // widget/mark/node.\n    matchesWidget(widget) { return false; }\n    matchesMark(mark) { return false; }\n    matchesNode(node, outerDeco, innerDeco) { return false; }\n    matchesHack(nodeName) { return false; }\n    // When parsing in-editor content (in domchange.js), we allow\n    // descriptions to determine the parse rules that should be used to\n    // parse them.\n    parseRule() { return null; }\n    // Used by the editor's event handler to ignore events that come\n    // from certain descs.\n    stopEvent(event) { return false; }\n    // The size of the content represented by this desc.\n    get size() {\n        let size = 0;\n        for (let i = 0; i < this.children.length; i++)\n            size += this.children[i].size;\n        return size;\n    }\n    // For block nodes, this represents the space taken up by their\n    // start/end tokens.\n    get border() { return 0; }\n    destroy() {\n        this.parent = undefined;\n        if (this.dom.pmViewDesc == this)\n            this.dom.pmViewDesc = undefined;\n        for (let i = 0; i < this.children.length; i++)\n            this.children[i].destroy();\n    }\n    posBeforeChild(child) {\n        for (let i = 0, pos = this.posAtStart;; i++) {\n            let cur = this.children[i];\n            if (cur == child)\n                return pos;\n            pos += cur.size;\n        }\n    }\n    get posBefore() {\n        return this.parent.posBeforeChild(this);\n    }\n    get posAtStart() {\n        return this.parent ? this.parent.posBeforeChild(this) + this.border : 0;\n    }\n    get posAfter() {\n        return this.posBefore + this.size;\n    }\n    get posAtEnd() {\n        return this.posAtStart + this.size - 2 * this.border;\n    }\n    localPosFromDOM(dom, offset, bias) {\n        // If the DOM position is in the content, use the child desc after\n        // it to figure out a position.\n        if (this.contentDOM && this.contentDOM.contains(dom.nodeType == 1 ? dom : dom.parentNode)) {\n            if (bias < 0) {\n                let domBefore, desc;\n                if (dom == this.contentDOM) {\n                    domBefore = dom.childNodes[offset - 1];\n                }\n                else {\n                    while (dom.parentNode != this.contentDOM)\n                        dom = dom.parentNode;\n                    domBefore = dom.previousSibling;\n                }\n                while (domBefore && !((desc = domBefore.pmViewDesc) && desc.parent == this))\n                    domBefore = domBefore.previousSibling;\n                return domBefore ? this.posBeforeChild(desc) + desc.size : this.posAtStart;\n            }\n            else {\n                let domAfter, desc;\n                if (dom == this.contentDOM) {\n                    domAfter = dom.childNodes[offset];\n                }\n                else {\n                    while (dom.parentNode != this.contentDOM)\n                        dom = dom.parentNode;\n                    domAfter = dom.nextSibling;\n                }\n                while (domAfter && !((desc = domAfter.pmViewDesc) && desc.parent == this))\n                    domAfter = domAfter.nextSibling;\n                return domAfter ? this.posBeforeChild(desc) : this.posAtEnd;\n            }\n        }\n        // Otherwise, use various heuristics, falling back on the bias\n        // parameter, to determine whether to return the position at the\n        // start or at the end of this view desc.\n        let atEnd;\n        if (dom == this.dom && this.contentDOM) {\n            atEnd = offset > domIndex(this.contentDOM);\n        }\n        else if (this.contentDOM && this.contentDOM != this.dom && this.dom.contains(this.contentDOM)) {\n            atEnd = dom.compareDocumentPosition(this.contentDOM) & 2;\n        }\n        else if (this.dom.firstChild) {\n            if (offset == 0)\n                for (let search = dom;; search = search.parentNode) {\n                    if (search == this.dom) {\n                        atEnd = false;\n                        break;\n                    }\n                    if (search.previousSibling)\n                        break;\n                }\n            if (atEnd == null && offset == dom.childNodes.length)\n                for (let search = dom;; search = search.parentNode) {\n                    if (search == this.dom) {\n                        atEnd = true;\n                        break;\n                    }\n                    if (search.nextSibling)\n                        break;\n                }\n        }\n        return (atEnd == null ? bias > 0 : atEnd) ? this.posAtEnd : this.posAtStart;\n    }\n    nearestDesc(dom, onlyNodes = false) {\n        for (let first = true, cur = dom; cur; cur = cur.parentNode) {\n            let desc = this.getDesc(cur), nodeDOM;\n            if (desc && (!onlyNodes || desc.node)) {\n                // If dom is outside of this desc's nodeDOM, don't count it.\n                if (first && (nodeDOM = desc.nodeDOM) &&\n                    !(nodeDOM.nodeType == 1 ? nodeDOM.contains(dom.nodeType == 1 ? dom : dom.parentNode) : nodeDOM == dom))\n                    first = false;\n                else\n                    return desc;\n            }\n        }\n    }\n    getDesc(dom) {\n        let desc = dom.pmViewDesc;\n        for (let cur = desc; cur; cur = cur.parent)\n            if (cur == this)\n                return desc;\n    }\n    posFromDOM(dom, offset, bias) {\n        for (let scan = dom; scan; scan = scan.parentNode) {\n            let desc = this.getDesc(scan);\n            if (desc)\n                return desc.localPosFromDOM(dom, offset, bias);\n        }\n        return -1;\n    }\n    // Find the desc for the node after the given pos, if any. (When a\n    // parent node overrode rendering, there might not be one.)\n    descAt(pos) {\n        for (let i = 0, offset = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = offset + child.size;\n            if (offset == pos && end != offset) {\n                while (!child.border && child.children.length) {\n                    for (let i = 0; i < child.children.length; i++) {\n                        let inner = child.children[i];\n                        if (inner.size) {\n                            child = inner;\n                            break;\n                        }\n                    }\n                }\n                return child;\n            }\n            if (pos < end)\n                return child.descAt(pos - offset - child.border);\n            offset = end;\n        }\n    }\n    domFromPos(pos, side) {\n        if (!this.contentDOM)\n            return { node: this.dom, offset: 0, atom: pos + 1 };\n        // First find the position in the child array\n        let i = 0, offset = 0;\n        for (let curPos = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = curPos + child.size;\n            if (end > pos || child instanceof TrailingHackViewDesc) {\n                offset = pos - curPos;\n                break;\n            }\n            curPos = end;\n        }\n        // If this points into the middle of a child, call through\n        if (offset)\n            return this.children[i].domFromPos(offset - this.children[i].border, side);\n        // Go back if there were any zero-length widgets with side >= 0 before this point\n        for (let prev; i && !(prev = this.children[i - 1]).size && prev instanceof WidgetViewDesc && prev.side >= 0; i--) { }\n        // Scan towards the first useable node\n        if (side <= 0) {\n            let prev, enter = true;\n            for (;; i--, enter = false) {\n                prev = i ? this.children[i - 1] : null;\n                if (!prev || prev.dom.parentNode == this.contentDOM)\n                    break;\n            }\n            if (prev && side && enter && !prev.border && !prev.domAtom)\n                return prev.domFromPos(prev.size, side);\n            return { node: this.contentDOM, offset: prev ? domIndex(prev.dom) + 1 : 0 };\n        }\n        else {\n            let next, enter = true;\n            for (;; i++, enter = false) {\n                next = i < this.children.length ? this.children[i] : null;\n                if (!next || next.dom.parentNode == this.contentDOM)\n                    break;\n            }\n            if (next && enter && !next.border && !next.domAtom)\n                return next.domFromPos(0, side);\n            return { node: this.contentDOM, offset: next ? domIndex(next.dom) : this.contentDOM.childNodes.length };\n        }\n    }\n    // Used to find a DOM range in a single parent for a given changed\n    // range.\n    parseRange(from, to, base = 0) {\n        if (this.children.length == 0)\n            return { node: this.contentDOM, from, to, fromOffset: 0, toOffset: this.contentDOM.childNodes.length };\n        let fromOffset = -1, toOffset = -1;\n        for (let offset = base, i = 0;; i++) {\n            let child = this.children[i], end = offset + child.size;\n            if (fromOffset == -1 && from <= end) {\n                let childBase = offset + child.border;\n                // FIXME maybe descend mark views to parse a narrower range?\n                if (from >= childBase && to <= end - child.border && child.node &&\n                    child.contentDOM && this.contentDOM.contains(child.contentDOM))\n                    return child.parseRange(from, to, childBase);\n                from = offset;\n                for (let j = i; j > 0; j--) {\n                    let prev = this.children[j - 1];\n                    if (prev.size && prev.dom.parentNode == this.contentDOM && !prev.emptyChildAt(1)) {\n                        fromOffset = domIndex(prev.dom) + 1;\n                        break;\n                    }\n                    from -= prev.size;\n                }\n                if (fromOffset == -1)\n                    fromOffset = 0;\n            }\n            if (fromOffset > -1 && (end > to || i == this.children.length - 1)) {\n                to = end;\n                for (let j = i + 1; j < this.children.length; j++) {\n                    let next = this.children[j];\n                    if (next.size && next.dom.parentNode == this.contentDOM && !next.emptyChildAt(-1)) {\n                        toOffset = domIndex(next.dom);\n                        break;\n                    }\n                    to += next.size;\n                }\n                if (toOffset == -1)\n                    toOffset = this.contentDOM.childNodes.length;\n                break;\n            }\n            offset = end;\n        }\n        return { node: this.contentDOM, from, to, fromOffset, toOffset };\n    }\n    emptyChildAt(side) {\n        if (this.border || !this.contentDOM || !this.children.length)\n            return false;\n        let child = this.children[side < 0 ? 0 : this.children.length - 1];\n        return child.size == 0 || child.emptyChildAt(side);\n    }\n    domAfterPos(pos) {\n        let { node, offset } = this.domFromPos(pos, 0);\n        if (node.nodeType != 1 || offset == node.childNodes.length)\n            throw new RangeError(\"No node after pos \" + pos);\n        return node.childNodes[offset];\n    }\n    // View descs are responsible for setting any selection that falls\n    // entirely inside of them, so that custom implementations can do\n    // custom things with the selection. Note that this falls apart when\n    // a selection starts in such a node and ends in another, in which\n    // case we just use whatever domFromPos produces as a best effort.\n    setSelection(anchor, head, view, force = false) {\n        // If the selection falls entirely in a child, give it to that child\n        let from = Math.min(anchor, head), to = Math.max(anchor, head);\n        for (let i = 0, offset = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = offset + child.size;\n            if (from > offset && to < end)\n                return child.setSelection(anchor - offset - child.border, head - offset - child.border, view, force);\n            offset = end;\n        }\n        let anchorDOM = this.domFromPos(anchor, anchor ? -1 : 1);\n        let headDOM = head == anchor ? anchorDOM : this.domFromPos(head, head ? -1 : 1);\n        let domSel = view.root.getSelection();\n        let selRange = view.domSelectionRange();\n        let brKludge = false;\n        // On Firefox, using Selection.collapse to put the cursor after a\n        // BR node for some reason doesn't always work (#1073). On Safari,\n        // the cursor sometimes inexplicable visually lags behind its\n        // reported position in such situations (#1092).\n        if ((gecko || safari) && anchor == head) {\n            let { node, offset } = anchorDOM;\n            if (node.nodeType == 3) {\n                brKludge = !!(offset && node.nodeValue[offset - 1] == \"\\n\");\n                // Issue #1128\n                if (brKludge && offset == node.nodeValue.length) {\n                    for (let scan = node, after; scan; scan = scan.parentNode) {\n                        if (after = scan.nextSibling) {\n                            if (after.nodeName == \"BR\")\n                                anchorDOM = headDOM = { node: after.parentNode, offset: domIndex(after) + 1 };\n                            break;\n                        }\n                        let desc = scan.pmViewDesc;\n                        if (desc && desc.node && desc.node.isBlock)\n                            break;\n                    }\n                }\n            }\n            else {\n                let prev = node.childNodes[offset - 1];\n                brKludge = prev && (prev.nodeName == \"BR\" || prev.contentEditable == \"false\");\n            }\n        }\n        // Firefox can act strangely when the selection is in front of an\n        // uneditable node. See #1163 and https://bugzilla.mozilla.org/show_bug.cgi?id=1709536\n        if (gecko && selRange.focusNode && selRange.focusNode != headDOM.node && selRange.focusNode.nodeType == 1) {\n            let after = selRange.focusNode.childNodes[selRange.focusOffset];\n            if (after && after.contentEditable == \"false\")\n                force = true;\n        }\n        if (!(force || brKludge && safari) &&\n            isEquivalentPosition(anchorDOM.node, anchorDOM.offset, selRange.anchorNode, selRange.anchorOffset) &&\n            isEquivalentPosition(headDOM.node, headDOM.offset, selRange.focusNode, selRange.focusOffset))\n            return;\n        // Selection.extend can be used to create an 'inverted' selection\n        // (one where the focus is before the anchor), but not all\n        // browsers support it yet.\n        let domSelExtended = false;\n        if ((domSel.extend || anchor == head) && !(brKludge && gecko)) {\n            domSel.collapse(anchorDOM.node, anchorDOM.offset);\n            try {\n                if (anchor != head)\n                    domSel.extend(headDOM.node, headDOM.offset);\n                domSelExtended = true;\n            }\n            catch (_) {\n                // In some cases with Chrome the selection is empty after calling\n                // collapse, even when it should be valid. This appears to be a bug, but\n                // it is difficult to isolate. If this happens fallback to the old path\n                // without using extend.\n                // Similarly, this could crash on Safari if the editor is hidden, and\n                // there was no selection.\n            }\n        }\n        if (!domSelExtended) {\n            if (anchor > head) {\n                let tmp = anchorDOM;\n                anchorDOM = headDOM;\n                headDOM = tmp;\n            }\n            let range = document.createRange();\n            range.setEnd(headDOM.node, headDOM.offset);\n            range.setStart(anchorDOM.node, anchorDOM.offset);\n            domSel.removeAllRanges();\n            domSel.addRange(range);\n        }\n    }\n    ignoreMutation(mutation) {\n        return !this.contentDOM && mutation.type != \"selection\";\n    }\n    get contentLost() {\n        return this.contentDOM && this.contentDOM != this.dom && !this.dom.contains(this.contentDOM);\n    }\n    // Remove a subtree of the element tree that has been touched\n    // by a DOM change, so that the next update will redraw it.\n    markDirty(from, to) {\n        for (let offset = 0, i = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = offset + child.size;\n            if (offset == end ? from <= end && to >= offset : from < end && to > offset) {\n                let startInside = offset + child.border, endInside = end - child.border;\n                if (from >= startInside && to <= endInside) {\n                    this.dirty = from == offset || to == end ? CONTENT_DIRTY : CHILD_DIRTY;\n                    if (from == startInside && to == endInside &&\n                        (child.contentLost || child.dom.parentNode != this.contentDOM))\n                        child.dirty = NODE_DIRTY;\n                    else\n                        child.markDirty(from - startInside, to - startInside);\n                    return;\n                }\n                else {\n                    child.dirty = child.dom == child.contentDOM && child.dom.parentNode == this.contentDOM && !child.children.length\n                        ? CONTENT_DIRTY : NODE_DIRTY;\n                }\n            }\n            offset = end;\n        }\n        this.dirty = CONTENT_DIRTY;\n    }\n    markParentsDirty() {\n        let level = 1;\n        for (let node = this.parent; node; node = node.parent, level++) {\n            let dirty = level == 1 ? CONTENT_DIRTY : CHILD_DIRTY;\n            if (node.dirty < dirty)\n                node.dirty = dirty;\n        }\n    }\n    get domAtom() { return false; }\n    get ignoreForCoords() { return false; }\n    get ignoreForSelection() { return false; }\n    isText(text) { return false; }\n}\n// A widget desc represents a widget decoration, which is a DOM node\n// drawn between the document nodes.\nclass WidgetViewDesc extends ViewDesc {\n    constructor(parent, widget, view, pos) {\n        let self, dom = widget.type.toDOM;\n        if (typeof dom == \"function\")\n            dom = dom(view, () => {\n                if (!self)\n                    return pos;\n                if (self.parent)\n                    return self.parent.posBeforeChild(self);\n            });\n        if (!widget.type.spec.raw) {\n            if (dom.nodeType != 1) {\n                let wrap = document.createElement(\"span\");\n                wrap.appendChild(dom);\n                dom = wrap;\n            }\n            dom.contentEditable = \"false\";\n            dom.classList.add(\"ProseMirror-widget\");\n        }\n        super(parent, [], dom, null);\n        this.widget = widget;\n        this.widget = widget;\n        self = this;\n    }\n    matchesWidget(widget) {\n        return this.dirty == NOT_DIRTY && widget.type.eq(this.widget.type);\n    }\n    parseRule() { return { ignore: true }; }\n    stopEvent(event) {\n        let stop = this.widget.spec.stopEvent;\n        return stop ? stop(event) : false;\n    }\n    ignoreMutation(mutation) {\n        return mutation.type != \"selection\" || this.widget.spec.ignoreSelection;\n    }\n    destroy() {\n        this.widget.type.destroy(this.dom);\n        super.destroy();\n    }\n    get domAtom() { return true; }\n    get ignoreForSelection() { return !!this.widget.type.spec.relaxedSide; }\n    get side() { return this.widget.type.side; }\n}\nclass CompositionViewDesc extends ViewDesc {\n    constructor(parent, dom, textDOM, text) {\n        super(parent, [], dom, null);\n        this.textDOM = textDOM;\n        this.text = text;\n    }\n    get size() { return this.text.length; }\n    localPosFromDOM(dom, offset) {\n        if (dom != this.textDOM)\n            return this.posAtStart + (offset ? this.size : 0);\n        return this.posAtStart + offset;\n    }\n    domFromPos(pos) {\n        return { node: this.textDOM, offset: pos };\n    }\n    ignoreMutation(mut) {\n        return mut.type === 'characterData' && mut.target.nodeValue == mut.oldValue;\n    }\n}\n// A mark desc represents a mark. May have multiple children,\n// depending on how the mark is split. Note that marks are drawn using\n// a fixed nesting order, for simplicity and predictability, so in\n// some cases they will be split more often than would appear\n// necessary.\nclass MarkViewDesc extends ViewDesc {\n    constructor(parent, mark, dom, contentDOM, spec) {\n        super(parent, [], dom, contentDOM);\n        this.mark = mark;\n        this.spec = spec;\n    }\n    static create(parent, mark, inline, view) {\n        let custom = view.nodeViews[mark.type.name];\n        let spec = custom && custom(mark, view, inline);\n        if (!spec || !spec.dom)\n            spec = DOMSerializer.renderSpec(document, mark.type.spec.toDOM(mark, inline), null, mark.attrs);\n        return new MarkViewDesc(parent, mark, spec.dom, spec.contentDOM || spec.dom, spec);\n    }\n    parseRule() {\n        if ((this.dirty & NODE_DIRTY) || this.mark.type.spec.reparseInView)\n            return null;\n        return { mark: this.mark.type.name, attrs: this.mark.attrs, contentElement: this.contentDOM };\n    }\n    matchesMark(mark) { return this.dirty != NODE_DIRTY && this.mark.eq(mark); }\n    markDirty(from, to) {\n        super.markDirty(from, to);\n        // Move dirty info to nearest node view\n        if (this.dirty != NOT_DIRTY) {\n            let parent = this.parent;\n            while (!parent.node)\n                parent = parent.parent;\n            if (parent.dirty < this.dirty)\n                parent.dirty = this.dirty;\n            this.dirty = NOT_DIRTY;\n        }\n    }\n    slice(from, to, view) {\n        let copy = MarkViewDesc.create(this.parent, this.mark, true, view);\n        let nodes = this.children, size = this.size;\n        if (to < size)\n            nodes = replaceNodes(nodes, to, size, view);\n        if (from > 0)\n            nodes = replaceNodes(nodes, 0, from, view);\n        for (let i = 0; i < nodes.length; i++)\n            nodes[i].parent = copy;\n        copy.children = nodes;\n        return copy;\n    }\n    ignoreMutation(mutation) {\n        return this.spec.ignoreMutation ? this.spec.ignoreMutation(mutation) : super.ignoreMutation(mutation);\n    }\n    destroy() {\n        if (this.spec.destroy)\n            this.spec.destroy();\n        super.destroy();\n    }\n}\n// Node view descs are the main, most common type of view desc, and\n// correspond to an actual node in the document. Unlike mark descs,\n// they populate their child array themselves.\nclass NodeViewDesc extends ViewDesc {\n    constructor(parent, node, outerDeco, innerDeco, dom, contentDOM, nodeDOM, view, pos) {\n        super(parent, [], dom, contentDOM);\n        this.node = node;\n        this.outerDeco = outerDeco;\n        this.innerDeco = innerDeco;\n        this.nodeDOM = nodeDOM;\n    }\n    // By default, a node is rendered using the `toDOM` method from the\n    // node type spec. But client code can use the `nodeViews` spec to\n    // supply a custom node view, which can influence various aspects of\n    // the way the node works.\n    //\n    // (Using subclassing for this was intentionally decided against,\n    // since it'd require exposing a whole slew of finicky\n    // implementation details to the user code that they probably will\n    // never need.)\n    static create(parent, node, outerDeco, innerDeco, view, pos) {\n        let custom = view.nodeViews[node.type.name], descObj;\n        let spec = custom && custom(node, view, () => {\n            // (This is a function that allows the custom view to find its\n            // own position)\n            if (!descObj)\n                return pos;\n            if (descObj.parent)\n                return descObj.parent.posBeforeChild(descObj);\n        }, outerDeco, innerDeco);\n        let dom = spec && spec.dom, contentDOM = spec && spec.contentDOM;\n        if (node.isText) {\n            if (!dom)\n                dom = document.createTextNode(node.text);\n            else if (dom.nodeType != 3)\n                throw new RangeError(\"Text must be rendered as a DOM text node\");\n        }\n        else if (!dom) {\n            let spec = DOMSerializer.renderSpec(document, node.type.spec.toDOM(node), null, node.attrs);\n            ({ dom, contentDOM } = spec);\n        }\n        if (!contentDOM && !node.isText && dom.nodeName != \"BR\") { // Chrome gets confused by <br contenteditable=false>\n            if (!dom.hasAttribute(\"contenteditable\"))\n                dom.contentEditable = \"false\";\n            if (node.type.spec.draggable)\n                dom.draggable = true;\n        }\n        let nodeDOM = dom;\n        dom = applyOuterDeco(dom, outerDeco, node);\n        if (spec)\n            return descObj = new CustomNodeViewDesc(parent, node, outerDeco, innerDeco, dom, contentDOM || null, nodeDOM, spec, view, pos + 1);\n        else if (node.isText)\n            return new TextViewDesc(parent, node, outerDeco, innerDeco, dom, nodeDOM, view);\n        else\n            return new NodeViewDesc(parent, node, outerDeco, innerDeco, dom, contentDOM || null, nodeDOM, view, pos + 1);\n    }\n    parseRule() {\n        // Experimental kludge to allow opt-in re-parsing of nodes\n        if (this.node.type.spec.reparseInView)\n            return null;\n        // FIXME the assumption that this can always return the current\n        // attrs means that if the user somehow manages to change the\n        // attrs in the dom, that won't be picked up. Not entirely sure\n        // whether this is a problem\n        let rule = { node: this.node.type.name, attrs: this.node.attrs };\n        if (this.node.type.whitespace == \"pre\")\n            rule.preserveWhitespace = \"full\";\n        if (!this.contentDOM) {\n            rule.getContent = () => this.node.content;\n        }\n        else if (!this.contentLost) {\n            rule.contentElement = this.contentDOM;\n        }\n        else {\n            // Chrome likes to randomly recreate parent nodes when\n            // backspacing things. When that happens, this tries to find the\n            // new parent.\n            for (let i = this.children.length - 1; i >= 0; i--) {\n                let child = this.children[i];\n                if (this.dom.contains(child.dom.parentNode)) {\n                    rule.contentElement = child.dom.parentNode;\n                    break;\n                }\n            }\n            if (!rule.contentElement)\n                rule.getContent = () => Fragment.empty;\n        }\n        return rule;\n    }\n    matchesNode(node, outerDeco, innerDeco) {\n        return this.dirty == NOT_DIRTY && node.eq(this.node) &&\n            sameOuterDeco(outerDeco, this.outerDeco) && innerDeco.eq(this.innerDeco);\n    }\n    get size() { return this.node.nodeSize; }\n    get border() { return this.node.isLeaf ? 0 : 1; }\n    // Syncs `this.children` to match `this.node.content` and the local\n    // decorations, possibly introducing nesting for marks. Then, in a\n    // separate step, syncs the DOM inside `this.contentDOM` to\n    // `this.children`.\n    updateChildren(view, pos) {\n        let inline = this.node.inlineContent, off = pos;\n        let composition = view.composing ? this.localCompositionInfo(view, pos) : null;\n        let localComposition = composition && composition.pos > -1 ? composition : null;\n        let compositionInChild = composition && composition.pos < 0;\n        let updater = new ViewTreeUpdater(this, localComposition && localComposition.node, view);\n        iterDeco(this.node, this.innerDeco, (widget, i, insideNode) => {\n            if (widget.spec.marks)\n                updater.syncToMarks(widget.spec.marks, inline, view, i);\n            else if (widget.type.side >= 0 && !insideNode)\n                updater.syncToMarks(i == this.node.childCount ? Mark.none : this.node.child(i).marks, inline, view, i);\n            // If the next node is a desc matching this widget, reuse it,\n            // otherwise insert the widget as a new view desc.\n            updater.placeWidget(widget, view, off);\n        }, (child, outerDeco, innerDeco, i) => {\n            // Make sure the wrapping mark descs match the node's marks.\n            updater.syncToMarks(child.marks, inline, view, i);\n            // Try several strategies for drawing this node\n            let compIndex;\n            if (updater.findNodeMatch(child, outerDeco, innerDeco, i)) ;\n            else if (compositionInChild && view.state.selection.from > off &&\n                view.state.selection.to < off + child.nodeSize &&\n                (compIndex = updater.findIndexWithChild(composition.node)) > -1 &&\n                updater.updateNodeAt(child, outerDeco, innerDeco, compIndex, view)) ;\n            else if (updater.updateNextNode(child, outerDeco, innerDeco, view, i, off)) ;\n            else {\n                // Add it as a new view\n                updater.addNode(child, outerDeco, innerDeco, view, off);\n            }\n            off += child.nodeSize;\n        });\n        // Drop all remaining descs after the current position.\n        updater.syncToMarks([], inline, view, 0);\n        if (this.node.isTextblock)\n            updater.addTextblockHacks();\n        updater.destroyRest();\n        // Sync the DOM if anything changed\n        if (updater.changed || this.dirty == CONTENT_DIRTY) {\n            // May have to protect focused DOM from being changed if a composition is active\n            if (localComposition)\n                this.protectLocalComposition(view, localComposition);\n            renderDescs(this.contentDOM, this.children, view);\n            if (ios)\n                iosHacks(this.dom);\n        }\n    }\n    localCompositionInfo(view, pos) {\n        // Only do something if both the selection and a focused text node\n        // are inside of this node\n        let { from, to } = view.state.selection;\n        if (!(view.state.selection instanceof TextSelection) || from < pos || to > pos + this.node.content.size)\n            return null;\n        let textNode = view.input.compositionNode;\n        if (!textNode || !this.dom.contains(textNode.parentNode))\n            return null;\n        if (this.node.inlineContent) {\n            // Find the text in the focused node in the node, stop if it's not\n            // there (may have been modified through other means, in which\n            // case it should overwritten)\n            let text = textNode.nodeValue;\n            let textPos = findTextInFragment(this.node.content, text, from - pos, to - pos);\n            return textPos < 0 ? null : { node: textNode, pos: textPos, text };\n        }\n        else {\n            return { node: textNode, pos: -1, text: \"\" };\n        }\n    }\n    protectLocalComposition(view, { node, pos, text }) {\n        // The node is already part of a local view desc, leave it there\n        if (this.getDesc(node))\n            return;\n        // Create a composition view for the orphaned nodes\n        let topNode = node;\n        for (;; topNode = topNode.parentNode) {\n            if (topNode.parentNode == this.contentDOM)\n                break;\n            while (topNode.previousSibling)\n                topNode.parentNode.removeChild(topNode.previousSibling);\n            while (topNode.nextSibling)\n                topNode.parentNode.removeChild(topNode.nextSibling);\n            if (topNode.pmViewDesc)\n                topNode.pmViewDesc = undefined;\n        }\n        let desc = new CompositionViewDesc(this, topNode, node, text);\n        view.input.compositionNodes.push(desc);\n        // Patch up this.children to contain the composition view\n        this.children = replaceNodes(this.children, pos, pos + text.length, view, desc);\n    }\n    // If this desc must be updated to match the given node decoration,\n    // do so and return true.\n    update(node, outerDeco, innerDeco, view) {\n        if (this.dirty == NODE_DIRTY ||\n            !node.sameMarkup(this.node))\n            return false;\n        this.updateInner(node, outerDeco, innerDeco, view);\n        return true;\n    }\n    updateInner(node, outerDeco, innerDeco, view) {\n        this.updateOuterDeco(outerDeco);\n        this.node = node;\n        this.innerDeco = innerDeco;\n        if (this.contentDOM)\n            this.updateChildren(view, this.posAtStart);\n        this.dirty = NOT_DIRTY;\n    }\n    updateOuterDeco(outerDeco) {\n        if (sameOuterDeco(outerDeco, this.outerDeco))\n            return;\n        let needsWrap = this.nodeDOM.nodeType != 1;\n        let oldDOM = this.dom;\n        this.dom = patchOuterDeco(this.dom, this.nodeDOM, computeOuterDeco(this.outerDeco, this.node, needsWrap), computeOuterDeco(outerDeco, this.node, needsWrap));\n        if (this.dom != oldDOM) {\n            oldDOM.pmViewDesc = undefined;\n            this.dom.pmViewDesc = this;\n        }\n        this.outerDeco = outerDeco;\n    }\n    // Mark this node as being the selected node.\n    selectNode() {\n        if (this.nodeDOM.nodeType == 1) {\n            this.nodeDOM.classList.add(\"ProseMirror-selectednode\");\n            if (this.contentDOM || !this.node.type.spec.draggable)\n                this.nodeDOM.draggable = true;\n        }\n    }\n    // Remove selected node marking from this node.\n    deselectNode() {\n        if (this.nodeDOM.nodeType == 1) {\n            this.nodeDOM.classList.remove(\"ProseMirror-selectednode\");\n            if (this.contentDOM || !this.node.type.spec.draggable)\n                this.nodeDOM.removeAttribute(\"draggable\");\n        }\n    }\n    get domAtom() { return this.node.isAtom; }\n}\n// Create a view desc for the top-level document node, to be exported\n// and used by the view class.\nfunction docViewDesc(doc, outerDeco, innerDeco, dom, view) {\n    applyOuterDeco(dom, outerDeco, doc);\n    let docView = new NodeViewDesc(undefined, doc, outerDeco, innerDeco, dom, dom, dom, view, 0);\n    if (docView.contentDOM)\n        docView.updateChildren(view, 0);\n    return docView;\n}\nclass TextViewDesc extends NodeViewDesc {\n    constructor(parent, node, outerDeco, innerDeco, dom, nodeDOM, view) {\n        super(parent, node, outerDeco, innerDeco, dom, null, nodeDOM, view, 0);\n    }\n    parseRule() {\n        let skip = this.nodeDOM.parentNode;\n        while (skip && skip != this.dom && !skip.pmIsDeco)\n            skip = skip.parentNode;\n        return { skip: (skip || true) };\n    }\n    update(node, outerDeco, innerDeco, view) {\n        if (this.dirty == NODE_DIRTY || (this.dirty != NOT_DIRTY && !this.inParent()) ||\n            !node.sameMarkup(this.node))\n            return false;\n        this.updateOuterDeco(outerDeco);\n        if ((this.dirty != NOT_DIRTY || node.text != this.node.text) && node.text != this.nodeDOM.nodeValue) {\n            this.nodeDOM.nodeValue = node.text;\n            if (view.trackWrites == this.nodeDOM)\n                view.trackWrites = null;\n        }\n        this.node = node;\n        this.dirty = NOT_DIRTY;\n        return true;\n    }\n    inParent() {\n        let parentDOM = this.parent.contentDOM;\n        for (let n = this.nodeDOM; n; n = n.parentNode)\n            if (n == parentDOM)\n                return true;\n        return false;\n    }\n    domFromPos(pos) {\n        return { node: this.nodeDOM, offset: pos };\n    }\n    localPosFromDOM(dom, offset, bias) {\n        if (dom == this.nodeDOM)\n            return this.posAtStart + Math.min(offset, this.node.text.length);\n        return super.localPosFromDOM(dom, offset, bias);\n    }\n    ignoreMutation(mutation) {\n        return mutation.type != \"characterData\" && mutation.type != \"selection\";\n    }\n    slice(from, to, view) {\n        let node = this.node.cut(from, to), dom = document.createTextNode(node.text);\n        return new TextViewDesc(this.parent, node, this.outerDeco, this.innerDeco, dom, dom, view);\n    }\n    markDirty(from, to) {\n        super.markDirty(from, to);\n        if (this.dom != this.nodeDOM && (from == 0 || to == this.nodeDOM.nodeValue.length))\n            this.dirty = NODE_DIRTY;\n    }\n    get domAtom() { return false; }\n    isText(text) { return this.node.text == text; }\n}\n// A dummy desc used to tag trailing BR or IMG nodes created to work\n// around contentEditable terribleness.\nclass TrailingHackViewDesc extends ViewDesc {\n    parseRule() { return { ignore: true }; }\n    matchesHack(nodeName) { return this.dirty == NOT_DIRTY && this.dom.nodeName == nodeName; }\n    get domAtom() { return true; }\n    get ignoreForCoords() { return this.dom.nodeName == \"IMG\"; }\n}\n// A separate subclass is used for customized node views, so that the\n// extra checks only have to be made for nodes that are actually\n// customized.\nclass CustomNodeViewDesc extends NodeViewDesc {\n    constructor(parent, node, outerDeco, innerDeco, dom, contentDOM, nodeDOM, spec, view, pos) {\n        super(parent, node, outerDeco, innerDeco, dom, contentDOM, nodeDOM, view, pos);\n        this.spec = spec;\n    }\n    // A custom `update` method gets to decide whether the update goes\n    // through. If it does, and there's a `contentDOM` node, our logic\n    // updates the children.\n    update(node, outerDeco, innerDeco, view) {\n        if (this.dirty == NODE_DIRTY)\n            return false;\n        if (this.spec.update && (this.node.type == node.type || this.spec.multiType)) {\n            let result = this.spec.update(node, outerDeco, innerDeco);\n            if (result)\n                this.updateInner(node, outerDeco, innerDeco, view);\n            return result;\n        }\n        else if (!this.contentDOM && !node.isLeaf) {\n            return false;\n        }\n        else {\n            return super.update(node, outerDeco, innerDeco, view);\n        }\n    }\n    selectNode() {\n        this.spec.selectNode ? this.spec.selectNode() : super.selectNode();\n    }\n    deselectNode() {\n        this.spec.deselectNode ? this.spec.deselectNode() : super.deselectNode();\n    }\n    setSelection(anchor, head, view, force) {\n        this.spec.setSelection ? this.spec.setSelection(anchor, head, view.root)\n            : super.setSelection(anchor, head, view, force);\n    }\n    destroy() {\n        if (this.spec.destroy)\n            this.spec.destroy();\n        super.destroy();\n    }\n    stopEvent(event) {\n        return this.spec.stopEvent ? this.spec.stopEvent(event) : false;\n    }\n    ignoreMutation(mutation) {\n        return this.spec.ignoreMutation ? this.spec.ignoreMutation(mutation) : super.ignoreMutation(mutation);\n    }\n}\n// Sync the content of the given DOM node with the nodes associated\n// with the given array of view descs, recursing into mark descs\n// because this should sync the subtree for a whole node at a time.\nfunction renderDescs(parentDOM, descs, view) {\n    let dom = parentDOM.firstChild, written = false;\n    for (let i = 0; i < descs.length; i++) {\n        let desc = descs[i], childDOM = desc.dom;\n        if (childDOM.parentNode == parentDOM) {\n            while (childDOM != dom) {\n                dom = rm(dom);\n                written = true;\n            }\n            dom = dom.nextSibling;\n        }\n        else {\n            written = true;\n            parentDOM.insertBefore(childDOM, dom);\n        }\n        if (desc instanceof MarkViewDesc) {\n            let pos = dom ? dom.previousSibling : parentDOM.lastChild;\n            renderDescs(desc.contentDOM, desc.children, view);\n            dom = pos ? pos.nextSibling : parentDOM.firstChild;\n        }\n    }\n    while (dom) {\n        dom = rm(dom);\n        written = true;\n    }\n    if (written && view.trackWrites == parentDOM)\n        view.trackWrites = null;\n}\nconst OuterDecoLevel = function (nodeName) {\n    if (nodeName)\n        this.nodeName = nodeName;\n};\nOuterDecoLevel.prototype = Object.create(null);\nconst noDeco = [new OuterDecoLevel];\nfunction computeOuterDeco(outerDeco, node, needsWrap) {\n    if (outerDeco.length == 0)\n        return noDeco;\n    let top = needsWrap ? noDeco[0] : new OuterDecoLevel, result = [top];\n    for (let i = 0; i < outerDeco.length; i++) {\n        let attrs = outerDeco[i].type.attrs;\n        if (!attrs)\n            continue;\n        if (attrs.nodeName)\n            result.push(top = new OuterDecoLevel(attrs.nodeName));\n        for (let name in attrs) {\n            let val = attrs[name];\n            if (val == null)\n                continue;\n            if (needsWrap && result.length == 1)\n                result.push(top = new OuterDecoLevel(node.isInline ? \"span\" : \"div\"));\n            if (name == \"class\")\n                top.class = (top.class ? top.class + \" \" : \"\") + val;\n            else if (name == \"style\")\n                top.style = (top.style ? top.style + \";\" : \"\") + val;\n            else if (name != \"nodeName\")\n                top[name] = val;\n        }\n    }\n    return result;\n}\nfunction patchOuterDeco(outerDOM, nodeDOM, prevComputed, curComputed) {\n    // Shortcut for trivial case\n    if (prevComputed == noDeco && curComputed == noDeco)\n        return nodeDOM;\n    let curDOM = nodeDOM;\n    for (let i = 0; i < curComputed.length; i++) {\n        let deco = curComputed[i], prev = prevComputed[i];\n        if (i) {\n            let parent;\n            if (prev && prev.nodeName == deco.nodeName && curDOM != outerDOM &&\n                (parent = curDOM.parentNode) && parent.nodeName.toLowerCase() == deco.nodeName) {\n                curDOM = parent;\n            }\n            else {\n                parent = document.createElement(deco.nodeName);\n                parent.pmIsDeco = true;\n                parent.appendChild(curDOM);\n                prev = noDeco[0];\n                curDOM = parent;\n            }\n        }\n        patchAttributes(curDOM, prev || noDeco[0], deco);\n    }\n    return curDOM;\n}\nfunction patchAttributes(dom, prev, cur) {\n    for (let name in prev)\n        if (name != \"class\" && name != \"style\" && name != \"nodeName\" && !(name in cur))\n            dom.removeAttribute(name);\n    for (let name in cur)\n        if (name != \"class\" && name != \"style\" && name != \"nodeName\" && cur[name] != prev[name])\n            dom.setAttribute(name, cur[name]);\n    if (prev.class != cur.class) {\n        let prevList = prev.class ? prev.class.split(\" \").filter(Boolean) : [];\n        let curList = cur.class ? cur.class.split(\" \").filter(Boolean) : [];\n        for (let i = 0; i < prevList.length; i++)\n            if (curList.indexOf(prevList[i]) == -1)\n                dom.classList.remove(prevList[i]);\n        for (let i = 0; i < curList.length; i++)\n            if (prevList.indexOf(curList[i]) == -1)\n                dom.classList.add(curList[i]);\n        if (dom.classList.length == 0)\n            dom.removeAttribute(\"class\");\n    }\n    if (prev.style != cur.style) {\n        if (prev.style) {\n            let prop = /\\s*([\\w\\-\\xa1-\\uffff]+)\\s*:(?:\"(?:\\\\.|[^\"])*\"|'(?:\\\\.|[^'])*'|\\(.*?\\)|[^;])*/g, m;\n            while (m = prop.exec(prev.style))\n                dom.style.removeProperty(m[1]);\n        }\n        if (cur.style)\n            dom.style.cssText += cur.style;\n    }\n}\nfunction applyOuterDeco(dom, deco, node) {\n    return patchOuterDeco(dom, dom, noDeco, computeOuterDeco(deco, node, dom.nodeType != 1));\n}\nfunction sameOuterDeco(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!a[i].type.eq(b[i].type))\n            return false;\n    return true;\n}\n// Remove a DOM node and return its next sibling.\nfunction rm(dom) {\n    let next = dom.nextSibling;\n    dom.parentNode.removeChild(dom);\n    return next;\n}\n// Helper class for incrementally updating a tree of mark descs and\n// the widget and node descs inside of them.\nclass ViewTreeUpdater {\n    constructor(top, lock, view) {\n        this.lock = lock;\n        this.view = view;\n        // Index into `this.top`'s child array, represents the current\n        // update position.\n        this.index = 0;\n        // When entering a mark, the current top and index are pushed\n        // onto this.\n        this.stack = [];\n        // Tracks whether anything was changed\n        this.changed = false;\n        this.top = top;\n        this.preMatch = preMatch(top.node.content, top);\n    }\n    // Destroy and remove the children between the given indices in\n    // `this.top`.\n    destroyBetween(start, end) {\n        if (start == end)\n            return;\n        for (let i = start; i < end; i++)\n            this.top.children[i].destroy();\n        this.top.children.splice(start, end - start);\n        this.changed = true;\n    }\n    // Destroy all remaining children in `this.top`.\n    destroyRest() {\n        this.destroyBetween(this.index, this.top.children.length);\n    }\n    // Sync the current stack of mark descs with the given array of\n    // marks, reusing existing mark descs when possible.\n    syncToMarks(marks, inline, view, parentIndex) {\n        let keep = 0, depth = this.stack.length >> 1;\n        let maxKeep = Math.min(depth, marks.length);\n        while (keep < maxKeep &&\n            (keep == depth - 1 ? this.top : this.stack[(keep + 1) << 1])\n                .matchesMark(marks[keep]) && marks[keep].type.spec.spanning !== false)\n            keep++;\n        while (keep < depth) {\n            this.destroyRest();\n            this.top.dirty = NOT_DIRTY;\n            this.index = this.stack.pop();\n            this.top = this.stack.pop();\n            depth--;\n        }\n        while (depth < marks.length) {\n            this.stack.push(this.top, this.index + 1);\n            let found = -1, scanTo = this.top.children.length;\n            if (parentIndex < this.preMatch.index)\n                scanTo = Math.min(this.index + 3, scanTo);\n            for (let i = this.index; i < scanTo; i++) {\n                let next = this.top.children[i];\n                if (next.matchesMark(marks[depth]) && !this.isLocked(next.dom)) {\n                    found = i;\n                    break;\n                }\n            }\n            if (found > -1) {\n                if (found > this.index) {\n                    this.changed = true;\n                    this.destroyBetween(this.index, found);\n                }\n                this.top = this.top.children[this.index];\n            }\n            else {\n                let markDesc = MarkViewDesc.create(this.top, marks[depth], inline, view);\n                this.top.children.splice(this.index, 0, markDesc);\n                this.top = markDesc;\n                this.changed = true;\n            }\n            this.index = 0;\n            depth++;\n        }\n    }\n    // Try to find a node desc matching the given data. Skip over it and\n    // return true when successful.\n    findNodeMatch(node, outerDeco, innerDeco, index) {\n        let found = -1, targetDesc;\n        if (index >= this.preMatch.index &&\n            (targetDesc = this.preMatch.matches[index - this.preMatch.index]).parent == this.top &&\n            targetDesc.matchesNode(node, outerDeco, innerDeco)) {\n            found = this.top.children.indexOf(targetDesc, this.index);\n        }\n        else {\n            for (let i = this.index, e = Math.min(this.top.children.length, i + 5); i < e; i++) {\n                let child = this.top.children[i];\n                if (child.matchesNode(node, outerDeco, innerDeco) && !this.preMatch.matched.has(child)) {\n                    found = i;\n                    break;\n                }\n            }\n        }\n        if (found < 0)\n            return false;\n        this.destroyBetween(this.index, found);\n        this.index++;\n        return true;\n    }\n    updateNodeAt(node, outerDeco, innerDeco, index, view) {\n        let child = this.top.children[index];\n        if (child.dirty == NODE_DIRTY && child.dom == child.contentDOM)\n            child.dirty = CONTENT_DIRTY;\n        if (!child.update(node, outerDeco, innerDeco, view))\n            return false;\n        this.destroyBetween(this.index, index);\n        this.index++;\n        return true;\n    }\n    findIndexWithChild(domNode) {\n        for (;;) {\n            let parent = domNode.parentNode;\n            if (!parent)\n                return -1;\n            if (parent == this.top.contentDOM) {\n                let desc = domNode.pmViewDesc;\n                if (desc)\n                    for (let i = this.index; i < this.top.children.length; i++) {\n                        if (this.top.children[i] == desc)\n                            return i;\n                    }\n                return -1;\n            }\n            domNode = parent;\n        }\n    }\n    // Try to update the next node, if any, to the given data. Checks\n    // pre-matches to avoid overwriting nodes that could still be used.\n    updateNextNode(node, outerDeco, innerDeco, view, index, pos) {\n        for (let i = this.index; i < this.top.children.length; i++) {\n            let next = this.top.children[i];\n            if (next instanceof NodeViewDesc) {\n                let preMatch = this.preMatch.matched.get(next);\n                if (preMatch != null && preMatch != index)\n                    return false;\n                let nextDOM = next.dom, updated;\n                // Can't update if nextDOM is or contains this.lock, except if\n                // it's a text node whose content already matches the new text\n                // and whose decorations match the new ones.\n                let locked = this.isLocked(nextDOM) &&\n                    !(node.isText && next.node && next.node.isText && next.nodeDOM.nodeValue == node.text &&\n                        next.dirty != NODE_DIRTY && sameOuterDeco(outerDeco, next.outerDeco));\n                if (!locked && next.update(node, outerDeco, innerDeco, view)) {\n                    this.destroyBetween(this.index, i);\n                    if (next.dom != nextDOM)\n                        this.changed = true;\n                    this.index++;\n                    return true;\n                }\n                else if (!locked && (updated = this.recreateWrapper(next, node, outerDeco, innerDeco, view, pos))) {\n                    this.destroyBetween(this.index, i);\n                    this.top.children[this.index] = updated;\n                    if (updated.contentDOM) {\n                        updated.dirty = CONTENT_DIRTY;\n                        updated.updateChildren(view, pos + 1);\n                        updated.dirty = NOT_DIRTY;\n                    }\n                    this.changed = true;\n                    this.index++;\n                    return true;\n                }\n                break;\n            }\n        }\n        return false;\n    }\n    // When a node with content is replaced by a different node with\n    // identical content, move over its children.\n    recreateWrapper(next, node, outerDeco, innerDeco, view, pos) {\n        if (next.dirty || node.isAtom || !next.children.length ||\n            !next.node.content.eq(node.content) ||\n            !sameOuterDeco(outerDeco, next.outerDeco) || !innerDeco.eq(next.innerDeco))\n            return null;\n        let wrapper = NodeViewDesc.create(this.top, node, outerDeco, innerDeco, view, pos);\n        if (wrapper.contentDOM) {\n            wrapper.children = next.children;\n            next.children = [];\n            for (let ch of wrapper.children)\n                ch.parent = wrapper;\n        }\n        next.destroy();\n        return wrapper;\n    }\n    // Insert the node as a newly created node desc.\n    addNode(node, outerDeco, innerDeco, view, pos) {\n        let desc = NodeViewDesc.create(this.top, node, outerDeco, innerDeco, view, pos);\n        if (desc.contentDOM)\n            desc.updateChildren(view, pos + 1);\n        this.top.children.splice(this.index++, 0, desc);\n        this.changed = true;\n    }\n    placeWidget(widget, view, pos) {\n        let next = this.index < this.top.children.length ? this.top.children[this.index] : null;\n        if (next && next.matchesWidget(widget) &&\n            (widget == next.widget || !next.widget.type.toDOM.parentNode)) {\n            this.index++;\n        }\n        else {\n            let desc = new WidgetViewDesc(this.top, widget, view, pos);\n            this.top.children.splice(this.index++, 0, desc);\n            this.changed = true;\n        }\n    }\n    // Make sure a textblock looks and behaves correctly in\n    // contentEditable.\n    addTextblockHacks() {\n        let lastChild = this.top.children[this.index - 1], parent = this.top;\n        while (lastChild instanceof MarkViewDesc) {\n            parent = lastChild;\n            lastChild = parent.children[parent.children.length - 1];\n        }\n        if (!lastChild || // Empty textblock\n            !(lastChild instanceof TextViewDesc) ||\n            /\\n$/.test(lastChild.node.text) ||\n            (this.view.requiresGeckoHackNode && /\\s$/.test(lastChild.node.text))) {\n            // Avoid bugs in Safari's cursor drawing (#1165) and Chrome's mouse selection (#1152)\n            if ((safari || chrome) && lastChild && lastChild.dom.contentEditable == \"false\")\n                this.addHackNode(\"IMG\", parent);\n            this.addHackNode(\"BR\", this.top);\n        }\n    }\n    addHackNode(nodeName, parent) {\n        if (parent == this.top && this.index < parent.children.length && parent.children[this.index].matchesHack(nodeName)) {\n            this.index++;\n        }\n        else {\n            let dom = document.createElement(nodeName);\n            if (nodeName == \"IMG\") {\n                dom.className = \"ProseMirror-separator\";\n                dom.alt = \"\";\n            }\n            if (nodeName == \"BR\")\n                dom.className = \"ProseMirror-trailingBreak\";\n            let hack = new TrailingHackViewDesc(this.top, [], dom, null);\n            if (parent != this.top)\n                parent.children.push(hack);\n            else\n                parent.children.splice(this.index++, 0, hack);\n            this.changed = true;\n        }\n    }\n    isLocked(node) {\n        return this.lock && (node == this.lock || node.nodeType == 1 && node.contains(this.lock.parentNode));\n    }\n}\n// Iterate from the end of the fragment and array of descs to find\n// directly matching ones, in order to avoid overeagerly reusing those\n// for other nodes.\nfunction preMatch(frag, parentDesc) {\n    let curDesc = parentDesc, descI = curDesc.children.length;\n    let fI = frag.childCount, matched = new Map, matches = [];\n    outer: while (fI > 0) {\n        let desc;\n        for (;;) {\n            if (descI) {\n                let next = curDesc.children[descI - 1];\n                if (next instanceof MarkViewDesc) {\n                    curDesc = next;\n                    descI = next.children.length;\n                }\n                else {\n                    desc = next;\n                    descI--;\n                    break;\n                }\n            }\n            else if (curDesc == parentDesc) {\n                break outer;\n            }\n            else {\n                descI = curDesc.parent.children.indexOf(curDesc);\n                curDesc = curDesc.parent;\n            }\n        }\n        let node = desc.node;\n        if (!node)\n            continue;\n        if (node != frag.child(fI - 1))\n            break;\n        --fI;\n        matched.set(desc, fI);\n        matches.push(desc);\n    }\n    return { index: fI, matched, matches: matches.reverse() };\n}\nfunction compareSide(a, b) {\n    return a.type.side - b.type.side;\n}\n// This function abstracts iterating over the nodes and decorations in\n// a fragment. Calls `onNode` for each node, with its local and child\n// decorations. Splits text nodes when there is a decoration starting\n// or ending inside of them. Calls `onWidget` for each widget.\nfunction iterDeco(parent, deco, onWidget, onNode) {\n    let locals = deco.locals(parent), offset = 0;\n    // Simple, cheap variant for when there are no local decorations\n    if (locals.length == 0) {\n        for (let i = 0; i < parent.childCount; i++) {\n            let child = parent.child(i);\n            onNode(child, locals, deco.forChild(offset, child), i);\n            offset += child.nodeSize;\n        }\n        return;\n    }\n    let decoIndex = 0, active = [], restNode = null;\n    for (let parentIndex = 0;;) {\n        let widget, widgets;\n        while (decoIndex < locals.length && locals[decoIndex].to == offset) {\n            let next = locals[decoIndex++];\n            if (next.widget) {\n                if (!widget)\n                    widget = next;\n                else\n                    (widgets || (widgets = [widget])).push(next);\n            }\n        }\n        if (widget) {\n            if (widgets) {\n                widgets.sort(compareSide);\n                for (let i = 0; i < widgets.length; i++)\n                    onWidget(widgets[i], parentIndex, !!restNode);\n            }\n            else {\n                onWidget(widget, parentIndex, !!restNode);\n            }\n        }\n        let child, index;\n        if (restNode) {\n            index = -1;\n            child = restNode;\n            restNode = null;\n        }\n        else if (parentIndex < parent.childCount) {\n            index = parentIndex;\n            child = parent.child(parentIndex++);\n        }\n        else {\n            break;\n        }\n        for (let i = 0; i < active.length; i++)\n            if (active[i].to <= offset)\n                active.splice(i--, 1);\n        while (decoIndex < locals.length && locals[decoIndex].from <= offset && locals[decoIndex].to > offset)\n            active.push(locals[decoIndex++]);\n        let end = offset + child.nodeSize;\n        if (child.isText) {\n            let cutAt = end;\n            if (decoIndex < locals.length && locals[decoIndex].from < cutAt)\n                cutAt = locals[decoIndex].from;\n            for (let i = 0; i < active.length; i++)\n                if (active[i].to < cutAt)\n                    cutAt = active[i].to;\n            if (cutAt < end) {\n                restNode = child.cut(cutAt - offset);\n                child = child.cut(0, cutAt - offset);\n                end = cutAt;\n                index = -1;\n            }\n        }\n        else {\n            while (decoIndex < locals.length && locals[decoIndex].to < end)\n                decoIndex++;\n        }\n        let outerDeco = child.isInline && !child.isLeaf ? active.filter(d => !d.inline) : active.slice();\n        onNode(child, outerDeco, deco.forChild(offset, child), index);\n        offset = end;\n    }\n}\n// List markers in Mobile Safari will mysteriously disappear\n// sometimes. This works around that.\nfunction iosHacks(dom) {\n    if (dom.nodeName == \"UL\" || dom.nodeName == \"OL\") {\n        let oldCSS = dom.style.cssText;\n        dom.style.cssText = oldCSS + \"; list-style: square !important\";\n        window.getComputedStyle(dom).listStyle;\n        dom.style.cssText = oldCSS;\n    }\n}\n// Find a piece of text in an inline fragment, overlapping from-to\nfunction findTextInFragment(frag, text, from, to) {\n    for (let i = 0, pos = 0; i < frag.childCount && pos <= to;) {\n        let child = frag.child(i++), childStart = pos;\n        pos += child.nodeSize;\n        if (!child.isText)\n            continue;\n        let str = child.text;\n        while (i < frag.childCount) {\n            let next = frag.child(i++);\n            pos += next.nodeSize;\n            if (!next.isText)\n                break;\n            str += next.text;\n        }\n        if (pos >= from) {\n            if (pos >= to && str.slice(to - text.length - childStart, to - childStart) == text)\n                return to - text.length;\n            let found = childStart < to ? str.lastIndexOf(text, to - childStart - 1) : -1;\n            if (found >= 0 && found + text.length + childStart >= from)\n                return childStart + found;\n            if (from == to && str.length >= (to + text.length) - childStart &&\n                str.slice(to - childStart, to - childStart + text.length) == text)\n                return to;\n        }\n    }\n    return -1;\n}\n// Replace range from-to in an array of view descs with replacement\n// (may be null to just delete). This goes very much against the grain\n// of the rest of this code, which tends to create nodes with the\n// right shape in one go, rather than messing with them after\n// creation, but is necessary in the composition hack.\nfunction replaceNodes(nodes, from, to, view, replacement) {\n    let result = [];\n    for (let i = 0, off = 0; i < nodes.length; i++) {\n        let child = nodes[i], start = off, end = off += child.size;\n        if (start >= to || end <= from) {\n            result.push(child);\n        }\n        else {\n            if (start < from)\n                result.push(child.slice(0, from - start, view));\n            if (replacement) {\n                result.push(replacement);\n                replacement = undefined;\n            }\n            if (end > to)\n                result.push(child.slice(to - start, child.size, view));\n        }\n    }\n    return result;\n}\n\nfunction selectionFromDOM(view, origin = null) {\n    let domSel = view.domSelectionRange(), doc = view.state.doc;\n    if (!domSel.focusNode)\n        return null;\n    let nearestDesc = view.docView.nearestDesc(domSel.focusNode), inWidget = nearestDesc && nearestDesc.size == 0;\n    let head = view.docView.posFromDOM(domSel.focusNode, domSel.focusOffset, 1);\n    if (head < 0)\n        return null;\n    let $head = doc.resolve(head), anchor, selection;\n    if (selectionCollapsed(domSel)) {\n        anchor = head;\n        while (nearestDesc && !nearestDesc.node)\n            nearestDesc = nearestDesc.parent;\n        let nearestDescNode = nearestDesc.node;\n        if (nearestDesc && nearestDescNode.isAtom && NodeSelection.isSelectable(nearestDescNode) && nearestDesc.parent\n            && !(nearestDescNode.isInline && isOnEdge(domSel.focusNode, domSel.focusOffset, nearestDesc.dom))) {\n            let pos = nearestDesc.posBefore;\n            selection = new NodeSelection(head == pos ? $head : doc.resolve(pos));\n        }\n    }\n    else {\n        if (domSel instanceof view.dom.ownerDocument.defaultView.Selection && domSel.rangeCount > 1) {\n            let min = head, max = head;\n            for (let i = 0; i < domSel.rangeCount; i++) {\n                let range = domSel.getRangeAt(i);\n                min = Math.min(min, view.docView.posFromDOM(range.startContainer, range.startOffset, 1));\n                max = Math.max(max, view.docView.posFromDOM(range.endContainer, range.endOffset, -1));\n            }\n            if (min < 0)\n                return null;\n            [anchor, head] = max == view.state.selection.anchor ? [max, min] : [min, max];\n            $head = doc.resolve(head);\n        }\n        else {\n            anchor = view.docView.posFromDOM(domSel.anchorNode, domSel.anchorOffset, 1);\n        }\n        if (anchor < 0)\n            return null;\n    }\n    let $anchor = doc.resolve(anchor);\n    if (!selection) {\n        let bias = origin == \"pointer\" || (view.state.selection.head < $head.pos && !inWidget) ? 1 : -1;\n        selection = selectionBetween(view, $anchor, $head, bias);\n    }\n    return selection;\n}\nfunction editorOwnsSelection(view) {\n    return view.editable ? view.hasFocus() :\n        hasSelection(view) && document.activeElement && document.activeElement.contains(view.dom);\n}\nfunction selectionToDOM(view, force = false) {\n    let sel = view.state.selection;\n    syncNodeSelection(view, sel);\n    if (!editorOwnsSelection(view))\n        return;\n    // The delayed drag selection causes issues with Cell Selections\n    // in Safari. And the drag selection delay is to workarond issues\n    // which only present in Chrome.\n    if (!force && view.input.mouseDown && view.input.mouseDown.allowDefault && chrome) {\n        let domSel = view.domSelectionRange(), curSel = view.domObserver.currentSelection;\n        if (domSel.anchorNode && curSel.anchorNode &&\n            isEquivalentPosition(domSel.anchorNode, domSel.anchorOffset, curSel.anchorNode, curSel.anchorOffset)) {\n            view.input.mouseDown.delayedSelectionSync = true;\n            view.domObserver.setCurSelection();\n            return;\n        }\n    }\n    view.domObserver.disconnectSelection();\n    if (view.cursorWrapper) {\n        selectCursorWrapper(view);\n    }\n    else {\n        let { anchor, head } = sel, resetEditableFrom, resetEditableTo;\n        if (brokenSelectBetweenUneditable && !(sel instanceof TextSelection)) {\n            if (!sel.$from.parent.inlineContent)\n                resetEditableFrom = temporarilyEditableNear(view, sel.from);\n            if (!sel.empty && !sel.$from.parent.inlineContent)\n                resetEditableTo = temporarilyEditableNear(view, sel.to);\n        }\n        view.docView.setSelection(anchor, head, view, force);\n        if (brokenSelectBetweenUneditable) {\n            if (resetEditableFrom)\n                resetEditable(resetEditableFrom);\n            if (resetEditableTo)\n                resetEditable(resetEditableTo);\n        }\n        if (sel.visible) {\n            view.dom.classList.remove(\"ProseMirror-hideselection\");\n        }\n        else {\n            view.dom.classList.add(\"ProseMirror-hideselection\");\n            if (\"onselectionchange\" in document)\n                removeClassOnSelectionChange(view);\n        }\n    }\n    view.domObserver.setCurSelection();\n    view.domObserver.connectSelection();\n}\n// Kludge to work around Webkit not allowing a selection to start/end\n// between non-editable block nodes. We briefly make something\n// editable, set the selection, then set it uneditable again.\nconst brokenSelectBetweenUneditable = safari || chrome && chrome_version < 63;\nfunction temporarilyEditableNear(view, pos) {\n    let { node, offset } = view.docView.domFromPos(pos, 0);\n    let after = offset < node.childNodes.length ? node.childNodes[offset] : null;\n    let before = offset ? node.childNodes[offset - 1] : null;\n    if (safari && after && after.contentEditable == \"false\")\n        return setEditable(after);\n    if ((!after || after.contentEditable == \"false\") &&\n        (!before || before.contentEditable == \"false\")) {\n        if (after)\n            return setEditable(after);\n        else if (before)\n            return setEditable(before);\n    }\n}\nfunction setEditable(element) {\n    element.contentEditable = \"true\";\n    if (safari && element.draggable) {\n        element.draggable = false;\n        element.wasDraggable = true;\n    }\n    return element;\n}\nfunction resetEditable(element) {\n    element.contentEditable = \"false\";\n    if (element.wasDraggable) {\n        element.draggable = true;\n        element.wasDraggable = null;\n    }\n}\nfunction removeClassOnSelectionChange(view) {\n    let doc = view.dom.ownerDocument;\n    doc.removeEventListener(\"selectionchange\", view.input.hideSelectionGuard);\n    let domSel = view.domSelectionRange();\n    let node = domSel.anchorNode, offset = domSel.anchorOffset;\n    doc.addEventListener(\"selectionchange\", view.input.hideSelectionGuard = () => {\n        if (domSel.anchorNode != node || domSel.anchorOffset != offset) {\n            doc.removeEventListener(\"selectionchange\", view.input.hideSelectionGuard);\n            setTimeout(() => {\n                if (!editorOwnsSelection(view) || view.state.selection.visible)\n                    view.dom.classList.remove(\"ProseMirror-hideselection\");\n            }, 20);\n        }\n    });\n}\nfunction selectCursorWrapper(view) {\n    let domSel = view.domSelection();\n    if (!domSel)\n        return;\n    let node = view.cursorWrapper.dom, img = node.nodeName == \"IMG\";\n    if (img)\n        domSel.collapse(node.parentNode, domIndex(node) + 1);\n    else\n        domSel.collapse(node, 0);\n    // Kludge to kill 'control selection' in IE11 when selecting an\n    // invisible cursor wrapper, since that would result in those weird\n    // resize handles and a selection that considers the absolutely\n    // positioned wrapper, rather than the root editable node, the\n    // focused element.\n    if (!img && !view.state.selection.visible && ie && ie_version <= 11) {\n        node.disabled = true;\n        node.disabled = false;\n    }\n}\nfunction syncNodeSelection(view, sel) {\n    if (sel instanceof NodeSelection) {\n        let desc = view.docView.descAt(sel.from);\n        if (desc != view.lastSelectedViewDesc) {\n            clearNodeSelection(view);\n            if (desc)\n                desc.selectNode();\n            view.lastSelectedViewDesc = desc;\n        }\n    }\n    else {\n        clearNodeSelection(view);\n    }\n}\n// Clear all DOM statefulness of the last node selection.\nfunction clearNodeSelection(view) {\n    if (view.lastSelectedViewDesc) {\n        if (view.lastSelectedViewDesc.parent)\n            view.lastSelectedViewDesc.deselectNode();\n        view.lastSelectedViewDesc = undefined;\n    }\n}\nfunction selectionBetween(view, $anchor, $head, bias) {\n    return view.someProp(\"createSelectionBetween\", f => f(view, $anchor, $head))\n        || TextSelection.between($anchor, $head, bias);\n}\nfunction hasFocusAndSelection(view) {\n    if (view.editable && !view.hasFocus())\n        return false;\n    return hasSelection(view);\n}\nfunction hasSelection(view) {\n    let sel = view.domSelectionRange();\n    if (!sel.anchorNode)\n        return false;\n    try {\n        // Firefox will raise 'permission denied' errors when accessing\n        // properties of `sel.anchorNode` when it's in a generated CSS\n        // element.\n        return view.dom.contains(sel.anchorNode.nodeType == 3 ? sel.anchorNode.parentNode : sel.anchorNode) &&\n            (view.editable || view.dom.contains(sel.focusNode.nodeType == 3 ? sel.focusNode.parentNode : sel.focusNode));\n    }\n    catch (_) {\n        return false;\n    }\n}\nfunction anchorInRightPlace(view) {\n    let anchorDOM = view.docView.domFromPos(view.state.selection.anchor, 0);\n    let domSel = view.domSelectionRange();\n    return isEquivalentPosition(anchorDOM.node, anchorDOM.offset, domSel.anchorNode, domSel.anchorOffset);\n}\n\nfunction moveSelectionBlock(state, dir) {\n    let { $anchor, $head } = state.selection;\n    let $side = dir > 0 ? $anchor.max($head) : $anchor.min($head);\n    let $start = !$side.parent.inlineContent ? $side : $side.depth ? state.doc.resolve(dir > 0 ? $side.after() : $side.before()) : null;\n    return $start && Selection.findFrom($start, dir);\n}\nfunction apply(view, sel) {\n    view.dispatch(view.state.tr.setSelection(sel).scrollIntoView());\n    return true;\n}\nfunction selectHorizontally(view, dir, mods) {\n    let sel = view.state.selection;\n    if (sel instanceof TextSelection) {\n        if (mods.indexOf(\"s\") > -1) {\n            let { $head } = sel, node = $head.textOffset ? null : dir < 0 ? $head.nodeBefore : $head.nodeAfter;\n            if (!node || node.isText || !node.isLeaf)\n                return false;\n            let $newHead = view.state.doc.resolve($head.pos + node.nodeSize * (dir < 0 ? -1 : 1));\n            return apply(view, new TextSelection(sel.$anchor, $newHead));\n        }\n        else if (!sel.empty) {\n            return false;\n        }\n        else if (view.endOfTextblock(dir > 0 ? \"forward\" : \"backward\")) {\n            let next = moveSelectionBlock(view.state, dir);\n            if (next && (next instanceof NodeSelection))\n                return apply(view, next);\n            return false;\n        }\n        else if (!(mac && mods.indexOf(\"m\") > -1)) {\n            let $head = sel.$head, node = $head.textOffset ? null : dir < 0 ? $head.nodeBefore : $head.nodeAfter, desc;\n            if (!node || node.isText)\n                return false;\n            let nodePos = dir < 0 ? $head.pos - node.nodeSize : $head.pos;\n            if (!(node.isAtom || (desc = view.docView.descAt(nodePos)) && !desc.contentDOM))\n                return false;\n            if (NodeSelection.isSelectable(node)) {\n                return apply(view, new NodeSelection(dir < 0 ? view.state.doc.resolve($head.pos - node.nodeSize) : $head));\n            }\n            else if (webkit) {\n                // Chrome and Safari will introduce extra pointless cursor\n                // positions around inline uneditable nodes, so we have to\n                // take over and move the cursor past them (#937)\n                return apply(view, new TextSelection(view.state.doc.resolve(dir < 0 ? nodePos : nodePos + node.nodeSize)));\n            }\n            else {\n                return false;\n            }\n        }\n    }\n    else if (sel instanceof NodeSelection && sel.node.isInline) {\n        return apply(view, new TextSelection(dir > 0 ? sel.$to : sel.$from));\n    }\n    else {\n        let next = moveSelectionBlock(view.state, dir);\n        if (next)\n            return apply(view, next);\n        return false;\n    }\n}\nfunction nodeLen(node) {\n    return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;\n}\nfunction isIgnorable(dom, dir) {\n    let desc = dom.pmViewDesc;\n    return desc && desc.size == 0 && (dir < 0 || dom.nextSibling || dom.nodeName != \"BR\");\n}\nfunction skipIgnoredNodes(view, dir) {\n    return dir < 0 ? skipIgnoredNodesBefore(view) : skipIgnoredNodesAfter(view);\n}\n// Make sure the cursor isn't directly after one or more ignored\n// nodes, which will confuse the browser's cursor motion logic.\nfunction skipIgnoredNodesBefore(view) {\n    let sel = view.domSelectionRange();\n    let node = sel.focusNode, offset = sel.focusOffset;\n    if (!node)\n        return;\n    let moveNode, moveOffset, force = false;\n    // Gecko will do odd things when the selection is directly in front\n    // of a non-editable node, so in that case, move it into the next\n    // node if possible. Issue prosemirror/prosemirror#832.\n    if (gecko && node.nodeType == 1 && offset < nodeLen(node) && isIgnorable(node.childNodes[offset], -1))\n        force = true;\n    for (;;) {\n        if (offset > 0) {\n            if (node.nodeType != 1) {\n                break;\n            }\n            else {\n                let before = node.childNodes[offset - 1];\n                if (isIgnorable(before, -1)) {\n                    moveNode = node;\n                    moveOffset = --offset;\n                }\n                else if (before.nodeType == 3) {\n                    node = before;\n                    offset = node.nodeValue.length;\n                }\n                else\n                    break;\n            }\n        }\n        else if (isBlockNode(node)) {\n            break;\n        }\n        else {\n            let prev = node.previousSibling;\n            while (prev && isIgnorable(prev, -1)) {\n                moveNode = node.parentNode;\n                moveOffset = domIndex(prev);\n                prev = prev.previousSibling;\n            }\n            if (!prev) {\n                node = node.parentNode;\n                if (node == view.dom)\n                    break;\n                offset = 0;\n            }\n            else {\n                node = prev;\n                offset = nodeLen(node);\n            }\n        }\n    }\n    if (force)\n        setSelFocus(view, node, offset);\n    else if (moveNode)\n        setSelFocus(view, moveNode, moveOffset);\n}\n// Make sure the cursor isn't directly before one or more ignored\n// nodes.\nfunction skipIgnoredNodesAfter(view) {\n    let sel = view.domSelectionRange();\n    let node = sel.focusNode, offset = sel.focusOffset;\n    if (!node)\n        return;\n    let len = nodeLen(node);\n    let moveNode, moveOffset;\n    for (;;) {\n        if (offset < len) {\n            if (node.nodeType != 1)\n                break;\n            let after = node.childNodes[offset];\n            if (isIgnorable(after, 1)) {\n                moveNode = node;\n                moveOffset = ++offset;\n            }\n            else\n                break;\n        }\n        else if (isBlockNode(node)) {\n            break;\n        }\n        else {\n            let next = node.nextSibling;\n            while (next && isIgnorable(next, 1)) {\n                moveNode = next.parentNode;\n                moveOffset = domIndex(next) + 1;\n                next = next.nextSibling;\n            }\n            if (!next) {\n                node = node.parentNode;\n                if (node == view.dom)\n                    break;\n                offset = len = 0;\n            }\n            else {\n                node = next;\n                offset = 0;\n                len = nodeLen(node);\n            }\n        }\n    }\n    if (moveNode)\n        setSelFocus(view, moveNode, moveOffset);\n}\nfunction isBlockNode(dom) {\n    let desc = dom.pmViewDesc;\n    return desc && desc.node && desc.node.isBlock;\n}\nfunction textNodeAfter(node, offset) {\n    while (node && offset == node.childNodes.length && !hasBlockDesc(node)) {\n        offset = domIndex(node) + 1;\n        node = node.parentNode;\n    }\n    while (node && offset < node.childNodes.length) {\n        let next = node.childNodes[offset];\n        if (next.nodeType == 3)\n            return next;\n        if (next.nodeType == 1 && next.contentEditable == \"false\")\n            break;\n        node = next;\n        offset = 0;\n    }\n}\nfunction textNodeBefore(node, offset) {\n    while (node && !offset && !hasBlockDesc(node)) {\n        offset = domIndex(node);\n        node = node.parentNode;\n    }\n    while (node && offset) {\n        let next = node.childNodes[offset - 1];\n        if (next.nodeType == 3)\n            return next;\n        if (next.nodeType == 1 && next.contentEditable == \"false\")\n            break;\n        node = next;\n        offset = node.childNodes.length;\n    }\n}\nfunction setSelFocus(view, node, offset) {\n    if (node.nodeType != 3) {\n        let before, after;\n        if (after = textNodeAfter(node, offset)) {\n            node = after;\n            offset = 0;\n        }\n        else if (before = textNodeBefore(node, offset)) {\n            node = before;\n            offset = before.nodeValue.length;\n        }\n    }\n    let sel = view.domSelection();\n    if (!sel)\n        return;\n    if (selectionCollapsed(sel)) {\n        let range = document.createRange();\n        range.setEnd(node, offset);\n        range.setStart(node, offset);\n        sel.removeAllRanges();\n        sel.addRange(range);\n    }\n    else if (sel.extend) {\n        sel.extend(node, offset);\n    }\n    view.domObserver.setCurSelection();\n    let { state } = view;\n    // If no state update ends up happening, reset the selection.\n    setTimeout(() => {\n        if (view.state == state)\n            selectionToDOM(view);\n    }, 50);\n}\nfunction findDirection(view, pos) {\n    let $pos = view.state.doc.resolve(pos);\n    if (!(chrome || windows) && $pos.parent.inlineContent) {\n        let coords = view.coordsAtPos(pos);\n        if (pos > $pos.start()) {\n            let before = view.coordsAtPos(pos - 1);\n            let mid = (before.top + before.bottom) / 2;\n            if (mid > coords.top && mid < coords.bottom && Math.abs(before.left - coords.left) > 1)\n                return before.left < coords.left ? \"ltr\" : \"rtl\";\n        }\n        if (pos < $pos.end()) {\n            let after = view.coordsAtPos(pos + 1);\n            let mid = (after.top + after.bottom) / 2;\n            if (mid > coords.top && mid < coords.bottom && Math.abs(after.left - coords.left) > 1)\n                return after.left > coords.left ? \"ltr\" : \"rtl\";\n        }\n    }\n    let computed = getComputedStyle(view.dom).direction;\n    return computed == \"rtl\" ? \"rtl\" : \"ltr\";\n}\n// Check whether vertical selection motion would involve node\n// selections. If so, apply it (if not, the result is left to the\n// browser)\nfunction selectVertically(view, dir, mods) {\n    let sel = view.state.selection;\n    if (sel instanceof TextSelection && !sel.empty || mods.indexOf(\"s\") > -1)\n        return false;\n    if (mac && mods.indexOf(\"m\") > -1)\n        return false;\n    let { $from, $to } = sel;\n    if (!$from.parent.inlineContent || view.endOfTextblock(dir < 0 ? \"up\" : \"down\")) {\n        let next = moveSelectionBlock(view.state, dir);\n        if (next && (next instanceof NodeSelection))\n            return apply(view, next);\n    }\n    if (!$from.parent.inlineContent) {\n        let side = dir < 0 ? $from : $to;\n        let beyond = sel instanceof AllSelection ? Selection.near(side, dir) : Selection.findFrom(side, dir);\n        return beyond ? apply(view, beyond) : false;\n    }\n    return false;\n}\nfunction stopNativeHorizontalDelete(view, dir) {\n    if (!(view.state.selection instanceof TextSelection))\n        return true;\n    let { $head, $anchor, empty } = view.state.selection;\n    if (!$head.sameParent($anchor))\n        return true;\n    if (!empty)\n        return false;\n    if (view.endOfTextblock(dir > 0 ? \"forward\" : \"backward\"))\n        return true;\n    let nextNode = !$head.textOffset && (dir < 0 ? $head.nodeBefore : $head.nodeAfter);\n    if (nextNode && !nextNode.isText) {\n        let tr = view.state.tr;\n        if (dir < 0)\n            tr.delete($head.pos - nextNode.nodeSize, $head.pos);\n        else\n            tr.delete($head.pos, $head.pos + nextNode.nodeSize);\n        view.dispatch(tr);\n        return true;\n    }\n    return false;\n}\nfunction switchEditable(view, node, state) {\n    view.domObserver.stop();\n    node.contentEditable = state;\n    view.domObserver.start();\n}\n// Issue #867 / #1090 / https://bugs.chromium.org/p/chromium/issues/detail?id=903821\n// In which Safari (and at some point in the past, Chrome) does really\n// wrong things when the down arrow is pressed when the cursor is\n// directly at the start of a textblock and has an uneditable node\n// after it\nfunction safariDownArrowBug(view) {\n    if (!safari || view.state.selection.$head.parentOffset > 0)\n        return false;\n    let { focusNode, focusOffset } = view.domSelectionRange();\n    if (focusNode && focusNode.nodeType == 1 && focusOffset == 0 &&\n        focusNode.firstChild && focusNode.firstChild.contentEditable == \"false\") {\n        let child = focusNode.firstChild;\n        switchEditable(view, child, \"true\");\n        setTimeout(() => switchEditable(view, child, \"false\"), 20);\n    }\n    return false;\n}\n// A backdrop key mapping used to make sure we always suppress keys\n// that have a dangerous default effect, even if the commands they are\n// bound to return false, and to make sure that cursor-motion keys\n// find a cursor (as opposed to a node selection) when pressed. For\n// cursor-motion keys, the code in the handlers also takes care of\n// block selections.\nfunction getMods(event) {\n    let result = \"\";\n    if (event.ctrlKey)\n        result += \"c\";\n    if (event.metaKey)\n        result += \"m\";\n    if (event.altKey)\n        result += \"a\";\n    if (event.shiftKey)\n        result += \"s\";\n    return result;\n}\nfunction captureKeyDown(view, event) {\n    let code = event.keyCode, mods = getMods(event);\n    if (code == 8 || (mac && code == 72 && mods == \"c\")) { // Backspace, Ctrl-h on Mac\n        return stopNativeHorizontalDelete(view, -1) || skipIgnoredNodes(view, -1);\n    }\n    else if ((code == 46 && !event.shiftKey) || (mac && code == 68 && mods == \"c\")) { // Delete, Ctrl-d on Mac\n        return stopNativeHorizontalDelete(view, 1) || skipIgnoredNodes(view, 1);\n    }\n    else if (code == 13 || code == 27) { // Enter, Esc\n        return true;\n    }\n    else if (code == 37 || (mac && code == 66 && mods == \"c\")) { // Left arrow, Ctrl-b on Mac\n        let dir = code == 37 ? (findDirection(view, view.state.selection.from) == \"ltr\" ? -1 : 1) : -1;\n        return selectHorizontally(view, dir, mods) || skipIgnoredNodes(view, dir);\n    }\n    else if (code == 39 || (mac && code == 70 && mods == \"c\")) { // Right arrow, Ctrl-f on Mac\n        let dir = code == 39 ? (findDirection(view, view.state.selection.from) == \"ltr\" ? 1 : -1) : 1;\n        return selectHorizontally(view, dir, mods) || skipIgnoredNodes(view, dir);\n    }\n    else if (code == 38 || (mac && code == 80 && mods == \"c\")) { // Up arrow, Ctrl-p on Mac\n        return selectVertically(view, -1, mods) || skipIgnoredNodes(view, -1);\n    }\n    else if (code == 40 || (mac && code == 78 && mods == \"c\")) { // Down arrow, Ctrl-n on Mac\n        return safariDownArrowBug(view) || selectVertically(view, 1, mods) || skipIgnoredNodes(view, 1);\n    }\n    else if (mods == (mac ? \"m\" : \"c\") &&\n        (code == 66 || code == 73 || code == 89 || code == 90)) { // Mod-[biyz]\n        return true;\n    }\n    return false;\n}\n\nfunction serializeForClipboard(view, slice) {\n    view.someProp(\"transformCopied\", f => { slice = f(slice, view); });\n    let context = [], { content, openStart, openEnd } = slice;\n    while (openStart > 1 && openEnd > 1 && content.childCount == 1 && content.firstChild.childCount == 1) {\n        openStart--;\n        openEnd--;\n        let node = content.firstChild;\n        context.push(node.type.name, node.attrs != node.type.defaultAttrs ? node.attrs : null);\n        content = node.content;\n    }\n    let serializer = view.someProp(\"clipboardSerializer\") || DOMSerializer.fromSchema(view.state.schema);\n    let doc = detachedDoc(), wrap = doc.createElement(\"div\");\n    wrap.appendChild(serializer.serializeFragment(content, { document: doc }));\n    let firstChild = wrap.firstChild, needsWrap, wrappers = 0;\n    while (firstChild && firstChild.nodeType == 1 && (needsWrap = wrapMap[firstChild.nodeName.toLowerCase()])) {\n        for (let i = needsWrap.length - 1; i >= 0; i--) {\n            let wrapper = doc.createElement(needsWrap[i]);\n            while (wrap.firstChild)\n                wrapper.appendChild(wrap.firstChild);\n            wrap.appendChild(wrapper);\n            wrappers++;\n        }\n        firstChild = wrap.firstChild;\n    }\n    if (firstChild && firstChild.nodeType == 1)\n        firstChild.setAttribute(\"data-pm-slice\", `${openStart} ${openEnd}${wrappers ? ` -${wrappers}` : \"\"} ${JSON.stringify(context)}`);\n    let text = view.someProp(\"clipboardTextSerializer\", f => f(slice, view)) ||\n        slice.content.textBetween(0, slice.content.size, \"\\n\\n\");\n    return { dom: wrap, text, slice };\n}\n// Read a slice of content from the clipboard (or drop data).\nfunction parseFromClipboard(view, text, html, plainText, $context) {\n    let inCode = $context.parent.type.spec.code;\n    let dom, slice;\n    if (!html && !text)\n        return null;\n    let asText = !!text && (plainText || inCode || !html);\n    if (asText) {\n        view.someProp(\"transformPastedText\", f => { text = f(text, inCode || plainText, view); });\n        if (inCode) {\n            slice = new Slice(Fragment.from(view.state.schema.text(text.replace(/\\r\\n?/g, \"\\n\"))), 0, 0);\n            view.someProp(\"transformPasted\", f => { slice = f(slice, view, true); });\n            return slice;\n        }\n        let parsed = view.someProp(\"clipboardTextParser\", f => f(text, $context, plainText, view));\n        if (parsed) {\n            slice = parsed;\n        }\n        else {\n            let marks = $context.marks();\n            let { schema } = view.state, serializer = DOMSerializer.fromSchema(schema);\n            dom = document.createElement(\"div\");\n            text.split(/(?:\\r\\n?|\\n)+/).forEach(block => {\n                let p = dom.appendChild(document.createElement(\"p\"));\n                if (block)\n                    p.appendChild(serializer.serializeNode(schema.text(block, marks)));\n            });\n        }\n    }\n    else {\n        view.someProp(\"transformPastedHTML\", f => { html = f(html, view); });\n        dom = readHTML(html);\n        if (webkit)\n            restoreReplacedSpaces(dom);\n    }\n    let contextNode = dom && dom.querySelector(\"[data-pm-slice]\");\n    let sliceData = contextNode && /^(\\d+) (\\d+)(?: -(\\d+))? (.*)/.exec(contextNode.getAttribute(\"data-pm-slice\") || \"\");\n    if (sliceData && sliceData[3])\n        for (let i = +sliceData[3]; i > 0; i--) {\n            let child = dom.firstChild;\n            while (child && child.nodeType != 1)\n                child = child.nextSibling;\n            if (!child)\n                break;\n            dom = child;\n        }\n    if (!slice) {\n        let parser = view.someProp(\"clipboardParser\") || view.someProp(\"domParser\") || DOMParser.fromSchema(view.state.schema);\n        slice = parser.parseSlice(dom, {\n            preserveWhitespace: !!(asText || sliceData),\n            context: $context,\n            ruleFromNode(dom) {\n                if (dom.nodeName == \"BR\" && !dom.nextSibling &&\n                    dom.parentNode && !inlineParents.test(dom.parentNode.nodeName))\n                    return { ignore: true };\n                return null;\n            }\n        });\n    }\n    if (sliceData) {\n        slice = addContext(closeSlice(slice, +sliceData[1], +sliceData[2]), sliceData[4]);\n    }\n    else { // HTML wasn't created by ProseMirror. Make sure top-level siblings are coherent\n        slice = Slice.maxOpen(normalizeSiblings(slice.content, $context), true);\n        if (slice.openStart || slice.openEnd) {\n            let openStart = 0, openEnd = 0;\n            for (let node = slice.content.firstChild; openStart < slice.openStart && !node.type.spec.isolating; openStart++, node = node.firstChild) { }\n            for (let node = slice.content.lastChild; openEnd < slice.openEnd && !node.type.spec.isolating; openEnd++, node = node.lastChild) { }\n            slice = closeSlice(slice, openStart, openEnd);\n        }\n    }\n    view.someProp(\"transformPasted\", f => { slice = f(slice, view, asText); });\n    return slice;\n}\nconst inlineParents = /^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;\n// Takes a slice parsed with parseSlice, which means there hasn't been\n// any content-expression checking done on the top nodes, tries to\n// find a parent node in the current context that might fit the nodes,\n// and if successful, rebuilds the slice so that it fits into that parent.\n//\n// This addresses the problem that Transform.replace expects a\n// coherent slice, and will fail to place a set of siblings that don't\n// fit anywhere in the schema.\nfunction normalizeSiblings(fragment, $context) {\n    if (fragment.childCount < 2)\n        return fragment;\n    for (let d = $context.depth; d >= 0; d--) {\n        let parent = $context.node(d);\n        let match = parent.contentMatchAt($context.index(d));\n        let lastWrap, result = [];\n        fragment.forEach(node => {\n            if (!result)\n                return;\n            let wrap = match.findWrapping(node.type), inLast;\n            if (!wrap)\n                return result = null;\n            if (inLast = result.length && lastWrap.length && addToSibling(wrap, lastWrap, node, result[result.length - 1], 0)) {\n                result[result.length - 1] = inLast;\n            }\n            else {\n                if (result.length)\n                    result[result.length - 1] = closeRight(result[result.length - 1], lastWrap.length);\n                let wrapped = withWrappers(node, wrap);\n                result.push(wrapped);\n                match = match.matchType(wrapped.type);\n                lastWrap = wrap;\n            }\n        });\n        if (result)\n            return Fragment.from(result);\n    }\n    return fragment;\n}\nfunction withWrappers(node, wrap, from = 0) {\n    for (let i = wrap.length - 1; i >= from; i--)\n        node = wrap[i].create(null, Fragment.from(node));\n    return node;\n}\n// Used to group adjacent nodes wrapped in similar parents by\n// normalizeSiblings into the same parent node\nfunction addToSibling(wrap, lastWrap, node, sibling, depth) {\n    if (depth < wrap.length && depth < lastWrap.length && wrap[depth] == lastWrap[depth]) {\n        let inner = addToSibling(wrap, lastWrap, node, sibling.lastChild, depth + 1);\n        if (inner)\n            return sibling.copy(sibling.content.replaceChild(sibling.childCount - 1, inner));\n        let match = sibling.contentMatchAt(sibling.childCount);\n        if (match.matchType(depth == wrap.length - 1 ? node.type : wrap[depth + 1]))\n            return sibling.copy(sibling.content.append(Fragment.from(withWrappers(node, wrap, depth + 1))));\n    }\n}\nfunction closeRight(node, depth) {\n    if (depth == 0)\n        return node;\n    let fragment = node.content.replaceChild(node.childCount - 1, closeRight(node.lastChild, depth - 1));\n    let fill = node.contentMatchAt(node.childCount).fillBefore(Fragment.empty, true);\n    return node.copy(fragment.append(fill));\n}\nfunction closeRange(fragment, side, from, to, depth, openEnd) {\n    let node = side < 0 ? fragment.firstChild : fragment.lastChild, inner = node.content;\n    if (fragment.childCount > 1)\n        openEnd = 0;\n    if (depth < to - 1)\n        inner = closeRange(inner, side, from, to, depth + 1, openEnd);\n    if (depth >= from)\n        inner = side < 0 ? node.contentMatchAt(0).fillBefore(inner, openEnd <= depth).append(inner)\n            : inner.append(node.contentMatchAt(node.childCount).fillBefore(Fragment.empty, true));\n    return fragment.replaceChild(side < 0 ? 0 : fragment.childCount - 1, node.copy(inner));\n}\nfunction closeSlice(slice, openStart, openEnd) {\n    if (openStart < slice.openStart)\n        slice = new Slice(closeRange(slice.content, -1, openStart, slice.openStart, 0, slice.openEnd), openStart, slice.openEnd);\n    if (openEnd < slice.openEnd)\n        slice = new Slice(closeRange(slice.content, 1, openEnd, slice.openEnd, 0, 0), slice.openStart, openEnd);\n    return slice;\n}\n// Trick from jQuery -- some elements must be wrapped in other\n// elements for innerHTML to work. I.e. if you do `div.innerHTML =\n// \"<td>..</td>\"` the table cells are ignored.\nconst wrapMap = {\n    thead: [\"table\"],\n    tbody: [\"table\"],\n    tfoot: [\"table\"],\n    caption: [\"table\"],\n    colgroup: [\"table\"],\n    col: [\"table\", \"colgroup\"],\n    tr: [\"table\", \"tbody\"],\n    td: [\"table\", \"tbody\", \"tr\"],\n    th: [\"table\", \"tbody\", \"tr\"]\n};\nlet _detachedDoc = null;\nfunction detachedDoc() {\n    return _detachedDoc || (_detachedDoc = document.implementation.createHTMLDocument(\"title\"));\n}\nlet _policy = null;\nfunction maybeWrapTrusted(html) {\n    let trustedTypes = window.trustedTypes;\n    if (!trustedTypes)\n        return html;\n    // With the require-trusted-types-for CSP, Chrome will block\n    // innerHTML, even on a detached document. This wraps the string in\n    // a way that makes the browser allow us to use its parser again.\n    if (!_policy)\n        _policy = trustedTypes.defaultPolicy || trustedTypes.createPolicy(\"ProseMirrorClipboard\", { createHTML: (s) => s });\n    return _policy.createHTML(html);\n}\nfunction readHTML(html) {\n    let metas = /^(\\s*<meta [^>]*>)*/.exec(html);\n    if (metas)\n        html = html.slice(metas[0].length);\n    let elt = detachedDoc().createElement(\"div\");\n    let firstTag = /<([a-z][^>\\s]+)/i.exec(html), wrap;\n    if (wrap = firstTag && wrapMap[firstTag[1].toLowerCase()])\n        html = wrap.map(n => \"<\" + n + \">\").join(\"\") + html + wrap.map(n => \"</\" + n + \">\").reverse().join(\"\");\n    elt.innerHTML = maybeWrapTrusted(html);\n    if (wrap)\n        for (let i = 0; i < wrap.length; i++)\n            elt = elt.querySelector(wrap[i]) || elt;\n    return elt;\n}\n// Webkit browsers do some hard-to-predict replacement of regular\n// spaces with non-breaking spaces when putting content on the\n// clipboard. This tries to convert such non-breaking spaces (which\n// will be wrapped in a plain span on Chrome, a span with class\n// Apple-converted-space on Safari) back to regular spaces.\nfunction restoreReplacedSpaces(dom) {\n    let nodes = dom.querySelectorAll(chrome ? \"span:not([class]):not([style])\" : \"span.Apple-converted-space\");\n    for (let i = 0; i < nodes.length; i++) {\n        let node = nodes[i];\n        if (node.childNodes.length == 1 && node.textContent == \"\\u00a0\" && node.parentNode)\n            node.parentNode.replaceChild(dom.ownerDocument.createTextNode(\" \"), node);\n    }\n}\nfunction addContext(slice, context) {\n    if (!slice.size)\n        return slice;\n    let schema = slice.content.firstChild.type.schema, array;\n    try {\n        array = JSON.parse(context);\n    }\n    catch (e) {\n        return slice;\n    }\n    let { content, openStart, openEnd } = slice;\n    for (let i = array.length - 2; i >= 0; i -= 2) {\n        let type = schema.nodes[array[i]];\n        if (!type || type.hasRequiredAttrs())\n            break;\n        content = Fragment.from(type.create(array[i + 1], content));\n        openStart++;\n        openEnd++;\n    }\n    return new Slice(content, openStart, openEnd);\n}\n\n// A collection of DOM events that occur within the editor, and callback functions\n// to invoke when the event fires.\nconst handlers = {};\nconst editHandlers = {};\nconst passiveHandlers = { touchstart: true, touchmove: true };\nclass InputState {\n    constructor() {\n        this.shiftKey = false;\n        this.mouseDown = null;\n        this.lastKeyCode = null;\n        this.lastKeyCodeTime = 0;\n        this.lastClick = { time: 0, x: 0, y: 0, type: \"\", button: 0 };\n        this.lastSelectionOrigin = null;\n        this.lastSelectionTime = 0;\n        this.lastIOSEnter = 0;\n        this.lastIOSEnterFallbackTimeout = -1;\n        this.lastFocus = 0;\n        this.lastTouch = 0;\n        this.lastChromeDelete = 0;\n        this.composing = false;\n        this.compositionNode = null;\n        this.composingTimeout = -1;\n        this.compositionNodes = [];\n        this.compositionEndedAt = -2e8;\n        this.compositionID = 1;\n        this.badSafariComposition = false;\n        // Set to a composition ID when there are pending changes at compositionend\n        this.compositionPendingChanges = 0;\n        this.domChangeCount = 0;\n        this.eventHandlers = Object.create(null);\n        this.hideSelectionGuard = null;\n    }\n}\nfunction initInput(view) {\n    for (let event in handlers) {\n        let handler = handlers[event];\n        view.dom.addEventListener(event, view.input.eventHandlers[event] = (event) => {\n            if (eventBelongsToView(view, event) && !runCustomHandler(view, event) &&\n                (view.editable || !(event.type in editHandlers)))\n                handler(view, event);\n        }, passiveHandlers[event] ? { passive: true } : undefined);\n    }\n    // On Safari, for reasons beyond my understanding, adding an input\n    // event handler makes an issue where the composition vanishes when\n    // you press enter go away.\n    if (safari)\n        view.dom.addEventListener(\"input\", () => null);\n    ensureListeners(view);\n}\nfunction setSelectionOrigin(view, origin) {\n    view.input.lastSelectionOrigin = origin;\n    view.input.lastSelectionTime = Date.now();\n}\nfunction destroyInput(view) {\n    view.domObserver.stop();\n    for (let type in view.input.eventHandlers)\n        view.dom.removeEventListener(type, view.input.eventHandlers[type]);\n    clearTimeout(view.input.composingTimeout);\n    clearTimeout(view.input.lastIOSEnterFallbackTimeout);\n}\nfunction ensureListeners(view) {\n    view.someProp(\"handleDOMEvents\", currentHandlers => {\n        for (let type in currentHandlers)\n            if (!view.input.eventHandlers[type])\n                view.dom.addEventListener(type, view.input.eventHandlers[type] = event => runCustomHandler(view, event));\n    });\n}\nfunction runCustomHandler(view, event) {\n    return view.someProp(\"handleDOMEvents\", handlers => {\n        let handler = handlers[event.type];\n        return handler ? handler(view, event) || event.defaultPrevented : false;\n    });\n}\nfunction eventBelongsToView(view, event) {\n    if (!event.bubbles)\n        return true;\n    if (event.defaultPrevented)\n        return false;\n    for (let node = event.target; node != view.dom; node = node.parentNode)\n        if (!node || node.nodeType == 11 ||\n            (node.pmViewDesc && node.pmViewDesc.stopEvent(event)))\n            return false;\n    return true;\n}\nfunction dispatchEvent(view, event) {\n    if (!runCustomHandler(view, event) && handlers[event.type] &&\n        (view.editable || !(event.type in editHandlers)))\n        handlers[event.type](view, event);\n}\neditHandlers.keydown = (view, _event) => {\n    let event = _event;\n    view.input.shiftKey = event.keyCode == 16 || event.shiftKey;\n    if (inOrNearComposition(view, event))\n        return;\n    view.input.lastKeyCode = event.keyCode;\n    view.input.lastKeyCodeTime = Date.now();\n    // Suppress enter key events on Chrome Android, because those tend\n    // to be part of a confused sequence of composition events fired,\n    // and handling them eagerly tends to corrupt the input.\n    if (android && chrome && event.keyCode == 13)\n        return;\n    if (event.keyCode != 229)\n        view.domObserver.forceFlush();\n    // On iOS, if we preventDefault enter key presses, the virtual\n    // keyboard gets confused. So the hack here is to set a flag that\n    // makes the DOM change code recognize that what just happens should\n    // be replaced by whatever the Enter key handlers do.\n    if (ios && event.keyCode == 13 && !event.ctrlKey && !event.altKey && !event.metaKey) {\n        let now = Date.now();\n        view.input.lastIOSEnter = now;\n        view.input.lastIOSEnterFallbackTimeout = setTimeout(() => {\n            if (view.input.lastIOSEnter == now) {\n                view.someProp(\"handleKeyDown\", f => f(view, keyEvent(13, \"Enter\")));\n                view.input.lastIOSEnter = 0;\n            }\n        }, 200);\n    }\n    else if (view.someProp(\"handleKeyDown\", f => f(view, event)) || captureKeyDown(view, event)) {\n        event.preventDefault();\n    }\n    else {\n        setSelectionOrigin(view, \"key\");\n    }\n};\neditHandlers.keyup = (view, event) => {\n    if (event.keyCode == 16)\n        view.input.shiftKey = false;\n};\neditHandlers.keypress = (view, _event) => {\n    let event = _event;\n    if (inOrNearComposition(view, event) || !event.charCode ||\n        event.ctrlKey && !event.altKey || mac && event.metaKey)\n        return;\n    if (view.someProp(\"handleKeyPress\", f => f(view, event))) {\n        event.preventDefault();\n        return;\n    }\n    let sel = view.state.selection;\n    if (!(sel instanceof TextSelection) || !sel.$from.sameParent(sel.$to)) {\n        let text = String.fromCharCode(event.charCode);\n        let deflt = () => view.state.tr.insertText(text).scrollIntoView();\n        if (!/[\\r\\n]/.test(text) && !view.someProp(\"handleTextInput\", f => f(view, sel.$from.pos, sel.$to.pos, text, deflt)))\n            view.dispatch(deflt());\n        event.preventDefault();\n    }\n};\nfunction eventCoords(event) { return { left: event.clientX, top: event.clientY }; }\nfunction isNear(event, click) {\n    let dx = click.x - event.clientX, dy = click.y - event.clientY;\n    return dx * dx + dy * dy < 100;\n}\nfunction runHandlerOnContext(view, propName, pos, inside, event) {\n    if (inside == -1)\n        return false;\n    let $pos = view.state.doc.resolve(inside);\n    for (let i = $pos.depth + 1; i > 0; i--) {\n        if (view.someProp(propName, f => i > $pos.depth ? f(view, pos, $pos.nodeAfter, $pos.before(i), event, true)\n            : f(view, pos, $pos.node(i), $pos.before(i), event, false)))\n            return true;\n    }\n    return false;\n}\nfunction updateSelection(view, selection, origin) {\n    if (!view.focused)\n        view.focus();\n    if (view.state.selection.eq(selection))\n        return;\n    let tr = view.state.tr.setSelection(selection);\n    if (origin == \"pointer\")\n        tr.setMeta(\"pointer\", true);\n    view.dispatch(tr);\n}\nfunction selectClickedLeaf(view, inside) {\n    if (inside == -1)\n        return false;\n    let $pos = view.state.doc.resolve(inside), node = $pos.nodeAfter;\n    if (node && node.isAtom && NodeSelection.isSelectable(node)) {\n        updateSelection(view, new NodeSelection($pos), \"pointer\");\n        return true;\n    }\n    return false;\n}\nfunction selectClickedNode(view, inside) {\n    if (inside == -1)\n        return false;\n    let sel = view.state.selection, selectedNode, selectAt;\n    if (sel instanceof NodeSelection)\n        selectedNode = sel.node;\n    let $pos = view.state.doc.resolve(inside);\n    for (let i = $pos.depth + 1; i > 0; i--) {\n        let node = i > $pos.depth ? $pos.nodeAfter : $pos.node(i);\n        if (NodeSelection.isSelectable(node)) {\n            if (selectedNode && sel.$from.depth > 0 &&\n                i >= sel.$from.depth && $pos.before(sel.$from.depth + 1) == sel.$from.pos)\n                selectAt = $pos.before(sel.$from.depth);\n            else\n                selectAt = $pos.before(i);\n            break;\n        }\n    }\n    if (selectAt != null) {\n        updateSelection(view, NodeSelection.create(view.state.doc, selectAt), \"pointer\");\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction handleSingleClick(view, pos, inside, event, selectNode) {\n    return runHandlerOnContext(view, \"handleClickOn\", pos, inside, event) ||\n        view.someProp(\"handleClick\", f => f(view, pos, event)) ||\n        (selectNode ? selectClickedNode(view, inside) : selectClickedLeaf(view, inside));\n}\nfunction handleDoubleClick(view, pos, inside, event) {\n    return runHandlerOnContext(view, \"handleDoubleClickOn\", pos, inside, event) ||\n        view.someProp(\"handleDoubleClick\", f => f(view, pos, event));\n}\nfunction handleTripleClick(view, pos, inside, event) {\n    return runHandlerOnContext(view, \"handleTripleClickOn\", pos, inside, event) ||\n        view.someProp(\"handleTripleClick\", f => f(view, pos, event)) ||\n        defaultTripleClick(view, inside, event);\n}\nfunction defaultTripleClick(view, inside, event) {\n    if (event.button != 0)\n        return false;\n    let doc = view.state.doc;\n    if (inside == -1) {\n        if (doc.inlineContent) {\n            updateSelection(view, TextSelection.create(doc, 0, doc.content.size), \"pointer\");\n            return true;\n        }\n        return false;\n    }\n    let $pos = doc.resolve(inside);\n    for (let i = $pos.depth + 1; i > 0; i--) {\n        let node = i > $pos.depth ? $pos.nodeAfter : $pos.node(i);\n        let nodePos = $pos.before(i);\n        if (node.inlineContent)\n            updateSelection(view, TextSelection.create(doc, nodePos + 1, nodePos + 1 + node.content.size), \"pointer\");\n        else if (NodeSelection.isSelectable(node))\n            updateSelection(view, NodeSelection.create(doc, nodePos), \"pointer\");\n        else\n            continue;\n        return true;\n    }\n}\nfunction forceDOMFlush(view) {\n    return endComposition(view);\n}\nconst selectNodeModifier = mac ? \"metaKey\" : \"ctrlKey\";\nhandlers.mousedown = (view, _event) => {\n    let event = _event;\n    view.input.shiftKey = event.shiftKey;\n    let flushed = forceDOMFlush(view);\n    let now = Date.now(), type = \"singleClick\";\n    if (now - view.input.lastClick.time < 500 && isNear(event, view.input.lastClick) && !event[selectNodeModifier] &&\n        view.input.lastClick.button == event.button) {\n        if (view.input.lastClick.type == \"singleClick\")\n            type = \"doubleClick\";\n        else if (view.input.lastClick.type == \"doubleClick\")\n            type = \"tripleClick\";\n    }\n    view.input.lastClick = { time: now, x: event.clientX, y: event.clientY, type, button: event.button };\n    let pos = view.posAtCoords(eventCoords(event));\n    if (!pos)\n        return;\n    if (type == \"singleClick\") {\n        if (view.input.mouseDown)\n            view.input.mouseDown.done();\n        view.input.mouseDown = new MouseDown(view, pos, event, !!flushed);\n    }\n    else if ((type == \"doubleClick\" ? handleDoubleClick : handleTripleClick)(view, pos.pos, pos.inside, event)) {\n        event.preventDefault();\n    }\n    else {\n        setSelectionOrigin(view, \"pointer\");\n    }\n};\nclass MouseDown {\n    constructor(view, pos, event, flushed) {\n        this.view = view;\n        this.pos = pos;\n        this.event = event;\n        this.flushed = flushed;\n        this.delayedSelectionSync = false;\n        this.mightDrag = null;\n        this.startDoc = view.state.doc;\n        this.selectNode = !!event[selectNodeModifier];\n        this.allowDefault = event.shiftKey;\n        let targetNode, targetPos;\n        if (pos.inside > -1) {\n            targetNode = view.state.doc.nodeAt(pos.inside);\n            targetPos = pos.inside;\n        }\n        else {\n            let $pos = view.state.doc.resolve(pos.pos);\n            targetNode = $pos.parent;\n            targetPos = $pos.depth ? $pos.before() : 0;\n        }\n        const target = flushed ? null : event.target;\n        const targetDesc = target ? view.docView.nearestDesc(target, true) : null;\n        this.target = targetDesc && targetDesc.nodeDOM.nodeType == 1 ? targetDesc.nodeDOM : null;\n        let { selection } = view.state;\n        if (event.button == 0 &&\n            targetNode.type.spec.draggable && targetNode.type.spec.selectable !== false ||\n            selection instanceof NodeSelection && selection.from <= targetPos && selection.to > targetPos)\n            this.mightDrag = {\n                node: targetNode,\n                pos: targetPos,\n                addAttr: !!(this.target && !this.target.draggable),\n                setUneditable: !!(this.target && gecko && !this.target.hasAttribute(\"contentEditable\"))\n            };\n        if (this.target && this.mightDrag && (this.mightDrag.addAttr || this.mightDrag.setUneditable)) {\n            this.view.domObserver.stop();\n            if (this.mightDrag.addAttr)\n                this.target.draggable = true;\n            if (this.mightDrag.setUneditable)\n                setTimeout(() => {\n                    if (this.view.input.mouseDown == this)\n                        this.target.setAttribute(\"contentEditable\", \"false\");\n                }, 20);\n            this.view.domObserver.start();\n        }\n        view.root.addEventListener(\"mouseup\", this.up = this.up.bind(this));\n        view.root.addEventListener(\"mousemove\", this.move = this.move.bind(this));\n        setSelectionOrigin(view, \"pointer\");\n    }\n    done() {\n        this.view.root.removeEventListener(\"mouseup\", this.up);\n        this.view.root.removeEventListener(\"mousemove\", this.move);\n        if (this.mightDrag && this.target) {\n            this.view.domObserver.stop();\n            if (this.mightDrag.addAttr)\n                this.target.removeAttribute(\"draggable\");\n            if (this.mightDrag.setUneditable)\n                this.target.removeAttribute(\"contentEditable\");\n            this.view.domObserver.start();\n        }\n        if (this.delayedSelectionSync)\n            setTimeout(() => selectionToDOM(this.view));\n        this.view.input.mouseDown = null;\n    }\n    up(event) {\n        this.done();\n        if (!this.view.dom.contains(event.target))\n            return;\n        let pos = this.pos;\n        if (this.view.state.doc != this.startDoc)\n            pos = this.view.posAtCoords(eventCoords(event));\n        this.updateAllowDefault(event);\n        if (this.allowDefault || !pos) {\n            setSelectionOrigin(this.view, \"pointer\");\n        }\n        else if (handleSingleClick(this.view, pos.pos, pos.inside, event, this.selectNode)) {\n            event.preventDefault();\n        }\n        else if (event.button == 0 &&\n            (this.flushed ||\n                // Safari ignores clicks on draggable elements\n                (safari && this.mightDrag && !this.mightDrag.node.isAtom) ||\n                // Chrome will sometimes treat a node selection as a\n                // cursor, but still report that the node is selected\n                // when asked through getSelection. You'll then get a\n                // situation where clicking at the point where that\n                // (hidden) cursor is doesn't change the selection, and\n                // thus doesn't get a reaction from ProseMirror. This\n                // works around that.\n                (chrome && !this.view.state.selection.visible &&\n                    Math.min(Math.abs(pos.pos - this.view.state.selection.from), Math.abs(pos.pos - this.view.state.selection.to)) <= 2))) {\n            updateSelection(this.view, Selection.near(this.view.state.doc.resolve(pos.pos)), \"pointer\");\n            event.preventDefault();\n        }\n        else {\n            setSelectionOrigin(this.view, \"pointer\");\n        }\n    }\n    move(event) {\n        this.updateAllowDefault(event);\n        setSelectionOrigin(this.view, \"pointer\");\n        if (event.buttons == 0)\n            this.done();\n    }\n    updateAllowDefault(event) {\n        if (!this.allowDefault && (Math.abs(this.event.x - event.clientX) > 4 ||\n            Math.abs(this.event.y - event.clientY) > 4))\n            this.allowDefault = true;\n    }\n}\nhandlers.touchstart = view => {\n    view.input.lastTouch = Date.now();\n    forceDOMFlush(view);\n    setSelectionOrigin(view, \"pointer\");\n};\nhandlers.touchmove = view => {\n    view.input.lastTouch = Date.now();\n    setSelectionOrigin(view, \"pointer\");\n};\nhandlers.contextmenu = view => forceDOMFlush(view);\nfunction inOrNearComposition(view, event) {\n    if (view.composing)\n        return true;\n    // See https://www.stum.de/2016/06/24/handling-ime-events-in-javascript/.\n    // On Japanese input method editors (IMEs), the Enter key is used to confirm character\n    // selection. On Safari, when Enter is pressed, compositionend and keydown events are\n    // emitted. The keydown event triggers newline insertion, which we don't want.\n    // This method returns true if the keydown event should be ignored.\n    // We only ignore it once, as pressing Enter a second time *should* insert a newline.\n    // Furthermore, the keydown event timestamp must be close to the compositionEndedAt timestamp.\n    // This guards against the case where compositionend is triggered without the keyboard\n    // (e.g. character confirmation may be done with the mouse), and keydown is triggered\n    // afterwards- we wouldn't want to ignore the keydown event in this case.\n    if (safari && Math.abs(event.timeStamp - view.input.compositionEndedAt) < 500) {\n        view.input.compositionEndedAt = -2e8;\n        return true;\n    }\n    return false;\n}\n// Drop active composition after 5 seconds of inactivity on Android\nconst timeoutComposition = android ? 5000 : -1;\neditHandlers.compositionstart = editHandlers.compositionupdate = view => {\n    if (!view.composing) {\n        view.domObserver.flush();\n        let { state } = view, $pos = state.selection.$to;\n        if (state.selection instanceof TextSelection &&\n            (state.storedMarks ||\n                (!$pos.textOffset && $pos.parentOffset && $pos.nodeBefore.marks.some(m => m.type.spec.inclusive === false)) ||\n                chrome && windows && selectionBeforeUneditable(view))) { // Issue #1500\n            // Need to wrap the cursor in mark nodes different from the ones in the DOM context\n            view.markCursor = view.state.storedMarks || $pos.marks();\n            endComposition(view, true);\n            view.markCursor = null;\n        }\n        else {\n            endComposition(view, !state.selection.empty);\n            // In firefox, if the cursor is after but outside a marked node,\n            // the inserted text won't inherit the marks. So this moves it\n            // inside if necessary.\n            if (gecko && state.selection.empty && $pos.parentOffset && !$pos.textOffset && $pos.nodeBefore.marks.length) {\n                let sel = view.domSelectionRange();\n                for (let node = sel.focusNode, offset = sel.focusOffset; node && node.nodeType == 1 && offset != 0;) {\n                    let before = offset < 0 ? node.lastChild : node.childNodes[offset - 1];\n                    if (!before)\n                        break;\n                    if (before.nodeType == 3) {\n                        let sel = view.domSelection();\n                        if (sel)\n                            sel.collapse(before, before.nodeValue.length);\n                        break;\n                    }\n                    else {\n                        node = before;\n                        offset = -1;\n                    }\n                }\n            }\n        }\n        view.input.composing = true;\n    }\n    scheduleComposeEnd(view, timeoutComposition);\n};\nfunction selectionBeforeUneditable(view) {\n    let { focusNode, focusOffset } = view.domSelectionRange();\n    if (!focusNode || focusNode.nodeType != 1 || focusOffset >= focusNode.childNodes.length)\n        return false;\n    let next = focusNode.childNodes[focusOffset];\n    return next.nodeType == 1 && next.contentEditable == \"false\";\n}\neditHandlers.compositionend = (view, event) => {\n    if (view.composing) {\n        view.input.composing = false;\n        view.input.compositionEndedAt = event.timeStamp;\n        view.input.compositionPendingChanges = view.domObserver.pendingRecords().length ? view.input.compositionID : 0;\n        view.input.compositionNode = null;\n        if (view.input.badSafariComposition)\n            view.domObserver.forceFlush();\n        else if (view.input.compositionPendingChanges)\n            Promise.resolve().then(() => view.domObserver.flush());\n        view.input.compositionID++;\n        scheduleComposeEnd(view, 20);\n    }\n};\nfunction scheduleComposeEnd(view, delay) {\n    clearTimeout(view.input.composingTimeout);\n    if (delay > -1)\n        view.input.composingTimeout = setTimeout(() => endComposition(view), delay);\n}\nfunction clearComposition(view) {\n    if (view.composing) {\n        view.input.composing = false;\n        view.input.compositionEndedAt = timestampFromCustomEvent();\n    }\n    while (view.input.compositionNodes.length > 0)\n        view.input.compositionNodes.pop().markParentsDirty();\n}\nfunction findCompositionNode(view) {\n    let sel = view.domSelectionRange();\n    if (!sel.focusNode)\n        return null;\n    let textBefore = textNodeBefore$1(sel.focusNode, sel.focusOffset);\n    let textAfter = textNodeAfter$1(sel.focusNode, sel.focusOffset);\n    if (textBefore && textAfter && textBefore != textAfter) {\n        let descAfter = textAfter.pmViewDesc, lastChanged = view.domObserver.lastChangedTextNode;\n        if (textBefore == lastChanged || textAfter == lastChanged)\n            return lastChanged;\n        if (!descAfter || !descAfter.isText(textAfter.nodeValue)) {\n            return textAfter;\n        }\n        else if (view.input.compositionNode == textAfter) {\n            let descBefore = textBefore.pmViewDesc;\n            if (!(!descBefore || !descBefore.isText(textBefore.nodeValue)))\n                return textAfter;\n        }\n    }\n    return textBefore || textAfter;\n}\nfunction timestampFromCustomEvent() {\n    let event = document.createEvent(\"Event\");\n    event.initEvent(\"event\", true, true);\n    return event.timeStamp;\n}\n/**\n@internal\n*/\nfunction endComposition(view, restarting = false) {\n    if (android && view.domObserver.flushingSoon >= 0)\n        return;\n    view.domObserver.forceFlush();\n    clearComposition(view);\n    if (restarting || view.docView && view.docView.dirty) {\n        let sel = selectionFromDOM(view), cur = view.state.selection;\n        if (sel && !sel.eq(cur))\n            view.dispatch(view.state.tr.setSelection(sel));\n        else if ((view.markCursor || restarting) && !cur.$from.node(cur.$from.sharedDepth(cur.to)).inlineContent)\n            view.dispatch(view.state.tr.deleteSelection());\n        else\n            view.updateState(view.state);\n        return true;\n    }\n    return false;\n}\nfunction captureCopy(view, dom) {\n    // The extra wrapper is somehow necessary on IE/Edge to prevent the\n    // content from being mangled when it is put onto the clipboard\n    if (!view.dom.parentNode)\n        return;\n    let wrap = view.dom.parentNode.appendChild(document.createElement(\"div\"));\n    wrap.appendChild(dom);\n    wrap.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    let sel = getSelection(), range = document.createRange();\n    range.selectNodeContents(dom);\n    // Done because IE will fire a selectionchange moving the selection\n    // to its start when removeAllRanges is called and the editor still\n    // has focus (which will mess up the editor's selection state).\n    view.dom.blur();\n    sel.removeAllRanges();\n    sel.addRange(range);\n    setTimeout(() => {\n        if (wrap.parentNode)\n            wrap.parentNode.removeChild(wrap);\n        view.focus();\n    }, 50);\n}\n// This is very crude, but unfortunately both these browsers _pretend_\n// that they have a clipboard API—all the objects and methods are\n// there, they just don't work, and they are hard to test.\nconst brokenClipboardAPI = (ie && ie_version < 15) ||\n    (ios && webkit_version < 604);\nhandlers.copy = editHandlers.cut = (view, _event) => {\n    let event = _event;\n    let sel = view.state.selection, cut = event.type == \"cut\";\n    if (sel.empty)\n        return;\n    // IE and Edge's clipboard interface is completely broken\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    let slice = sel.content(), { dom, text } = serializeForClipboard(view, slice);\n    if (data) {\n        event.preventDefault();\n        data.clearData();\n        data.setData(\"text/html\", dom.innerHTML);\n        data.setData(\"text/plain\", text);\n    }\n    else {\n        captureCopy(view, dom);\n    }\n    if (cut)\n        view.dispatch(view.state.tr.deleteSelection().scrollIntoView().setMeta(\"uiEvent\", \"cut\"));\n};\nfunction sliceSingleNode(slice) {\n    return slice.openStart == 0 && slice.openEnd == 0 && slice.content.childCount == 1 ? slice.content.firstChild : null;\n}\nfunction capturePaste(view, event) {\n    if (!view.dom.parentNode)\n        return;\n    let plainText = view.input.shiftKey || view.state.selection.$from.parent.type.spec.code;\n    let target = view.dom.parentNode.appendChild(document.createElement(plainText ? \"textarea\" : \"div\"));\n    if (!plainText)\n        target.contentEditable = \"true\";\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.focus();\n    let plain = view.input.shiftKey && view.input.lastKeyCode != 45;\n    setTimeout(() => {\n        view.focus();\n        if (target.parentNode)\n            target.parentNode.removeChild(target);\n        if (plainText)\n            doPaste(view, target.value, null, plain, event);\n        else\n            doPaste(view, target.textContent, target.innerHTML, plain, event);\n    }, 50);\n}\nfunction doPaste(view, text, html, preferPlain, event) {\n    let slice = parseFromClipboard(view, text, html, preferPlain, view.state.selection.$from);\n    if (view.someProp(\"handlePaste\", f => f(view, event, slice || Slice.empty)))\n        return true;\n    if (!slice)\n        return false;\n    let singleNode = sliceSingleNode(slice);\n    let tr = singleNode\n        ? view.state.tr.replaceSelectionWith(singleNode, preferPlain)\n        : view.state.tr.replaceSelection(slice);\n    view.dispatch(tr.scrollIntoView().setMeta(\"paste\", true).setMeta(\"uiEvent\", \"paste\"));\n    return true;\n}\nfunction getText(clipboardData) {\n    let text = clipboardData.getData(\"text/plain\") || clipboardData.getData(\"Text\");\n    if (text)\n        return text;\n    let uris = clipboardData.getData(\"text/uri-list\");\n    return uris ? uris.replace(/\\r?\\n/g, \" \") : \"\";\n}\neditHandlers.paste = (view, _event) => {\n    let event = _event;\n    // Handling paste from JavaScript during composition is very poorly\n    // handled by browsers, so as a dodgy but preferable kludge, we just\n    // let the browser do its native thing there, except on Android,\n    // where the editor is almost always composing.\n    if (view.composing && !android)\n        return;\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    let plain = view.input.shiftKey && view.input.lastKeyCode != 45;\n    if (data && doPaste(view, getText(data), data.getData(\"text/html\"), plain, event))\n        event.preventDefault();\n    else\n        capturePaste(view, event);\n};\nclass Dragging {\n    constructor(slice, move, node) {\n        this.slice = slice;\n        this.move = move;\n        this.node = node;\n    }\n}\nconst dragCopyModifier = mac ? \"altKey\" : \"ctrlKey\";\nfunction dragMoves(view, event) {\n    let moves = view.someProp(\"dragCopies\", test => !test(event));\n    return moves != null ? moves : !event[dragCopyModifier];\n}\nhandlers.dragstart = (view, _event) => {\n    let event = _event;\n    let mouseDown = view.input.mouseDown;\n    if (mouseDown)\n        mouseDown.done();\n    if (!event.dataTransfer)\n        return;\n    let sel = view.state.selection;\n    let pos = sel.empty ? null : view.posAtCoords(eventCoords(event));\n    let node;\n    if (pos && pos.pos >= sel.from && pos.pos <= (sel instanceof NodeSelection ? sel.to - 1 : sel.to)) ;\n    else if (mouseDown && mouseDown.mightDrag) {\n        node = NodeSelection.create(view.state.doc, mouseDown.mightDrag.pos);\n    }\n    else if (event.target && event.target.nodeType == 1) {\n        let desc = view.docView.nearestDesc(event.target, true);\n        if (desc && desc.node.type.spec.draggable && desc != view.docView)\n            node = NodeSelection.create(view.state.doc, desc.posBefore);\n    }\n    let draggedSlice = (node || view.state.selection).content();\n    let { dom, text, slice } = serializeForClipboard(view, draggedSlice);\n    // Pre-120 Chrome versions clear files when calling `clearData` (#1472)\n    if (!event.dataTransfer.files.length || !chrome || chrome_version > 120)\n        event.dataTransfer.clearData();\n    event.dataTransfer.setData(brokenClipboardAPI ? \"Text\" : \"text/html\", dom.innerHTML);\n    // See https://github.com/ProseMirror/prosemirror/issues/1156\n    event.dataTransfer.effectAllowed = \"copyMove\";\n    if (!brokenClipboardAPI)\n        event.dataTransfer.setData(\"text/plain\", text);\n    view.dragging = new Dragging(slice, dragMoves(view, event), node);\n};\nhandlers.dragend = view => {\n    let dragging = view.dragging;\n    window.setTimeout(() => {\n        if (view.dragging == dragging)\n            view.dragging = null;\n    }, 50);\n};\neditHandlers.dragover = editHandlers.dragenter = (_, e) => e.preventDefault();\neditHandlers.drop = (view, event) => {\n    try {\n        handleDrop(view, event, view.dragging);\n    }\n    finally {\n        view.dragging = null;\n    }\n};\nfunction handleDrop(view, event, dragging) {\n    if (!event.dataTransfer)\n        return;\n    let eventPos = view.posAtCoords(eventCoords(event));\n    if (!eventPos)\n        return;\n    let $mouse = view.state.doc.resolve(eventPos.pos);\n    let slice = dragging && dragging.slice;\n    if (slice) {\n        view.someProp(\"transformPasted\", f => { slice = f(slice, view, false); });\n    }\n    else {\n        slice = parseFromClipboard(view, getText(event.dataTransfer), brokenClipboardAPI ? null : event.dataTransfer.getData(\"text/html\"), false, $mouse);\n    }\n    let move = !!(dragging && dragMoves(view, event));\n    if (view.someProp(\"handleDrop\", f => f(view, event, slice || Slice.empty, move))) {\n        event.preventDefault();\n        return;\n    }\n    if (!slice)\n        return;\n    event.preventDefault();\n    let insertPos = slice ? dropPoint(view.state.doc, $mouse.pos, slice) : $mouse.pos;\n    if (insertPos == null)\n        insertPos = $mouse.pos;\n    let tr = view.state.tr;\n    if (move) {\n        let { node } = dragging;\n        if (node)\n            node.replace(tr);\n        else\n            tr.deleteSelection();\n    }\n    let pos = tr.mapping.map(insertPos);\n    let isNode = slice.openStart == 0 && slice.openEnd == 0 && slice.content.childCount == 1;\n    let beforeInsert = tr.doc;\n    if (isNode)\n        tr.replaceRangeWith(pos, pos, slice.content.firstChild);\n    else\n        tr.replaceRange(pos, pos, slice);\n    if (tr.doc.eq(beforeInsert))\n        return;\n    let $pos = tr.doc.resolve(pos);\n    if (isNode && NodeSelection.isSelectable(slice.content.firstChild) &&\n        $pos.nodeAfter && $pos.nodeAfter.sameMarkup(slice.content.firstChild)) {\n        tr.setSelection(new NodeSelection($pos));\n    }\n    else {\n        let end = tr.mapping.map(insertPos);\n        tr.mapping.maps[tr.mapping.maps.length - 1].forEach((_from, _to, _newFrom, newTo) => end = newTo);\n        tr.setSelection(selectionBetween(view, $pos, tr.doc.resolve(end)));\n    }\n    view.focus();\n    view.dispatch(tr.setMeta(\"uiEvent\", \"drop\"));\n}\nhandlers.focus = view => {\n    view.input.lastFocus = Date.now();\n    if (!view.focused) {\n        view.domObserver.stop();\n        view.dom.classList.add(\"ProseMirror-focused\");\n        view.domObserver.start();\n        view.focused = true;\n        setTimeout(() => {\n            if (view.docView && view.hasFocus() && !view.domObserver.currentSelection.eq(view.domSelectionRange()))\n                selectionToDOM(view);\n        }, 20);\n    }\n};\nhandlers.blur = (view, _event) => {\n    let event = _event;\n    if (view.focused) {\n        view.domObserver.stop();\n        view.dom.classList.remove(\"ProseMirror-focused\");\n        view.domObserver.start();\n        if (event.relatedTarget && view.dom.contains(event.relatedTarget))\n            view.domObserver.currentSelection.clear();\n        view.focused = false;\n    }\n};\nhandlers.beforeinput = (view, _event) => {\n    let event = _event;\n    // We should probably do more with beforeinput events, but support\n    // is so spotty that I'm still waiting to see where they are going.\n    // Very specific hack to deal with backspace sometimes failing on\n    // Chrome Android when after an uneditable node.\n    if (chrome && android && event.inputType == \"deleteContentBackward\") {\n        view.domObserver.flushSoon();\n        let { domChangeCount } = view.input;\n        setTimeout(() => {\n            if (view.input.domChangeCount != domChangeCount)\n                return; // Event already had some effect\n            // This bug tends to close the virtual keyboard, so we refocus\n            view.dom.blur();\n            view.focus();\n            if (view.someProp(\"handleKeyDown\", f => f(view, keyEvent(8, \"Backspace\"))))\n                return;\n            let { $cursor } = view.state.selection;\n            // Crude approximation of backspace behavior when no command handled it\n            if ($cursor && $cursor.pos > 0)\n                view.dispatch(view.state.tr.delete($cursor.pos - 1, $cursor.pos).scrollIntoView());\n        }, 50);\n    }\n};\n// Make sure all handlers get registered\nfor (let prop in editHandlers)\n    handlers[prop] = editHandlers[prop];\n\nfunction compareObjs(a, b) {\n    if (a == b)\n        return true;\n    for (let p in a)\n        if (a[p] !== b[p])\n            return false;\n    for (let p in b)\n        if (!(p in a))\n            return false;\n    return true;\n}\nclass WidgetType {\n    constructor(toDOM, spec) {\n        this.toDOM = toDOM;\n        this.spec = spec || noSpec;\n        this.side = this.spec.side || 0;\n    }\n    map(mapping, span, offset, oldOffset) {\n        let { pos, deleted } = mapping.mapResult(span.from + oldOffset, this.side < 0 ? -1 : 1);\n        return deleted ? null : new Decoration(pos - offset, pos - offset, this);\n    }\n    valid() { return true; }\n    eq(other) {\n        return this == other ||\n            (other instanceof WidgetType &&\n                (this.spec.key && this.spec.key == other.spec.key ||\n                    this.toDOM == other.toDOM && compareObjs(this.spec, other.spec)));\n    }\n    destroy(node) {\n        if (this.spec.destroy)\n            this.spec.destroy(node);\n    }\n}\nclass InlineType {\n    constructor(attrs, spec) {\n        this.attrs = attrs;\n        this.spec = spec || noSpec;\n    }\n    map(mapping, span, offset, oldOffset) {\n        let from = mapping.map(span.from + oldOffset, this.spec.inclusiveStart ? -1 : 1) - offset;\n        let to = mapping.map(span.to + oldOffset, this.spec.inclusiveEnd ? 1 : -1) - offset;\n        return from >= to ? null : new Decoration(from, to, this);\n    }\n    valid(_, span) { return span.from < span.to; }\n    eq(other) {\n        return this == other ||\n            (other instanceof InlineType && compareObjs(this.attrs, other.attrs) &&\n                compareObjs(this.spec, other.spec));\n    }\n    static is(span) { return span.type instanceof InlineType; }\n    destroy() { }\n}\nclass NodeType {\n    constructor(attrs, spec) {\n        this.attrs = attrs;\n        this.spec = spec || noSpec;\n    }\n    map(mapping, span, offset, oldOffset) {\n        let from = mapping.mapResult(span.from + oldOffset, 1);\n        if (from.deleted)\n            return null;\n        let to = mapping.mapResult(span.to + oldOffset, -1);\n        if (to.deleted || to.pos <= from.pos)\n            return null;\n        return new Decoration(from.pos - offset, to.pos - offset, this);\n    }\n    valid(node, span) {\n        let { index, offset } = node.content.findIndex(span.from), child;\n        return offset == span.from && !(child = node.child(index)).isText && offset + child.nodeSize == span.to;\n    }\n    eq(other) {\n        return this == other ||\n            (other instanceof NodeType && compareObjs(this.attrs, other.attrs) &&\n                compareObjs(this.spec, other.spec));\n    }\n    destroy() { }\n}\n/**\nDecoration objects can be provided to the view through the\n[`decorations` prop](https://prosemirror.net/docs/ref/#view.EditorProps.decorations). They come in\nseveral variants—see the static members of this class for details.\n*/\nclass Decoration {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start position of the decoration.\n    */\n    from, \n    /**\n    The end position. Will be the same as `from` for [widget\n    decorations](https://prosemirror.net/docs/ref/#view.Decoration^widget).\n    */\n    to, \n    /**\n    @internal\n    */\n    type) {\n        this.from = from;\n        this.to = to;\n        this.type = type;\n    }\n    /**\n    @internal\n    */\n    copy(from, to) {\n        return new Decoration(from, to, this.type);\n    }\n    /**\n    @internal\n    */\n    eq(other, offset = 0) {\n        return this.type.eq(other.type) && this.from + offset == other.from && this.to + offset == other.to;\n    }\n    /**\n    @internal\n    */\n    map(mapping, offset, oldOffset) {\n        return this.type.map(mapping, this, offset, oldOffset);\n    }\n    /**\n    Creates a widget decoration, which is a DOM node that's shown in\n    the document at the given position. It is recommended that you\n    delay rendering the widget by passing a function that will be\n    called when the widget is actually drawn in a view, but you can\n    also directly pass a DOM node. `getPos` can be used to find the\n    widget's current document position.\n    */\n    static widget(pos, toDOM, spec) {\n        return new Decoration(pos, pos, new WidgetType(toDOM, spec));\n    }\n    /**\n    Creates an inline decoration, which adds the given attributes to\n    each inline node between `from` and `to`.\n    */\n    static inline(from, to, attrs, spec) {\n        return new Decoration(from, to, new InlineType(attrs, spec));\n    }\n    /**\n    Creates a node decoration. `from` and `to` should point precisely\n    before and after a node in the document. That node, and only that\n    node, will receive the given attributes.\n    */\n    static node(from, to, attrs, spec) {\n        return new Decoration(from, to, new NodeType(attrs, spec));\n    }\n    /**\n    The spec provided when creating this decoration. Can be useful\n    if you've stored extra information in that object.\n    */\n    get spec() { return this.type.spec; }\n    /**\n    @internal\n    */\n    get inline() { return this.type instanceof InlineType; }\n    /**\n    @internal\n    */\n    get widget() { return this.type instanceof WidgetType; }\n}\nconst none = [], noSpec = {};\n/**\nA collection of [decorations](https://prosemirror.net/docs/ref/#view.Decoration), organized in such\na way that the drawing algorithm can efficiently use and compare\nthem. This is a persistent data structure—it is not modified,\nupdates create a new value.\n*/\nclass DecorationSet {\n    /**\n    @internal\n    */\n    constructor(local, children) {\n        this.local = local.length ? local : none;\n        this.children = children.length ? children : none;\n    }\n    /**\n    Create a set of decorations, using the structure of the given\n    document. This will consume (modify) the `decorations` array, so\n    you must make a copy if you want need to preserve that.\n    */\n    static create(doc, decorations) {\n        return decorations.length ? buildTree(decorations, doc, 0, noSpec) : empty;\n    }\n    /**\n    Find all decorations in this set which touch the given range\n    (including decorations that start or end directly at the\n    boundaries) and match the given predicate on their spec. When\n    `start` and `end` are omitted, all decorations in the set are\n    considered. When `predicate` isn't given, all decorations are\n    assumed to match.\n    */\n    find(start, end, predicate) {\n        let result = [];\n        this.findInner(start == null ? 0 : start, end == null ? 1e9 : end, result, 0, predicate);\n        return result;\n    }\n    findInner(start, end, result, offset, predicate) {\n        for (let i = 0; i < this.local.length; i++) {\n            let span = this.local[i];\n            if (span.from <= end && span.to >= start && (!predicate || predicate(span.spec)))\n                result.push(span.copy(span.from + offset, span.to + offset));\n        }\n        for (let i = 0; i < this.children.length; i += 3) {\n            if (this.children[i] < end && this.children[i + 1] > start) {\n                let childOff = this.children[i] + 1;\n                this.children[i + 2].findInner(start - childOff, end - childOff, result, offset + childOff, predicate);\n            }\n        }\n    }\n    /**\n    Map the set of decorations in response to a change in the\n    document.\n    */\n    map(mapping, doc, options) {\n        if (this == empty || mapping.maps.length == 0)\n            return this;\n        return this.mapInner(mapping, doc, 0, 0, options || noSpec);\n    }\n    /**\n    @internal\n    */\n    mapInner(mapping, node, offset, oldOffset, options) {\n        let newLocal;\n        for (let i = 0; i < this.local.length; i++) {\n            let mapped = this.local[i].map(mapping, offset, oldOffset);\n            if (mapped && mapped.type.valid(node, mapped))\n                (newLocal || (newLocal = [])).push(mapped);\n            else if (options.onRemove)\n                options.onRemove(this.local[i].spec);\n        }\n        if (this.children.length)\n            return mapChildren(this.children, newLocal || [], mapping, node, offset, oldOffset, options);\n        else\n            return newLocal ? new DecorationSet(newLocal.sort(byPos), none) : empty;\n    }\n    /**\n    Add the given array of decorations to the ones in the set,\n    producing a new set. Consumes the `decorations` array. Needs\n    access to the current document to create the appropriate tree\n    structure.\n    */\n    add(doc, decorations) {\n        if (!decorations.length)\n            return this;\n        if (this == empty)\n            return DecorationSet.create(doc, decorations);\n        return this.addInner(doc, decorations, 0);\n    }\n    addInner(doc, decorations, offset) {\n        let children, childIndex = 0;\n        doc.forEach((childNode, childOffset) => {\n            let baseOffset = childOffset + offset, found;\n            if (!(found = takeSpansForNode(decorations, childNode, baseOffset)))\n                return;\n            if (!children)\n                children = this.children.slice();\n            while (childIndex < children.length && children[childIndex] < childOffset)\n                childIndex += 3;\n            if (children[childIndex] == childOffset)\n                children[childIndex + 2] = children[childIndex + 2].addInner(childNode, found, baseOffset + 1);\n            else\n                children.splice(childIndex, 0, childOffset, childOffset + childNode.nodeSize, buildTree(found, childNode, baseOffset + 1, noSpec));\n            childIndex += 3;\n        });\n        let local = moveSpans(childIndex ? withoutNulls(decorations) : decorations, -offset);\n        for (let i = 0; i < local.length; i++)\n            if (!local[i].type.valid(doc, local[i]))\n                local.splice(i--, 1);\n        return new DecorationSet(local.length ? this.local.concat(local).sort(byPos) : this.local, children || this.children);\n    }\n    /**\n    Create a new set that contains the decorations in this set, minus\n    the ones in the given array.\n    */\n    remove(decorations) {\n        if (decorations.length == 0 || this == empty)\n            return this;\n        return this.removeInner(decorations, 0);\n    }\n    removeInner(decorations, offset) {\n        let children = this.children, local = this.local;\n        for (let i = 0; i < children.length; i += 3) {\n            let found;\n            let from = children[i] + offset, to = children[i + 1] + offset;\n            for (let j = 0, span; j < decorations.length; j++)\n                if (span = decorations[j]) {\n                    if (span.from > from && span.to < to) {\n                        decorations[j] = null;\n                        (found || (found = [])).push(span);\n                    }\n                }\n            if (!found)\n                continue;\n            if (children == this.children)\n                children = this.children.slice();\n            let removed = children[i + 2].removeInner(found, from + 1);\n            if (removed != empty) {\n                children[i + 2] = removed;\n            }\n            else {\n                children.splice(i, 3);\n                i -= 3;\n            }\n        }\n        if (local.length)\n            for (let i = 0, span; i < decorations.length; i++)\n                if (span = decorations[i]) {\n                    for (let j = 0; j < local.length; j++)\n                        if (local[j].eq(span, offset)) {\n                            if (local == this.local)\n                                local = this.local.slice();\n                            local.splice(j--, 1);\n                        }\n                }\n        if (children == this.children && local == this.local)\n            return this;\n        return local.length || children.length ? new DecorationSet(local, children) : empty;\n    }\n    forChild(offset, node) {\n        if (this == empty)\n            return this;\n        if (node.isLeaf)\n            return DecorationSet.empty;\n        let child, local;\n        for (let i = 0; i < this.children.length; i += 3)\n            if (this.children[i] >= offset) {\n                if (this.children[i] == offset)\n                    child = this.children[i + 2];\n                break;\n            }\n        let start = offset + 1, end = start + node.content.size;\n        for (let i = 0; i < this.local.length; i++) {\n            let dec = this.local[i];\n            if (dec.from < end && dec.to > start && (dec.type instanceof InlineType)) {\n                let from = Math.max(start, dec.from) - start, to = Math.min(end, dec.to) - start;\n                if (from < to)\n                    (local || (local = [])).push(dec.copy(from, to));\n            }\n        }\n        if (local) {\n            let localSet = new DecorationSet(local.sort(byPos), none);\n            return child ? new DecorationGroup([localSet, child]) : localSet;\n        }\n        return child || empty;\n    }\n    /**\n    @internal\n    */\n    eq(other) {\n        if (this == other)\n            return true;\n        if (!(other instanceof DecorationSet) ||\n            this.local.length != other.local.length ||\n            this.children.length != other.children.length)\n            return false;\n        for (let i = 0; i < this.local.length; i++)\n            if (!this.local[i].eq(other.local[i]))\n                return false;\n        for (let i = 0; i < this.children.length; i += 3)\n            if (this.children[i] != other.children[i] ||\n                this.children[i + 1] != other.children[i + 1] ||\n                !this.children[i + 2].eq(other.children[i + 2]))\n                return false;\n        return true;\n    }\n    /**\n    @internal\n    */\n    locals(node) {\n        return removeOverlap(this.localsInner(node));\n    }\n    /**\n    @internal\n    */\n    localsInner(node) {\n        if (this == empty)\n            return none;\n        if (node.inlineContent || !this.local.some(InlineType.is))\n            return this.local;\n        let result = [];\n        for (let i = 0; i < this.local.length; i++) {\n            if (!(this.local[i].type instanceof InlineType))\n                result.push(this.local[i]);\n        }\n        return result;\n    }\n    forEachSet(f) { f(this); }\n}\n/**\nThe empty set of decorations.\n*/\nDecorationSet.empty = new DecorationSet([], []);\n/**\n@internal\n*/\nDecorationSet.removeOverlap = removeOverlap;\nconst empty = DecorationSet.empty;\n// An abstraction that allows the code dealing with decorations to\n// treat multiple DecorationSet objects as if it were a single object\n// with (a subset of) the same interface.\nclass DecorationGroup {\n    constructor(members) {\n        this.members = members;\n    }\n    map(mapping, doc) {\n        const mappedDecos = this.members.map(member => member.map(mapping, doc, noSpec));\n        return DecorationGroup.from(mappedDecos);\n    }\n    forChild(offset, child) {\n        if (child.isLeaf)\n            return DecorationSet.empty;\n        let found = [];\n        for (let i = 0; i < this.members.length; i++) {\n            let result = this.members[i].forChild(offset, child);\n            if (result == empty)\n                continue;\n            if (result instanceof DecorationGroup)\n                found = found.concat(result.members);\n            else\n                found.push(result);\n        }\n        return DecorationGroup.from(found);\n    }\n    eq(other) {\n        if (!(other instanceof DecorationGroup) ||\n            other.members.length != this.members.length)\n            return false;\n        for (let i = 0; i < this.members.length; i++)\n            if (!this.members[i].eq(other.members[i]))\n                return false;\n        return true;\n    }\n    locals(node) {\n        let result, sorted = true;\n        for (let i = 0; i < this.members.length; i++) {\n            let locals = this.members[i].localsInner(node);\n            if (!locals.length)\n                continue;\n            if (!result) {\n                result = locals;\n            }\n            else {\n                if (sorted) {\n                    result = result.slice();\n                    sorted = false;\n                }\n                for (let j = 0; j < locals.length; j++)\n                    result.push(locals[j]);\n            }\n        }\n        return result ? removeOverlap(sorted ? result : result.sort(byPos)) : none;\n    }\n    // Create a group for the given array of decoration sets, or return\n    // a single set when possible.\n    static from(members) {\n        switch (members.length) {\n            case 0: return empty;\n            case 1: return members[0];\n            default: return new DecorationGroup(members.every(m => m instanceof DecorationSet) ? members :\n                members.reduce((r, m) => r.concat(m instanceof DecorationSet ? m : m.members), []));\n        }\n    }\n    forEachSet(f) {\n        for (let i = 0; i < this.members.length; i++)\n            this.members[i].forEachSet(f);\n    }\n}\nfunction mapChildren(oldChildren, newLocal, mapping, node, offset, oldOffset, options) {\n    let children = oldChildren.slice();\n    // Mark the children that are directly touched by changes, and\n    // move those that are after the changes.\n    for (let i = 0, baseOffset = oldOffset; i < mapping.maps.length; i++) {\n        let moved = 0;\n        mapping.maps[i].forEach((oldStart, oldEnd, newStart, newEnd) => {\n            let dSize = (newEnd - newStart) - (oldEnd - oldStart);\n            for (let i = 0; i < children.length; i += 3) {\n                let end = children[i + 1];\n                if (end < 0 || oldStart > end + baseOffset - moved)\n                    continue;\n                let start = children[i] + baseOffset - moved;\n                if (oldEnd >= start) {\n                    children[i + 1] = oldStart <= start ? -2 : -1;\n                }\n                else if (oldStart >= baseOffset && dSize) {\n                    children[i] += dSize;\n                    children[i + 1] += dSize;\n                }\n            }\n            moved += dSize;\n        });\n        baseOffset = mapping.maps[i].map(baseOffset, -1);\n    }\n    // Find the child nodes that still correspond to a single node,\n    // recursively call mapInner on them and update their positions.\n    let mustRebuild = false;\n    for (let i = 0; i < children.length; i += 3)\n        if (children[i + 1] < 0) { // Touched nodes\n            if (children[i + 1] == -2) {\n                mustRebuild = true;\n                children[i + 1] = -1;\n                continue;\n            }\n            let from = mapping.map(oldChildren[i] + oldOffset), fromLocal = from - offset;\n            if (fromLocal < 0 || fromLocal >= node.content.size) {\n                mustRebuild = true;\n                continue;\n            }\n            // Must read oldChildren because children was tagged with -1\n            let to = mapping.map(oldChildren[i + 1] + oldOffset, -1), toLocal = to - offset;\n            let { index, offset: childOffset } = node.content.findIndex(fromLocal);\n            let childNode = node.maybeChild(index);\n            if (childNode && childOffset == fromLocal && childOffset + childNode.nodeSize == toLocal) {\n                let mapped = children[i + 2]\n                    .mapInner(mapping, childNode, from + 1, oldChildren[i] + oldOffset + 1, options);\n                if (mapped != empty) {\n                    children[i] = fromLocal;\n                    children[i + 1] = toLocal;\n                    children[i + 2] = mapped;\n                }\n                else {\n                    children[i + 1] = -2;\n                    mustRebuild = true;\n                }\n            }\n            else {\n                mustRebuild = true;\n            }\n        }\n    // Remaining children must be collected and rebuilt into the appropriate structure\n    if (mustRebuild) {\n        let decorations = mapAndGatherRemainingDecorations(children, oldChildren, newLocal, mapping, offset, oldOffset, options);\n        let built = buildTree(decorations, node, 0, options);\n        newLocal = built.local;\n        for (let i = 0; i < children.length; i += 3)\n            if (children[i + 1] < 0) {\n                children.splice(i, 3);\n                i -= 3;\n            }\n        for (let i = 0, j = 0; i < built.children.length; i += 3) {\n            let from = built.children[i];\n            while (j < children.length && children[j] < from)\n                j += 3;\n            children.splice(j, 0, built.children[i], built.children[i + 1], built.children[i + 2]);\n        }\n    }\n    return new DecorationSet(newLocal.sort(byPos), children);\n}\nfunction moveSpans(spans, offset) {\n    if (!offset || !spans.length)\n        return spans;\n    let result = [];\n    for (let i = 0; i < spans.length; i++) {\n        let span = spans[i];\n        result.push(new Decoration(span.from + offset, span.to + offset, span.type));\n    }\n    return result;\n}\nfunction mapAndGatherRemainingDecorations(children, oldChildren, decorations, mapping, offset, oldOffset, options) {\n    // Gather all decorations from the remaining marked children\n    function gather(set, oldOffset) {\n        for (let i = 0; i < set.local.length; i++) {\n            let mapped = set.local[i].map(mapping, offset, oldOffset);\n            if (mapped)\n                decorations.push(mapped);\n            else if (options.onRemove)\n                options.onRemove(set.local[i].spec);\n        }\n        for (let i = 0; i < set.children.length; i += 3)\n            gather(set.children[i + 2], set.children[i] + oldOffset + 1);\n    }\n    for (let i = 0; i < children.length; i += 3)\n        if (children[i + 1] == -1)\n            gather(children[i + 2], oldChildren[i] + oldOffset + 1);\n    return decorations;\n}\nfunction takeSpansForNode(spans, node, offset) {\n    if (node.isLeaf)\n        return null;\n    let end = offset + node.nodeSize, found = null;\n    for (let i = 0, span; i < spans.length; i++) {\n        if ((span = spans[i]) && span.from > offset && span.to < end) {\n            (found || (found = [])).push(span);\n            spans[i] = null;\n        }\n    }\n    return found;\n}\nfunction withoutNulls(array) {\n    let result = [];\n    for (let i = 0; i < array.length; i++)\n        if (array[i] != null)\n            result.push(array[i]);\n    return result;\n}\n// Build up a tree that corresponds to a set of decorations. `offset`\n// is a base offset that should be subtracted from the `from` and `to`\n// positions in the spans (so that we don't have to allocate new spans\n// for recursive calls).\nfunction buildTree(spans, node, offset, options) {\n    let children = [], hasNulls = false;\n    node.forEach((childNode, localStart) => {\n        let found = takeSpansForNode(spans, childNode, localStart + offset);\n        if (found) {\n            hasNulls = true;\n            let subtree = buildTree(found, childNode, offset + localStart + 1, options);\n            if (subtree != empty)\n                children.push(localStart, localStart + childNode.nodeSize, subtree);\n        }\n    });\n    let locals = moveSpans(hasNulls ? withoutNulls(spans) : spans, -offset).sort(byPos);\n    for (let i = 0; i < locals.length; i++)\n        if (!locals[i].type.valid(node, locals[i])) {\n            if (options.onRemove)\n                options.onRemove(locals[i].spec);\n            locals.splice(i--, 1);\n        }\n    return locals.length || children.length ? new DecorationSet(locals, children) : empty;\n}\n// Used to sort decorations so that ones with a low start position\n// come first, and within a set with the same start position, those\n// with an smaller end position come first.\nfunction byPos(a, b) {\n    return a.from - b.from || a.to - b.to;\n}\n// Scan a sorted array of decorations for partially overlapping spans,\n// and split those so that only fully overlapping spans are left (to\n// make subsequent rendering easier). Will return the input array if\n// no partially overlapping spans are found (the common case).\nfunction removeOverlap(spans) {\n    let working = spans;\n    for (let i = 0; i < working.length - 1; i++) {\n        let span = working[i];\n        if (span.from != span.to)\n            for (let j = i + 1; j < working.length; j++) {\n                let next = working[j];\n                if (next.from == span.from) {\n                    if (next.to != span.to) {\n                        if (working == spans)\n                            working = spans.slice();\n                        // Followed by a partially overlapping larger span. Split that\n                        // span.\n                        working[j] = next.copy(next.from, span.to);\n                        insertAhead(working, j + 1, next.copy(span.to, next.to));\n                    }\n                    continue;\n                }\n                else {\n                    if (next.from < span.to) {\n                        if (working == spans)\n                            working = spans.slice();\n                        // The end of this one overlaps with a subsequent span. Split\n                        // this one.\n                        working[i] = span.copy(span.from, next.from);\n                        insertAhead(working, j, span.copy(next.from, span.to));\n                    }\n                    break;\n                }\n            }\n    }\n    return working;\n}\nfunction insertAhead(array, i, deco) {\n    while (i < array.length && byPos(deco, array[i]) > 0)\n        i++;\n    array.splice(i, 0, deco);\n}\n// Get the decorations associated with the current props of a view.\nfunction viewDecorations(view) {\n    let found = [];\n    view.someProp(\"decorations\", f => {\n        let result = f(view.state);\n        if (result && result != empty)\n            found.push(result);\n    });\n    if (view.cursorWrapper)\n        found.push(DecorationSet.create(view.state.doc, [view.cursorWrapper.deco]));\n    return DecorationGroup.from(found);\n}\n\nconst observeOptions = {\n    childList: true,\n    characterData: true,\n    characterDataOldValue: true,\n    attributes: true,\n    attributeOldValue: true,\n    subtree: true\n};\n// IE11 has very broken mutation observers, so we also listen to DOMCharacterDataModified\nconst useCharData = ie && ie_version <= 11;\nclass SelectionState {\n    constructor() {\n        this.anchorNode = null;\n        this.anchorOffset = 0;\n        this.focusNode = null;\n        this.focusOffset = 0;\n    }\n    set(sel) {\n        this.anchorNode = sel.anchorNode;\n        this.anchorOffset = sel.anchorOffset;\n        this.focusNode = sel.focusNode;\n        this.focusOffset = sel.focusOffset;\n    }\n    clear() {\n        this.anchorNode = this.focusNode = null;\n    }\n    eq(sel) {\n        return sel.anchorNode == this.anchorNode && sel.anchorOffset == this.anchorOffset &&\n            sel.focusNode == this.focusNode && sel.focusOffset == this.focusOffset;\n    }\n}\nclass DOMObserver {\n    constructor(view, handleDOMChange) {\n        this.view = view;\n        this.handleDOMChange = handleDOMChange;\n        this.queue = [];\n        this.flushingSoon = -1;\n        this.observer = null;\n        this.currentSelection = new SelectionState;\n        this.onCharData = null;\n        this.suppressingSelectionUpdates = false;\n        this.lastChangedTextNode = null;\n        this.observer = window.MutationObserver &&\n            new window.MutationObserver(mutations => {\n                for (let i = 0; i < mutations.length; i++)\n                    this.queue.push(mutations[i]);\n                if (ie && ie_version <= 11 && mutations.some(m => m.type == \"childList\" && m.removedNodes.length ||\n                    m.type == \"characterData\" && m.oldValue.length > m.target.nodeValue.length)) {\n                    // IE11 will sometimes (on backspacing out a single character\n                    // text node after a BR node) call the observer callback\n                    // before actually updating the DOM, which will cause\n                    // ProseMirror to miss the change (see #930)\n                    this.flushSoon();\n                }\n                else if (safari && view.composing && mutations.some(m => m.type == \"childList\" && m.target.nodeName == \"TR\")) {\n                    // Safari does weird stuff when finishing a composition in a\n                    // table cell, which tends to involve inserting inappropriate\n                    // nodes in the table row.\n                    view.input.badSafariComposition = true;\n                    this.flushSoon();\n                }\n                else {\n                    this.flush();\n                }\n            });\n        if (useCharData) {\n            this.onCharData = e => {\n                this.queue.push({ target: e.target, type: \"characterData\", oldValue: e.prevValue });\n                this.flushSoon();\n            };\n        }\n        this.onSelectionChange = this.onSelectionChange.bind(this);\n    }\n    flushSoon() {\n        if (this.flushingSoon < 0)\n            this.flushingSoon = window.setTimeout(() => { this.flushingSoon = -1; this.flush(); }, 20);\n    }\n    forceFlush() {\n        if (this.flushingSoon > -1) {\n            window.clearTimeout(this.flushingSoon);\n            this.flushingSoon = -1;\n            this.flush();\n        }\n    }\n    start() {\n        if (this.observer) {\n            this.observer.takeRecords();\n            this.observer.observe(this.view.dom, observeOptions);\n        }\n        if (this.onCharData)\n            this.view.dom.addEventListener(\"DOMCharacterDataModified\", this.onCharData);\n        this.connectSelection();\n    }\n    stop() {\n        if (this.observer) {\n            let take = this.observer.takeRecords();\n            if (take.length) {\n                for (let i = 0; i < take.length; i++)\n                    this.queue.push(take[i]);\n                window.setTimeout(() => this.flush(), 20);\n            }\n            this.observer.disconnect();\n        }\n        if (this.onCharData)\n            this.view.dom.removeEventListener(\"DOMCharacterDataModified\", this.onCharData);\n        this.disconnectSelection();\n    }\n    connectSelection() {\n        this.view.dom.ownerDocument.addEventListener(\"selectionchange\", this.onSelectionChange);\n    }\n    disconnectSelection() {\n        this.view.dom.ownerDocument.removeEventListener(\"selectionchange\", this.onSelectionChange);\n    }\n    suppressSelectionUpdates() {\n        this.suppressingSelectionUpdates = true;\n        setTimeout(() => this.suppressingSelectionUpdates = false, 50);\n    }\n    onSelectionChange() {\n        if (!hasFocusAndSelection(this.view))\n            return;\n        if (this.suppressingSelectionUpdates)\n            return selectionToDOM(this.view);\n        // Deletions on IE11 fire their events in the wrong order, giving\n        // us a selection change event before the DOM changes are\n        // reported.\n        if (ie && ie_version <= 11 && !this.view.state.selection.empty) {\n            let sel = this.view.domSelectionRange();\n            // Selection.isCollapsed isn't reliable on IE\n            if (sel.focusNode && isEquivalentPosition(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset))\n                return this.flushSoon();\n        }\n        this.flush();\n    }\n    setCurSelection() {\n        this.currentSelection.set(this.view.domSelectionRange());\n    }\n    ignoreSelectionChange(sel) {\n        if (!sel.focusNode)\n            return true;\n        let ancestors = new Set, container;\n        for (let scan = sel.focusNode; scan; scan = parentNode(scan))\n            ancestors.add(scan);\n        for (let scan = sel.anchorNode; scan; scan = parentNode(scan))\n            if (ancestors.has(scan)) {\n                container = scan;\n                break;\n            }\n        let desc = container && this.view.docView.nearestDesc(container);\n        if (desc && desc.ignoreMutation({\n            type: \"selection\",\n            target: container.nodeType == 3 ? container.parentNode : container\n        })) {\n            this.setCurSelection();\n            return true;\n        }\n    }\n    pendingRecords() {\n        if (this.observer)\n            for (let mut of this.observer.takeRecords())\n                this.queue.push(mut);\n        return this.queue;\n    }\n    flush() {\n        let { view } = this;\n        if (!view.docView || this.flushingSoon > -1)\n            return;\n        let mutations = this.pendingRecords();\n        if (mutations.length)\n            this.queue = [];\n        let sel = view.domSelectionRange();\n        let newSel = !this.suppressingSelectionUpdates && !this.currentSelection.eq(sel) && hasFocusAndSelection(view) && !this.ignoreSelectionChange(sel);\n        let from = -1, to = -1, typeOver = false, added = [];\n        if (view.editable) {\n            for (let i = 0; i < mutations.length; i++) {\n                let result = this.registerMutation(mutations[i], added);\n                if (result) {\n                    from = from < 0 ? result.from : Math.min(result.from, from);\n                    to = to < 0 ? result.to : Math.max(result.to, to);\n                    if (result.typeOver)\n                        typeOver = true;\n                }\n            }\n        }\n        if (added.some(n => n.nodeName == \"BR\") && (view.input.lastKeyCode == 8 || view.input.lastKeyCode == 46)) {\n            // Browsers sometimes insert a bogus break node if you\n            // backspace out the last bit of text before an inline-flex node (#1552)\n            for (let node of added)\n                if (node.nodeName == \"BR\" && node.parentNode) {\n                    let after = node.nextSibling;\n                    if (after && after.nodeType == 1 && after.contentEditable == \"false\")\n                        node.parentNode.removeChild(node);\n                }\n        }\n        else if (gecko && added.length) {\n            let brs = added.filter(n => n.nodeName == \"BR\");\n            if (brs.length == 2) {\n                let [a, b] = brs;\n                if (a.parentNode && a.parentNode.parentNode == b.parentNode)\n                    b.remove();\n                else\n                    a.remove();\n            }\n            else {\n                let { focusNode } = this.currentSelection;\n                for (let br of brs) {\n                    let parent = br.parentNode;\n                    if (parent && parent.nodeName == \"LI\" && (!focusNode || blockParent(view, focusNode) != parent))\n                        br.remove();\n                }\n            }\n        }\n        let readSel = null;\n        // If it looks like the browser has reset the selection to the\n        // start of the document after focus, restore the selection from\n        // the state\n        if (from < 0 && newSel && view.input.lastFocus > Date.now() - 200 &&\n            Math.max(view.input.lastTouch, view.input.lastClick.time) < Date.now() - 300 &&\n            selectionCollapsed(sel) && (readSel = selectionFromDOM(view)) &&\n            readSel.eq(Selection.near(view.state.doc.resolve(0), 1))) {\n            view.input.lastFocus = 0;\n            selectionToDOM(view);\n            this.currentSelection.set(sel);\n            view.scrollToSelection();\n        }\n        else if (from > -1 || newSel) {\n            if (from > -1) {\n                view.docView.markDirty(from, to);\n                checkCSS(view);\n            }\n            if (view.input.badSafariComposition) {\n                view.input.badSafariComposition = false;\n                fixUpBadSafariComposition(view, added);\n            }\n            this.handleDOMChange(from, to, typeOver, added);\n            if (view.docView && view.docView.dirty)\n                view.updateState(view.state);\n            else if (!this.currentSelection.eq(sel))\n                selectionToDOM(view);\n            this.currentSelection.set(sel);\n        }\n    }\n    registerMutation(mut, added) {\n        // Ignore mutations inside nodes that were already noted as inserted\n        if (added.indexOf(mut.target) > -1)\n            return null;\n        let desc = this.view.docView.nearestDesc(mut.target);\n        if (mut.type == \"attributes\" &&\n            (desc == this.view.docView || mut.attributeName == \"contenteditable\" ||\n                // Firefox sometimes fires spurious events for null/empty styles\n                (mut.attributeName == \"style\" && !mut.oldValue && !mut.target.getAttribute(\"style\"))))\n            return null;\n        if (!desc || desc.ignoreMutation(mut))\n            return null;\n        if (mut.type == \"childList\") {\n            for (let i = 0; i < mut.addedNodes.length; i++) {\n                let node = mut.addedNodes[i];\n                added.push(node);\n                if (node.nodeType == 3)\n                    this.lastChangedTextNode = node;\n            }\n            if (desc.contentDOM && desc.contentDOM != desc.dom && !desc.contentDOM.contains(mut.target))\n                return { from: desc.posBefore, to: desc.posAfter };\n            let prev = mut.previousSibling, next = mut.nextSibling;\n            if (ie && ie_version <= 11 && mut.addedNodes.length) {\n                // IE11 gives us incorrect next/prev siblings for some\n                // insertions, so if there are added nodes, recompute those\n                for (let i = 0; i < mut.addedNodes.length; i++) {\n                    let { previousSibling, nextSibling } = mut.addedNodes[i];\n                    if (!previousSibling || Array.prototype.indexOf.call(mut.addedNodes, previousSibling) < 0)\n                        prev = previousSibling;\n                    if (!nextSibling || Array.prototype.indexOf.call(mut.addedNodes, nextSibling) < 0)\n                        next = nextSibling;\n                }\n            }\n            let fromOffset = prev && prev.parentNode == mut.target\n                ? domIndex(prev) + 1 : 0;\n            let from = desc.localPosFromDOM(mut.target, fromOffset, -1);\n            let toOffset = next && next.parentNode == mut.target\n                ? domIndex(next) : mut.target.childNodes.length;\n            let to = desc.localPosFromDOM(mut.target, toOffset, 1);\n            return { from, to };\n        }\n        else if (mut.type == \"attributes\") {\n            return { from: desc.posAtStart - desc.border, to: desc.posAtEnd + desc.border };\n        }\n        else { // \"characterData\"\n            this.lastChangedTextNode = mut.target;\n            return {\n                from: desc.posAtStart,\n                to: desc.posAtEnd,\n                // An event was generated for a text change that didn't change\n                // any text. Mark the dom change to fall back to assuming the\n                // selection was typed over with an identical value if it can't\n                // find another change.\n                typeOver: mut.target.nodeValue == mut.oldValue\n            };\n        }\n    }\n}\nlet cssChecked = new WeakMap();\nlet cssCheckWarned = false;\nfunction checkCSS(view) {\n    if (cssChecked.has(view))\n        return;\n    cssChecked.set(view, null);\n    if (['normal', 'nowrap', 'pre-line'].indexOf(getComputedStyle(view.dom).whiteSpace) !== -1) {\n        view.requiresGeckoHackNode = gecko;\n        if (cssCheckWarned)\n            return;\n        console[\"warn\"](\"ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.\");\n        cssCheckWarned = true;\n    }\n}\nfunction rangeToSelectionRange(view, range) {\n    let anchorNode = range.startContainer, anchorOffset = range.startOffset;\n    let focusNode = range.endContainer, focusOffset = range.endOffset;\n    let currentAnchor = view.domAtPos(view.state.selection.anchor);\n    // Since such a range doesn't distinguish between anchor and head,\n    // use a heuristic that flips it around if its end matches the\n    // current anchor.\n    if (isEquivalentPosition(currentAnchor.node, currentAnchor.offset, focusNode, focusOffset))\n        [anchorNode, anchorOffset, focusNode, focusOffset] = [focusNode, focusOffset, anchorNode, anchorOffset];\n    return { anchorNode, anchorOffset, focusNode, focusOffset };\n}\n// Used to work around a Safari Selection/shadow DOM bug\n// Based on https://github.com/codemirror/dev/issues/414 fix\nfunction safariShadowSelectionRange(view, selection) {\n    if (selection.getComposedRanges) {\n        let range = selection.getComposedRanges(view.root)[0];\n        if (range)\n            return rangeToSelectionRange(view, range);\n    }\n    let found;\n    function read(event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        found = event.getTargetRanges()[0];\n    }\n    // Because Safari (at least in 2018-2022) doesn't provide regular\n    // access to the selection inside a shadowRoot, we have to perform a\n    // ridiculous hack to get at it—using `execCommand` to trigger a\n    // `beforeInput` event so that we can read the target range from the\n    // event.\n    view.dom.addEventListener(\"beforeinput\", read, true);\n    document.execCommand(\"indent\");\n    view.dom.removeEventListener(\"beforeinput\", read, true);\n    return found ? rangeToSelectionRange(view, found) : null;\n}\nfunction blockParent(view, node) {\n    for (let p = node.parentNode; p && p != view.dom; p = p.parentNode) {\n        let desc = view.docView.nearestDesc(p, true);\n        if (desc && desc.node.isBlock)\n            return p;\n    }\n    return null;\n}\n// Kludge for a Safari bug where, on ending a composition in an\n// otherwise empty table cell, it randomly moves the composed text\n// into the table row around that cell, greatly confusing everything\n// (#188).\nfunction fixUpBadSafariComposition(view, addedNodes) {\n    var _a;\n    let { focusNode, focusOffset } = view.domSelectionRange();\n    for (let node of addedNodes) {\n        if (((_a = node.parentNode) === null || _a === void 0 ? void 0 : _a.nodeName) == \"TR\") {\n            let nextCell = node.nextSibling;\n            while (nextCell && (nextCell.nodeName != \"TD\" && nextCell.nodeName != \"TH\"))\n                nextCell = nextCell.nextSibling;\n            if (nextCell) {\n                let parent = nextCell;\n                for (;;) {\n                    let first = parent.firstChild;\n                    if (!first || first.nodeType != 1 || first.contentEditable == \"false\" ||\n                        /^(BR|IMG)$/.test(first.nodeName))\n                        break;\n                    parent = first;\n                }\n                parent.insertBefore(node, parent.firstChild);\n                if (focusNode == node)\n                    view.domSelection().collapse(node, focusOffset);\n            }\n            else {\n                node.parentNode.removeChild(node);\n            }\n        }\n    }\n}\n\n// Note that all referencing and parsing is done with the\n// start-of-operation selection and document, since that's the one\n// that the DOM represents. If any changes came in in the meantime,\n// the modification is mapped over those before it is applied, in\n// readDOMChange.\nfunction parseBetween(view, from_, to_) {\n    let { node: parent, fromOffset, toOffset, from, to } = view.docView.parseRange(from_, to_);\n    let domSel = view.domSelectionRange();\n    let find;\n    let anchor = domSel.anchorNode;\n    if (anchor && view.dom.contains(anchor.nodeType == 1 ? anchor : anchor.parentNode)) {\n        find = [{ node: anchor, offset: domSel.anchorOffset }];\n        if (!selectionCollapsed(domSel))\n            find.push({ node: domSel.focusNode, offset: domSel.focusOffset });\n    }\n    // Work around issue in Chrome where backspacing sometimes replaces\n    // the deleted content with a random BR node (issues #799, #831)\n    if (chrome && view.input.lastKeyCode === 8) {\n        for (let off = toOffset; off > fromOffset; off--) {\n            let node = parent.childNodes[off - 1], desc = node.pmViewDesc;\n            if (node.nodeName == \"BR\" && !desc) {\n                toOffset = off;\n                break;\n            }\n            if (!desc || desc.size)\n                break;\n        }\n    }\n    let startDoc = view.state.doc;\n    let parser = view.someProp(\"domParser\") || DOMParser.fromSchema(view.state.schema);\n    let $from = startDoc.resolve(from);\n    let sel = null, doc = parser.parse(parent, {\n        topNode: $from.parent,\n        topMatch: $from.parent.contentMatchAt($from.index()),\n        topOpen: true,\n        from: fromOffset,\n        to: toOffset,\n        preserveWhitespace: $from.parent.type.whitespace == \"pre\" ? \"full\" : true,\n        findPositions: find,\n        ruleFromNode,\n        context: $from\n    });\n    if (find && find[0].pos != null) {\n        let anchor = find[0].pos, head = find[1] && find[1].pos;\n        if (head == null)\n            head = anchor;\n        sel = { anchor: anchor + from, head: head + from };\n    }\n    return { doc, sel, from, to };\n}\nfunction ruleFromNode(dom) {\n    let desc = dom.pmViewDesc;\n    if (desc) {\n        return desc.parseRule();\n    }\n    else if (dom.nodeName == \"BR\" && dom.parentNode) {\n        // Safari replaces the list item or table cell with a BR\n        // directly in the list node (?!) if you delete the last\n        // character in a list item or table cell (#708, #862)\n        if (safari && /^(ul|ol)$/i.test(dom.parentNode.nodeName)) {\n            let skip = document.createElement(\"div\");\n            skip.appendChild(document.createElement(\"li\"));\n            return { skip };\n        }\n        else if (dom.parentNode.lastChild == dom || safari && /^(tr|table)$/i.test(dom.parentNode.nodeName)) {\n            return { ignore: true };\n        }\n    }\n    else if (dom.nodeName == \"IMG\" && dom.getAttribute(\"mark-placeholder\")) {\n        return { ignore: true };\n    }\n    return null;\n}\nconst isInline = /^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;\nfunction readDOMChange(view, from, to, typeOver, addedNodes) {\n    let compositionID = view.input.compositionPendingChanges || (view.composing ? view.input.compositionID : 0);\n    view.input.compositionPendingChanges = 0;\n    if (from < 0) {\n        let origin = view.input.lastSelectionTime > Date.now() - 50 ? view.input.lastSelectionOrigin : null;\n        let newSel = selectionFromDOM(view, origin);\n        if (newSel && !view.state.selection.eq(newSel)) {\n            if (chrome && android &&\n                view.input.lastKeyCode === 13 && Date.now() - 100 < view.input.lastKeyCodeTime &&\n                view.someProp(\"handleKeyDown\", f => f(view, keyEvent(13, \"Enter\"))))\n                return;\n            let tr = view.state.tr.setSelection(newSel);\n            if (origin == \"pointer\")\n                tr.setMeta(\"pointer\", true);\n            else if (origin == \"key\")\n                tr.scrollIntoView();\n            if (compositionID)\n                tr.setMeta(\"composition\", compositionID);\n            view.dispatch(tr);\n        }\n        return;\n    }\n    let $before = view.state.doc.resolve(from);\n    let shared = $before.sharedDepth(to);\n    from = $before.before(shared + 1);\n    to = view.state.doc.resolve(to).after(shared + 1);\n    let sel = view.state.selection;\n    let parse = parseBetween(view, from, to);\n    let doc = view.state.doc, compare = doc.slice(parse.from, parse.to);\n    let preferredPos, preferredSide;\n    // Prefer anchoring to end when Backspace is pressed\n    if (view.input.lastKeyCode === 8 && Date.now() - 100 < view.input.lastKeyCodeTime) {\n        preferredPos = view.state.selection.to;\n        preferredSide = \"end\";\n    }\n    else {\n        preferredPos = view.state.selection.from;\n        preferredSide = \"start\";\n    }\n    view.input.lastKeyCode = null;\n    let change = findDiff(compare.content, parse.doc.content, parse.from, preferredPos, preferredSide);\n    if (change)\n        view.input.domChangeCount++;\n    if ((ios && view.input.lastIOSEnter > Date.now() - 225 || android) &&\n        addedNodes.some(n => n.nodeType == 1 && !isInline.test(n.nodeName)) &&\n        (!change || change.endA >= change.endB) &&\n        view.someProp(\"handleKeyDown\", f => f(view, keyEvent(13, \"Enter\")))) {\n        view.input.lastIOSEnter = 0;\n        return;\n    }\n    if (!change) {\n        if (typeOver && sel instanceof TextSelection && !sel.empty && sel.$head.sameParent(sel.$anchor) &&\n            !view.composing && !(parse.sel && parse.sel.anchor != parse.sel.head)) {\n            change = { start: sel.from, endA: sel.to, endB: sel.to };\n        }\n        else {\n            if (parse.sel) {\n                let sel = resolveSelection(view, view.state.doc, parse.sel);\n                if (sel && !sel.eq(view.state.selection)) {\n                    let tr = view.state.tr.setSelection(sel);\n                    if (compositionID)\n                        tr.setMeta(\"composition\", compositionID);\n                    view.dispatch(tr);\n                }\n            }\n            return;\n        }\n    }\n    // Handle the case where overwriting a selection by typing matches\n    // the start or end of the selected content, creating a change\n    // that's smaller than what was actually overwritten.\n    if (view.state.selection.from < view.state.selection.to &&\n        change.start == change.endB &&\n        view.state.selection instanceof TextSelection) {\n        if (change.start > view.state.selection.from && change.start <= view.state.selection.from + 2 &&\n            view.state.selection.from >= parse.from) {\n            change.start = view.state.selection.from;\n        }\n        else if (change.endA < view.state.selection.to && change.endA >= view.state.selection.to - 2 &&\n            view.state.selection.to <= parse.to) {\n            change.endB += (view.state.selection.to - change.endA);\n            change.endA = view.state.selection.to;\n        }\n    }\n    // IE11 will insert a non-breaking space _ahead_ of the space after\n    // the cursor space when adding a space before another space. When\n    // that happened, adjust the change to cover the space instead.\n    if (ie && ie_version <= 11 && change.endB == change.start + 1 &&\n        change.endA == change.start && change.start > parse.from &&\n        parse.doc.textBetween(change.start - parse.from - 1, change.start - parse.from + 1) == \" \\u00a0\") {\n        change.start--;\n        change.endA--;\n        change.endB--;\n    }\n    let $from = parse.doc.resolveNoCache(change.start - parse.from);\n    let $to = parse.doc.resolveNoCache(change.endB - parse.from);\n    let $fromA = doc.resolve(change.start);\n    let inlineChange = $from.sameParent($to) && $from.parent.inlineContent && $fromA.end() >= change.endA;\n    // If this looks like the effect of pressing Enter (or was recorded\n    // as being an iOS enter press), just dispatch an Enter key instead.\n    if (((ios && view.input.lastIOSEnter > Date.now() - 225 &&\n        (!inlineChange || addedNodes.some(n => n.nodeName == \"DIV\" || n.nodeName == \"P\"))) ||\n        (!inlineChange && $from.pos < parse.doc.content.size &&\n            (!$from.sameParent($to) || !$from.parent.inlineContent) &&\n            $from.pos < $to.pos && !/\\S/.test(parse.doc.textBetween($from.pos, $to.pos, \"\", \"\")))) &&\n        view.someProp(\"handleKeyDown\", f => f(view, keyEvent(13, \"Enter\")))) {\n        view.input.lastIOSEnter = 0;\n        return;\n    }\n    // Same for backspace\n    if (view.state.selection.anchor > change.start &&\n        looksLikeBackspace(doc, change.start, change.endA, $from, $to) &&\n        view.someProp(\"handleKeyDown\", f => f(view, keyEvent(8, \"Backspace\")))) {\n        if (android && chrome)\n            view.domObserver.suppressSelectionUpdates(); // #820\n        return;\n    }\n    // Chrome will occasionally, during composition, delete the\n    // entire composition and then immediately insert it again. This is\n    // used to detect that situation.\n    if (chrome && change.endB == change.start)\n        view.input.lastChromeDelete = Date.now();\n    // This tries to detect Android virtual keyboard\n    // enter-and-pick-suggestion action. That sometimes (see issue\n    // #1059) first fires a DOM mutation, before moving the selection to\n    // the newly created block. And then, because ProseMirror cleans up\n    // the DOM selection, it gives up moving the selection entirely,\n    // leaving the cursor in the wrong place. When that happens, we drop\n    // the new paragraph from the initial change, and fire a simulated\n    // enter key afterwards.\n    if (android && !inlineChange && $from.start() != $to.start() && $to.parentOffset == 0 && $from.depth == $to.depth &&\n        parse.sel && parse.sel.anchor == parse.sel.head && parse.sel.head == change.endA) {\n        change.endB -= 2;\n        $to = parse.doc.resolveNoCache(change.endB - parse.from);\n        setTimeout(() => {\n            view.someProp(\"handleKeyDown\", function (f) { return f(view, keyEvent(13, \"Enter\")); });\n        }, 20);\n    }\n    let chFrom = change.start, chTo = change.endA;\n    let mkTr = (base) => {\n        let tr = base || view.state.tr.replace(chFrom, chTo, parse.doc.slice(change.start - parse.from, change.endB - parse.from));\n        if (parse.sel) {\n            let sel = resolveSelection(view, tr.doc, parse.sel);\n            // Chrome will sometimes, during composition, report the\n            // selection in the wrong place. If it looks like that is\n            // happening, don't update the selection.\n            // Edge just doesn't move the cursor forward when you start typing\n            // in an empty block or between br nodes.\n            if (sel && !(chrome && view.composing && sel.empty &&\n                (change.start != change.endB || view.input.lastChromeDelete < Date.now() - 100) &&\n                (sel.head == chFrom || sel.head == tr.mapping.map(chTo) - 1) ||\n                ie && sel.empty && sel.head == chFrom))\n                tr.setSelection(sel);\n        }\n        if (compositionID)\n            tr.setMeta(\"composition\", compositionID);\n        return tr.scrollIntoView();\n    };\n    let markChange;\n    if (inlineChange) {\n        if ($from.pos == $to.pos) { // Deletion\n            // IE11 sometimes weirdly moves the DOM selection around after\n            // backspacing out the first element in a textblock\n            if (ie && ie_version <= 11 && $from.parentOffset == 0) {\n                view.domObserver.suppressSelectionUpdates();\n                setTimeout(() => selectionToDOM(view), 20);\n            }\n            let tr = mkTr(view.state.tr.delete(chFrom, chTo));\n            let marks = doc.resolve(change.start).marksAcross(doc.resolve(change.endA));\n            if (marks)\n                tr.ensureMarks(marks);\n            view.dispatch(tr);\n        }\n        else if ( // Adding or removing a mark\n        change.endA == change.endB &&\n            (markChange = isMarkChange($from.parent.content.cut($from.parentOffset, $to.parentOffset), $fromA.parent.content.cut($fromA.parentOffset, change.endA - $fromA.start())))) {\n            let tr = mkTr(view.state.tr);\n            if (markChange.type == \"add\")\n                tr.addMark(chFrom, chTo, markChange.mark);\n            else\n                tr.removeMark(chFrom, chTo, markChange.mark);\n            view.dispatch(tr);\n        }\n        else if ($from.parent.child($from.index()).isText && $from.index() == $to.index() - ($to.textOffset ? 0 : 1)) {\n            // Both positions in the same text node -- simply insert text\n            let text = $from.parent.textBetween($from.parentOffset, $to.parentOffset);\n            let deflt = () => mkTr(view.state.tr.insertText(text, chFrom, chTo));\n            if (!view.someProp(\"handleTextInput\", f => f(view, chFrom, chTo, text, deflt)))\n                view.dispatch(deflt());\n        }\n        else {\n            view.dispatch(mkTr());\n        }\n    }\n    else {\n        view.dispatch(mkTr());\n    }\n}\nfunction resolveSelection(view, doc, parsedSel) {\n    if (Math.max(parsedSel.anchor, parsedSel.head) > doc.content.size)\n        return null;\n    return selectionBetween(view, doc.resolve(parsedSel.anchor), doc.resolve(parsedSel.head));\n}\n// Given two same-length, non-empty fragments of inline content,\n// determine whether the first could be created from the second by\n// removing or adding a single mark type.\nfunction isMarkChange(cur, prev) {\n    let curMarks = cur.firstChild.marks, prevMarks = prev.firstChild.marks;\n    let added = curMarks, removed = prevMarks, type, mark, update;\n    for (let i = 0; i < prevMarks.length; i++)\n        added = prevMarks[i].removeFromSet(added);\n    for (let i = 0; i < curMarks.length; i++)\n        removed = curMarks[i].removeFromSet(removed);\n    if (added.length == 1 && removed.length == 0) {\n        mark = added[0];\n        type = \"add\";\n        update = (node) => node.mark(mark.addToSet(node.marks));\n    }\n    else if (added.length == 0 && removed.length == 1) {\n        mark = removed[0];\n        type = \"remove\";\n        update = (node) => node.mark(mark.removeFromSet(node.marks));\n    }\n    else {\n        return null;\n    }\n    let updated = [];\n    for (let i = 0; i < prev.childCount; i++)\n        updated.push(update(prev.child(i)));\n    if (Fragment.from(updated).eq(cur))\n        return { mark, type };\n}\nfunction looksLikeBackspace(old, start, end, $newStart, $newEnd) {\n    if ( // The content must have shrunk\n    end - start <= $newEnd.pos - $newStart.pos ||\n        // newEnd must point directly at or after the end of the block that newStart points into\n        skipClosingAndOpening($newStart, true, false) < $newEnd.pos)\n        return false;\n    let $start = old.resolve(start);\n    // Handle the case where, rather than joining blocks, the change just removed an entire block\n    if (!$newStart.parent.isTextblock) {\n        let after = $start.nodeAfter;\n        return after != null && end == start + after.nodeSize;\n    }\n    // Start must be at the end of a block\n    if ($start.parentOffset < $start.parent.content.size || !$start.parent.isTextblock)\n        return false;\n    let $next = old.resolve(skipClosingAndOpening($start, true, true));\n    // The next textblock must start before end and end near it\n    if (!$next.parent.isTextblock || $next.pos > end ||\n        skipClosingAndOpening($next, true, false) < end)\n        return false;\n    // The fragments after the join point must match\n    return $newStart.parent.content.cut($newStart.parentOffset).eq($next.parent.content);\n}\nfunction skipClosingAndOpening($pos, fromEnd, mayOpen) {\n    let depth = $pos.depth, end = fromEnd ? $pos.end() : $pos.pos;\n    while (depth > 0 && (fromEnd || $pos.indexAfter(depth) == $pos.node(depth).childCount)) {\n        depth--;\n        end++;\n        fromEnd = false;\n    }\n    if (mayOpen) {\n        let next = $pos.node(depth).maybeChild($pos.indexAfter(depth));\n        while (next && !next.isLeaf) {\n            next = next.firstChild;\n            end++;\n        }\n    }\n    return end;\n}\nfunction findDiff(a, b, pos, preferredPos, preferredSide) {\n    let start = a.findDiffStart(b, pos);\n    if (start == null)\n        return null;\n    let { a: endA, b: endB } = a.findDiffEnd(b, pos + a.size, pos + b.size);\n    if (preferredSide == \"end\") {\n        let adjust = Math.max(0, start - Math.min(endA, endB));\n        preferredPos -= endA + adjust - start;\n    }\n    if (endA < start && a.size < b.size) {\n        let move = preferredPos <= start && preferredPos >= endA ? start - preferredPos : 0;\n        start -= move;\n        if (start && start < b.size && isSurrogatePair(b.textBetween(start - 1, start + 1)))\n            start += move ? 1 : -1;\n        endB = start + (endB - endA);\n        endA = start;\n    }\n    else if (endB < start) {\n        let move = preferredPos <= start && preferredPos >= endB ? start - preferredPos : 0;\n        start -= move;\n        if (start && start < a.size && isSurrogatePair(a.textBetween(start - 1, start + 1)))\n            start += move ? 1 : -1;\n        endA = start + (endA - endB);\n        endB = start;\n    }\n    return { start, endA, endB };\n}\nfunction isSurrogatePair(str) {\n    if (str.length != 2)\n        return false;\n    let a = str.charCodeAt(0), b = str.charCodeAt(1);\n    return a >= 0xDC00 && a <= 0xDFFF && b >= 0xD800 && b <= 0xDBFF;\n}\n\n/**\n@internal\n*/\nconst __parseFromClipboard = parseFromClipboard;\n/**\n@internal\n*/\nconst __endComposition = endComposition;\n/**\nAn editor view manages the DOM structure that represents an\neditable document. Its state and behavior are determined by its\n[props](https://prosemirror.net/docs/ref/#view.DirectEditorProps).\n*/\nclass EditorView {\n    /**\n    Create a view. `place` may be a DOM node that the editor should\n    be appended to, a function that will place it into the document,\n    or an object whose `mount` property holds the node to use as the\n    document container. If it is `null`, the editor will not be\n    added to the document.\n    */\n    constructor(place, props) {\n        this._root = null;\n        /**\n        @internal\n        */\n        this.focused = false;\n        /**\n        Kludge used to work around a Chrome bug @internal\n        */\n        this.trackWrites = null;\n        this.mounted = false;\n        /**\n        @internal\n        */\n        this.markCursor = null;\n        /**\n        @internal\n        */\n        this.cursorWrapper = null;\n        /**\n        @internal\n        */\n        this.lastSelectedViewDesc = undefined;\n        /**\n        @internal\n        */\n        this.input = new InputState;\n        this.prevDirectPlugins = [];\n        this.pluginViews = [];\n        /**\n        Holds `true` when a hack node is needed in Firefox to prevent the\n        [space is eaten issue](https://github.com/ProseMirror/prosemirror/issues/651)\n        @internal\n        */\n        this.requiresGeckoHackNode = false;\n        /**\n        When editor content is being dragged, this object contains\n        information about the dragged slice and whether it is being\n        copied or moved. At any other time, it is null.\n        */\n        this.dragging = null;\n        this._props = props;\n        this.state = props.state;\n        this.directPlugins = props.plugins || [];\n        this.directPlugins.forEach(checkStateComponent);\n        this.dispatch = this.dispatch.bind(this);\n        this.dom = (place && place.mount) || document.createElement(\"div\");\n        if (place) {\n            if (place.appendChild)\n                place.appendChild(this.dom);\n            else if (typeof place == \"function\")\n                place(this.dom);\n            else if (place.mount)\n                this.mounted = true;\n        }\n        this.editable = getEditable(this);\n        updateCursorWrapper(this);\n        this.nodeViews = buildNodeViews(this);\n        this.docView = docViewDesc(this.state.doc, computeDocDeco(this), viewDecorations(this), this.dom, this);\n        this.domObserver = new DOMObserver(this, (from, to, typeOver, added) => readDOMChange(this, from, to, typeOver, added));\n        this.domObserver.start();\n        initInput(this);\n        this.updatePluginViews();\n    }\n    /**\n    Holds `true` when a\n    [composition](https://w3c.github.io/uievents/#events-compositionevents)\n    is active.\n    */\n    get composing() { return this.input.composing; }\n    /**\n    The view's current [props](https://prosemirror.net/docs/ref/#view.EditorProps).\n    */\n    get props() {\n        if (this._props.state != this.state) {\n            let prev = this._props;\n            this._props = {};\n            for (let name in prev)\n                this._props[name] = prev[name];\n            this._props.state = this.state;\n        }\n        return this._props;\n    }\n    /**\n    Update the view's props. Will immediately cause an update to\n    the DOM.\n    */\n    update(props) {\n        if (props.handleDOMEvents != this._props.handleDOMEvents)\n            ensureListeners(this);\n        let prevProps = this._props;\n        this._props = props;\n        if (props.plugins) {\n            props.plugins.forEach(checkStateComponent);\n            this.directPlugins = props.plugins;\n        }\n        this.updateStateInner(props.state, prevProps);\n    }\n    /**\n    Update the view by updating existing props object with the object\n    given as argument. Equivalent to `view.update(Object.assign({},\n    view.props, props))`.\n    */\n    setProps(props) {\n        let updated = {};\n        for (let name in this._props)\n            updated[name] = this._props[name];\n        updated.state = this.state;\n        for (let name in props)\n            updated[name] = props[name];\n        this.update(updated);\n    }\n    /**\n    Update the editor's `state` prop, without touching any of the\n    other props.\n    */\n    updateState(state) {\n        this.updateStateInner(state, this._props);\n    }\n    updateStateInner(state, prevProps) {\n        var _a;\n        let prev = this.state, redraw = false, updateSel = false;\n        // When stored marks are added, stop composition, so that they can\n        // be displayed.\n        if (state.storedMarks && this.composing) {\n            clearComposition(this);\n            updateSel = true;\n        }\n        this.state = state;\n        let pluginsChanged = prev.plugins != state.plugins || this._props.plugins != prevProps.plugins;\n        if (pluginsChanged || this._props.plugins != prevProps.plugins || this._props.nodeViews != prevProps.nodeViews) {\n            let nodeViews = buildNodeViews(this);\n            if (changedNodeViews(nodeViews, this.nodeViews)) {\n                this.nodeViews = nodeViews;\n                redraw = true;\n            }\n        }\n        if (pluginsChanged || prevProps.handleDOMEvents != this._props.handleDOMEvents) {\n            ensureListeners(this);\n        }\n        this.editable = getEditable(this);\n        updateCursorWrapper(this);\n        let innerDeco = viewDecorations(this), outerDeco = computeDocDeco(this);\n        let scroll = prev.plugins != state.plugins && !prev.doc.eq(state.doc) ? \"reset\"\n            : state.scrollToSelection > prev.scrollToSelection ? \"to selection\" : \"preserve\";\n        let updateDoc = redraw || !this.docView.matchesNode(state.doc, outerDeco, innerDeco);\n        if (updateDoc || !state.selection.eq(prev.selection))\n            updateSel = true;\n        let oldScrollPos = scroll == \"preserve\" && updateSel && this.dom.style.overflowAnchor == null && storeScrollPos(this);\n        if (updateSel) {\n            this.domObserver.stop();\n            // Work around an issue in Chrome, IE, and Edge where changing\n            // the DOM around an active selection puts it into a broken\n            // state where the thing the user sees differs from the\n            // selection reported by the Selection object (#710, #973,\n            // #1011, #1013, #1035).\n            let forceSelUpdate = updateDoc && (ie || chrome) && !this.composing &&\n                !prev.selection.empty && !state.selection.empty && selectionContextChanged(prev.selection, state.selection);\n            if (updateDoc) {\n                // If the node that the selection points into is written to,\n                // Chrome sometimes starts misreporting the selection, so this\n                // tracks that and forces a selection reset when our update\n                // did write to the node.\n                let chromeKludge = chrome ? (this.trackWrites = this.domSelectionRange().focusNode) : null;\n                if (this.composing)\n                    this.input.compositionNode = findCompositionNode(this);\n                if (redraw || !this.docView.update(state.doc, outerDeco, innerDeco, this)) {\n                    this.docView.updateOuterDeco(outerDeco);\n                    this.docView.destroy();\n                    this.docView = docViewDesc(state.doc, outerDeco, innerDeco, this.dom, this);\n                }\n                if (chromeKludge && (!this.trackWrites || !this.dom.contains(this.trackWrites)))\n                    forceSelUpdate = true;\n            }\n            // Work around for an issue where an update arriving right between\n            // a DOM selection change and the \"selectionchange\" event for it\n            // can cause a spurious DOM selection update, disrupting mouse\n            // drag selection.\n            if (forceSelUpdate ||\n                !(this.input.mouseDown && this.domObserver.currentSelection.eq(this.domSelectionRange()) &&\n                    anchorInRightPlace(this))) {\n                selectionToDOM(this, forceSelUpdate);\n            }\n            else {\n                syncNodeSelection(this, state.selection);\n                this.domObserver.setCurSelection();\n            }\n            this.domObserver.start();\n        }\n        this.updatePluginViews(prev);\n        if (((_a = this.dragging) === null || _a === void 0 ? void 0 : _a.node) && !prev.doc.eq(state.doc))\n            this.updateDraggedNode(this.dragging, prev);\n        if (scroll == \"reset\") {\n            this.dom.scrollTop = 0;\n        }\n        else if (scroll == \"to selection\") {\n            this.scrollToSelection();\n        }\n        else if (oldScrollPos) {\n            resetScrollPos(oldScrollPos);\n        }\n    }\n    /**\n    @internal\n    */\n    scrollToSelection() {\n        let startDOM = this.domSelectionRange().focusNode;\n        if (!startDOM || !this.dom.contains(startDOM.nodeType == 1 ? startDOM : startDOM.parentNode)) ;\n        else if (this.someProp(\"handleScrollToSelection\", f => f(this))) ;\n        else if (this.state.selection instanceof NodeSelection) {\n            let target = this.docView.domAfterPos(this.state.selection.from);\n            if (target.nodeType == 1)\n                scrollRectIntoView(this, target.getBoundingClientRect(), startDOM);\n        }\n        else {\n            scrollRectIntoView(this, this.coordsAtPos(this.state.selection.head, 1), startDOM);\n        }\n    }\n    destroyPluginViews() {\n        let view;\n        while (view = this.pluginViews.pop())\n            if (view.destroy)\n                view.destroy();\n    }\n    updatePluginViews(prevState) {\n        if (!prevState || prevState.plugins != this.state.plugins || this.directPlugins != this.prevDirectPlugins) {\n            this.prevDirectPlugins = this.directPlugins;\n            this.destroyPluginViews();\n            for (let i = 0; i < this.directPlugins.length; i++) {\n                let plugin = this.directPlugins[i];\n                if (plugin.spec.view)\n                    this.pluginViews.push(plugin.spec.view(this));\n            }\n            for (let i = 0; i < this.state.plugins.length; i++) {\n                let plugin = this.state.plugins[i];\n                if (plugin.spec.view)\n                    this.pluginViews.push(plugin.spec.view(this));\n            }\n        }\n        else {\n            for (let i = 0; i < this.pluginViews.length; i++) {\n                let pluginView = this.pluginViews[i];\n                if (pluginView.update)\n                    pluginView.update(this, prevState);\n            }\n        }\n    }\n    updateDraggedNode(dragging, prev) {\n        let sel = dragging.node, found = -1;\n        if (this.state.doc.nodeAt(sel.from) == sel.node) {\n            found = sel.from;\n        }\n        else {\n            let movedPos = sel.from + (this.state.doc.content.size - prev.doc.content.size);\n            let moved = movedPos > 0 && this.state.doc.nodeAt(movedPos);\n            if (moved == sel.node)\n                found = movedPos;\n        }\n        this.dragging = new Dragging(dragging.slice, dragging.move, found < 0 ? undefined : NodeSelection.create(this.state.doc, found));\n    }\n    someProp(propName, f) {\n        let prop = this._props && this._props[propName], value;\n        if (prop != null && (value = f ? f(prop) : prop))\n            return value;\n        for (let i = 0; i < this.directPlugins.length; i++) {\n            let prop = this.directPlugins[i].props[propName];\n            if (prop != null && (value = f ? f(prop) : prop))\n                return value;\n        }\n        let plugins = this.state.plugins;\n        if (plugins)\n            for (let i = 0; i < plugins.length; i++) {\n                let prop = plugins[i].props[propName];\n                if (prop != null && (value = f ? f(prop) : prop))\n                    return value;\n            }\n    }\n    /**\n    Query whether the view has focus.\n    */\n    hasFocus() {\n        // Work around IE not handling focus correctly if resize handles are shown.\n        // If the cursor is inside an element with resize handles, activeElement\n        // will be that element instead of this.dom.\n        if (ie) {\n            // If activeElement is within this.dom, and there are no other elements\n            // setting `contenteditable` to false in between, treat it as focused.\n            let node = this.root.activeElement;\n            if (node == this.dom)\n                return true;\n            if (!node || !this.dom.contains(node))\n                return false;\n            while (node && this.dom != node && this.dom.contains(node)) {\n                if (node.contentEditable == 'false')\n                    return false;\n                node = node.parentElement;\n            }\n            return true;\n        }\n        return this.root.activeElement == this.dom;\n    }\n    /**\n    Focus the editor.\n    */\n    focus() {\n        this.domObserver.stop();\n        if (this.editable)\n            focusPreventScroll(this.dom);\n        selectionToDOM(this);\n        this.domObserver.start();\n    }\n    /**\n    Get the document root in which the editor exists. This will\n    usually be the top-level `document`, but might be a [shadow\n    DOM](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Shadow_DOM)\n    root if the editor is inside one.\n    */\n    get root() {\n        let cached = this._root;\n        if (cached == null)\n            for (let search = this.dom.parentNode; search; search = search.parentNode) {\n                if (search.nodeType == 9 || (search.nodeType == 11 && search.host)) {\n                    if (!search.getSelection)\n                        Object.getPrototypeOf(search).getSelection = () => search.ownerDocument.getSelection();\n                    return this._root = search;\n                }\n            }\n        return cached || document;\n    }\n    /**\n    When an existing editor view is moved to a new document or\n    shadow tree, call this to make it recompute its root.\n    */\n    updateRoot() {\n        this._root = null;\n    }\n    /**\n    Given a pair of viewport coordinates, return the document\n    position that corresponds to them. May return null if the given\n    coordinates aren't inside of the editor. When an object is\n    returned, its `pos` property is the position nearest to the\n    coordinates, and its `inside` property holds the position of the\n    inner node that the position falls inside of, or -1 if it is at\n    the top level, not in any node.\n    */\n    posAtCoords(coords) {\n        return posAtCoords(this, coords);\n    }\n    /**\n    Returns the viewport rectangle at a given document position.\n    `left` and `right` will be the same number, as this returns a\n    flat cursor-ish rectangle. If the position is between two things\n    that aren't directly adjacent, `side` determines which element\n    is used. When < 0, the element before the position is used,\n    otherwise the element after.\n    */\n    coordsAtPos(pos, side = 1) {\n        return coordsAtPos(this, pos, side);\n    }\n    /**\n    Find the DOM position that corresponds to the given document\n    position. When `side` is negative, find the position as close as\n    possible to the content before the position. When positive,\n    prefer positions close to the content after the position. When\n    zero, prefer as shallow a position as possible.\n    \n    Note that you should **not** mutate the editor's internal DOM,\n    only inspect it (and even that is usually not necessary).\n    */\n    domAtPos(pos, side = 0) {\n        return this.docView.domFromPos(pos, side);\n    }\n    /**\n    Find the DOM node that represents the document node after the\n    given position. May return `null` when the position doesn't point\n    in front of a node or if the node is inside an opaque node view.\n    \n    This is intended to be able to call things like\n    `getBoundingClientRect` on that DOM node. Do **not** mutate the\n    editor DOM directly, or add styling this way, since that will be\n    immediately overriden by the editor as it redraws the node.\n    */\n    nodeDOM(pos) {\n        let desc = this.docView.descAt(pos);\n        return desc ? desc.nodeDOM : null;\n    }\n    /**\n    Find the document position that corresponds to a given DOM\n    position. (Whenever possible, it is preferable to inspect the\n    document structure directly, rather than poking around in the\n    DOM, but sometimes—for example when interpreting an event\n    target—you don't have a choice.)\n    \n    The `bias` parameter can be used to influence which side of a DOM\n    node to use when the position is inside a leaf node.\n    */\n    posAtDOM(node, offset, bias = -1) {\n        let pos = this.docView.posFromDOM(node, offset, bias);\n        if (pos == null)\n            throw new RangeError(\"DOM position not inside the editor\");\n        return pos;\n    }\n    /**\n    Find out whether the selection is at the end of a textblock when\n    moving in a given direction. When, for example, given `\"left\"`,\n    it will return true if moving left from the current cursor\n    position would leave that position's parent textblock. Will apply\n    to the view's current state by default, but it is possible to\n    pass a different state.\n    */\n    endOfTextblock(dir, state) {\n        return endOfTextblock(this, state || this.state, dir);\n    }\n    /**\n    Run the editor's paste logic with the given HTML string. The\n    `event`, if given, will be passed to the\n    [`handlePaste`](https://prosemirror.net/docs/ref/#view.EditorProps.handlePaste) hook.\n    */\n    pasteHTML(html, event) {\n        return doPaste(this, \"\", html, false, event || new ClipboardEvent(\"paste\"));\n    }\n    /**\n    Run the editor's paste logic with the given plain-text input.\n    */\n    pasteText(text, event) {\n        return doPaste(this, text, null, true, event || new ClipboardEvent(\"paste\"));\n    }\n    /**\n    Serialize the given slice as it would be if it was copied from\n    this editor. Returns a DOM element that contains a\n    representation of the slice as its children, a textual\n    representation, and the transformed slice (which can be\n    different from the given input due to hooks like\n    [`transformCopied`](https://prosemirror.net/docs/ref/#view.EditorProps.transformCopied)).\n    */\n    serializeForClipboard(slice) {\n        return serializeForClipboard(this, slice);\n    }\n    /**\n    Removes the editor from the DOM and destroys all [node\n    views](https://prosemirror.net/docs/ref/#view.NodeView).\n    */\n    destroy() {\n        if (!this.docView)\n            return;\n        destroyInput(this);\n        this.destroyPluginViews();\n        if (this.mounted) {\n            this.docView.update(this.state.doc, [], viewDecorations(this), this);\n            this.dom.textContent = \"\";\n        }\n        else if (this.dom.parentNode) {\n            this.dom.parentNode.removeChild(this.dom);\n        }\n        this.docView.destroy();\n        this.docView = null;\n        clearReusedRange();\n    }\n    /**\n    This is true when the view has been\n    [destroyed](https://prosemirror.net/docs/ref/#view.EditorView.destroy) (and thus should not be\n    used anymore).\n    */\n    get isDestroyed() {\n        return this.docView == null;\n    }\n    /**\n    Used for testing.\n    */\n    dispatchEvent(event) {\n        return dispatchEvent(this, event);\n    }\n    /**\n    @internal\n    */\n    domSelectionRange() {\n        let sel = this.domSelection();\n        if (!sel)\n            return { focusNode: null, focusOffset: 0, anchorNode: null, anchorOffset: 0 };\n        return safari && this.root.nodeType === 11 &&\n            deepActiveElement(this.dom.ownerDocument) == this.dom && safariShadowSelectionRange(this, sel) || sel;\n    }\n    /**\n    @internal\n    */\n    domSelection() {\n        return this.root.getSelection();\n    }\n}\nEditorView.prototype.dispatch = function (tr) {\n    let dispatchTransaction = this._props.dispatchTransaction;\n    if (dispatchTransaction)\n        dispatchTransaction.call(this, tr);\n    else\n        this.updateState(this.state.apply(tr));\n};\nfunction computeDocDeco(view) {\n    let attrs = Object.create(null);\n    attrs.class = \"ProseMirror\";\n    attrs.contenteditable = String(view.editable);\n    view.someProp(\"attributes\", value => {\n        if (typeof value == \"function\")\n            value = value(view.state);\n        if (value)\n            for (let attr in value) {\n                if (attr == \"class\")\n                    attrs.class += \" \" + value[attr];\n                else if (attr == \"style\")\n                    attrs.style = (attrs.style ? attrs.style + \";\" : \"\") + value[attr];\n                else if (!attrs[attr] && attr != \"contenteditable\" && attr != \"nodeName\")\n                    attrs[attr] = String(value[attr]);\n            }\n    });\n    if (!attrs.translate)\n        attrs.translate = \"no\";\n    return [Decoration.node(0, view.state.doc.content.size, attrs)];\n}\nfunction updateCursorWrapper(view) {\n    if (view.markCursor) {\n        let dom = document.createElement(\"img\");\n        dom.className = \"ProseMirror-separator\";\n        dom.setAttribute(\"mark-placeholder\", \"true\");\n        dom.setAttribute(\"alt\", \"\");\n        view.cursorWrapper = { dom, deco: Decoration.widget(view.state.selection.from, dom, { raw: true, marks: view.markCursor }) };\n    }\n    else {\n        view.cursorWrapper = null;\n    }\n}\nfunction getEditable(view) {\n    return !view.someProp(\"editable\", value => value(view.state) === false);\n}\nfunction selectionContextChanged(sel1, sel2) {\n    let depth = Math.min(sel1.$anchor.sharedDepth(sel1.head), sel2.$anchor.sharedDepth(sel2.head));\n    return sel1.$anchor.start(depth) != sel2.$anchor.start(depth);\n}\nfunction buildNodeViews(view) {\n    let result = Object.create(null);\n    function add(obj) {\n        for (let prop in obj)\n            if (!Object.prototype.hasOwnProperty.call(result, prop))\n                result[prop] = obj[prop];\n    }\n    view.someProp(\"nodeViews\", add);\n    view.someProp(\"markViews\", add);\n    return result;\n}\nfunction changedNodeViews(a, b) {\n    let nA = 0, nB = 0;\n    for (let prop in a) {\n        if (a[prop] != b[prop])\n            return true;\n        nA++;\n    }\n    for (let _ in b)\n        nB++;\n    return nA != nB;\n}\nfunction checkStateComponent(plugin) {\n    if (plugin.spec.state || plugin.spec.filterTransaction || plugin.spec.appendTransaction)\n        throw new RangeError(\"Plugins passed directly to the view must not have a state component\");\n}\n\nexport { Decoration, DecorationSet, EditorView, __endComposition, __parseFromClipboard };\n","// import { $ZodType } from \"./schemas.js\";\nimport * as core from \"./core.js\";\nimport * as regexes from \"./regexes.js\";\nimport * as util from \"./util.js\";\nexport const $ZodCheck = /*@__PURE__*/ core.$constructor(\"$ZodCheck\", (inst, def) => {\n    var _a;\n    inst._zod ?? (inst._zod = {});\n    inst._zod.def = def;\n    (_a = inst._zod).onattach ?? (_a.onattach = []);\n});\nconst numericOriginMap = {\n    number: \"number\",\n    bigint: \"bigint\",\n    object: \"date\",\n};\nexport const $ZodCheckLessThan = /*@__PURE__*/ core.$constructor(\"$ZodCheckLessThan\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const origin = numericOriginMap[typeof def.value];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        const curr = (def.inclusive ? bag.maximum : bag.exclusiveMaximum) ?? Number.POSITIVE_INFINITY;\n        if (def.value < curr) {\n            if (def.inclusive)\n                bag.maximum = def.value;\n            else\n                bag.exclusiveMaximum = def.value;\n        }\n    });\n    inst._zod.check = (payload) => {\n        if (def.inclusive ? payload.value <= def.value : payload.value < def.value) {\n            return;\n        }\n        payload.issues.push({\n            origin,\n            code: \"too_big\",\n            maximum: typeof def.value === \"object\" ? def.value.getTime() : def.value,\n            input: payload.value,\n            inclusive: def.inclusive,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckGreaterThan = /*@__PURE__*/ core.$constructor(\"$ZodCheckGreaterThan\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const origin = numericOriginMap[typeof def.value];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        const curr = (def.inclusive ? bag.minimum : bag.exclusiveMinimum) ?? Number.NEGATIVE_INFINITY;\n        if (def.value > curr) {\n            if (def.inclusive)\n                bag.minimum = def.value;\n            else\n                bag.exclusiveMinimum = def.value;\n        }\n    });\n    inst._zod.check = (payload) => {\n        if (def.inclusive ? payload.value >= def.value : payload.value > def.value) {\n            return;\n        }\n        payload.issues.push({\n            origin,\n            code: \"too_small\",\n            minimum: typeof def.value === \"object\" ? def.value.getTime() : def.value,\n            input: payload.value,\n            inclusive: def.inclusive,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMultipleOf = \n/*@__PURE__*/ core.$constructor(\"$ZodCheckMultipleOf\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        var _a;\n        (_a = inst._zod.bag).multipleOf ?? (_a.multipleOf = def.value);\n    });\n    inst._zod.check = (payload) => {\n        if (typeof payload.value !== typeof def.value)\n            throw new Error(\"Cannot mix number and bigint in multiple_of check.\");\n        const isMultiple = typeof payload.value === \"bigint\"\n            ? payload.value % def.value === BigInt(0)\n            : util.floatSafeRemainder(payload.value, def.value) === 0;\n        if (isMultiple)\n            return;\n        payload.issues.push({\n            origin: typeof payload.value,\n            code: \"not_multiple_of\",\n            divisor: def.value,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckNumberFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckNumberFormat\", (inst, def) => {\n    $ZodCheck.init(inst, def); // no format checks\n    def.format = def.format || \"float64\";\n    const isInt = def.format?.includes(\"int\");\n    const origin = isInt ? \"int\" : \"number\";\n    const [minimum, maximum] = util.NUMBER_FORMAT_RANGES[def.format];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        bag.minimum = minimum;\n        bag.maximum = maximum;\n        if (isInt)\n            bag.pattern = regexes.integer;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        if (isInt) {\n            if (!Number.isInteger(input)) {\n                // invalid_format issue\n                // payload.issues.push({\n                //   expected: def.format,\n                //   format: def.format,\n                //   code: \"invalid_format\",\n                //   input,\n                //   inst,\n                // });\n                // invalid_type issue\n                payload.issues.push({\n                    expected: origin,\n                    format: def.format,\n                    code: \"invalid_type\",\n                    continue: false,\n                    input,\n                    inst,\n                });\n                return;\n                // not_multiple_of issue\n                // payload.issues.push({\n                //   code: \"not_multiple_of\",\n                //   origin: \"number\",\n                //   input,\n                //   inst,\n                //   divisor: 1,\n                // });\n            }\n            if (!Number.isSafeInteger(input)) {\n                if (input > 0) {\n                    // too_big\n                    payload.issues.push({\n                        input,\n                        code: \"too_big\",\n                        maximum: Number.MAX_SAFE_INTEGER,\n                        note: \"Integers must be within the safe integer range.\",\n                        inst,\n                        origin,\n                        inclusive: true,\n                        continue: !def.abort,\n                    });\n                }\n                else {\n                    // too_small\n                    payload.issues.push({\n                        input,\n                        code: \"too_small\",\n                        minimum: Number.MIN_SAFE_INTEGER,\n                        note: \"Integers must be within the safe integer range.\",\n                        inst,\n                        origin,\n                        inclusive: true,\n                        continue: !def.abort,\n                    });\n                }\n                return;\n            }\n        }\n        if (input < minimum) {\n            payload.issues.push({\n                origin: \"number\",\n                input,\n                code: \"too_small\",\n                minimum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n        if (input > maximum) {\n            payload.issues.push({\n                origin: \"number\",\n                input,\n                code: \"too_big\",\n                maximum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodCheckBigIntFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckBigIntFormat\", (inst, def) => {\n    $ZodCheck.init(inst, def); // no format checks\n    const [minimum, maximum] = util.BIGINT_FORMAT_RANGES[def.format];\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        bag.minimum = minimum;\n        bag.maximum = maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        if (input < minimum) {\n            payload.issues.push({\n                origin: \"bigint\",\n                input,\n                code: \"too_small\",\n                minimum: minimum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n        if (input > maximum) {\n            payload.issues.push({\n                origin: \"bigint\",\n                input,\n                code: \"too_big\",\n                maximum,\n                inclusive: true,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodCheckMaxSize = /*@__PURE__*/ core.$constructor(\"$ZodCheckMaxSize\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.maximum ?? Number.POSITIVE_INFINITY);\n        if (def.maximum < curr)\n            inst._zod.bag.maximum = def.maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size <= def.maximum)\n            return;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            code: \"too_big\",\n            maximum: def.maximum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMinSize = /*@__PURE__*/ core.$constructor(\"$ZodCheckMinSize\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.minimum ?? Number.NEGATIVE_INFINITY);\n        if (def.minimum > curr)\n            inst._zod.bag.minimum = def.minimum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size >= def.minimum)\n            return;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            code: \"too_small\",\n            minimum: def.minimum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckSizeEquals = /*@__PURE__*/ core.$constructor(\"$ZodCheckSizeEquals\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.size !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.minimum = def.size;\n        bag.maximum = def.size;\n        bag.size = def.size;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const size = input.size;\n        if (size === def.size)\n            return;\n        const tooBig = size > def.size;\n        payload.issues.push({\n            origin: util.getSizableOrigin(input),\n            ...(tooBig ? { code: \"too_big\", maximum: def.size } : { code: \"too_small\", minimum: def.size }),\n            inclusive: true,\n            exact: true,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMaxLength = /*@__PURE__*/ core.$constructor(\"$ZodCheckMaxLength\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.maximum ?? Number.POSITIVE_INFINITY);\n        if (def.maximum < curr)\n            inst._zod.bag.maximum = def.maximum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length <= def.maximum)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        payload.issues.push({\n            origin,\n            code: \"too_big\",\n            maximum: def.maximum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckMinLength = /*@__PURE__*/ core.$constructor(\"$ZodCheckMinLength\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const curr = (inst._zod.bag.minimum ?? Number.NEGATIVE_INFINITY);\n        if (def.minimum > curr)\n            inst._zod.bag.minimum = def.minimum;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length >= def.minimum)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        payload.issues.push({\n            origin,\n            code: \"too_small\",\n            minimum: def.minimum,\n            inclusive: true,\n            input,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckLengthEquals = /*@__PURE__*/ core.$constructor(\"$ZodCheckLengthEquals\", (inst, def) => {\n    var _a;\n    $ZodCheck.init(inst, def);\n    (_a = inst._zod.def).when ?? (_a.when = (payload) => {\n        const val = payload.value;\n        return !util.nullish(val) && val.length !== undefined;\n    });\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.minimum = def.length;\n        bag.maximum = def.length;\n        bag.length = def.length;\n    });\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const length = input.length;\n        if (length === def.length)\n            return;\n        const origin = util.getLengthableOrigin(input);\n        const tooBig = length > def.length;\n        payload.issues.push({\n            origin,\n            ...(tooBig ? { code: \"too_big\", maximum: def.length } : { code: \"too_small\", minimum: def.length }),\n            inclusive: true,\n            exact: true,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodCheckStringFormat\", (inst, def) => {\n    var _a, _b;\n    $ZodCheck.init(inst, def);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.format = def.format;\n        if (def.pattern) {\n            bag.patterns ?? (bag.patterns = new Set());\n            bag.patterns.add(def.pattern);\n        }\n    });\n    if (def.pattern)\n        (_a = inst._zod).check ?? (_a.check = (payload) => {\n            def.pattern.lastIndex = 0;\n            if (def.pattern.test(payload.value))\n                return;\n            payload.issues.push({\n                origin: \"string\",\n                code: \"invalid_format\",\n                format: def.format,\n                input: payload.value,\n                ...(def.pattern ? { pattern: def.pattern.toString() } : {}),\n                inst,\n                continue: !def.abort,\n            });\n        });\n    else\n        (_b = inst._zod).check ?? (_b.check = () => { });\n});\nexport const $ZodCheckRegex = /*@__PURE__*/ core.$constructor(\"$ZodCheckRegex\", (inst, def) => {\n    $ZodCheckStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        def.pattern.lastIndex = 0;\n        if (def.pattern.test(payload.value))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"regex\",\n            input: payload.value,\n            pattern: def.pattern.toString(),\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckLowerCase = /*@__PURE__*/ core.$constructor(\"$ZodCheckLowerCase\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.lowercase);\n    $ZodCheckStringFormat.init(inst, def);\n});\nexport const $ZodCheckUpperCase = /*@__PURE__*/ core.$constructor(\"$ZodCheckUpperCase\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.uppercase);\n    $ZodCheckStringFormat.init(inst, def);\n});\nexport const $ZodCheckIncludes = /*@__PURE__*/ core.$constructor(\"$ZodCheckIncludes\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const escapedRegex = util.escapeRegex(def.includes);\n    const pattern = new RegExp(typeof def.position === \"number\" ? `^.{${def.position}}${escapedRegex}` : escapedRegex);\n    def.pattern = pattern;\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.includes(def.includes, def.position))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"includes\",\n            includes: def.includes,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckStartsWith = /*@__PURE__*/ core.$constructor(\"$ZodCheckStartsWith\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const pattern = new RegExp(`^${util.escapeRegex(def.prefix)}.*`);\n    def.pattern ?? (def.pattern = pattern);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.startsWith(def.prefix))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"starts_with\",\n            prefix: def.prefix,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckEndsWith = /*@__PURE__*/ core.$constructor(\"$ZodCheckEndsWith\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const pattern = new RegExp(`.*${util.escapeRegex(def.suffix)}$`);\n    def.pattern ?? (def.pattern = pattern);\n    inst._zod.onattach.push((inst) => {\n        const bag = inst._zod.bag;\n        bag.patterns ?? (bag.patterns = new Set());\n        bag.patterns.add(pattern);\n    });\n    inst._zod.check = (payload) => {\n        if (payload.value.endsWith(def.suffix))\n            return;\n        payload.issues.push({\n            origin: \"string\",\n            code: \"invalid_format\",\n            format: \"ends_with\",\n            suffix: def.suffix,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\n///////////////////////////////////\n/////    $ZodCheckProperty    /////\n///////////////////////////////////\nfunction handleCheckPropertyResult(result, payload, property) {\n    if (result.issues.length) {\n        payload.issues.push(...util.prefixIssues(property, result.issues));\n    }\n}\nexport const $ZodCheckProperty = /*@__PURE__*/ core.$constructor(\"$ZodCheckProperty\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.check = (payload) => {\n        const result = def.schema._zod.run({\n            value: payload.value[def.property],\n            issues: [],\n        }, {});\n        if (result instanceof Promise) {\n            return result.then((result) => handleCheckPropertyResult(result, payload, def.property));\n        }\n        handleCheckPropertyResult(result, payload, def.property);\n        return;\n    };\n});\nexport const $ZodCheckMimeType = /*@__PURE__*/ core.$constructor(\"$ZodCheckMimeType\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    const mimeSet = new Set(def.mime);\n    inst._zod.onattach.push((inst) => {\n        inst._zod.bag.mime = def.mime;\n    });\n    inst._zod.check = (payload) => {\n        if (mimeSet.has(payload.value.type))\n            return;\n        payload.issues.push({\n            code: \"invalid_value\",\n            values: def.mime,\n            input: payload.value.type,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCheckOverwrite = /*@__PURE__*/ core.$constructor(\"$ZodCheckOverwrite\", (inst, def) => {\n    $ZodCheck.init(inst, def);\n    inst._zod.check = (payload) => {\n        payload.value = def.tx(payload.value);\n    };\n});\n","export default (value: unknown): value is Date => value instanceof Date;\n","import { keydownHandler } from 'prosemirror-keymap';\nimport { Selection, NodeSelection, TextSelection, Plugin } from 'prosemirror-state';\nimport { Slice, Fragment } from 'prosemirror-model';\nimport { DecorationSet, Decoration } from 'prosemirror-view';\n\n/**\nGap cursor selections are represented using this class. Its\n`$anchor` and `$head` properties both point at the cursor position.\n*/\nclass GapCursor extends Selection {\n    /**\n    Create a gap cursor.\n    */\n    constructor($pos) {\n        super($pos, $pos);\n    }\n    map(doc, mapping) {\n        let $pos = doc.resolve(mapping.map(this.head));\n        return GapCursor.valid($pos) ? new GapCursor($pos) : Selection.near($pos);\n    }\n    content() { return Slice.empty; }\n    eq(other) {\n        return other instanceof GapCursor && other.head == this.head;\n    }\n    toJSON() {\n        return { type: \"gapcursor\", pos: this.head };\n    }\n    /**\n    @internal\n    */\n    static fromJSON(doc, json) {\n        if (typeof json.pos != \"number\")\n            throw new RangeError(\"Invalid input for GapCursor.fromJSON\");\n        return new GapCursor(doc.resolve(json.pos));\n    }\n    /**\n    @internal\n    */\n    getBookmark() { return new GapBookmark(this.anchor); }\n    /**\n    @internal\n    */\n    static valid($pos) {\n        let parent = $pos.parent;\n        if (parent.isTextblock || !closedBefore($pos) || !closedAfter($pos))\n            return false;\n        let override = parent.type.spec.allowGapCursor;\n        if (override != null)\n            return override;\n        let deflt = parent.contentMatchAt($pos.index()).defaultType;\n        return deflt && deflt.isTextblock;\n    }\n    /**\n    @internal\n    */\n    static findGapCursorFrom($pos, dir, mustMove = false) {\n        search: for (;;) {\n            if (!mustMove && GapCursor.valid($pos))\n                return $pos;\n            let pos = $pos.pos, next = null;\n            // Scan up from this position\n            for (let d = $pos.depth;; d--) {\n                let parent = $pos.node(d);\n                if (dir > 0 ? $pos.indexAfter(d) < parent.childCount : $pos.index(d) > 0) {\n                    next = parent.child(dir > 0 ? $pos.indexAfter(d) : $pos.index(d) - 1);\n                    break;\n                }\n                else if (d == 0) {\n                    return null;\n                }\n                pos += dir;\n                let $cur = $pos.doc.resolve(pos);\n                if (GapCursor.valid($cur))\n                    return $cur;\n            }\n            // And then down into the next node\n            for (;;) {\n                let inside = dir > 0 ? next.firstChild : next.lastChild;\n                if (!inside) {\n                    if (next.isAtom && !next.isText && !NodeSelection.isSelectable(next)) {\n                        $pos = $pos.doc.resolve(pos + next.nodeSize * dir);\n                        mustMove = false;\n                        continue search;\n                    }\n                    break;\n                }\n                next = inside;\n                pos += dir;\n                let $cur = $pos.doc.resolve(pos);\n                if (GapCursor.valid($cur))\n                    return $cur;\n            }\n            return null;\n        }\n    }\n}\nGapCursor.prototype.visible = false;\nGapCursor.findFrom = GapCursor.findGapCursorFrom;\nSelection.jsonID(\"gapcursor\", GapCursor);\nclass GapBookmark {\n    constructor(pos) {\n        this.pos = pos;\n    }\n    map(mapping) {\n        return new GapBookmark(mapping.map(this.pos));\n    }\n    resolve(doc) {\n        let $pos = doc.resolve(this.pos);\n        return GapCursor.valid($pos) ? new GapCursor($pos) : Selection.near($pos);\n    }\n}\nfunction needsGap(type) {\n    return type.isAtom || type.spec.isolating || type.spec.createGapCursor;\n}\nfunction closedBefore($pos) {\n    for (let d = $pos.depth; d >= 0; d--) {\n        let index = $pos.index(d), parent = $pos.node(d);\n        // At the start of this parent, look at next one\n        if (index == 0) {\n            if (parent.type.spec.isolating)\n                return true;\n            continue;\n        }\n        // See if the node before (or its first ancestor) is closed\n        for (let before = parent.child(index - 1);; before = before.lastChild) {\n            if ((before.childCount == 0 && !before.inlineContent) || needsGap(before.type))\n                return true;\n            if (before.inlineContent)\n                return false;\n        }\n    }\n    // Hit start of document\n    return true;\n}\nfunction closedAfter($pos) {\n    for (let d = $pos.depth; d >= 0; d--) {\n        let index = $pos.indexAfter(d), parent = $pos.node(d);\n        if (index == parent.childCount) {\n            if (parent.type.spec.isolating)\n                return true;\n            continue;\n        }\n        for (let after = parent.child(index);; after = after.firstChild) {\n            if ((after.childCount == 0 && !after.inlineContent) || needsGap(after.type))\n                return true;\n            if (after.inlineContent)\n                return false;\n        }\n    }\n    return true;\n}\n\n/**\nCreate a gap cursor plugin. When enabled, this will capture clicks\nnear and arrow-key-motion past places that don't have a normally\nselectable position nearby, and create a gap cursor selection for\nthem. The cursor is drawn as an element with class\n`ProseMirror-gapcursor`. You can either include\n`style/gapcursor.css` from the package's directory or add your own\nstyles to make it visible.\n*/\nfunction gapCursor() {\n    return new Plugin({\n        props: {\n            decorations: drawGapCursor,\n            createSelectionBetween(_view, $anchor, $head) {\n                return $anchor.pos == $head.pos && GapCursor.valid($head) ? new GapCursor($head) : null;\n            },\n            handleClick,\n            handleKeyDown,\n            handleDOMEvents: { beforeinput: beforeinput }\n        }\n    });\n}\nconst handleKeyDown = keydownHandler({\n    \"ArrowLeft\": arrow(\"horiz\", -1),\n    \"ArrowRight\": arrow(\"horiz\", 1),\n    \"ArrowUp\": arrow(\"vert\", -1),\n    \"ArrowDown\": arrow(\"vert\", 1)\n});\nfunction arrow(axis, dir) {\n    const dirStr = axis == \"vert\" ? (dir > 0 ? \"down\" : \"up\") : (dir > 0 ? \"right\" : \"left\");\n    return function (state, dispatch, view) {\n        let sel = state.selection;\n        let $start = dir > 0 ? sel.$to : sel.$from, mustMove = sel.empty;\n        if (sel instanceof TextSelection) {\n            if (!view.endOfTextblock(dirStr) || $start.depth == 0)\n                return false;\n            mustMove = false;\n            $start = state.doc.resolve(dir > 0 ? $start.after() : $start.before());\n        }\n        let $found = GapCursor.findGapCursorFrom($start, dir, mustMove);\n        if (!$found)\n            return false;\n        if (dispatch)\n            dispatch(state.tr.setSelection(new GapCursor($found)));\n        return true;\n    };\n}\nfunction handleClick(view, pos, event) {\n    if (!view || !view.editable)\n        return false;\n    let $pos = view.state.doc.resolve(pos);\n    if (!GapCursor.valid($pos))\n        return false;\n    let clickPos = view.posAtCoords({ left: event.clientX, top: event.clientY });\n    if (clickPos && clickPos.inside > -1 && NodeSelection.isSelectable(view.state.doc.nodeAt(clickPos.inside)))\n        return false;\n    view.dispatch(view.state.tr.setSelection(new GapCursor($pos)));\n    return true;\n}\n// This is a hack that, when a composition starts while a gap cursor\n// is active, quickly creates an inline context for the composition to\n// happen in, to avoid it being aborted by the DOM selection being\n// moved into a valid position.\nfunction beforeinput(view, event) {\n    if (event.inputType != \"insertCompositionText\" || !(view.state.selection instanceof GapCursor))\n        return false;\n    let { $from } = view.state.selection;\n    let insert = $from.parent.contentMatchAt($from.index()).findWrapping(view.state.schema.nodes.text);\n    if (!insert)\n        return false;\n    let frag = Fragment.empty;\n    for (let i = insert.length - 1; i >= 0; i--)\n        frag = Fragment.from(insert[i].createAndFill(null, frag));\n    let tr = view.state.tr.replace($from.pos, $from.pos, new Slice(frag, 0, 0));\n    tr.setSelection(TextSelection.near(tr.doc.resolve($from.pos + 1)));\n    view.dispatch(tr);\n    return false;\n}\nfunction drawGapCursor(state) {\n    if (!(state.selection instanceof GapCursor))\n        return null;\n    let node = document.createElement(\"div\");\n    node.className = \"ProseMirror-gapcursor\";\n    return DecorationSet.create(state.doc, [Decoration.widget(state.selection.head, node, { key: \"gapcursor\" })]);\n}\n\nexport { GapCursor, gapCursor };\n","import * as checks from \"./checks.js\";\nimport * as registries from \"./registries.js\";\nimport * as schemas from \"./schemas.js\";\nimport * as util from \"./util.js\";\n// @__NO_SIDE_EFFECTS__\nexport function _string(Class, params) {\n    return new Class({\n        type: \"string\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _coercedString(Class, params) {\n    return new Class({\n        type: \"string\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _email(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"email\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _guid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"guid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _uuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _uuidv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v4\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _uuidv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v6\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _uuidv7(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"uuid\",\n        check: \"string_format\",\n        abort: false,\n        version: \"v7\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _url(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"url\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _emoji(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"emoji\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _nanoid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"nanoid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _cuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _cuid2(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cuid2\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _ulid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ulid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _xid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"xid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _ksuid(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ksuid\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _ipv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ipv4\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _ipv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"ipv6\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _mac(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"mac\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _cidrv4(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cidrv4\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _cidrv6(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"cidrv6\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _base64(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"base64\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _base64url(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"base64url\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _e164(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"e164\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _jwt(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"jwt\",\n        check: \"string_format\",\n        abort: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport const TimePrecision = {\n    Any: null,\n    Minute: -1,\n    Second: 0,\n    Millisecond: 3,\n    Microsecond: 6,\n};\n// @__NO_SIDE_EFFECTS__\nexport function _isoDateTime(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"datetime\",\n        check: \"string_format\",\n        offset: false,\n        local: false,\n        precision: null,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _isoDate(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"date\",\n        check: \"string_format\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _isoTime(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"time\",\n        check: \"string_format\",\n        precision: null,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _isoDuration(Class, params) {\n    return new Class({\n        type: \"string\",\n        format: \"duration\",\n        check: \"string_format\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _number(Class, params) {\n    return new Class({\n        type: \"number\",\n        checks: [],\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _coercedNumber(Class, params) {\n    return new Class({\n        type: \"number\",\n        coerce: true,\n        checks: [],\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _int(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"safeint\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _float32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"float32\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _float64(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"float64\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _int32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"int32\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _uint32(Class, params) {\n    return new Class({\n        type: \"number\",\n        check: \"number_format\",\n        abort: false,\n        format: \"uint32\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _boolean(Class, params) {\n    return new Class({\n        type: \"boolean\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _coercedBoolean(Class, params) {\n    return new Class({\n        type: \"boolean\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _bigint(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _coercedBigint(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _int64(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        check: \"bigint_format\",\n        abort: false,\n        format: \"int64\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _uint64(Class, params) {\n    return new Class({\n        type: \"bigint\",\n        check: \"bigint_format\",\n        abort: false,\n        format: \"uint64\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _symbol(Class, params) {\n    return new Class({\n        type: \"symbol\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _undefined(Class, params) {\n    return new Class({\n        type: \"undefined\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _null(Class, params) {\n    return new Class({\n        type: \"null\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _any(Class) {\n    return new Class({\n        type: \"any\",\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _unknown(Class) {\n    return new Class({\n        type: \"unknown\",\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _never(Class, params) {\n    return new Class({\n        type: \"never\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _void(Class, params) {\n    return new Class({\n        type: \"void\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _date(Class, params) {\n    return new Class({\n        type: \"date\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _coercedDate(Class, params) {\n    return new Class({\n        type: \"date\",\n        coerce: true,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _nan(Class, params) {\n    return new Class({\n        type: \"nan\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _lt(value, params) {\n    return new checks.$ZodCheckLessThan({\n        check: \"less_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: false,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _lte(value, params) {\n    return new checks.$ZodCheckLessThan({\n        check: \"less_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: true,\n    });\n}\nexport { \n/** @deprecated Use `z.lte()` instead. */\n_lte as _max, };\n// @__NO_SIDE_EFFECTS__\nexport function _gt(value, params) {\n    return new checks.$ZodCheckGreaterThan({\n        check: \"greater_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: false,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _gte(value, params) {\n    return new checks.$ZodCheckGreaterThan({\n        check: \"greater_than\",\n        ...util.normalizeParams(params),\n        value,\n        inclusive: true,\n    });\n}\nexport { \n/** @deprecated Use `z.gte()` instead. */\n_gte as _min, };\n// @__NO_SIDE_EFFECTS__\nexport function _positive(params) {\n    return _gt(0, params);\n}\n// negative\n// @__NO_SIDE_EFFECTS__\nexport function _negative(params) {\n    return _lt(0, params);\n}\n// nonpositive\n// @__NO_SIDE_EFFECTS__\nexport function _nonpositive(params) {\n    return _lte(0, params);\n}\n// nonnegative\n// @__NO_SIDE_EFFECTS__\nexport function _nonnegative(params) {\n    return _gte(0, params);\n}\n// @__NO_SIDE_EFFECTS__\nexport function _multipleOf(value, params) {\n    return new checks.$ZodCheckMultipleOf({\n        check: \"multiple_of\",\n        ...util.normalizeParams(params),\n        value,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _maxSize(maximum, params) {\n    return new checks.$ZodCheckMaxSize({\n        check: \"max_size\",\n        ...util.normalizeParams(params),\n        maximum,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _minSize(minimum, params) {\n    return new checks.$ZodCheckMinSize({\n        check: \"min_size\",\n        ...util.normalizeParams(params),\n        minimum,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _size(size, params) {\n    return new checks.$ZodCheckSizeEquals({\n        check: \"size_equals\",\n        ...util.normalizeParams(params),\n        size,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _maxLength(maximum, params) {\n    const ch = new checks.$ZodCheckMaxLength({\n        check: \"max_length\",\n        ...util.normalizeParams(params),\n        maximum,\n    });\n    return ch;\n}\n// @__NO_SIDE_EFFECTS__\nexport function _minLength(minimum, params) {\n    return new checks.$ZodCheckMinLength({\n        check: \"min_length\",\n        ...util.normalizeParams(params),\n        minimum,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _length(length, params) {\n    return new checks.$ZodCheckLengthEquals({\n        check: \"length_equals\",\n        ...util.normalizeParams(params),\n        length,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _regex(pattern, params) {\n    return new checks.$ZodCheckRegex({\n        check: \"string_format\",\n        format: \"regex\",\n        ...util.normalizeParams(params),\n        pattern,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _lowercase(params) {\n    return new checks.$ZodCheckLowerCase({\n        check: \"string_format\",\n        format: \"lowercase\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _uppercase(params) {\n    return new checks.$ZodCheckUpperCase({\n        check: \"string_format\",\n        format: \"uppercase\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _includes(includes, params) {\n    return new checks.$ZodCheckIncludes({\n        check: \"string_format\",\n        format: \"includes\",\n        ...util.normalizeParams(params),\n        includes,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _startsWith(prefix, params) {\n    return new checks.$ZodCheckStartsWith({\n        check: \"string_format\",\n        format: \"starts_with\",\n        ...util.normalizeParams(params),\n        prefix,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _endsWith(suffix, params) {\n    return new checks.$ZodCheckEndsWith({\n        check: \"string_format\",\n        format: \"ends_with\",\n        ...util.normalizeParams(params),\n        suffix,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _property(property, schema, params) {\n    return new checks.$ZodCheckProperty({\n        check: \"property\",\n        property,\n        schema,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _mime(types, params) {\n    return new checks.$ZodCheckMimeType({\n        check: \"mime_type\",\n        mime: types,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _overwrite(tx) {\n    return new checks.$ZodCheckOverwrite({\n        check: \"overwrite\",\n        tx,\n    });\n}\n// normalize\n// @__NO_SIDE_EFFECTS__\nexport function _normalize(form) {\n    return _overwrite((input) => input.normalize(form));\n}\n// trim\n// @__NO_SIDE_EFFECTS__\nexport function _trim() {\n    return _overwrite((input) => input.trim());\n}\n// toLowerCase\n// @__NO_SIDE_EFFECTS__\nexport function _toLowerCase() {\n    return _overwrite((input) => input.toLowerCase());\n}\n// toUpperCase\n// @__NO_SIDE_EFFECTS__\nexport function _toUpperCase() {\n    return _overwrite((input) => input.toUpperCase());\n}\n// slugify\n// @__NO_SIDE_EFFECTS__\nexport function _slugify() {\n    return _overwrite((input) => util.slugify(input));\n}\n// @__NO_SIDE_EFFECTS__\nexport function _array(Class, element, params) {\n    return new Class({\n        type: \"array\",\n        element,\n        // get element() {\n        //   return element;\n        // },\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _union(Class, options, params) {\n    return new Class({\n        type: \"union\",\n        options,\n        ...util.normalizeParams(params),\n    });\n}\nexport function _xor(Class, options, params) {\n    return new Class({\n        type: \"union\",\n        options,\n        inclusive: false,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _discriminatedUnion(Class, discriminator, options, params) {\n    return new Class({\n        type: \"union\",\n        options,\n        discriminator,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _intersection(Class, left, right) {\n    return new Class({\n        type: \"intersection\",\n        left,\n        right,\n    });\n}\n// export function _tuple(\n//   Class: util.SchemaClass<schemas.$ZodTuple>,\n//   items: [],\n//   params?: string | $ZodTupleParams\n// ): schemas.$ZodTuple<[], null>;\n// @__NO_SIDE_EFFECTS__\nexport function _tuple(Class, items, _paramsOrRest, _params) {\n    const hasRest = _paramsOrRest instanceof schemas.$ZodType;\n    const params = hasRest ? _params : _paramsOrRest;\n    const rest = hasRest ? _paramsOrRest : null;\n    return new Class({\n        type: \"tuple\",\n        items,\n        rest,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _record(Class, keyType, valueType, params) {\n    return new Class({\n        type: \"record\",\n        keyType,\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _map(Class, keyType, valueType, params) {\n    return new Class({\n        type: \"map\",\n        keyType,\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _set(Class, valueType, params) {\n    return new Class({\n        type: \"set\",\n        valueType,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _enum(Class, values, params) {\n    const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;\n    // if (Array.isArray(values)) {\n    //   for (const value of values) {\n    //     entries[value] = value;\n    //   }\n    // } else {\n    //   Object.assign(entries, values);\n    // }\n    // const entries: util.EnumLike = {};\n    // for (const val of values) {\n    //   entries[val] = val;\n    // }\n    return new Class({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\n/** @deprecated This API has been merged into `z.enum()`. Use `z.enum()` instead.\n *\n * ```ts\n * enum Colors { red, green, blue }\n * z.enum(Colors);\n * ```\n */\nexport function _nativeEnum(Class, entries, params) {\n    return new Class({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _literal(Class, value, params) {\n    return new Class({\n        type: \"literal\",\n        values: Array.isArray(value) ? value : [value],\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _file(Class, params) {\n    return new Class({\n        type: \"file\",\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _transform(Class, fn) {\n    return new Class({\n        type: \"transform\",\n        transform: fn,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _optional(Class, innerType) {\n    return new Class({\n        type: \"optional\",\n        innerType,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _nullable(Class, innerType) {\n    return new Class({\n        type: \"nullable\",\n        innerType,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _default(Class, innerType, defaultValue) {\n    return new Class({\n        type: \"default\",\n        innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : util.shallowClone(defaultValue);\n        },\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _nonoptional(Class, innerType, params) {\n    return new Class({\n        type: \"nonoptional\",\n        innerType,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _success(Class, innerType) {\n    return new Class({\n        type: \"success\",\n        innerType,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _catch(Class, innerType, catchValue) {\n    return new Class({\n        type: \"catch\",\n        innerType,\n        catchValue: (typeof catchValue === \"function\" ? catchValue : () => catchValue),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _pipe(Class, in_, out) {\n    return new Class({\n        type: \"pipe\",\n        in: in_,\n        out,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _readonly(Class, innerType) {\n    return new Class({\n        type: \"readonly\",\n        innerType,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _templateLiteral(Class, parts, params) {\n    return new Class({\n        type: \"template_literal\",\n        parts,\n        ...util.normalizeParams(params),\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _lazy(Class, getter) {\n    return new Class({\n        type: \"lazy\",\n        getter,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _promise(Class, innerType) {\n    return new Class({\n        type: \"promise\",\n        innerType,\n    });\n}\n// @__NO_SIDE_EFFECTS__\nexport function _custom(Class, fn, _params) {\n    const norm = util.normalizeParams(_params);\n    norm.abort ?? (norm.abort = true); // default to abort:false\n    const schema = new Class({\n        type: \"custom\",\n        check: \"custom\",\n        fn: fn,\n        ...norm,\n    });\n    return schema;\n}\n// same as _custom but defaults to abort:false\n// @__NO_SIDE_EFFECTS__\nexport function _refine(Class, fn, _params) {\n    const schema = new Class({\n        type: \"custom\",\n        check: \"custom\",\n        fn: fn,\n        ...util.normalizeParams(_params),\n    });\n    return schema;\n}\n// @__NO_SIDE_EFFECTS__\nexport function _superRefine(fn) {\n    const ch = _check((payload) => {\n        payload.addIssue = (issue) => {\n            if (typeof issue === \"string\") {\n                payload.issues.push(util.issue(issue, payload.value, ch._zod.def));\n            }\n            else {\n                // for Zod 3 backwards compatibility\n                const _issue = issue;\n                if (_issue.fatal)\n                    _issue.continue = false;\n                _issue.code ?? (_issue.code = \"custom\");\n                _issue.input ?? (_issue.input = payload.value);\n                _issue.inst ?? (_issue.inst = ch);\n                _issue.continue ?? (_issue.continue = !ch._zod.def.abort); // abort is always undefined, so this is always true...\n                payload.issues.push(util.issue(_issue));\n            }\n        };\n        return fn(payload.value, payload);\n    });\n    return ch;\n}\n// @__NO_SIDE_EFFECTS__\nexport function _check(fn, params) {\n    const ch = new checks.$ZodCheck({\n        check: \"custom\",\n        ...util.normalizeParams(params),\n    });\n    ch._zod.check = fn;\n    return ch;\n}\n// @__NO_SIDE_EFFECTS__\nexport function describe(description) {\n    const ch = new checks.$ZodCheck({ check: \"describe\" });\n    ch._zod.onattach = [\n        (inst) => {\n            const existing = registries.globalRegistry.get(inst) ?? {};\n            registries.globalRegistry.add(inst, { ...existing, description });\n        },\n    ];\n    ch._zod.check = () => { }; // no-op check\n    return ch;\n}\n// @__NO_SIDE_EFFECTS__\nexport function meta(metadata) {\n    const ch = new checks.$ZodCheck({ check: \"meta\" });\n    ch._zod.onattach = [\n        (inst) => {\n            const existing = registries.globalRegistry.get(inst) ?? {};\n            registries.globalRegistry.add(inst, { ...existing, ...metadata });\n        },\n    ];\n    ch._zod.check = () => { }; // no-op check\n    return ch;\n}\n// @__NO_SIDE_EFFECTS__\nexport function _stringbool(Classes, _params) {\n    const params = util.normalizeParams(_params);\n    let truthyArray = params.truthy ?? [\"true\", \"1\", \"yes\", \"on\", \"y\", \"enabled\"];\n    let falsyArray = params.falsy ?? [\"false\", \"0\", \"no\", \"off\", \"n\", \"disabled\"];\n    if (params.case !== \"sensitive\") {\n        truthyArray = truthyArray.map((v) => (typeof v === \"string\" ? v.toLowerCase() : v));\n        falsyArray = falsyArray.map((v) => (typeof v === \"string\" ? v.toLowerCase() : v));\n    }\n    const truthySet = new Set(truthyArray);\n    const falsySet = new Set(falsyArray);\n    const _Codec = Classes.Codec ?? schemas.$ZodCodec;\n    const _Boolean = Classes.Boolean ?? schemas.$ZodBoolean;\n    const _String = Classes.String ?? schemas.$ZodString;\n    const stringSchema = new _String({ type: \"string\", error: params.error });\n    const booleanSchema = new _Boolean({ type: \"boolean\", error: params.error });\n    const codec = new _Codec({\n        type: \"pipe\",\n        in: stringSchema,\n        out: booleanSchema,\n        transform: ((input, payload) => {\n            let data = input;\n            if (params.case !== \"sensitive\")\n                data = data.toLowerCase();\n            if (truthySet.has(data)) {\n                return true;\n            }\n            else if (falsySet.has(data)) {\n                return false;\n            }\n            else {\n                payload.issues.push({\n                    code: \"invalid_value\",\n                    expected: \"stringbool\",\n                    values: [...truthySet, ...falsySet],\n                    input: payload.value,\n                    inst: codec,\n                    continue: false,\n                });\n                return {};\n            }\n        }),\n        reverseTransform: ((input, _payload) => {\n            if (input === true) {\n                return truthyArray[0] || \"true\";\n            }\n            else {\n                return falsyArray[0] || \"false\";\n            }\n        }),\n        error: params.error,\n    });\n    return codec;\n}\n// @__NO_SIDE_EFFECTS__\nexport function _stringFormat(Class, format, fnOrRegex, _params = {}) {\n    const params = util.normalizeParams(_params);\n    const def = {\n        ...util.normalizeParams(_params),\n        check: \"string_format\",\n        type: \"string\",\n        format,\n        fn: typeof fnOrRegex === \"function\" ? fnOrRegex : (val) => fnOrRegex.test(val),\n        ...params,\n    };\n    if (fnOrRegex instanceof RegExp) {\n        def.pattern = fnOrRegex;\n    }\n    const inst = new Class(def);\n    return inst;\n}\n","// src/Context.tsx\nimport { createContext, useContext, useMemo } from \"react\";\n\n// src/EditorContent.tsx\nimport React, { forwardRef } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { useSyncExternalStore } from \"use-sync-external-store/shim/index.js\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar mergeRefs = (...refs) => {\n  return (node) => {\n    refs.forEach((ref) => {\n      if (typeof ref === \"function\") {\n        ref(node);\n      } else if (ref) {\n        ;\n        ref.current = node;\n      }\n    });\n  };\n};\nvar Portals = ({ contentComponent }) => {\n  const renderers = useSyncExternalStore(\n    contentComponent.subscribe,\n    contentComponent.getSnapshot,\n    contentComponent.getServerSnapshot\n  );\n  return /* @__PURE__ */ jsx(Fragment, { children: Object.values(renderers) });\n};\nfunction getInstance() {\n  const subscribers = /* @__PURE__ */ new Set();\n  let renderers = {};\n  return {\n    /**\n     * Subscribe to the editor instance's changes.\n     */\n    subscribe(callback) {\n      subscribers.add(callback);\n      return () => {\n        subscribers.delete(callback);\n      };\n    },\n    getSnapshot() {\n      return renderers;\n    },\n    getServerSnapshot() {\n      return renderers;\n    },\n    /**\n     * Adds a new NodeView Renderer to the editor.\n     */\n    setRenderer(id, renderer) {\n      renderers = {\n        ...renderers,\n        [id]: ReactDOM.createPortal(renderer.reactElement, renderer.element, id)\n      };\n      subscribers.forEach((subscriber) => subscriber());\n    },\n    /**\n     * Removes a NodeView Renderer from the editor.\n     */\n    removeRenderer(id) {\n      const nextRenderers = { ...renderers };\n      delete nextRenderers[id];\n      renderers = nextRenderers;\n      subscribers.forEach((subscriber) => subscriber());\n    }\n  };\n}\nvar PureEditorContent = class extends React.Component {\n  constructor(props) {\n    var _a;\n    super(props);\n    this.editorContentRef = React.createRef();\n    this.initialized = false;\n    this.state = {\n      hasContentComponentInitialized: Boolean((_a = props.editor) == null ? void 0 : _a.contentComponent)\n    };\n  }\n  componentDidMount() {\n    this.init();\n  }\n  componentDidUpdate() {\n    this.init();\n  }\n  init() {\n    var _a;\n    const editor = this.props.editor;\n    if (editor && !editor.isDestroyed && ((_a = editor.view.dom) == null ? void 0 : _a.parentNode)) {\n      if (editor.contentComponent) {\n        return;\n      }\n      const element = this.editorContentRef.current;\n      element.append(...editor.view.dom.parentNode.childNodes);\n      editor.setOptions({\n        element\n      });\n      editor.contentComponent = getInstance();\n      if (!this.state.hasContentComponentInitialized) {\n        this.unsubscribeToContentComponent = editor.contentComponent.subscribe(() => {\n          this.setState((prevState) => {\n            if (!prevState.hasContentComponentInitialized) {\n              return {\n                hasContentComponentInitialized: true\n              };\n            }\n            return prevState;\n          });\n          if (this.unsubscribeToContentComponent) {\n            this.unsubscribeToContentComponent();\n          }\n        });\n      }\n      editor.createNodeViews();\n      this.initialized = true;\n    }\n  }\n  componentWillUnmount() {\n    var _a;\n    const editor = this.props.editor;\n    if (!editor) {\n      return;\n    }\n    this.initialized = false;\n    if (!editor.isDestroyed) {\n      editor.view.setProps({\n        nodeViews: {}\n      });\n    }\n    if (this.unsubscribeToContentComponent) {\n      this.unsubscribeToContentComponent();\n    }\n    editor.contentComponent = null;\n    try {\n      if (!((_a = editor.view.dom) == null ? void 0 : _a.parentNode)) {\n        return;\n      }\n      const newElement = document.createElement(\"div\");\n      newElement.append(...editor.view.dom.parentNode.childNodes);\n      editor.setOptions({\n        element: newElement\n      });\n    } catch {\n    }\n  }\n  render() {\n    const { editor, innerRef, ...rest } = this.props;\n    return /* @__PURE__ */ jsxs(Fragment, { children: [\n      /* @__PURE__ */ jsx(\"div\", { ref: mergeRefs(innerRef, this.editorContentRef), ...rest }),\n      (editor == null ? void 0 : editor.contentComponent) && /* @__PURE__ */ jsx(Portals, { contentComponent: editor.contentComponent })\n    ] });\n  }\n};\nvar EditorContentWithKey = forwardRef(\n  (props, ref) => {\n    const key = React.useMemo(() => {\n      return Math.floor(Math.random() * 4294967295).toString();\n    }, [props.editor]);\n    return React.createElement(PureEditorContent, {\n      key,\n      innerRef: ref,\n      ...props\n    });\n  }\n);\nvar EditorContent = React.memo(EditorContentWithKey);\n\n// src/useEditor.ts\nimport { Editor } from \"@tiptap/core\";\nimport { useDebugValue as useDebugValue2, useEffect as useEffect2, useRef, useState as useState2 } from \"react\";\nimport { useSyncExternalStore as useSyncExternalStore2 } from \"use-sync-external-store/shim/index.js\";\n\n// src/useEditorState.ts\nimport { deepEqual } from \"fast-equals\";\nimport { useDebugValue, useEffect, useLayoutEffect, useState } from \"react\";\nimport { useSyncExternalStoreWithSelector } from \"use-sync-external-store/shim/with-selector.js\";\nvar useIsomorphicLayoutEffect = typeof window !== \"undefined\" ? useLayoutEffect : useEffect;\nvar EditorStateManager = class {\n  constructor(initialEditor) {\n    this.transactionNumber = 0;\n    this.lastTransactionNumber = 0;\n    this.subscribers = /* @__PURE__ */ new Set();\n    this.editor = initialEditor;\n    this.lastSnapshot = { editor: initialEditor, transactionNumber: 0 };\n    this.getSnapshot = this.getSnapshot.bind(this);\n    this.getServerSnapshot = this.getServerSnapshot.bind(this);\n    this.watch = this.watch.bind(this);\n    this.subscribe = this.subscribe.bind(this);\n  }\n  /**\n   * Get the current editor instance.\n   */\n  getSnapshot() {\n    if (this.transactionNumber === this.lastTransactionNumber) {\n      return this.lastSnapshot;\n    }\n    this.lastTransactionNumber = this.transactionNumber;\n    this.lastSnapshot = { editor: this.editor, transactionNumber: this.transactionNumber };\n    return this.lastSnapshot;\n  }\n  /**\n   * Always disable the editor on the server-side.\n   */\n  getServerSnapshot() {\n    return { editor: null, transactionNumber: 0 };\n  }\n  /**\n   * Subscribe to the editor instance's changes.\n   */\n  subscribe(callback) {\n    this.subscribers.add(callback);\n    return () => {\n      this.subscribers.delete(callback);\n    };\n  }\n  /**\n   * Watch the editor instance for changes.\n   */\n  watch(nextEditor) {\n    this.editor = nextEditor;\n    if (this.editor) {\n      const fn = () => {\n        this.transactionNumber += 1;\n        this.subscribers.forEach((callback) => callback());\n      };\n      const currentEditor = this.editor;\n      currentEditor.on(\"transaction\", fn);\n      return () => {\n        currentEditor.off(\"transaction\", fn);\n      };\n    }\n    return void 0;\n  }\n};\nfunction useEditorState(options) {\n  var _a;\n  const [editorStateManager] = useState(() => new EditorStateManager(options.editor));\n  const selectedState = useSyncExternalStoreWithSelector(\n    editorStateManager.subscribe,\n    editorStateManager.getSnapshot,\n    editorStateManager.getServerSnapshot,\n    options.selector,\n    (_a = options.equalityFn) != null ? _a : deepEqual\n  );\n  useIsomorphicLayoutEffect(() => {\n    return editorStateManager.watch(options.editor);\n  }, [options.editor, editorStateManager]);\n  useDebugValue(selectedState);\n  return selectedState;\n}\n\n// src/useEditor.ts\nvar isDev = process.env.NODE_ENV !== \"production\";\nvar isSSR = typeof window === \"undefined\";\nvar isNext = isSSR || Boolean(typeof window !== \"undefined\" && window.next);\nvar EditorInstanceManager = class _EditorInstanceManager {\n  constructor(options) {\n    /**\n     * The current editor instance.\n     */\n    this.editor = null;\n    /**\n     * The subscriptions to notify when the editor instance\n     * has been created or destroyed.\n     */\n    this.subscriptions = /* @__PURE__ */ new Set();\n    /**\n     * Whether the editor has been mounted.\n     */\n    this.isComponentMounted = false;\n    /**\n     * The most recent dependencies array.\n     */\n    this.previousDeps = null;\n    /**\n     * The unique instance ID. This is used to identify the editor instance. And will be re-generated for each new instance.\n     */\n    this.instanceId = \"\";\n    this.options = options;\n    this.subscriptions = /* @__PURE__ */ new Set();\n    this.setEditor(this.getInitialEditor());\n    this.scheduleDestroy();\n    this.getEditor = this.getEditor.bind(this);\n    this.getServerSnapshot = this.getServerSnapshot.bind(this);\n    this.subscribe = this.subscribe.bind(this);\n    this.refreshEditorInstance = this.refreshEditorInstance.bind(this);\n    this.scheduleDestroy = this.scheduleDestroy.bind(this);\n    this.onRender = this.onRender.bind(this);\n    this.createEditor = this.createEditor.bind(this);\n  }\n  setEditor(editor) {\n    this.editor = editor;\n    this.instanceId = Math.random().toString(36).slice(2, 9);\n    this.subscriptions.forEach((cb) => cb());\n  }\n  getInitialEditor() {\n    if (this.options.current.immediatelyRender === void 0) {\n      if (isSSR || isNext) {\n        if (isDev) {\n          throw new Error(\n            \"Tiptap Error: SSR has been detected, please set `immediatelyRender` explicitly to `false` to avoid hydration mismatches.\"\n          );\n        }\n        return null;\n      }\n      return this.createEditor();\n    }\n    if (this.options.current.immediatelyRender && isSSR && isDev) {\n      throw new Error(\n        \"Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.\"\n      );\n    }\n    if (this.options.current.immediatelyRender) {\n      return this.createEditor();\n    }\n    return null;\n  }\n  /**\n   * Create a new editor instance. And attach event listeners.\n   */\n  createEditor() {\n    const optionsToApply = {\n      ...this.options.current,\n      // Always call the most recent version of the callback function by default\n      onBeforeCreate: (...args) => {\n        var _a, _b;\n        return (_b = (_a = this.options.current).onBeforeCreate) == null ? void 0 : _b.call(_a, ...args);\n      },\n      onBlur: (...args) => {\n        var _a, _b;\n        return (_b = (_a = this.options.current).onBlur) == null ? void 0 : _b.call(_a, ...args);\n      },\n      onCreate: (...args) => {\n        var _a, _b;\n        return (_b = (_a = this.options.current).onCreate) == null ? void 0 : _b.call(_a, ...args);\n      },\n      onDestroy: (...args) => {\n        var _a, _b;\n        return (_b = (_a = this.options.current).onDestroy) == null ? void 0 : _b.call(_a, ...args);\n      },\n      onFocus: (...args) => {\n        var _a, _b;\n        return (_b = (_a = this.options.current).onFocus) == null ? void 0 : _b.call(_a, ...args);\n      },\n      onSelectionUpdate: (...args) => {\n        var _a, _b;\n        return (_b = (_a = this.options.current).onSelectionUpdate) == null ? void 0 : _b.call(_a, ...args);\n      },\n      onTransaction: (...args) => {\n        var _a, _b;\n        return (_b = (_a = this.options.current).onTransaction) == null ? void 0 : _b.call(_a, ...args);\n      },\n      onUpdate: (...args) => {\n        var _a, _b;\n        return (_b = (_a = this.options.current).onUpdate) == null ? void 0 : _b.call(_a, ...args);\n      },\n      onContentError: (...args) => {\n        var _a, _b;\n        return (_b = (_a = this.options.current).onContentError) == null ? void 0 : _b.call(_a, ...args);\n      },\n      onDrop: (...args) => {\n        var _a, _b;\n        return (_b = (_a = this.options.current).onDrop) == null ? void 0 : _b.call(_a, ...args);\n      },\n      onPaste: (...args) => {\n        var _a, _b;\n        return (_b = (_a = this.options.current).onPaste) == null ? void 0 : _b.call(_a, ...args);\n      },\n      onDelete: (...args) => {\n        var _a, _b;\n        return (_b = (_a = this.options.current).onDelete) == null ? void 0 : _b.call(_a, ...args);\n      }\n    };\n    const editor = new Editor(optionsToApply);\n    return editor;\n  }\n  /**\n   * Get the current editor instance.\n   */\n  getEditor() {\n    return this.editor;\n  }\n  /**\n   * Always disable the editor on the server-side.\n   */\n  getServerSnapshot() {\n    return null;\n  }\n  /**\n   * Subscribe to the editor instance's changes.\n   */\n  subscribe(onStoreChange) {\n    this.subscriptions.add(onStoreChange);\n    return () => {\n      this.subscriptions.delete(onStoreChange);\n    };\n  }\n  static compareOptions(a, b) {\n    return Object.keys(a).every((key) => {\n      if ([\n        \"onCreate\",\n        \"onBeforeCreate\",\n        \"onDestroy\",\n        \"onUpdate\",\n        \"onTransaction\",\n        \"onFocus\",\n        \"onBlur\",\n        \"onSelectionUpdate\",\n        \"onContentError\",\n        \"onDrop\",\n        \"onPaste\"\n      ].includes(key)) {\n        return true;\n      }\n      if (key === \"extensions\" && a.extensions && b.extensions) {\n        if (a.extensions.length !== b.extensions.length) {\n          return false;\n        }\n        return a.extensions.every((extension, index) => {\n          var _a;\n          if (extension !== ((_a = b.extensions) == null ? void 0 : _a[index])) {\n            return false;\n          }\n          return true;\n        });\n      }\n      if (a[key] !== b[key]) {\n        return false;\n      }\n      return true;\n    });\n  }\n  /**\n   * On each render, we will create, update, or destroy the editor instance.\n   * @param deps The dependencies to watch for changes\n   * @returns A cleanup function\n   */\n  onRender(deps) {\n    return () => {\n      this.isComponentMounted = true;\n      clearTimeout(this.scheduledDestructionTimeout);\n      if (this.editor && !this.editor.isDestroyed && deps.length === 0) {\n        if (!_EditorInstanceManager.compareOptions(this.options.current, this.editor.options)) {\n          this.editor.setOptions({\n            ...this.options.current,\n            editable: this.editor.isEditable\n          });\n        }\n      } else {\n        this.refreshEditorInstance(deps);\n      }\n      return () => {\n        this.isComponentMounted = false;\n        this.scheduleDestroy();\n      };\n    };\n  }\n  /**\n   * Recreate the editor instance if the dependencies have changed.\n   */\n  refreshEditorInstance(deps) {\n    if (this.editor && !this.editor.isDestroyed) {\n      if (this.previousDeps === null) {\n        this.previousDeps = deps;\n        return;\n      }\n      const depsAreEqual = this.previousDeps.length === deps.length && this.previousDeps.every((dep, index) => dep === deps[index]);\n      if (depsAreEqual) {\n        return;\n      }\n    }\n    if (this.editor && !this.editor.isDestroyed) {\n      this.editor.destroy();\n    }\n    this.setEditor(this.createEditor());\n    this.previousDeps = deps;\n  }\n  /**\n   * Schedule the destruction of the editor instance.\n   * This will only destroy the editor if it was not mounted on the next tick.\n   * This is to avoid destroying the editor instance when it's actually still mounted.\n   */\n  scheduleDestroy() {\n    const currentInstanceId = this.instanceId;\n    const currentEditor = this.editor;\n    this.scheduledDestructionTimeout = setTimeout(() => {\n      if (this.isComponentMounted && this.instanceId === currentInstanceId) {\n        if (currentEditor) {\n          currentEditor.setOptions(this.options.current);\n        }\n        return;\n      }\n      if (currentEditor && !currentEditor.isDestroyed) {\n        currentEditor.destroy();\n        if (this.instanceId === currentInstanceId) {\n          this.setEditor(null);\n        }\n      }\n    }, 1);\n  }\n};\nfunction useEditor(options = {}, deps = []) {\n  const mostRecentOptions = useRef(options);\n  mostRecentOptions.current = options;\n  const [instanceManager] = useState2(() => new EditorInstanceManager(mostRecentOptions));\n  const editor = useSyncExternalStore2(\n    instanceManager.subscribe,\n    instanceManager.getEditor,\n    instanceManager.getServerSnapshot\n  );\n  useDebugValue2(editor);\n  useEffect2(instanceManager.onRender(deps));\n  useEditorState({\n    editor,\n    selector: ({ transactionNumber }) => {\n      if (options.shouldRerenderOnTransaction === false || options.shouldRerenderOnTransaction === void 0) {\n        return null;\n      }\n      if (options.immediatelyRender && transactionNumber === 0) {\n        return 0;\n      }\n      return transactionNumber + 1;\n    }\n  });\n  return editor;\n}\n\n// src/Context.tsx\nimport { jsx as jsx2, jsxs as jsxs2 } from \"react/jsx-runtime\";\nvar EditorContext = createContext({\n  editor: null\n});\nvar EditorConsumer = EditorContext.Consumer;\nvar useCurrentEditor = () => useContext(EditorContext);\nfunction EditorProvider({\n  children,\n  slotAfter,\n  slotBefore,\n  editorContainerProps = {},\n  ...editorOptions\n}) {\n  const editor = useEditor(editorOptions);\n  const contextValue = useMemo(() => ({ editor }), [editor]);\n  if (!editor) {\n    return null;\n  }\n  return /* @__PURE__ */ jsxs2(EditorContext.Provider, { value: contextValue, children: [\n    slotBefore,\n    /* @__PURE__ */ jsx2(EditorConsumer, { children: ({ editor: currentEditor }) => /* @__PURE__ */ jsx2(EditorContent, { editor: currentEditor, ...editorContainerProps }) }),\n    children,\n    slotAfter\n  ] });\n}\n\n// src/useReactNodeView.ts\nimport { createContext as createContext2, createElement, useContext as useContext2 } from \"react\";\nvar ReactNodeViewContext = createContext2({\n  onDragStart: () => {\n  },\n  nodeViewContentChildren: void 0,\n  nodeViewContentRef: () => {\n  }\n});\nvar ReactNodeViewContentProvider = ({ children, content }) => {\n  return createElement(ReactNodeViewContext.Provider, { value: { nodeViewContentChildren: content } }, children);\n};\nvar useReactNodeView = () => useContext2(ReactNodeViewContext);\n\n// src/NodeViewContent.tsx\nimport { jsx as jsx3 } from \"react/jsx-runtime\";\nfunction NodeViewContent({\n  as: Tag = \"div\",\n  ...props\n}) {\n  const { nodeViewContentRef, nodeViewContentChildren } = useReactNodeView();\n  return (\n    // @ts-ignore\n    /* @__PURE__ */ jsx3(\n      Tag,\n      {\n        ...props,\n        ref: nodeViewContentRef,\n        \"data-node-view-content\": \"\",\n        style: {\n          whiteSpace: \"pre-wrap\",\n          ...props.style\n        },\n        children: nodeViewContentChildren\n      }\n    )\n  );\n}\n\n// src/NodeViewWrapper.tsx\nimport React3 from \"react\";\nimport { jsx as jsx4 } from \"react/jsx-runtime\";\nvar NodeViewWrapper = React3.forwardRef((props, ref) => {\n  const { onDragStart } = useReactNodeView();\n  const Tag = props.as || \"div\";\n  return (\n    // @ts-ignore\n    /* @__PURE__ */ jsx4(\n      Tag,\n      {\n        ...props,\n        ref,\n        \"data-node-view-wrapper\": \"\",\n        onDragStart,\n        style: {\n          whiteSpace: \"normal\",\n          ...props.style\n        }\n      }\n    )\n  );\n});\n\n// src/ReactMarkViewRenderer.tsx\nimport { MarkView } from \"@tiptap/core\";\nimport React4 from \"react\";\n\n// src/ReactRenderer.tsx\nimport { version as reactVersion } from \"react\";\nimport { flushSync } from \"react-dom\";\nimport { jsx as jsx5 } from \"react/jsx-runtime\";\nfunction isClassComponent(Component) {\n  return !!(typeof Component === \"function\" && Component.prototype && Component.prototype.isReactComponent);\n}\nfunction isForwardRefComponent(Component) {\n  return !!(typeof Component === \"object\" && Component.$$typeof && (Component.$$typeof.toString() === \"Symbol(react.forward_ref)\" || Component.$$typeof.description === \"react.forward_ref\"));\n}\nfunction isMemoComponent(Component) {\n  return !!(typeof Component === \"object\" && Component.$$typeof && (Component.$$typeof.toString() === \"Symbol(react.memo)\" || Component.$$typeof.description === \"react.memo\"));\n}\nfunction canReceiveRef(Component) {\n  if (isClassComponent(Component)) {\n    return true;\n  }\n  if (isForwardRefComponent(Component)) {\n    return true;\n  }\n  if (isMemoComponent(Component)) {\n    const wrappedComponent = Component.type;\n    if (wrappedComponent) {\n      return isClassComponent(wrappedComponent) || isForwardRefComponent(wrappedComponent);\n    }\n  }\n  return false;\n}\nfunction isReact19Plus() {\n  try {\n    if (reactVersion) {\n      const majorVersion = parseInt(reactVersion.split(\".\")[0], 10);\n      return majorVersion >= 19;\n    }\n  } catch {\n  }\n  return false;\n}\nvar ReactRenderer = class {\n  /**\n   * Immediately creates element and renders the provided React component.\n   */\n  constructor(component, { editor, props = {}, as = \"div\", className = \"\" }) {\n    this.ref = null;\n    /**\n     * Flag to track if the renderer has been destroyed, preventing queued or asynchronous renders from executing after teardown.\n     */\n    this.destroyed = false;\n    this.id = Math.floor(Math.random() * 4294967295).toString();\n    this.component = component;\n    this.editor = editor;\n    this.props = props;\n    this.element = document.createElement(as);\n    this.element.classList.add(\"react-renderer\");\n    if (className) {\n      this.element.classList.add(...className.split(\" \"));\n    }\n    if (this.editor.isInitialized) {\n      flushSync(() => {\n        this.render();\n      });\n    } else {\n      queueMicrotask(() => {\n        if (this.destroyed) {\n          return;\n        }\n        this.render();\n      });\n    }\n  }\n  /**\n   * Render the React component.\n   */\n  render() {\n    var _a;\n    if (this.destroyed) {\n      return;\n    }\n    const Component = this.component;\n    const props = this.props;\n    const editor = this.editor;\n    const isReact19 = isReact19Plus();\n    const componentCanReceiveRef = canReceiveRef(Component);\n    const elementProps = { ...props };\n    if (elementProps.ref && !(isReact19 || componentCanReceiveRef)) {\n      delete elementProps.ref;\n    }\n    if (!elementProps.ref && (isReact19 || componentCanReceiveRef)) {\n      elementProps.ref = (ref) => {\n        this.ref = ref;\n      };\n    }\n    this.reactElement = /* @__PURE__ */ jsx5(Component, { ...elementProps });\n    (_a = editor == null ? void 0 : editor.contentComponent) == null ? void 0 : _a.setRenderer(this.id, this);\n  }\n  /**\n   * Re-renders the React component with new props.\n   */\n  updateProps(props = {}) {\n    if (this.destroyed) {\n      return;\n    }\n    this.props = {\n      ...this.props,\n      ...props\n    };\n    this.render();\n  }\n  /**\n   * Destroy the React component.\n   */\n  destroy() {\n    var _a;\n    this.destroyed = true;\n    const editor = this.editor;\n    (_a = editor == null ? void 0 : editor.contentComponent) == null ? void 0 : _a.removeRenderer(this.id);\n    try {\n      if (this.element && this.element.parentNode) {\n        this.element.parentNode.removeChild(this.element);\n      }\n    } catch {\n    }\n  }\n  /**\n   * Update the attributes of the element that holds the React component.\n   */\n  updateAttributes(attributes) {\n    Object.keys(attributes).forEach((key) => {\n      this.element.setAttribute(key, attributes[key]);\n    });\n  }\n};\n\n// src/ReactMarkViewRenderer.tsx\nimport { jsx as jsx6 } from \"react/jsx-runtime\";\nvar ReactMarkViewContext = React4.createContext({\n  markViewContentRef: () => {\n  }\n});\nvar MarkViewContent = (props) => {\n  const { as: Tag = \"span\", ...rest } = props;\n  const { markViewContentRef } = React4.useContext(ReactMarkViewContext);\n  return (\n    // @ts-ignore\n    /* @__PURE__ */ jsx6(Tag, { ...rest, ref: markViewContentRef, \"data-mark-view-content\": \"\" })\n  );\n};\nvar ReactMarkView = class extends MarkView {\n  constructor(component, props, options) {\n    super(component, props, options);\n    const { as = \"span\", attrs, className = \"\" } = options || {};\n    const componentProps = { ...props, updateAttributes: this.updateAttributes.bind(this) };\n    this.contentDOMElement = document.createElement(\"span\");\n    const markViewContentRef = (el) => {\n      if (el && !el.contains(this.contentDOMElement)) {\n        el.appendChild(this.contentDOMElement);\n      }\n    };\n    const context = {\n      markViewContentRef\n    };\n    const ReactMarkViewProvider = React4.memo((componentProps2) => {\n      return /* @__PURE__ */ jsx6(ReactMarkViewContext.Provider, { value: context, children: React4.createElement(component, componentProps2) });\n    });\n    ReactMarkViewProvider.displayName = \"ReactMarkView\";\n    this.renderer = new ReactRenderer(ReactMarkViewProvider, {\n      editor: props.editor,\n      props: componentProps,\n      as,\n      className: `mark-${props.mark.type.name} ${className}`.trim()\n    });\n    if (attrs) {\n      this.renderer.updateAttributes(attrs);\n    }\n  }\n  get dom() {\n    return this.renderer.element;\n  }\n  get contentDOM() {\n    return this.contentDOMElement;\n  }\n};\nfunction ReactMarkViewRenderer(component, options = {}) {\n  return (props) => new ReactMarkView(component, props, options);\n}\n\n// src/ReactNodeViewRenderer.tsx\nimport { getRenderedAttributes, NodeView } from \"@tiptap/core\";\nimport { createElement as createElement2, createRef, memo } from \"react\";\nimport { jsx as jsx7 } from \"react/jsx-runtime\";\nvar ReactNodeView = class extends NodeView {\n  constructor(component, props, options) {\n    super(component, props, options);\n    /**\n     * The requestAnimationFrame ID used for selection updates.\n     */\n    this.selectionRafId = null;\n    this.cachedExtensionWithSyncedStorage = null;\n    if (!this.node.isLeaf) {\n      if (this.options.contentDOMElementTag) {\n        this.contentDOMElement = document.createElement(this.options.contentDOMElementTag);\n      } else {\n        this.contentDOMElement = document.createElement(this.node.isInline ? \"span\" : \"div\");\n      }\n      this.contentDOMElement.dataset.nodeViewContentReact = \"\";\n      this.contentDOMElement.dataset.nodeViewWrapper = \"\";\n      this.contentDOMElement.style.whiteSpace = \"inherit\";\n      const contentTarget = this.dom.querySelector(\"[data-node-view-content]\");\n      if (!contentTarget) {\n        return;\n      }\n      contentTarget.appendChild(this.contentDOMElement);\n    }\n  }\n  /**\n   * Returns a proxy of the extension that redirects storage access to the editor's mutable storage.\n   * This preserves the original prototype chain (instanceof checks, methods like configure/extend work).\n   * Cached to avoid proxy creation on every update.\n   */\n  get extensionWithSyncedStorage() {\n    if (!this.cachedExtensionWithSyncedStorage) {\n      const editor = this.editor;\n      const extension = this.extension;\n      this.cachedExtensionWithSyncedStorage = new Proxy(extension, {\n        get(target, prop, receiver) {\n          var _a;\n          if (prop === \"storage\") {\n            return (_a = editor.storage[extension.name]) != null ? _a : {};\n          }\n          return Reflect.get(target, prop, receiver);\n        }\n      });\n    }\n    return this.cachedExtensionWithSyncedStorage;\n  }\n  /**\n   * Setup the React component.\n   * Called on initialization.\n   */\n  mount() {\n    const props = {\n      editor: this.editor,\n      node: this.node,\n      decorations: this.decorations,\n      innerDecorations: this.innerDecorations,\n      view: this.view,\n      selected: false,\n      extension: this.extensionWithSyncedStorage,\n      HTMLAttributes: this.HTMLAttributes,\n      getPos: () => this.getPos(),\n      updateAttributes: (attributes = {}) => this.updateAttributes(attributes),\n      deleteNode: () => this.deleteNode(),\n      ref: createRef()\n    };\n    if (!this.component.displayName) {\n      const capitalizeFirstChar = (string) => {\n        return string.charAt(0).toUpperCase() + string.substring(1);\n      };\n      this.component.displayName = capitalizeFirstChar(this.extension.name);\n    }\n    const onDragStart = this.onDragStart.bind(this);\n    const nodeViewContentRef = (element) => {\n      if (element && this.contentDOMElement && element.firstChild !== this.contentDOMElement) {\n        if (element.hasAttribute(\"data-node-view-wrapper\")) {\n          element.removeAttribute(\"data-node-view-wrapper\");\n        }\n        element.appendChild(this.contentDOMElement);\n      }\n    };\n    const context = { onDragStart, nodeViewContentRef };\n    const Component = this.component;\n    const ReactNodeViewProvider = memo((componentProps) => {\n      return /* @__PURE__ */ jsx7(ReactNodeViewContext.Provider, { value: context, children: createElement2(Component, componentProps) });\n    });\n    ReactNodeViewProvider.displayName = \"ReactNodeView\";\n    let as = this.node.isInline ? \"span\" : \"div\";\n    if (this.options.as) {\n      as = this.options.as;\n    }\n    const { className = \"\" } = this.options;\n    this.handleSelectionUpdate = this.handleSelectionUpdate.bind(this);\n    this.renderer = new ReactRenderer(ReactNodeViewProvider, {\n      editor: this.editor,\n      props,\n      as,\n      className: `node-${this.node.type.name} ${className}`.trim()\n    });\n    this.editor.on(\"selectionUpdate\", this.handleSelectionUpdate);\n    this.updateElementAttributes();\n  }\n  /**\n   * Return the DOM element.\n   * This is the element that will be used to display the node view.\n   */\n  get dom() {\n    var _a;\n    if (this.renderer.element.firstElementChild && !((_a = this.renderer.element.firstElementChild) == null ? void 0 : _a.hasAttribute(\"data-node-view-wrapper\"))) {\n      throw Error(\"Please use the NodeViewWrapper component for your node view.\");\n    }\n    return this.renderer.element;\n  }\n  /**\n   * Return the content DOM element.\n   * This is the element that will be used to display the rich-text content of the node.\n   */\n  get contentDOM() {\n    if (this.node.isLeaf) {\n      return null;\n    }\n    return this.contentDOMElement;\n  }\n  /**\n   * On editor selection update, check if the node is selected.\n   * If it is, call `selectNode`, otherwise call `deselectNode`.\n   */\n  handleSelectionUpdate() {\n    if (this.selectionRafId) {\n      cancelAnimationFrame(this.selectionRafId);\n      this.selectionRafId = null;\n    }\n    this.selectionRafId = requestAnimationFrame(() => {\n      this.selectionRafId = null;\n      const { from, to } = this.editor.state.selection;\n      const pos = this.getPos();\n      if (typeof pos !== \"number\") {\n        return;\n      }\n      if (from <= pos && to >= pos + this.node.nodeSize) {\n        if (this.renderer.props.selected) {\n          return;\n        }\n        this.selectNode();\n      } else {\n        if (!this.renderer.props.selected) {\n          return;\n        }\n        this.deselectNode();\n      }\n    });\n  }\n  /**\n   * On update, update the React component.\n   * To prevent unnecessary updates, the `update` option can be used.\n   */\n  update(node, decorations, innerDecorations) {\n    const rerenderComponent = (props) => {\n      this.renderer.updateProps(props);\n      if (typeof this.options.attrs === \"function\") {\n        this.updateElementAttributes();\n      }\n    };\n    if (node.type !== this.node.type) {\n      return false;\n    }\n    if (typeof this.options.update === \"function\") {\n      const oldNode = this.node;\n      const oldDecorations = this.decorations;\n      const oldInnerDecorations = this.innerDecorations;\n      this.node = node;\n      this.decorations = decorations;\n      this.innerDecorations = innerDecorations;\n      return this.options.update({\n        oldNode,\n        oldDecorations,\n        newNode: node,\n        newDecorations: decorations,\n        oldInnerDecorations,\n        innerDecorations,\n        updateProps: () => rerenderComponent({ node, decorations, innerDecorations, extension: this.extensionWithSyncedStorage })\n      });\n    }\n    if (node === this.node && this.decorations === decorations && this.innerDecorations === innerDecorations) {\n      return true;\n    }\n    this.node = node;\n    this.decorations = decorations;\n    this.innerDecorations = innerDecorations;\n    rerenderComponent({ node, decorations, innerDecorations, extension: this.extensionWithSyncedStorage });\n    return true;\n  }\n  /**\n   * Select the node.\n   * Add the `selected` prop and the `ProseMirror-selectednode` class.\n   */\n  selectNode() {\n    this.renderer.updateProps({\n      selected: true\n    });\n    this.renderer.element.classList.add(\"ProseMirror-selectednode\");\n  }\n  /**\n   * Deselect the node.\n   * Remove the `selected` prop and the `ProseMirror-selectednode` class.\n   */\n  deselectNode() {\n    this.renderer.updateProps({\n      selected: false\n    });\n    this.renderer.element.classList.remove(\"ProseMirror-selectednode\");\n  }\n  /**\n   * Destroy the React component instance.\n   */\n  destroy() {\n    this.renderer.destroy();\n    this.editor.off(\"selectionUpdate\", this.handleSelectionUpdate);\n    this.contentDOMElement = null;\n    if (this.selectionRafId) {\n      cancelAnimationFrame(this.selectionRafId);\n      this.selectionRafId = null;\n    }\n  }\n  /**\n   * Update the attributes of the top-level element that holds the React component.\n   * Applying the attributes defined in the `attrs` option.\n   */\n  updateElementAttributes() {\n    if (this.options.attrs) {\n      let attrsObj = {};\n      if (typeof this.options.attrs === \"function\") {\n        const extensionAttributes = this.editor.extensionManager.attributes;\n        const HTMLAttributes = getRenderedAttributes(this.node, extensionAttributes);\n        attrsObj = this.options.attrs({ node: this.node, HTMLAttributes });\n      } else {\n        attrsObj = this.options.attrs;\n      }\n      this.renderer.updateAttributes(attrsObj);\n    }\n  }\n};\nfunction ReactNodeViewRenderer(component, options) {\n  return (props) => {\n    if (!props.editor.contentComponent) {\n      return {};\n    }\n    return new ReactNodeView(component, props, options);\n  };\n}\n\n// src/Tiptap.tsx\nimport { createContext as createContext3, useContext as useContext3, useMemo as useMemo2 } from \"react\";\nimport { jsx as jsx8 } from \"react/jsx-runtime\";\nvar TiptapContext = createContext3({\n  get editor() {\n    throw new Error(\"useTiptap must be used within a <Tiptap> provider\");\n  }\n});\nTiptapContext.displayName = \"TiptapContext\";\nvar useTiptap = () => useContext3(TiptapContext);\nfunction useTiptapState(selector, equalityFn) {\n  const { editor } = useTiptap();\n  return useEditorState({\n    editor,\n    selector,\n    equalityFn\n  });\n}\nfunction TiptapWrapper({ editor, instance, children }) {\n  const resolvedEditor = editor != null ? editor : instance;\n  if (!resolvedEditor) {\n    throw new Error(\"Tiptap: An editor instance is required. Pass a non-null `editor` prop.\");\n  }\n  const tiptapContextValue = useMemo2(() => ({ editor: resolvedEditor }), [resolvedEditor]);\n  const legacyContextValue = useMemo2(() => ({ editor: resolvedEditor }), [resolvedEditor]);\n  return /* @__PURE__ */ jsx8(EditorContext.Provider, { value: legacyContextValue, children: /* @__PURE__ */ jsx8(TiptapContext.Provider, { value: tiptapContextValue, children }) });\n}\nTiptapWrapper.displayName = \"Tiptap\";\nfunction TiptapContent({ ...rest }) {\n  const { editor } = useTiptap();\n  return /* @__PURE__ */ jsx8(EditorContent, { editor, ...rest });\n}\nTiptapContent.displayName = \"Tiptap.Content\";\nvar Tiptap = Object.assign(TiptapWrapper, {\n  /**\n   * The Tiptap Content component that renders the EditorContent with the editor instance from the context.\n   * @see TiptapContent\n   */\n  Content: TiptapContent\n});\n\n// src/index.ts\nexport * from \"@tiptap/core\";\nexport {\n  EditorConsumer,\n  EditorContent,\n  EditorContext,\n  EditorProvider,\n  MarkViewContent,\n  NodeViewContent,\n  NodeViewWrapper,\n  PureEditorContent,\n  ReactMarkView,\n  ReactMarkViewContext,\n  ReactMarkViewRenderer,\n  ReactNodeView,\n  ReactNodeViewContentProvider,\n  ReactNodeViewContext,\n  ReactNodeViewRenderer,\n  ReactRenderer,\n  Tiptap,\n  TiptapContent,\n  TiptapContext,\n  TiptapWrapper,\n  useCurrentEditor,\n  useEditor,\n  useEditorState,\n  useReactNodeView,\n  useTiptap,\n  useTiptapState\n};\n//# sourceMappingURL=index.js.map","import * as checks from \"./checks.js\";\nimport * as core from \"./core.js\";\nimport { Doc } from \"./doc.js\";\nimport { parse, parseAsync, safeParse, safeParseAsync } from \"./parse.js\";\nimport * as regexes from \"./regexes.js\";\nimport * as util from \"./util.js\";\nimport { version } from \"./versions.js\";\nexport const $ZodType = /*@__PURE__*/ core.$constructor(\"$ZodType\", (inst, def) => {\n    var _a;\n    inst ?? (inst = {});\n    inst._zod.def = def; // set _def property\n    inst._zod.bag = inst._zod.bag || {}; // initialize _bag object\n    inst._zod.version = version;\n    const checks = [...(inst._zod.def.checks ?? [])];\n    // if inst is itself a checks.$ZodCheck, run it as a check\n    if (inst._zod.traits.has(\"$ZodCheck\")) {\n        checks.unshift(inst);\n    }\n    for (const ch of checks) {\n        for (const fn of ch._zod.onattach) {\n            fn(inst);\n        }\n    }\n    if (checks.length === 0) {\n        // deferred initializer\n        // inst._zod.parse is not yet defined\n        (_a = inst._zod).deferred ?? (_a.deferred = []);\n        inst._zod.deferred?.push(() => {\n            inst._zod.run = inst._zod.parse;\n        });\n    }\n    else {\n        const runChecks = (payload, checks, ctx) => {\n            let isAborted = util.aborted(payload);\n            let asyncResult;\n            for (const ch of checks) {\n                if (ch._zod.def.when) {\n                    const shouldRun = ch._zod.def.when(payload);\n                    if (!shouldRun)\n                        continue;\n                }\n                else if (isAborted) {\n                    continue;\n                }\n                const currLen = payload.issues.length;\n                const _ = ch._zod.check(payload);\n                if (_ instanceof Promise && ctx?.async === false) {\n                    throw new core.$ZodAsyncError();\n                }\n                if (asyncResult || _ instanceof Promise) {\n                    asyncResult = (asyncResult ?? Promise.resolve()).then(async () => {\n                        await _;\n                        const nextLen = payload.issues.length;\n                        if (nextLen === currLen)\n                            return;\n                        if (!isAborted)\n                            isAborted = util.aborted(payload, currLen);\n                    });\n                }\n                else {\n                    const nextLen = payload.issues.length;\n                    if (nextLen === currLen)\n                        continue;\n                    if (!isAborted)\n                        isAborted = util.aborted(payload, currLen);\n                }\n            }\n            if (asyncResult) {\n                return asyncResult.then(() => {\n                    return payload;\n                });\n            }\n            return payload;\n        };\n        const handleCanaryResult = (canary, payload, ctx) => {\n            // abort if the canary is aborted\n            if (util.aborted(canary)) {\n                canary.aborted = true;\n                return canary;\n            }\n            // run checks first, then\n            const checkResult = runChecks(payload, checks, ctx);\n            if (checkResult instanceof Promise) {\n                if (ctx.async === false)\n                    throw new core.$ZodAsyncError();\n                return checkResult.then((checkResult) => inst._zod.parse(checkResult, ctx));\n            }\n            return inst._zod.parse(checkResult, ctx);\n        };\n        inst._zod.run = (payload, ctx) => {\n            if (ctx.skipChecks) {\n                return inst._zod.parse(payload, ctx);\n            }\n            if (ctx.direction === \"backward\") {\n                // run canary\n                // initial pass (no checks)\n                const canary = inst._zod.parse({ value: payload.value, issues: [] }, { ...ctx, skipChecks: true });\n                if (canary instanceof Promise) {\n                    return canary.then((canary) => {\n                        return handleCanaryResult(canary, payload, ctx);\n                    });\n                }\n                return handleCanaryResult(canary, payload, ctx);\n            }\n            // forward\n            const result = inst._zod.parse(payload, ctx);\n            if (result instanceof Promise) {\n                if (ctx.async === false)\n                    throw new core.$ZodAsyncError();\n                return result.then((result) => runChecks(result, checks, ctx));\n            }\n            return runChecks(result, checks, ctx);\n        };\n    }\n    // Lazy initialize ~standard to avoid creating objects for every schema\n    util.defineLazy(inst, \"~standard\", () => ({\n        validate: (value) => {\n            try {\n                const r = safeParse(inst, value);\n                return r.success ? { value: r.data } : { issues: r.error?.issues };\n            }\n            catch (_) {\n                return safeParseAsync(inst, value).then((r) => (r.success ? { value: r.data } : { issues: r.error?.issues }));\n            }\n        },\n        vendor: \"zod\",\n        version: 1,\n    }));\n});\nexport { clone } from \"./util.js\";\nexport const $ZodString = /*@__PURE__*/ core.$constructor(\"$ZodString\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = [...(inst?._zod.bag?.patterns ?? [])].pop() ?? regexes.string(inst._zod.bag);\n    inst._zod.parse = (payload, _) => {\n        if (def.coerce)\n            try {\n                payload.value = String(payload.value);\n            }\n            catch (_) { }\n        if (typeof payload.value === \"string\")\n            return payload;\n        payload.issues.push({\n            expected: \"string\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodStringFormat\", (inst, def) => {\n    // check initialization must come first\n    checks.$ZodCheckStringFormat.init(inst, def);\n    $ZodString.init(inst, def);\n});\nexport const $ZodGUID = /*@__PURE__*/ core.$constructor(\"$ZodGUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.guid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodUUID = /*@__PURE__*/ core.$constructor(\"$ZodUUID\", (inst, def) => {\n    if (def.version) {\n        const versionMap = {\n            v1: 1,\n            v2: 2,\n            v3: 3,\n            v4: 4,\n            v5: 5,\n            v6: 6,\n            v7: 7,\n            v8: 8,\n        };\n        const v = versionMap[def.version];\n        if (v === undefined)\n            throw new Error(`Invalid UUID version: \"${def.version}\"`);\n        def.pattern ?? (def.pattern = regexes.uuid(v));\n    }\n    else\n        def.pattern ?? (def.pattern = regexes.uuid());\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodEmail = /*@__PURE__*/ core.$constructor(\"$ZodEmail\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.email);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodURL = /*@__PURE__*/ core.$constructor(\"$ZodURL\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        try {\n            // Trim whitespace from input\n            const trimmed = payload.value.trim();\n            // @ts-ignore\n            const url = new URL(trimmed);\n            if (def.hostname) {\n                def.hostname.lastIndex = 0;\n                if (!def.hostname.test(url.hostname)) {\n                    payload.issues.push({\n                        code: \"invalid_format\",\n                        format: \"url\",\n                        note: \"Invalid hostname\",\n                        pattern: def.hostname.source,\n                        input: payload.value,\n                        inst,\n                        continue: !def.abort,\n                    });\n                }\n            }\n            if (def.protocol) {\n                def.protocol.lastIndex = 0;\n                if (!def.protocol.test(url.protocol.endsWith(\":\") ? url.protocol.slice(0, -1) : url.protocol)) {\n                    payload.issues.push({\n                        code: \"invalid_format\",\n                        format: \"url\",\n                        note: \"Invalid protocol\",\n                        pattern: def.protocol.source,\n                        input: payload.value,\n                        inst,\n                        continue: !def.abort,\n                    });\n                }\n            }\n            // Set the output value based on normalize flag\n            if (def.normalize) {\n                // Use normalized URL\n                payload.value = url.href;\n            }\n            else {\n                // Preserve the original input (trimmed)\n                payload.value = trimmed;\n            }\n            return;\n        }\n        catch (_) {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"url\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodEmoji = /*@__PURE__*/ core.$constructor(\"$ZodEmoji\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.emoji());\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodNanoID = /*@__PURE__*/ core.$constructor(\"$ZodNanoID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.nanoid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCUID = /*@__PURE__*/ core.$constructor(\"$ZodCUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cuid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCUID2 = /*@__PURE__*/ core.$constructor(\"$ZodCUID2\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cuid2);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodULID = /*@__PURE__*/ core.$constructor(\"$ZodULID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ulid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodXID = /*@__PURE__*/ core.$constructor(\"$ZodXID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.xid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodKSUID = /*@__PURE__*/ core.$constructor(\"$ZodKSUID\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ksuid);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODateTime = /*@__PURE__*/ core.$constructor(\"$ZodISODateTime\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.datetime(def));\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODate = /*@__PURE__*/ core.$constructor(\"$ZodISODate\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.date);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISOTime = /*@__PURE__*/ core.$constructor(\"$ZodISOTime\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.time(def));\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodISODuration = /*@__PURE__*/ core.$constructor(\"$ZodISODuration\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.duration);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodIPv4 = /*@__PURE__*/ core.$constructor(\"$ZodIPv4\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ipv4);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.bag.format = `ipv4`;\n});\nexport const $ZodIPv6 = /*@__PURE__*/ core.$constructor(\"$ZodIPv6\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.ipv6);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.bag.format = `ipv6`;\n    inst._zod.check = (payload) => {\n        try {\n            // @ts-ignore\n            new URL(`http://[${payload.value}]`);\n            // return;\n        }\n        catch {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"ipv6\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\nexport const $ZodMAC = /*@__PURE__*/ core.$constructor(\"$ZodMAC\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.mac(def.delimiter));\n    $ZodStringFormat.init(inst, def);\n    inst._zod.bag.format = `mac`;\n});\nexport const $ZodCIDRv4 = /*@__PURE__*/ core.$constructor(\"$ZodCIDRv4\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cidrv4);\n    $ZodStringFormat.init(inst, def);\n});\nexport const $ZodCIDRv6 = /*@__PURE__*/ core.$constructor(\"$ZodCIDRv6\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.cidrv6); // not used for validation\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        const parts = payload.value.split(\"/\");\n        try {\n            if (parts.length !== 2)\n                throw new Error();\n            const [address, prefix] = parts;\n            if (!prefix)\n                throw new Error();\n            const prefixNum = Number(prefix);\n            if (`${prefixNum}` !== prefix)\n                throw new Error();\n            if (prefixNum < 0 || prefixNum > 128)\n                throw new Error();\n            // @ts-ignore\n            new URL(`http://[${address}]`);\n        }\n        catch {\n            payload.issues.push({\n                code: \"invalid_format\",\n                format: \"cidrv6\",\n                input: payload.value,\n                inst,\n                continue: !def.abort,\n            });\n        }\n    };\n});\n//////////////////////////////   ZodBase64   //////////////////////////////\nexport function isValidBase64(data) {\n    if (data === \"\")\n        return true;\n    if (data.length % 4 !== 0)\n        return false;\n    try {\n        // @ts-ignore\n        atob(data);\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nexport const $ZodBase64 = /*@__PURE__*/ core.$constructor(\"$ZodBase64\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.base64);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.bag.contentEncoding = \"base64\";\n    inst._zod.check = (payload) => {\n        if (isValidBase64(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"base64\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\n//////////////////////////////   ZodBase64   //////////////////////////////\nexport function isValidBase64URL(data) {\n    if (!regexes.base64url.test(data))\n        return false;\n    const base64 = data.replace(/[-_]/g, (c) => (c === \"-\" ? \"+\" : \"/\"));\n    const padded = base64.padEnd(Math.ceil(base64.length / 4) * 4, \"=\");\n    return isValidBase64(padded);\n}\nexport const $ZodBase64URL = /*@__PURE__*/ core.$constructor(\"$ZodBase64URL\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.base64url);\n    $ZodStringFormat.init(inst, def);\n    inst._zod.bag.contentEncoding = \"base64url\";\n    inst._zod.check = (payload) => {\n        if (isValidBase64URL(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"base64url\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodE164 = /*@__PURE__*/ core.$constructor(\"$ZodE164\", (inst, def) => {\n    def.pattern ?? (def.pattern = regexes.e164);\n    $ZodStringFormat.init(inst, def);\n});\n//////////////////////////////   ZodJWT   //////////////////////////////\nexport function isValidJWT(token, algorithm = null) {\n    try {\n        const tokensParts = token.split(\".\");\n        if (tokensParts.length !== 3)\n            return false;\n        const [header] = tokensParts;\n        if (!header)\n            return false;\n        // @ts-ignore\n        const parsedHeader = JSON.parse(atob(header));\n        if (\"typ\" in parsedHeader && parsedHeader?.typ !== \"JWT\")\n            return false;\n        if (!parsedHeader.alg)\n            return false;\n        if (algorithm && (!(\"alg\" in parsedHeader) || parsedHeader.alg !== algorithm))\n            return false;\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nexport const $ZodJWT = /*@__PURE__*/ core.$constructor(\"$ZodJWT\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        if (isValidJWT(payload.value, def.alg))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: \"jwt\",\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodCustomStringFormat = /*@__PURE__*/ core.$constructor(\"$ZodCustomStringFormat\", (inst, def) => {\n    $ZodStringFormat.init(inst, def);\n    inst._zod.check = (payload) => {\n        if (def.fn(payload.value))\n            return;\n        payload.issues.push({\n            code: \"invalid_format\",\n            format: def.format,\n            input: payload.value,\n            inst,\n            continue: !def.abort,\n        });\n    };\n});\nexport const $ZodNumber = /*@__PURE__*/ core.$constructor(\"$ZodNumber\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = inst._zod.bag.pattern ?? regexes.number;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = Number(payload.value);\n            }\n            catch (_) { }\n        const input = payload.value;\n        if (typeof input === \"number\" && !Number.isNaN(input) && Number.isFinite(input)) {\n            return payload;\n        }\n        const received = typeof input === \"number\"\n            ? Number.isNaN(input)\n                ? \"NaN\"\n                : !Number.isFinite(input)\n                    ? \"Infinity\"\n                    : undefined\n            : undefined;\n        payload.issues.push({\n            expected: \"number\",\n            code: \"invalid_type\",\n            input,\n            inst,\n            ...(received ? { received } : {}),\n        });\n        return payload;\n    };\n});\nexport const $ZodNumberFormat = /*@__PURE__*/ core.$constructor(\"$ZodNumberFormat\", (inst, def) => {\n    checks.$ZodCheckNumberFormat.init(inst, def);\n    $ZodNumber.init(inst, def); // no format checks\n});\nexport const $ZodBoolean = /*@__PURE__*/ core.$constructor(\"$ZodBoolean\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.boolean;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = Boolean(payload.value);\n            }\n            catch (_) { }\n        const input = payload.value;\n        if (typeof input === \"boolean\")\n            return payload;\n        payload.issues.push({\n            expected: \"boolean\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodBigInt = /*@__PURE__*/ core.$constructor(\"$ZodBigInt\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.bigint;\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce)\n            try {\n                payload.value = BigInt(payload.value);\n            }\n            catch (_) { }\n        if (typeof payload.value === \"bigint\")\n            return payload;\n        payload.issues.push({\n            expected: \"bigint\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodBigIntFormat = /*@__PURE__*/ core.$constructor(\"$ZodBigIntFormat\", (inst, def) => {\n    checks.$ZodCheckBigIntFormat.init(inst, def);\n    $ZodBigInt.init(inst, def); // no format checks\n});\nexport const $ZodSymbol = /*@__PURE__*/ core.$constructor(\"$ZodSymbol\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"symbol\")\n            return payload;\n        payload.issues.push({\n            expected: \"symbol\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodUndefined = /*@__PURE__*/ core.$constructor(\"$ZodUndefined\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.undefined;\n    inst._zod.values = new Set([undefined]);\n    inst._zod.optin = \"optional\";\n    inst._zod.optout = \"optional\";\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"undefined\")\n            return payload;\n        payload.issues.push({\n            expected: \"undefined\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodNull = /*@__PURE__*/ core.$constructor(\"$ZodNull\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.pattern = regexes.null;\n    inst._zod.values = new Set([null]);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (input === null)\n            return payload;\n        payload.issues.push({\n            expected: \"null\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodAny = /*@__PURE__*/ core.$constructor(\"$ZodAny\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload) => payload;\n});\nexport const $ZodUnknown = /*@__PURE__*/ core.$constructor(\"$ZodUnknown\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload) => payload;\n});\nexport const $ZodNever = /*@__PURE__*/ core.$constructor(\"$ZodNever\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        payload.issues.push({\n            expected: \"never\",\n            code: \"invalid_type\",\n            input: payload.value,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodVoid = /*@__PURE__*/ core.$constructor(\"$ZodVoid\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (typeof input === \"undefined\")\n            return payload;\n        payload.issues.push({\n            expected: \"void\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodDate = /*@__PURE__*/ core.$constructor(\"$ZodDate\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        if (def.coerce) {\n            try {\n                payload.value = new Date(payload.value);\n            }\n            catch (_err) { }\n        }\n        const input = payload.value;\n        const isDate = input instanceof Date;\n        const isValidDate = isDate && !Number.isNaN(input.getTime());\n        if (isValidDate)\n            return payload;\n        payload.issues.push({\n            expected: \"date\",\n            code: \"invalid_type\",\n            input,\n            ...(isDate ? { received: \"Invalid Date\" } : {}),\n            inst,\n        });\n        return payload;\n    };\n});\nfunction handleArrayResult(result, final, index) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(index, result.issues));\n    }\n    final.value[index] = result.value;\n}\nexport const $ZodArray = /*@__PURE__*/ core.$constructor(\"$ZodArray\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!Array.isArray(input)) {\n            payload.issues.push({\n                expected: \"array\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        payload.value = Array(input.length);\n        const proms = [];\n        for (let i = 0; i < input.length; i++) {\n            const item = input[i];\n            const result = def.element._zod.run({\n                value: item,\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleArrayResult(result, payload, i)));\n            }\n            else {\n                handleArrayResult(result, payload, i);\n            }\n        }\n        if (proms.length) {\n            return Promise.all(proms).then(() => payload);\n        }\n        return payload; //handleArrayResultsAsync(parseResults, final);\n    };\n});\nfunction handlePropertyResult(result, final, key, input, isOptionalOut) {\n    if (result.issues.length) {\n        // For optional-out schemas, ignore errors on absent keys\n        if (isOptionalOut && !(key in input)) {\n            return;\n        }\n        final.issues.push(...util.prefixIssues(key, result.issues));\n    }\n    if (result.value === undefined) {\n        if (key in input) {\n            final.value[key] = undefined;\n        }\n    }\n    else {\n        final.value[key] = result.value;\n    }\n}\nfunction normalizeDef(def) {\n    const keys = Object.keys(def.shape);\n    for (const k of keys) {\n        if (!def.shape?.[k]?._zod?.traits?.has(\"$ZodType\")) {\n            throw new Error(`Invalid element at key \"${k}\": expected a Zod schema`);\n        }\n    }\n    const okeys = util.optionalKeys(def.shape);\n    return {\n        ...def,\n        keys,\n        keySet: new Set(keys),\n        numKeys: keys.length,\n        optionalKeys: new Set(okeys),\n    };\n}\nfunction handleCatchall(proms, input, payload, ctx, def, inst) {\n    const unrecognized = [];\n    // iterate over input keys\n    const keySet = def.keySet;\n    const _catchall = def.catchall._zod;\n    const t = _catchall.def.type;\n    const isOptionalOut = _catchall.optout === \"optional\";\n    for (const key in input) {\n        if (keySet.has(key))\n            continue;\n        if (t === \"never\") {\n            unrecognized.push(key);\n            continue;\n        }\n        const r = _catchall.run({ value: input[key], issues: [] }, ctx);\n        if (r instanceof Promise) {\n            proms.push(r.then((r) => handlePropertyResult(r, payload, key, input, isOptionalOut)));\n        }\n        else {\n            handlePropertyResult(r, payload, key, input, isOptionalOut);\n        }\n    }\n    if (unrecognized.length) {\n        payload.issues.push({\n            code: \"unrecognized_keys\",\n            keys: unrecognized,\n            input,\n            inst,\n        });\n    }\n    if (!proms.length)\n        return payload;\n    return Promise.all(proms).then(() => {\n        return payload;\n    });\n}\nexport const $ZodObject = /*@__PURE__*/ core.$constructor(\"$ZodObject\", (inst, def) => {\n    // requires cast because technically $ZodObject doesn't extend\n    $ZodType.init(inst, def);\n    // const sh = def.shape;\n    const desc = Object.getOwnPropertyDescriptor(def, \"shape\");\n    if (!desc?.get) {\n        const sh = def.shape;\n        Object.defineProperty(def, \"shape\", {\n            get: () => {\n                const newSh = { ...sh };\n                Object.defineProperty(def, \"shape\", {\n                    value: newSh,\n                });\n                return newSh;\n            },\n        });\n    }\n    const _normalized = util.cached(() => normalizeDef(def));\n    util.defineLazy(inst._zod, \"propValues\", () => {\n        const shape = def.shape;\n        const propValues = {};\n        for (const key in shape) {\n            const field = shape[key]._zod;\n            if (field.values) {\n                propValues[key] ?? (propValues[key] = new Set());\n                for (const v of field.values)\n                    propValues[key].add(v);\n            }\n        }\n        return propValues;\n    });\n    const isObject = util.isObject;\n    const catchall = def.catchall;\n    let value;\n    inst._zod.parse = (payload, ctx) => {\n        value ?? (value = _normalized.value);\n        const input = payload.value;\n        if (!isObject(input)) {\n            payload.issues.push({\n                expected: \"object\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        payload.value = {};\n        const proms = [];\n        const shape = value.shape;\n        for (const key of value.keys) {\n            const el = shape[key];\n            const isOptionalOut = el._zod.optout === \"optional\";\n            const r = el._zod.run({ value: input[key], issues: [] }, ctx);\n            if (r instanceof Promise) {\n                proms.push(r.then((r) => handlePropertyResult(r, payload, key, input, isOptionalOut)));\n            }\n            else {\n                handlePropertyResult(r, payload, key, input, isOptionalOut);\n            }\n        }\n        if (!catchall) {\n            return proms.length ? Promise.all(proms).then(() => payload) : payload;\n        }\n        return handleCatchall(proms, input, payload, ctx, _normalized.value, inst);\n    };\n});\nexport const $ZodObjectJIT = /*@__PURE__*/ core.$constructor(\"$ZodObjectJIT\", (inst, def) => {\n    // requires cast because technically $ZodObject doesn't extend\n    $ZodObject.init(inst, def);\n    const superParse = inst._zod.parse;\n    const _normalized = util.cached(() => normalizeDef(def));\n    const generateFastpass = (shape) => {\n        const doc = new Doc([\"shape\", \"payload\", \"ctx\"]);\n        const normalized = _normalized.value;\n        const parseStr = (key) => {\n            const k = util.esc(key);\n            return `shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`;\n        };\n        doc.write(`const input = payload.value;`);\n        const ids = Object.create(null);\n        let counter = 0;\n        for (const key of normalized.keys) {\n            ids[key] = `key_${counter++}`;\n        }\n        // A: preserve key order {\n        doc.write(`const newResult = {};`);\n        for (const key of normalized.keys) {\n            const id = ids[key];\n            const k = util.esc(key);\n            const schema = shape[key];\n            const isOptionalOut = schema?._zod?.optout === \"optional\";\n            doc.write(`const ${id} = ${parseStr(key)};`);\n            if (isOptionalOut) {\n                // For optional-out schemas, ignore errors on absent keys\n                doc.write(`\n        if (${id}.issues.length) {\n          if (${k} in input) {\n            payload.issues = payload.issues.concat(${id}.issues.map(iss => ({\n              ...iss,\n              path: iss.path ? [${k}, ...iss.path] : [${k}]\n            })));\n          }\n        }\n        \n        if (${id}.value === undefined) {\n          if (${k} in input) {\n            newResult[${k}] = undefined;\n          }\n        } else {\n          newResult[${k}] = ${id}.value;\n        }\n        \n      `);\n            }\n            else {\n                doc.write(`\n        if (${id}.issues.length) {\n          payload.issues = payload.issues.concat(${id}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${k}, ...iss.path] : [${k}]\n          })));\n        }\n        \n        if (${id}.value === undefined) {\n          if (${k} in input) {\n            newResult[${k}] = undefined;\n          }\n        } else {\n          newResult[${k}] = ${id}.value;\n        }\n        \n      `);\n            }\n        }\n        doc.write(`payload.value = newResult;`);\n        doc.write(`return payload;`);\n        const fn = doc.compile();\n        return (payload, ctx) => fn(shape, payload, ctx);\n    };\n    let fastpass;\n    const isObject = util.isObject;\n    const jit = !core.globalConfig.jitless;\n    const allowsEval = util.allowsEval;\n    const fastEnabled = jit && allowsEval.value; // && !def.catchall;\n    const catchall = def.catchall;\n    let value;\n    inst._zod.parse = (payload, ctx) => {\n        value ?? (value = _normalized.value);\n        const input = payload.value;\n        if (!isObject(input)) {\n            payload.issues.push({\n                expected: \"object\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        if (jit && fastEnabled && ctx?.async === false && ctx.jitless !== true) {\n            // always synchronous\n            if (!fastpass)\n                fastpass = generateFastpass(def.shape);\n            payload = fastpass(payload, ctx);\n            if (!catchall)\n                return payload;\n            return handleCatchall([], input, payload, ctx, value, inst);\n        }\n        return superParse(payload, ctx);\n    };\n});\nfunction handleUnionResults(results, final, inst, ctx) {\n    for (const result of results) {\n        if (result.issues.length === 0) {\n            final.value = result.value;\n            return final;\n        }\n    }\n    const nonaborted = results.filter((r) => !util.aborted(r));\n    if (nonaborted.length === 1) {\n        final.value = nonaborted[0].value;\n        return nonaborted[0];\n    }\n    final.issues.push({\n        code: \"invalid_union\",\n        input: final.value,\n        inst,\n        errors: results.map((result) => result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n    });\n    return final;\n}\nexport const $ZodUnion = /*@__PURE__*/ core.$constructor(\"$ZodUnion\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.options.some((o) => o._zod.optin === \"optional\") ? \"optional\" : undefined);\n    util.defineLazy(inst._zod, \"optout\", () => def.options.some((o) => o._zod.optout === \"optional\") ? \"optional\" : undefined);\n    util.defineLazy(inst._zod, \"values\", () => {\n        if (def.options.every((o) => o._zod.values)) {\n            return new Set(def.options.flatMap((option) => Array.from(option._zod.values)));\n        }\n        return undefined;\n    });\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        if (def.options.every((o) => o._zod.pattern)) {\n            const patterns = def.options.map((o) => o._zod.pattern);\n            return new RegExp(`^(${patterns.map((p) => util.cleanRegex(p.source)).join(\"|\")})$`);\n        }\n        return undefined;\n    });\n    const single = def.options.length === 1;\n    const first = def.options[0]._zod.run;\n    inst._zod.parse = (payload, ctx) => {\n        if (single) {\n            return first(payload, ctx);\n        }\n        let async = false;\n        const results = [];\n        for (const option of def.options) {\n            const result = option._zod.run({\n                value: payload.value,\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                results.push(result);\n                async = true;\n            }\n            else {\n                if (result.issues.length === 0)\n                    return result;\n                results.push(result);\n            }\n        }\n        if (!async)\n            return handleUnionResults(results, payload, inst, ctx);\n        return Promise.all(results).then((results) => {\n            return handleUnionResults(results, payload, inst, ctx);\n        });\n    };\n});\nfunction handleExclusiveUnionResults(results, final, inst, ctx) {\n    const successes = results.filter((r) => r.issues.length === 0);\n    if (successes.length === 1) {\n        final.value = successes[0].value;\n        return final;\n    }\n    if (successes.length === 0) {\n        // No matches - same as regular union\n        final.issues.push({\n            code: \"invalid_union\",\n            input: final.value,\n            inst,\n            errors: results.map((result) => result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config()))),\n        });\n    }\n    else {\n        // Multiple matches - exclusive union failure\n        final.issues.push({\n            code: \"invalid_union\",\n            input: final.value,\n            inst,\n            errors: [],\n            inclusive: false,\n        });\n    }\n    return final;\n}\nexport const $ZodXor = /*@__PURE__*/ core.$constructor(\"$ZodXor\", (inst, def) => {\n    $ZodUnion.init(inst, def);\n    def.inclusive = false;\n    const single = def.options.length === 1;\n    const first = def.options[0]._zod.run;\n    inst._zod.parse = (payload, ctx) => {\n        if (single) {\n            return first(payload, ctx);\n        }\n        let async = false;\n        const results = [];\n        for (const option of def.options) {\n            const result = option._zod.run({\n                value: payload.value,\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                results.push(result);\n                async = true;\n            }\n            else {\n                results.push(result);\n            }\n        }\n        if (!async)\n            return handleExclusiveUnionResults(results, payload, inst, ctx);\n        return Promise.all(results).then((results) => {\n            return handleExclusiveUnionResults(results, payload, inst, ctx);\n        });\n    };\n});\nexport const $ZodDiscriminatedUnion = \n/*@__PURE__*/\ncore.$constructor(\"$ZodDiscriminatedUnion\", (inst, def) => {\n    def.inclusive = false;\n    $ZodUnion.init(inst, def);\n    const _super = inst._zod.parse;\n    util.defineLazy(inst._zod, \"propValues\", () => {\n        const propValues = {};\n        for (const option of def.options) {\n            const pv = option._zod.propValues;\n            if (!pv || Object.keys(pv).length === 0)\n                throw new Error(`Invalid discriminated union option at index \"${def.options.indexOf(option)}\"`);\n            for (const [k, v] of Object.entries(pv)) {\n                if (!propValues[k])\n                    propValues[k] = new Set();\n                for (const val of v) {\n                    propValues[k].add(val);\n                }\n            }\n        }\n        return propValues;\n    });\n    const disc = util.cached(() => {\n        const opts = def.options;\n        const map = new Map();\n        for (const o of opts) {\n            const values = o._zod.propValues?.[def.discriminator];\n            if (!values || values.size === 0)\n                throw new Error(`Invalid discriminated union option at index \"${def.options.indexOf(o)}\"`);\n            for (const v of values) {\n                if (map.has(v)) {\n                    throw new Error(`Duplicate discriminator value \"${String(v)}\"`);\n                }\n                map.set(v, o);\n            }\n        }\n        return map;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!util.isObject(input)) {\n            payload.issues.push({\n                code: \"invalid_type\",\n                expected: \"object\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const opt = disc.value.get(input?.[def.discriminator]);\n        if (opt) {\n            return opt._zod.run(payload, ctx);\n        }\n        if (def.unionFallback) {\n            return _super(payload, ctx);\n        }\n        // no matching discriminator\n        payload.issues.push({\n            code: \"invalid_union\",\n            errors: [],\n            note: \"No matching discriminator\",\n            discriminator: def.discriminator,\n            input,\n            path: [def.discriminator],\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodIntersection = /*@__PURE__*/ core.$constructor(\"$ZodIntersection\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        const left = def.left._zod.run({ value: input, issues: [] }, ctx);\n        const right = def.right._zod.run({ value: input, issues: [] }, ctx);\n        const async = left instanceof Promise || right instanceof Promise;\n        if (async) {\n            return Promise.all([left, right]).then(([left, right]) => {\n                return handleIntersectionResults(payload, left, right);\n            });\n        }\n        return handleIntersectionResults(payload, left, right);\n    };\n});\nfunction mergeValues(a, b) {\n    // const aType = parse.t(a);\n    // const bType = parse.t(b);\n    if (a === b) {\n        return { valid: true, data: a };\n    }\n    if (a instanceof Date && b instanceof Date && +a === +b) {\n        return { valid: true, data: a };\n    }\n    if (util.isPlainObject(a) && util.isPlainObject(b)) {\n        const bKeys = Object.keys(b);\n        const sharedKeys = Object.keys(a).filter((key) => bKeys.indexOf(key) !== -1);\n        const newObj = { ...a, ...b };\n        for (const key of sharedKeys) {\n            const sharedValue = mergeValues(a[key], b[key]);\n            if (!sharedValue.valid) {\n                return {\n                    valid: false,\n                    mergeErrorPath: [key, ...sharedValue.mergeErrorPath],\n                };\n            }\n            newObj[key] = sharedValue.data;\n        }\n        return { valid: true, data: newObj };\n    }\n    if (Array.isArray(a) && Array.isArray(b)) {\n        if (a.length !== b.length) {\n            return { valid: false, mergeErrorPath: [] };\n        }\n        const newArray = [];\n        for (let index = 0; index < a.length; index++) {\n            const itemA = a[index];\n            const itemB = b[index];\n            const sharedValue = mergeValues(itemA, itemB);\n            if (!sharedValue.valid) {\n                return {\n                    valid: false,\n                    mergeErrorPath: [index, ...sharedValue.mergeErrorPath],\n                };\n            }\n            newArray.push(sharedValue.data);\n        }\n        return { valid: true, data: newArray };\n    }\n    return { valid: false, mergeErrorPath: [] };\n}\nfunction handleIntersectionResults(result, left, right) {\n    // Track which side(s) report each key as unrecognized\n    const unrecKeys = new Map();\n    let unrecIssue;\n    for (const iss of left.issues) {\n        if (iss.code === \"unrecognized_keys\") {\n            unrecIssue ?? (unrecIssue = iss);\n            for (const k of iss.keys) {\n                if (!unrecKeys.has(k))\n                    unrecKeys.set(k, {});\n                unrecKeys.get(k).l = true;\n            }\n        }\n        else {\n            result.issues.push(iss);\n        }\n    }\n    for (const iss of right.issues) {\n        if (iss.code === \"unrecognized_keys\") {\n            for (const k of iss.keys) {\n                if (!unrecKeys.has(k))\n                    unrecKeys.set(k, {});\n                unrecKeys.get(k).r = true;\n            }\n        }\n        else {\n            result.issues.push(iss);\n        }\n    }\n    // Report only keys unrecognized by BOTH sides\n    const bothKeys = [...unrecKeys].filter(([, f]) => f.l && f.r).map(([k]) => k);\n    if (bothKeys.length && unrecIssue) {\n        result.issues.push({ ...unrecIssue, keys: bothKeys });\n    }\n    if (util.aborted(result))\n        return result;\n    const merged = mergeValues(left.value, right.value);\n    if (!merged.valid) {\n        throw new Error(`Unmergable intersection. Error path: ` + `${JSON.stringify(merged.mergeErrorPath)}`);\n    }\n    result.value = merged.data;\n    return result;\n}\nexport const $ZodTuple = /*@__PURE__*/ core.$constructor(\"$ZodTuple\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const items = def.items;\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!Array.isArray(input)) {\n            payload.issues.push({\n                input,\n                inst,\n                expected: \"tuple\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        payload.value = [];\n        const proms = [];\n        const reversedIndex = [...items].reverse().findIndex((item) => item._zod.optin !== \"optional\");\n        const optStart = reversedIndex === -1 ? 0 : items.length - reversedIndex;\n        if (!def.rest) {\n            const tooBig = input.length > items.length;\n            const tooSmall = input.length < optStart - 1;\n            if (tooBig || tooSmall) {\n                payload.issues.push({\n                    ...(tooBig\n                        ? { code: \"too_big\", maximum: items.length, inclusive: true }\n                        : { code: \"too_small\", minimum: items.length }),\n                    input,\n                    inst,\n                    origin: \"array\",\n                });\n                return payload;\n            }\n        }\n        let i = -1;\n        for (const item of items) {\n            i++;\n            if (i >= input.length)\n                if (i >= optStart)\n                    continue;\n            const result = item._zod.run({\n                value: input[i],\n                issues: [],\n            }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleTupleResult(result, payload, i)));\n            }\n            else {\n                handleTupleResult(result, payload, i);\n            }\n        }\n        if (def.rest) {\n            const rest = input.slice(items.length);\n            for (const el of rest) {\n                i++;\n                const result = def.rest._zod.run({\n                    value: el,\n                    issues: [],\n                }, ctx);\n                if (result instanceof Promise) {\n                    proms.push(result.then((result) => handleTupleResult(result, payload, i)));\n                }\n                else {\n                    handleTupleResult(result, payload, i);\n                }\n            }\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleTupleResult(result, final, index) {\n    if (result.issues.length) {\n        final.issues.push(...util.prefixIssues(index, result.issues));\n    }\n    final.value[index] = result.value;\n}\nexport const $ZodRecord = /*@__PURE__*/ core.$constructor(\"$ZodRecord\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!util.isPlainObject(input)) {\n            payload.issues.push({\n                expected: \"record\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const proms = [];\n        const values = def.keyType._zod.values;\n        if (values) {\n            payload.value = {};\n            const recordKeys = new Set();\n            for (const key of values) {\n                if (typeof key === \"string\" || typeof key === \"number\" || typeof key === \"symbol\") {\n                    recordKeys.add(typeof key === \"number\" ? key.toString() : key);\n                    const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);\n                    if (result instanceof Promise) {\n                        proms.push(result.then((result) => {\n                            if (result.issues.length) {\n                                payload.issues.push(...util.prefixIssues(key, result.issues));\n                            }\n                            payload.value[key] = result.value;\n                        }));\n                    }\n                    else {\n                        if (result.issues.length) {\n                            payload.issues.push(...util.prefixIssues(key, result.issues));\n                        }\n                        payload.value[key] = result.value;\n                    }\n                }\n            }\n            let unrecognized;\n            for (const key in input) {\n                if (!recordKeys.has(key)) {\n                    unrecognized = unrecognized ?? [];\n                    unrecognized.push(key);\n                }\n            }\n            if (unrecognized && unrecognized.length > 0) {\n                payload.issues.push({\n                    code: \"unrecognized_keys\",\n                    input,\n                    inst,\n                    keys: unrecognized,\n                });\n            }\n        }\n        else {\n            payload.value = {};\n            for (const key of Reflect.ownKeys(input)) {\n                if (key === \"__proto__\")\n                    continue;\n                let keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);\n                if (keyResult instanceof Promise) {\n                    throw new Error(\"Async schemas not supported in object keys currently\");\n                }\n                // Numeric string fallback: if key is a numeric string and failed, retry with Number(key)\n                // This handles z.number(), z.literal([1, 2, 3]), and unions containing numeric literals\n                const checkNumericKey = typeof key === \"string\" && regexes.number.test(key) && keyResult.issues.length;\n                if (checkNumericKey) {\n                    const retryResult = def.keyType._zod.run({ value: Number(key), issues: [] }, ctx);\n                    if (retryResult instanceof Promise) {\n                        throw new Error(\"Async schemas not supported in object keys currently\");\n                    }\n                    if (retryResult.issues.length === 0) {\n                        keyResult = retryResult;\n                    }\n                }\n                if (keyResult.issues.length) {\n                    if (def.mode === \"loose\") {\n                        // Pass through unchanged\n                        payload.value[key] = input[key];\n                    }\n                    else {\n                        // Default \"strict\" behavior: error on invalid key\n                        payload.issues.push({\n                            code: \"invalid_key\",\n                            origin: \"record\",\n                            issues: keyResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                            input: key,\n                            path: [key],\n                            inst,\n                        });\n                    }\n                    continue;\n                }\n                const result = def.valueType._zod.run({ value: input[key], issues: [] }, ctx);\n                if (result instanceof Promise) {\n                    proms.push(result.then((result) => {\n                        if (result.issues.length) {\n                            payload.issues.push(...util.prefixIssues(key, result.issues));\n                        }\n                        payload.value[keyResult.value] = result.value;\n                    }));\n                }\n                else {\n                    if (result.issues.length) {\n                        payload.issues.push(...util.prefixIssues(key, result.issues));\n                    }\n                    payload.value[keyResult.value] = result.value;\n                }\n            }\n        }\n        if (proms.length) {\n            return Promise.all(proms).then(() => payload);\n        }\n        return payload;\n    };\n});\nexport const $ZodMap = /*@__PURE__*/ core.$constructor(\"$ZodMap\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!(input instanceof Map)) {\n            payload.issues.push({\n                expected: \"map\",\n                code: \"invalid_type\",\n                input,\n                inst,\n            });\n            return payload;\n        }\n        const proms = [];\n        payload.value = new Map();\n        for (const [key, value] of input) {\n            const keyResult = def.keyType._zod.run({ value: key, issues: [] }, ctx);\n            const valueResult = def.valueType._zod.run({ value: value, issues: [] }, ctx);\n            if (keyResult instanceof Promise || valueResult instanceof Promise) {\n                proms.push(Promise.all([keyResult, valueResult]).then(([keyResult, valueResult]) => {\n                    handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);\n                }));\n            }\n            else {\n                handleMapResult(keyResult, valueResult, payload, key, input, inst, ctx);\n            }\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleMapResult(keyResult, valueResult, final, key, input, inst, ctx) {\n    if (keyResult.issues.length) {\n        if (util.propertyKeyTypes.has(typeof key)) {\n            final.issues.push(...util.prefixIssues(key, keyResult.issues));\n        }\n        else {\n            final.issues.push({\n                code: \"invalid_key\",\n                origin: \"map\",\n                input,\n                inst,\n                issues: keyResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n            });\n        }\n    }\n    if (valueResult.issues.length) {\n        if (util.propertyKeyTypes.has(typeof key)) {\n            final.issues.push(...util.prefixIssues(key, valueResult.issues));\n        }\n        else {\n            final.issues.push({\n                origin: \"map\",\n                code: \"invalid_element\",\n                input,\n                inst,\n                key: key,\n                issues: valueResult.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n            });\n        }\n    }\n    final.value.set(keyResult.value, valueResult.value);\n}\nexport const $ZodSet = /*@__PURE__*/ core.$constructor(\"$ZodSet\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        const input = payload.value;\n        if (!(input instanceof Set)) {\n            payload.issues.push({\n                input,\n                inst,\n                expected: \"set\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        const proms = [];\n        payload.value = new Set();\n        for (const item of input) {\n            const result = def.valueType._zod.run({ value: item, issues: [] }, ctx);\n            if (result instanceof Promise) {\n                proms.push(result.then((result) => handleSetResult(result, payload)));\n            }\n            else\n                handleSetResult(result, payload);\n        }\n        if (proms.length)\n            return Promise.all(proms).then(() => payload);\n        return payload;\n    };\n});\nfunction handleSetResult(result, final) {\n    if (result.issues.length) {\n        final.issues.push(...result.issues);\n    }\n    final.value.add(result.value);\n}\nexport const $ZodEnum = /*@__PURE__*/ core.$constructor(\"$ZodEnum\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const values = util.getEnumValues(def.entries);\n    const valuesSet = new Set(values);\n    inst._zod.values = valuesSet;\n    inst._zod.pattern = new RegExp(`^(${values\n        .filter((k) => util.propertyKeyTypes.has(typeof k))\n        .map((o) => (typeof o === \"string\" ? util.escapeRegex(o) : o.toString()))\n        .join(\"|\")})$`);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (valuesSet.has(input)) {\n            return payload;\n        }\n        payload.issues.push({\n            code: \"invalid_value\",\n            values,\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodLiteral = /*@__PURE__*/ core.$constructor(\"$ZodLiteral\", (inst, def) => {\n    $ZodType.init(inst, def);\n    if (def.values.length === 0) {\n        throw new Error(\"Cannot create literal schema with no valid values\");\n    }\n    const values = new Set(def.values);\n    inst._zod.values = values;\n    inst._zod.pattern = new RegExp(`^(${def.values\n        .map((o) => (typeof o === \"string\" ? util.escapeRegex(o) : o ? util.escapeRegex(o.toString()) : String(o)))\n        .join(\"|\")})$`);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        if (values.has(input)) {\n            return payload;\n        }\n        payload.issues.push({\n            code: \"invalid_value\",\n            values: def.values,\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodFile = /*@__PURE__*/ core.$constructor(\"$ZodFile\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        const input = payload.value;\n        // @ts-ignore\n        if (input instanceof File)\n            return payload;\n        payload.issues.push({\n            expected: \"file\",\n            code: \"invalid_type\",\n            input,\n            inst,\n        });\n        return payload;\n    };\n});\nexport const $ZodTransform = /*@__PURE__*/ core.$constructor(\"$ZodTransform\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            throw new core.$ZodEncodeError(inst.constructor.name);\n        }\n        const _out = def.transform(payload.value, payload);\n        if (ctx.async) {\n            const output = _out instanceof Promise ? _out : Promise.resolve(_out);\n            return output.then((output) => {\n                payload.value = output;\n                return payload;\n            });\n        }\n        if (_out instanceof Promise) {\n            throw new core.$ZodAsyncError();\n        }\n        payload.value = _out;\n        return payload;\n    };\n});\nfunction handleOptionalResult(result, input) {\n    if (result.issues.length && input === undefined) {\n        return { issues: [], value: undefined };\n    }\n    return result;\n}\nexport const $ZodOptional = /*@__PURE__*/ core.$constructor(\"$ZodOptional\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.optin = \"optional\";\n    inst._zod.optout = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => {\n        return def.innerType._zod.values ? new Set([...def.innerType._zod.values, undefined]) : undefined;\n    });\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        const pattern = def.innerType._zod.pattern;\n        return pattern ? new RegExp(`^(${util.cleanRegex(pattern.source)})?$`) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        if (def.innerType._zod.optin === \"optional\") {\n            const result = def.innerType._zod.run(payload, ctx);\n            if (result instanceof Promise)\n                return result.then((r) => handleOptionalResult(r, payload.value));\n            return handleOptionalResult(result, payload.value);\n        }\n        if (payload.value === undefined) {\n            return payload;\n        }\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodExactOptional = /*@__PURE__*/ core.$constructor(\"$ZodExactOptional\", (inst, def) => {\n    // Call parent init - inherits optin/optout = \"optional\"\n    $ZodOptional.init(inst, def);\n    // Override values/pattern to NOT add undefined\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    util.defineLazy(inst._zod, \"pattern\", () => def.innerType._zod.pattern);\n    // Override parse to just delegate (no undefined handling)\n    inst._zod.parse = (payload, ctx) => {\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodNullable = /*@__PURE__*/ core.$constructor(\"$ZodNullable\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    util.defineLazy(inst._zod, \"pattern\", () => {\n        const pattern = def.innerType._zod.pattern;\n        return pattern ? new RegExp(`^(${util.cleanRegex(pattern.source)}|null)$`) : undefined;\n    });\n    util.defineLazy(inst._zod, \"values\", () => {\n        return def.innerType._zod.values ? new Set([...def.innerType._zod.values, null]) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        // Forward direction (decode): allow null to pass through\n        if (payload.value === null)\n            return payload;\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodDefault = /*@__PURE__*/ core.$constructor(\"$ZodDefault\", (inst, def) => {\n    $ZodType.init(inst, def);\n    // inst._zod.qin = \"true\";\n    inst._zod.optin = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        // Forward direction (decode): apply defaults for undefined input\n        if (payload.value === undefined) {\n            payload.value = def.defaultValue;\n            /**\n             * $ZodDefault returns the default value immediately in forward direction.\n             * It doesn't pass the default value into the validator (\"prefault\"). There's no reason to pass the default value through validation. The validity of the default is enforced by TypeScript statically. Otherwise, it's the responsibility of the user to ensure the default is valid. In the case of pipes with divergent in/out types, you can specify the default on the `in` schema of your ZodPipe to set a \"prefault\" for the pipe.   */\n            return payload;\n        }\n        // Forward direction: continue with default handling\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => handleDefaultResult(result, def));\n        }\n        return handleDefaultResult(result, def);\n    };\n});\nfunction handleDefaultResult(payload, def) {\n    if (payload.value === undefined) {\n        payload.value = def.defaultValue;\n    }\n    return payload;\n}\nexport const $ZodPrefault = /*@__PURE__*/ core.$constructor(\"$ZodPrefault\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.optin = \"optional\";\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        // Forward direction (decode): apply prefault for undefined input\n        if (payload.value === undefined) {\n            payload.value = def.defaultValue;\n        }\n        return def.innerType._zod.run(payload, ctx);\n    };\n});\nexport const $ZodNonOptional = /*@__PURE__*/ core.$constructor(\"$ZodNonOptional\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => {\n        const v = def.innerType._zod.values;\n        return v ? new Set([...v].filter((x) => x !== undefined)) : undefined;\n    });\n    inst._zod.parse = (payload, ctx) => {\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => handleNonOptionalResult(result, inst));\n        }\n        return handleNonOptionalResult(result, inst);\n    };\n});\nfunction handleNonOptionalResult(payload, inst) {\n    if (!payload.issues.length && payload.value === undefined) {\n        payload.issues.push({\n            code: \"invalid_type\",\n            expected: \"nonoptional\",\n            input: payload.value,\n            inst,\n        });\n    }\n    return payload;\n}\nexport const $ZodSuccess = /*@__PURE__*/ core.$constructor(\"$ZodSuccess\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            throw new core.$ZodEncodeError(\"ZodSuccess\");\n        }\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => {\n                payload.value = result.issues.length === 0;\n                return payload;\n            });\n        }\n        payload.value = result.issues.length === 0;\n        return payload;\n    };\n});\nexport const $ZodCatch = /*@__PURE__*/ core.$constructor(\"$ZodCatch\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType._zod.optout);\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        // Forward direction (decode): apply catch logic\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then((result) => {\n                payload.value = result.value;\n                if (result.issues.length) {\n                    payload.value = def.catchValue({\n                        ...payload,\n                        error: {\n                            issues: result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                        },\n                        input: payload.value,\n                    });\n                    payload.issues = [];\n                }\n                return payload;\n            });\n        }\n        payload.value = result.value;\n        if (result.issues.length) {\n            payload.value = def.catchValue({\n                ...payload,\n                error: {\n                    issues: result.issues.map((iss) => util.finalizeIssue(iss, ctx, core.config())),\n                },\n                input: payload.value,\n            });\n            payload.issues = [];\n        }\n        return payload;\n    };\n});\nexport const $ZodNaN = /*@__PURE__*/ core.$constructor(\"$ZodNaN\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"number\" || !Number.isNaN(payload.value)) {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                expected: \"nan\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        return payload;\n    };\n});\nexport const $ZodPipe = /*@__PURE__*/ core.$constructor(\"$ZodPipe\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => def.in._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.in._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.out._zod.optout);\n    util.defineLazy(inst._zod, \"propValues\", () => def.in._zod.propValues);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            const right = def.out._zod.run(payload, ctx);\n            if (right instanceof Promise) {\n                return right.then((right) => handlePipeResult(right, def.in, ctx));\n            }\n            return handlePipeResult(right, def.in, ctx);\n        }\n        const left = def.in._zod.run(payload, ctx);\n        if (left instanceof Promise) {\n            return left.then((left) => handlePipeResult(left, def.out, ctx));\n        }\n        return handlePipeResult(left, def.out, ctx);\n    };\n});\nfunction handlePipeResult(left, next, ctx) {\n    if (left.issues.length) {\n        // prevent further checks\n        left.aborted = true;\n        return left;\n    }\n    return next._zod.run({ value: left.value, issues: left.issues }, ctx);\n}\nexport const $ZodCodec = /*@__PURE__*/ core.$constructor(\"$ZodCodec\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"values\", () => def.in._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.in._zod.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.out._zod.optout);\n    util.defineLazy(inst._zod, \"propValues\", () => def.in._zod.propValues);\n    inst._zod.parse = (payload, ctx) => {\n        const direction = ctx.direction || \"forward\";\n        if (direction === \"forward\") {\n            const left = def.in._zod.run(payload, ctx);\n            if (left instanceof Promise) {\n                return left.then((left) => handleCodecAResult(left, def, ctx));\n            }\n            return handleCodecAResult(left, def, ctx);\n        }\n        else {\n            const right = def.out._zod.run(payload, ctx);\n            if (right instanceof Promise) {\n                return right.then((right) => handleCodecAResult(right, def, ctx));\n            }\n            return handleCodecAResult(right, def, ctx);\n        }\n    };\n});\nfunction handleCodecAResult(result, def, ctx) {\n    if (result.issues.length) {\n        // prevent further checks\n        result.aborted = true;\n        return result;\n    }\n    const direction = ctx.direction || \"forward\";\n    if (direction === \"forward\") {\n        const transformed = def.transform(result.value, result);\n        if (transformed instanceof Promise) {\n            return transformed.then((value) => handleCodecTxResult(result, value, def.out, ctx));\n        }\n        return handleCodecTxResult(result, transformed, def.out, ctx);\n    }\n    else {\n        const transformed = def.reverseTransform(result.value, result);\n        if (transformed instanceof Promise) {\n            return transformed.then((value) => handleCodecTxResult(result, value, def.in, ctx));\n        }\n        return handleCodecTxResult(result, transformed, def.in, ctx);\n    }\n}\nfunction handleCodecTxResult(left, value, nextSchema, ctx) {\n    // Check if transform added any issues\n    if (left.issues.length) {\n        left.aborted = true;\n        return left;\n    }\n    return nextSchema._zod.run({ value, issues: left.issues }, ctx);\n}\nexport const $ZodReadonly = /*@__PURE__*/ core.$constructor(\"$ZodReadonly\", (inst, def) => {\n    $ZodType.init(inst, def);\n    util.defineLazy(inst._zod, \"propValues\", () => def.innerType._zod.propValues);\n    util.defineLazy(inst._zod, \"values\", () => def.innerType._zod.values);\n    util.defineLazy(inst._zod, \"optin\", () => def.innerType?._zod?.optin);\n    util.defineLazy(inst._zod, \"optout\", () => def.innerType?._zod?.optout);\n    inst._zod.parse = (payload, ctx) => {\n        if (ctx.direction === \"backward\") {\n            return def.innerType._zod.run(payload, ctx);\n        }\n        const result = def.innerType._zod.run(payload, ctx);\n        if (result instanceof Promise) {\n            return result.then(handleReadonlyResult);\n        }\n        return handleReadonlyResult(result);\n    };\n});\nfunction handleReadonlyResult(payload) {\n    payload.value = Object.freeze(payload.value);\n    return payload;\n}\nexport const $ZodTemplateLiteral = /*@__PURE__*/ core.$constructor(\"$ZodTemplateLiteral\", (inst, def) => {\n    $ZodType.init(inst, def);\n    const regexParts = [];\n    for (const part of def.parts) {\n        if (typeof part === \"object\" && part !== null) {\n            // is Zod schema\n            if (!part._zod.pattern) {\n                // if (!source)\n                throw new Error(`Invalid template literal part, no pattern found: ${[...part._zod.traits].shift()}`);\n            }\n            const source = part._zod.pattern instanceof RegExp ? part._zod.pattern.source : part._zod.pattern;\n            if (!source)\n                throw new Error(`Invalid template literal part: ${part._zod.traits}`);\n            const start = source.startsWith(\"^\") ? 1 : 0;\n            const end = source.endsWith(\"$\") ? source.length - 1 : source.length;\n            regexParts.push(source.slice(start, end));\n        }\n        else if (part === null || util.primitiveTypes.has(typeof part)) {\n            regexParts.push(util.escapeRegex(`${part}`));\n        }\n        else {\n            throw new Error(`Invalid template literal part: ${part}`);\n        }\n    }\n    inst._zod.pattern = new RegExp(`^${regexParts.join(\"\")}$`);\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"string\") {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                expected: \"string\",\n                code: \"invalid_type\",\n            });\n            return payload;\n        }\n        inst._zod.pattern.lastIndex = 0;\n        if (!inst._zod.pattern.test(payload.value)) {\n            payload.issues.push({\n                input: payload.value,\n                inst,\n                code: \"invalid_format\",\n                format: def.format ?? \"template_literal\",\n                pattern: inst._zod.pattern.source,\n            });\n            return payload;\n        }\n        return payload;\n    };\n});\nexport const $ZodFunction = /*@__PURE__*/ core.$constructor(\"$ZodFunction\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._def = def;\n    inst._zod.def = def;\n    inst.implement = (func) => {\n        if (typeof func !== \"function\") {\n            throw new Error(\"implement() must be called with a function\");\n        }\n        return function (...args) {\n            const parsedArgs = inst._def.input ? parse(inst._def.input, args) : args;\n            const result = Reflect.apply(func, this, parsedArgs);\n            if (inst._def.output) {\n                return parse(inst._def.output, result);\n            }\n            return result;\n        };\n    };\n    inst.implementAsync = (func) => {\n        if (typeof func !== \"function\") {\n            throw new Error(\"implementAsync() must be called with a function\");\n        }\n        return async function (...args) {\n            const parsedArgs = inst._def.input ? await parseAsync(inst._def.input, args) : args;\n            const result = await Reflect.apply(func, this, parsedArgs);\n            if (inst._def.output) {\n                return await parseAsync(inst._def.output, result);\n            }\n            return result;\n        };\n    };\n    inst._zod.parse = (payload, _ctx) => {\n        if (typeof payload.value !== \"function\") {\n            payload.issues.push({\n                code: \"invalid_type\",\n                expected: \"function\",\n                input: payload.value,\n                inst,\n            });\n            return payload;\n        }\n        // Check if output is a promise type to determine if we should use async implementation\n        const hasPromiseOutput = inst._def.output && inst._def.output._zod.def.type === \"promise\";\n        if (hasPromiseOutput) {\n            payload.value = inst.implementAsync(payload.value);\n        }\n        else {\n            payload.value = inst.implement(payload.value);\n        }\n        return payload;\n    };\n    inst.input = (...args) => {\n        const F = inst.constructor;\n        if (Array.isArray(args[0])) {\n            return new F({\n                type: \"function\",\n                input: new $ZodTuple({\n                    type: \"tuple\",\n                    items: args[0],\n                    rest: args[1],\n                }),\n                output: inst._def.output,\n            });\n        }\n        return new F({\n            type: \"function\",\n            input: args[0],\n            output: inst._def.output,\n        });\n    };\n    inst.output = (output) => {\n        const F = inst.constructor;\n        return new F({\n            type: \"function\",\n            input: inst._def.input,\n            output,\n        });\n    };\n    return inst;\n});\nexport const $ZodPromise = /*@__PURE__*/ core.$constructor(\"$ZodPromise\", (inst, def) => {\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, ctx) => {\n        return Promise.resolve(payload.value).then((inner) => def.innerType._zod.run({ value: inner, issues: [] }, ctx));\n    };\n});\nexport const $ZodLazy = /*@__PURE__*/ core.$constructor(\"$ZodLazy\", (inst, def) => {\n    $ZodType.init(inst, def);\n    // let _innerType!: any;\n    // util.defineLazy(def, \"getter\", () => {\n    //   if (!_innerType) {\n    //     _innerType = def.getter();\n    //   }\n    //   return () => _innerType;\n    // });\n    util.defineLazy(inst._zod, \"innerType\", () => def.getter());\n    util.defineLazy(inst._zod, \"pattern\", () => inst._zod.innerType?._zod?.pattern);\n    util.defineLazy(inst._zod, \"propValues\", () => inst._zod.innerType?._zod?.propValues);\n    util.defineLazy(inst._zod, \"optin\", () => inst._zod.innerType?._zod?.optin ?? undefined);\n    util.defineLazy(inst._zod, \"optout\", () => inst._zod.innerType?._zod?.optout ?? undefined);\n    inst._zod.parse = (payload, ctx) => {\n        const inner = inst._zod.innerType;\n        return inner._zod.run(payload, ctx);\n    };\n});\nexport const $ZodCustom = /*@__PURE__*/ core.$constructor(\"$ZodCustom\", (inst, def) => {\n    checks.$ZodCheck.init(inst, def);\n    $ZodType.init(inst, def);\n    inst._zod.parse = (payload, _) => {\n        return payload;\n    };\n    inst._zod.check = (payload) => {\n        const input = payload.value;\n        const r = def.fn(input);\n        if (r instanceof Promise) {\n            return r.then((r) => handleRefineResult(r, payload, input, inst));\n        }\n        handleRefineResult(r, payload, input, inst);\n        return;\n    };\n});\nfunction handleRefineResult(result, payload, input, inst) {\n    if (!result) {\n        const _iss = {\n            code: \"custom\",\n            input,\n            inst, // incorporates params.error into issue reporting\n            path: [...(inst._zod.def.path ?? [])], // incorporates params.error into issue reporting\n            continue: !inst._zod.def.abort,\n            // params: inst._zod.def.params,\n        };\n        if (inst._zod.def.params)\n            _iss.params = inst._zod.def.params;\n        payload.issues.push(util.issue(_iss));\n    }\n}\n","import * as core from \"../core/index.js\";\nimport { util } from \"../core/index.js\";\nimport * as processors from \"../core/json-schema-processors.js\";\nimport { createStandardJSONSchemaMethod, createToJSONSchemaMethod } from \"../core/to-json-schema.js\";\nimport * as checks from \"./checks.js\";\nimport * as iso from \"./iso.js\";\nimport * as parse from \"./parse.js\";\nexport const ZodType = /*@__PURE__*/ core.$constructor(\"ZodType\", (inst, def) => {\n    core.$ZodType.init(inst, def);\n    Object.assign(inst[\"~standard\"], {\n        jsonSchema: {\n            input: createStandardJSONSchemaMethod(inst, \"input\"),\n            output: createStandardJSONSchemaMethod(inst, \"output\"),\n        },\n    });\n    inst.toJSONSchema = createToJSONSchemaMethod(inst, {});\n    inst.def = def;\n    inst.type = def.type;\n    Object.defineProperty(inst, \"_def\", { value: def });\n    // base methods\n    inst.check = (...checks) => {\n        return inst.clone(util.mergeDefs(def, {\n            checks: [\n                ...(def.checks ?? []),\n                ...checks.map((ch) => typeof ch === \"function\" ? { _zod: { check: ch, def: { check: \"custom\" }, onattach: [] } } : ch),\n            ],\n        }), {\n            parent: true,\n        });\n    };\n    inst.with = inst.check;\n    inst.clone = (def, params) => core.clone(inst, def, params);\n    inst.brand = () => inst;\n    inst.register = ((reg, meta) => {\n        reg.add(inst, meta);\n        return inst;\n    });\n    // parsing\n    inst.parse = (data, params) => parse.parse(inst, data, params, { callee: inst.parse });\n    inst.safeParse = (data, params) => parse.safeParse(inst, data, params);\n    inst.parseAsync = async (data, params) => parse.parseAsync(inst, data, params, { callee: inst.parseAsync });\n    inst.safeParseAsync = async (data, params) => parse.safeParseAsync(inst, data, params);\n    inst.spa = inst.safeParseAsync;\n    // encoding/decoding\n    inst.encode = (data, params) => parse.encode(inst, data, params);\n    inst.decode = (data, params) => parse.decode(inst, data, params);\n    inst.encodeAsync = async (data, params) => parse.encodeAsync(inst, data, params);\n    inst.decodeAsync = async (data, params) => parse.decodeAsync(inst, data, params);\n    inst.safeEncode = (data, params) => parse.safeEncode(inst, data, params);\n    inst.safeDecode = (data, params) => parse.safeDecode(inst, data, params);\n    inst.safeEncodeAsync = async (data, params) => parse.safeEncodeAsync(inst, data, params);\n    inst.safeDecodeAsync = async (data, params) => parse.safeDecodeAsync(inst, data, params);\n    // refinements\n    inst.refine = (check, params) => inst.check(refine(check, params));\n    inst.superRefine = (refinement) => inst.check(superRefine(refinement));\n    inst.overwrite = (fn) => inst.check(checks.overwrite(fn));\n    // wrappers\n    inst.optional = () => optional(inst);\n    inst.exactOptional = () => exactOptional(inst);\n    inst.nullable = () => nullable(inst);\n    inst.nullish = () => optional(nullable(inst));\n    inst.nonoptional = (params) => nonoptional(inst, params);\n    inst.array = () => array(inst);\n    inst.or = (arg) => union([inst, arg]);\n    inst.and = (arg) => intersection(inst, arg);\n    inst.transform = (tx) => pipe(inst, transform(tx));\n    inst.default = (def) => _default(inst, def);\n    inst.prefault = (def) => prefault(inst, def);\n    // inst.coalesce = (def, params) => coalesce(inst, def, params);\n    inst.catch = (params) => _catch(inst, params);\n    inst.pipe = (target) => pipe(inst, target);\n    inst.readonly = () => readonly(inst);\n    // meta\n    inst.describe = (description) => {\n        const cl = inst.clone();\n        core.globalRegistry.add(cl, { description });\n        return cl;\n    };\n    Object.defineProperty(inst, \"description\", {\n        get() {\n            return core.globalRegistry.get(inst)?.description;\n        },\n        configurable: true,\n    });\n    inst.meta = (...args) => {\n        if (args.length === 0) {\n            return core.globalRegistry.get(inst);\n        }\n        const cl = inst.clone();\n        core.globalRegistry.add(cl, args[0]);\n        return cl;\n    };\n    // helpers\n    inst.isOptional = () => inst.safeParse(undefined).success;\n    inst.isNullable = () => inst.safeParse(null).success;\n    inst.apply = (fn) => fn(inst);\n    return inst;\n});\n/** @internal */\nexport const _ZodString = /*@__PURE__*/ core.$constructor(\"_ZodString\", (inst, def) => {\n    core.$ZodString.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.stringProcessor(inst, ctx, json, params);\n    const bag = inst._zod.bag;\n    inst.format = bag.format ?? null;\n    inst.minLength = bag.minimum ?? null;\n    inst.maxLength = bag.maximum ?? null;\n    // validations\n    inst.regex = (...args) => inst.check(checks.regex(...args));\n    inst.includes = (...args) => inst.check(checks.includes(...args));\n    inst.startsWith = (...args) => inst.check(checks.startsWith(...args));\n    inst.endsWith = (...args) => inst.check(checks.endsWith(...args));\n    inst.min = (...args) => inst.check(checks.minLength(...args));\n    inst.max = (...args) => inst.check(checks.maxLength(...args));\n    inst.length = (...args) => inst.check(checks.length(...args));\n    inst.nonempty = (...args) => inst.check(checks.minLength(1, ...args));\n    inst.lowercase = (params) => inst.check(checks.lowercase(params));\n    inst.uppercase = (params) => inst.check(checks.uppercase(params));\n    // transforms\n    inst.trim = () => inst.check(checks.trim());\n    inst.normalize = (...args) => inst.check(checks.normalize(...args));\n    inst.toLowerCase = () => inst.check(checks.toLowerCase());\n    inst.toUpperCase = () => inst.check(checks.toUpperCase());\n    inst.slugify = () => inst.check(checks.slugify());\n});\nexport const ZodString = /*@__PURE__*/ core.$constructor(\"ZodString\", (inst, def) => {\n    core.$ZodString.init(inst, def);\n    _ZodString.init(inst, def);\n    inst.email = (params) => inst.check(core._email(ZodEmail, params));\n    inst.url = (params) => inst.check(core._url(ZodURL, params));\n    inst.jwt = (params) => inst.check(core._jwt(ZodJWT, params));\n    inst.emoji = (params) => inst.check(core._emoji(ZodEmoji, params));\n    inst.guid = (params) => inst.check(core._guid(ZodGUID, params));\n    inst.uuid = (params) => inst.check(core._uuid(ZodUUID, params));\n    inst.uuidv4 = (params) => inst.check(core._uuidv4(ZodUUID, params));\n    inst.uuidv6 = (params) => inst.check(core._uuidv6(ZodUUID, params));\n    inst.uuidv7 = (params) => inst.check(core._uuidv7(ZodUUID, params));\n    inst.nanoid = (params) => inst.check(core._nanoid(ZodNanoID, params));\n    inst.guid = (params) => inst.check(core._guid(ZodGUID, params));\n    inst.cuid = (params) => inst.check(core._cuid(ZodCUID, params));\n    inst.cuid2 = (params) => inst.check(core._cuid2(ZodCUID2, params));\n    inst.ulid = (params) => inst.check(core._ulid(ZodULID, params));\n    inst.base64 = (params) => inst.check(core._base64(ZodBase64, params));\n    inst.base64url = (params) => inst.check(core._base64url(ZodBase64URL, params));\n    inst.xid = (params) => inst.check(core._xid(ZodXID, params));\n    inst.ksuid = (params) => inst.check(core._ksuid(ZodKSUID, params));\n    inst.ipv4 = (params) => inst.check(core._ipv4(ZodIPv4, params));\n    inst.ipv6 = (params) => inst.check(core._ipv6(ZodIPv6, params));\n    inst.cidrv4 = (params) => inst.check(core._cidrv4(ZodCIDRv4, params));\n    inst.cidrv6 = (params) => inst.check(core._cidrv6(ZodCIDRv6, params));\n    inst.e164 = (params) => inst.check(core._e164(ZodE164, params));\n    // iso\n    inst.datetime = (params) => inst.check(iso.datetime(params));\n    inst.date = (params) => inst.check(iso.date(params));\n    inst.time = (params) => inst.check(iso.time(params));\n    inst.duration = (params) => inst.check(iso.duration(params));\n});\nexport function string(params) {\n    return core._string(ZodString, params);\n}\nexport const ZodStringFormat = /*@__PURE__*/ core.$constructor(\"ZodStringFormat\", (inst, def) => {\n    core.$ZodStringFormat.init(inst, def);\n    _ZodString.init(inst, def);\n});\nexport const ZodEmail = /*@__PURE__*/ core.$constructor(\"ZodEmail\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodEmail.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function email(params) {\n    return core._email(ZodEmail, params);\n}\nexport const ZodGUID = /*@__PURE__*/ core.$constructor(\"ZodGUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodGUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function guid(params) {\n    return core._guid(ZodGUID, params);\n}\nexport const ZodUUID = /*@__PURE__*/ core.$constructor(\"ZodUUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodUUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function uuid(params) {\n    return core._uuid(ZodUUID, params);\n}\nexport function uuidv4(params) {\n    return core._uuidv4(ZodUUID, params);\n}\n// ZodUUIDv6\nexport function uuidv6(params) {\n    return core._uuidv6(ZodUUID, params);\n}\n// ZodUUIDv7\nexport function uuidv7(params) {\n    return core._uuidv7(ZodUUID, params);\n}\nexport const ZodURL = /*@__PURE__*/ core.$constructor(\"ZodURL\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodURL.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function url(params) {\n    return core._url(ZodURL, params);\n}\nexport function httpUrl(params) {\n    return core._url(ZodURL, {\n        protocol: /^https?$/,\n        hostname: core.regexes.domain,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodEmoji = /*@__PURE__*/ core.$constructor(\"ZodEmoji\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodEmoji.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function emoji(params) {\n    return core._emoji(ZodEmoji, params);\n}\nexport const ZodNanoID = /*@__PURE__*/ core.$constructor(\"ZodNanoID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodNanoID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function nanoid(params) {\n    return core._nanoid(ZodNanoID, params);\n}\nexport const ZodCUID = /*@__PURE__*/ core.$constructor(\"ZodCUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cuid(params) {\n    return core._cuid(ZodCUID, params);\n}\nexport const ZodCUID2 = /*@__PURE__*/ core.$constructor(\"ZodCUID2\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCUID2.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cuid2(params) {\n    return core._cuid2(ZodCUID2, params);\n}\nexport const ZodULID = /*@__PURE__*/ core.$constructor(\"ZodULID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodULID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ulid(params) {\n    return core._ulid(ZodULID, params);\n}\nexport const ZodXID = /*@__PURE__*/ core.$constructor(\"ZodXID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodXID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function xid(params) {\n    return core._xid(ZodXID, params);\n}\nexport const ZodKSUID = /*@__PURE__*/ core.$constructor(\"ZodKSUID\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodKSUID.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ksuid(params) {\n    return core._ksuid(ZodKSUID, params);\n}\nexport const ZodIPv4 = /*@__PURE__*/ core.$constructor(\"ZodIPv4\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodIPv4.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ipv4(params) {\n    return core._ipv4(ZodIPv4, params);\n}\nexport const ZodMAC = /*@__PURE__*/ core.$constructor(\"ZodMAC\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodMAC.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function mac(params) {\n    return core._mac(ZodMAC, params);\n}\nexport const ZodIPv6 = /*@__PURE__*/ core.$constructor(\"ZodIPv6\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodIPv6.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function ipv6(params) {\n    return core._ipv6(ZodIPv6, params);\n}\nexport const ZodCIDRv4 = /*@__PURE__*/ core.$constructor(\"ZodCIDRv4\", (inst, def) => {\n    core.$ZodCIDRv4.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cidrv4(params) {\n    return core._cidrv4(ZodCIDRv4, params);\n}\nexport const ZodCIDRv6 = /*@__PURE__*/ core.$constructor(\"ZodCIDRv6\", (inst, def) => {\n    core.$ZodCIDRv6.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function cidrv6(params) {\n    return core._cidrv6(ZodCIDRv6, params);\n}\nexport const ZodBase64 = /*@__PURE__*/ core.$constructor(\"ZodBase64\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodBase64.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function base64(params) {\n    return core._base64(ZodBase64, params);\n}\nexport const ZodBase64URL = /*@__PURE__*/ core.$constructor(\"ZodBase64URL\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodBase64URL.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function base64url(params) {\n    return core._base64url(ZodBase64URL, params);\n}\nexport const ZodE164 = /*@__PURE__*/ core.$constructor(\"ZodE164\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodE164.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function e164(params) {\n    return core._e164(ZodE164, params);\n}\nexport const ZodJWT = /*@__PURE__*/ core.$constructor(\"ZodJWT\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodJWT.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function jwt(params) {\n    return core._jwt(ZodJWT, params);\n}\nexport const ZodCustomStringFormat = /*@__PURE__*/ core.$constructor(\"ZodCustomStringFormat\", (inst, def) => {\n    // ZodStringFormat.init(inst, def);\n    core.$ZodCustomStringFormat.init(inst, def);\n    ZodStringFormat.init(inst, def);\n});\nexport function stringFormat(format, fnOrRegex, _params = {}) {\n    return core._stringFormat(ZodCustomStringFormat, format, fnOrRegex, _params);\n}\nexport function hostname(_params) {\n    return core._stringFormat(ZodCustomStringFormat, \"hostname\", core.regexes.hostname, _params);\n}\nexport function hex(_params) {\n    return core._stringFormat(ZodCustomStringFormat, \"hex\", core.regexes.hex, _params);\n}\nexport function hash(alg, params) {\n    const enc = params?.enc ?? \"hex\";\n    const format = `${alg}_${enc}`;\n    const regex = core.regexes[format];\n    if (!regex)\n        throw new Error(`Unrecognized hash format: ${format}`);\n    return core._stringFormat(ZodCustomStringFormat, format, regex, params);\n}\nexport const ZodNumber = /*@__PURE__*/ core.$constructor(\"ZodNumber\", (inst, def) => {\n    core.$ZodNumber.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.numberProcessor(inst, ctx, json, params);\n    inst.gt = (value, params) => inst.check(checks.gt(value, params));\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.lt = (value, params) => inst.check(checks.lt(value, params));\n    inst.lte = (value, params) => inst.check(checks.lte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    inst.int = (params) => inst.check(int(params));\n    inst.safe = (params) => inst.check(int(params));\n    inst.positive = (params) => inst.check(checks.gt(0, params));\n    inst.nonnegative = (params) => inst.check(checks.gte(0, params));\n    inst.negative = (params) => inst.check(checks.lt(0, params));\n    inst.nonpositive = (params) => inst.check(checks.lte(0, params));\n    inst.multipleOf = (value, params) => inst.check(checks.multipleOf(value, params));\n    inst.step = (value, params) => inst.check(checks.multipleOf(value, params));\n    // inst.finite = (params) => inst.check(core.finite(params));\n    inst.finite = () => inst;\n    const bag = inst._zod.bag;\n    inst.minValue =\n        Math.max(bag.minimum ?? Number.NEGATIVE_INFINITY, bag.exclusiveMinimum ?? Number.NEGATIVE_INFINITY) ?? null;\n    inst.maxValue =\n        Math.min(bag.maximum ?? Number.POSITIVE_INFINITY, bag.exclusiveMaximum ?? Number.POSITIVE_INFINITY) ?? null;\n    inst.isInt = (bag.format ?? \"\").includes(\"int\") || Number.isSafeInteger(bag.multipleOf ?? 0.5);\n    inst.isFinite = true;\n    inst.format = bag.format ?? null;\n});\nexport function number(params) {\n    return core._number(ZodNumber, params);\n}\nexport const ZodNumberFormat = /*@__PURE__*/ core.$constructor(\"ZodNumberFormat\", (inst, def) => {\n    core.$ZodNumberFormat.init(inst, def);\n    ZodNumber.init(inst, def);\n});\nexport function int(params) {\n    return core._int(ZodNumberFormat, params);\n}\nexport function float32(params) {\n    return core._float32(ZodNumberFormat, params);\n}\nexport function float64(params) {\n    return core._float64(ZodNumberFormat, params);\n}\nexport function int32(params) {\n    return core._int32(ZodNumberFormat, params);\n}\nexport function uint32(params) {\n    return core._uint32(ZodNumberFormat, params);\n}\nexport const ZodBoolean = /*@__PURE__*/ core.$constructor(\"ZodBoolean\", (inst, def) => {\n    core.$ZodBoolean.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.booleanProcessor(inst, ctx, json, params);\n});\nexport function boolean(params) {\n    return core._boolean(ZodBoolean, params);\n}\nexport const ZodBigInt = /*@__PURE__*/ core.$constructor(\"ZodBigInt\", (inst, def) => {\n    core.$ZodBigInt.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.bigintProcessor(inst, ctx, json, params);\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.gt = (value, params) => inst.check(checks.gt(value, params));\n    inst.gte = (value, params) => inst.check(checks.gte(value, params));\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.lt = (value, params) => inst.check(checks.lt(value, params));\n    inst.lte = (value, params) => inst.check(checks.lte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    inst.positive = (params) => inst.check(checks.gt(BigInt(0), params));\n    inst.negative = (params) => inst.check(checks.lt(BigInt(0), params));\n    inst.nonpositive = (params) => inst.check(checks.lte(BigInt(0), params));\n    inst.nonnegative = (params) => inst.check(checks.gte(BigInt(0), params));\n    inst.multipleOf = (value, params) => inst.check(checks.multipleOf(value, params));\n    const bag = inst._zod.bag;\n    inst.minValue = bag.minimum ?? null;\n    inst.maxValue = bag.maximum ?? null;\n    inst.format = bag.format ?? null;\n});\nexport function bigint(params) {\n    return core._bigint(ZodBigInt, params);\n}\nexport const ZodBigIntFormat = /*@__PURE__*/ core.$constructor(\"ZodBigIntFormat\", (inst, def) => {\n    core.$ZodBigIntFormat.init(inst, def);\n    ZodBigInt.init(inst, def);\n});\n// int64\nexport function int64(params) {\n    return core._int64(ZodBigIntFormat, params);\n}\n// uint64\nexport function uint64(params) {\n    return core._uint64(ZodBigIntFormat, params);\n}\nexport const ZodSymbol = /*@__PURE__*/ core.$constructor(\"ZodSymbol\", (inst, def) => {\n    core.$ZodSymbol.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.symbolProcessor(inst, ctx, json, params);\n});\nexport function symbol(params) {\n    return core._symbol(ZodSymbol, params);\n}\nexport const ZodUndefined = /*@__PURE__*/ core.$constructor(\"ZodUndefined\", (inst, def) => {\n    core.$ZodUndefined.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.undefinedProcessor(inst, ctx, json, params);\n});\nfunction _undefined(params) {\n    return core._undefined(ZodUndefined, params);\n}\nexport { _undefined as undefined };\nexport const ZodNull = /*@__PURE__*/ core.$constructor(\"ZodNull\", (inst, def) => {\n    core.$ZodNull.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.nullProcessor(inst, ctx, json, params);\n});\nfunction _null(params) {\n    return core._null(ZodNull, params);\n}\nexport { _null as null };\nexport const ZodAny = /*@__PURE__*/ core.$constructor(\"ZodAny\", (inst, def) => {\n    core.$ZodAny.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.anyProcessor(inst, ctx, json, params);\n});\nexport function any() {\n    return core._any(ZodAny);\n}\nexport const ZodUnknown = /*@__PURE__*/ core.$constructor(\"ZodUnknown\", (inst, def) => {\n    core.$ZodUnknown.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.unknownProcessor(inst, ctx, json, params);\n});\nexport function unknown() {\n    return core._unknown(ZodUnknown);\n}\nexport const ZodNever = /*@__PURE__*/ core.$constructor(\"ZodNever\", (inst, def) => {\n    core.$ZodNever.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.neverProcessor(inst, ctx, json, params);\n});\nexport function never(params) {\n    return core._never(ZodNever, params);\n}\nexport const ZodVoid = /*@__PURE__*/ core.$constructor(\"ZodVoid\", (inst, def) => {\n    core.$ZodVoid.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.voidProcessor(inst, ctx, json, params);\n});\nfunction _void(params) {\n    return core._void(ZodVoid, params);\n}\nexport { _void as void };\nexport const ZodDate = /*@__PURE__*/ core.$constructor(\"ZodDate\", (inst, def) => {\n    core.$ZodDate.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.dateProcessor(inst, ctx, json, params);\n    inst.min = (value, params) => inst.check(checks.gte(value, params));\n    inst.max = (value, params) => inst.check(checks.lte(value, params));\n    const c = inst._zod.bag;\n    inst.minDate = c.minimum ? new Date(c.minimum) : null;\n    inst.maxDate = c.maximum ? new Date(c.maximum) : null;\n});\nexport function date(params) {\n    return core._date(ZodDate, params);\n}\nexport const ZodArray = /*@__PURE__*/ core.$constructor(\"ZodArray\", (inst, def) => {\n    core.$ZodArray.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.arrayProcessor(inst, ctx, json, params);\n    inst.element = def.element;\n    inst.min = (minLength, params) => inst.check(checks.minLength(minLength, params));\n    inst.nonempty = (params) => inst.check(checks.minLength(1, params));\n    inst.max = (maxLength, params) => inst.check(checks.maxLength(maxLength, params));\n    inst.length = (len, params) => inst.check(checks.length(len, params));\n    inst.unwrap = () => inst.element;\n});\nexport function array(element, params) {\n    return core._array(ZodArray, element, params);\n}\n// .keyof\nexport function keyof(schema) {\n    const shape = schema._zod.def.shape;\n    return _enum(Object.keys(shape));\n}\nexport const ZodObject = /*@__PURE__*/ core.$constructor(\"ZodObject\", (inst, def) => {\n    core.$ZodObjectJIT.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.objectProcessor(inst, ctx, json, params);\n    util.defineLazy(inst, \"shape\", () => {\n        return def.shape;\n    });\n    inst.keyof = () => _enum(Object.keys(inst._zod.def.shape));\n    inst.catchall = (catchall) => inst.clone({ ...inst._zod.def, catchall: catchall });\n    inst.passthrough = () => inst.clone({ ...inst._zod.def, catchall: unknown() });\n    inst.loose = () => inst.clone({ ...inst._zod.def, catchall: unknown() });\n    inst.strict = () => inst.clone({ ...inst._zod.def, catchall: never() });\n    inst.strip = () => inst.clone({ ...inst._zod.def, catchall: undefined });\n    inst.extend = (incoming) => {\n        return util.extend(inst, incoming);\n    };\n    inst.safeExtend = (incoming) => {\n        return util.safeExtend(inst, incoming);\n    };\n    inst.merge = (other) => util.merge(inst, other);\n    inst.pick = (mask) => util.pick(inst, mask);\n    inst.omit = (mask) => util.omit(inst, mask);\n    inst.partial = (...args) => util.partial(ZodOptional, inst, args[0]);\n    inst.required = (...args) => util.required(ZodNonOptional, inst, args[0]);\n});\nexport function object(shape, params) {\n    const def = {\n        type: \"object\",\n        shape: shape ?? {},\n        ...util.normalizeParams(params),\n    };\n    return new ZodObject(def);\n}\n// strictObject\nexport function strictObject(shape, params) {\n    return new ZodObject({\n        type: \"object\",\n        shape,\n        catchall: never(),\n        ...util.normalizeParams(params),\n    });\n}\n// looseObject\nexport function looseObject(shape, params) {\n    return new ZodObject({\n        type: \"object\",\n        shape,\n        catchall: unknown(),\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodUnion = /*@__PURE__*/ core.$constructor(\"ZodUnion\", (inst, def) => {\n    core.$ZodUnion.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.unionProcessor(inst, ctx, json, params);\n    inst.options = def.options;\n});\nexport function union(options, params) {\n    return new ZodUnion({\n        type: \"union\",\n        options: options,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodXor = /*@__PURE__*/ core.$constructor(\"ZodXor\", (inst, def) => {\n    ZodUnion.init(inst, def);\n    core.$ZodXor.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.unionProcessor(inst, ctx, json, params);\n    inst.options = def.options;\n});\n/** Creates an exclusive union (XOR) where exactly one option must match.\n * Unlike regular unions that succeed when any option matches, xor fails if\n * zero or more than one option matches the input. */\nexport function xor(options, params) {\n    return new ZodXor({\n        type: \"union\",\n        options: options,\n        inclusive: false,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodDiscriminatedUnion = /*@__PURE__*/ core.$constructor(\"ZodDiscriminatedUnion\", (inst, def) => {\n    ZodUnion.init(inst, def);\n    core.$ZodDiscriminatedUnion.init(inst, def);\n});\nexport function discriminatedUnion(discriminator, options, params) {\n    // const [options, params] = args;\n    return new ZodDiscriminatedUnion({\n        type: \"union\",\n        options,\n        discriminator,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodIntersection = /*@__PURE__*/ core.$constructor(\"ZodIntersection\", (inst, def) => {\n    core.$ZodIntersection.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.intersectionProcessor(inst, ctx, json, params);\n});\nexport function intersection(left, right) {\n    return new ZodIntersection({\n        type: \"intersection\",\n        left: left,\n        right: right,\n    });\n}\nexport const ZodTuple = /*@__PURE__*/ core.$constructor(\"ZodTuple\", (inst, def) => {\n    core.$ZodTuple.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.tupleProcessor(inst, ctx, json, params);\n    inst.rest = (rest) => inst.clone({\n        ...inst._zod.def,\n        rest: rest,\n    });\n});\nexport function tuple(items, _paramsOrRest, _params) {\n    const hasRest = _paramsOrRest instanceof core.$ZodType;\n    const params = hasRest ? _params : _paramsOrRest;\n    const rest = hasRest ? _paramsOrRest : null;\n    return new ZodTuple({\n        type: \"tuple\",\n        items: items,\n        rest,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodRecord = /*@__PURE__*/ core.$constructor(\"ZodRecord\", (inst, def) => {\n    core.$ZodRecord.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.recordProcessor(inst, ctx, json, params);\n    inst.keyType = def.keyType;\n    inst.valueType = def.valueType;\n});\nexport function record(keyType, valueType, params) {\n    return new ZodRecord({\n        type: \"record\",\n        keyType,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\n// type alksjf = core.output<core.$ZodRecordKey>;\nexport function partialRecord(keyType, valueType, params) {\n    const k = core.clone(keyType);\n    k._zod.values = undefined;\n    return new ZodRecord({\n        type: \"record\",\n        keyType: k,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport function looseRecord(keyType, valueType, params) {\n    return new ZodRecord({\n        type: \"record\",\n        keyType,\n        valueType: valueType,\n        mode: \"loose\",\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodMap = /*@__PURE__*/ core.$constructor(\"ZodMap\", (inst, def) => {\n    core.$ZodMap.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.mapProcessor(inst, ctx, json, params);\n    inst.keyType = def.keyType;\n    inst.valueType = def.valueType;\n    inst.min = (...args) => inst.check(core._minSize(...args));\n    inst.nonempty = (params) => inst.check(core._minSize(1, params));\n    inst.max = (...args) => inst.check(core._maxSize(...args));\n    inst.size = (...args) => inst.check(core._size(...args));\n});\nexport function map(keyType, valueType, params) {\n    return new ZodMap({\n        type: \"map\",\n        keyType: keyType,\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodSet = /*@__PURE__*/ core.$constructor(\"ZodSet\", (inst, def) => {\n    core.$ZodSet.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.setProcessor(inst, ctx, json, params);\n    inst.min = (...args) => inst.check(core._minSize(...args));\n    inst.nonempty = (params) => inst.check(core._minSize(1, params));\n    inst.max = (...args) => inst.check(core._maxSize(...args));\n    inst.size = (...args) => inst.check(core._size(...args));\n});\nexport function set(valueType, params) {\n    return new ZodSet({\n        type: \"set\",\n        valueType: valueType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodEnum = /*@__PURE__*/ core.$constructor(\"ZodEnum\", (inst, def) => {\n    core.$ZodEnum.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.enumProcessor(inst, ctx, json, params);\n    inst.enum = def.entries;\n    inst.options = Object.values(def.entries);\n    const keys = new Set(Object.keys(def.entries));\n    inst.extract = (values, params) => {\n        const newEntries = {};\n        for (const value of values) {\n            if (keys.has(value)) {\n                newEntries[value] = def.entries[value];\n            }\n            else\n                throw new Error(`Key ${value} not found in enum`);\n        }\n        return new ZodEnum({\n            ...def,\n            checks: [],\n            ...util.normalizeParams(params),\n            entries: newEntries,\n        });\n    };\n    inst.exclude = (values, params) => {\n        const newEntries = { ...def.entries };\n        for (const value of values) {\n            if (keys.has(value)) {\n                delete newEntries[value];\n            }\n            else\n                throw new Error(`Key ${value} not found in enum`);\n        }\n        return new ZodEnum({\n            ...def,\n            checks: [],\n            ...util.normalizeParams(params),\n            entries: newEntries,\n        });\n    };\n});\nfunction _enum(values, params) {\n    const entries = Array.isArray(values) ? Object.fromEntries(values.map((v) => [v, v])) : values;\n    return new ZodEnum({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport { _enum as enum };\n/** @deprecated This API has been merged into `z.enum()`. Use `z.enum()` instead.\n *\n * ```ts\n * enum Colors { red, green, blue }\n * z.enum(Colors);\n * ```\n */\nexport function nativeEnum(entries, params) {\n    return new ZodEnum({\n        type: \"enum\",\n        entries,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodLiteral = /*@__PURE__*/ core.$constructor(\"ZodLiteral\", (inst, def) => {\n    core.$ZodLiteral.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.literalProcessor(inst, ctx, json, params);\n    inst.values = new Set(def.values);\n    Object.defineProperty(inst, \"value\", {\n        get() {\n            if (def.values.length > 1) {\n                throw new Error(\"This schema contains multiple valid literal values. Use `.values` instead.\");\n            }\n            return def.values[0];\n        },\n    });\n});\nexport function literal(value, params) {\n    return new ZodLiteral({\n        type: \"literal\",\n        values: Array.isArray(value) ? value : [value],\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodFile = /*@__PURE__*/ core.$constructor(\"ZodFile\", (inst, def) => {\n    core.$ZodFile.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.fileProcessor(inst, ctx, json, params);\n    inst.min = (size, params) => inst.check(core._minSize(size, params));\n    inst.max = (size, params) => inst.check(core._maxSize(size, params));\n    inst.mime = (types, params) => inst.check(core._mime(Array.isArray(types) ? types : [types], params));\n});\nexport function file(params) {\n    return core._file(ZodFile, params);\n}\nexport const ZodTransform = /*@__PURE__*/ core.$constructor(\"ZodTransform\", (inst, def) => {\n    core.$ZodTransform.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.transformProcessor(inst, ctx, json, params);\n    inst._zod.parse = (payload, _ctx) => {\n        if (_ctx.direction === \"backward\") {\n            throw new core.$ZodEncodeError(inst.constructor.name);\n        }\n        payload.addIssue = (issue) => {\n            if (typeof issue === \"string\") {\n                payload.issues.push(util.issue(issue, payload.value, def));\n            }\n            else {\n                // for Zod 3 backwards compatibility\n                const _issue = issue;\n                if (_issue.fatal)\n                    _issue.continue = false;\n                _issue.code ?? (_issue.code = \"custom\");\n                _issue.input ?? (_issue.input = payload.value);\n                _issue.inst ?? (_issue.inst = inst);\n                // _issue.continue ??= true;\n                payload.issues.push(util.issue(_issue));\n            }\n        };\n        const output = def.transform(payload.value, payload);\n        if (output instanceof Promise) {\n            return output.then((output) => {\n                payload.value = output;\n                return payload;\n            });\n        }\n        payload.value = output;\n        return payload;\n    };\n});\nexport function transform(fn) {\n    return new ZodTransform({\n        type: \"transform\",\n        transform: fn,\n    });\n}\nexport const ZodOptional = /*@__PURE__*/ core.$constructor(\"ZodOptional\", (inst, def) => {\n    core.$ZodOptional.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.optionalProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function optional(innerType) {\n    return new ZodOptional({\n        type: \"optional\",\n        innerType: innerType,\n    });\n}\nexport const ZodExactOptional = /*@__PURE__*/ core.$constructor(\"ZodExactOptional\", (inst, def) => {\n    core.$ZodExactOptional.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.optionalProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function exactOptional(innerType) {\n    return new ZodExactOptional({\n        type: \"optional\",\n        innerType: innerType,\n    });\n}\nexport const ZodNullable = /*@__PURE__*/ core.$constructor(\"ZodNullable\", (inst, def) => {\n    core.$ZodNullable.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.nullableProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function nullable(innerType) {\n    return new ZodNullable({\n        type: \"nullable\",\n        innerType: innerType,\n    });\n}\n// nullish\nexport function nullish(innerType) {\n    return optional(nullable(innerType));\n}\nexport const ZodDefault = /*@__PURE__*/ core.$constructor(\"ZodDefault\", (inst, def) => {\n    core.$ZodDefault.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.defaultProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n    inst.removeDefault = inst.unwrap;\n});\nexport function _default(innerType, defaultValue) {\n    return new ZodDefault({\n        type: \"default\",\n        innerType: innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : util.shallowClone(defaultValue);\n        },\n    });\n}\nexport const ZodPrefault = /*@__PURE__*/ core.$constructor(\"ZodPrefault\", (inst, def) => {\n    core.$ZodPrefault.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.prefaultProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function prefault(innerType, defaultValue) {\n    return new ZodPrefault({\n        type: \"prefault\",\n        innerType: innerType,\n        get defaultValue() {\n            return typeof defaultValue === \"function\" ? defaultValue() : util.shallowClone(defaultValue);\n        },\n    });\n}\nexport const ZodNonOptional = /*@__PURE__*/ core.$constructor(\"ZodNonOptional\", (inst, def) => {\n    core.$ZodNonOptional.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.nonoptionalProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function nonoptional(innerType, params) {\n    return new ZodNonOptional({\n        type: \"nonoptional\",\n        innerType: innerType,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodSuccess = /*@__PURE__*/ core.$constructor(\"ZodSuccess\", (inst, def) => {\n    core.$ZodSuccess.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.successProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function success(innerType) {\n    return new ZodSuccess({\n        type: \"success\",\n        innerType: innerType,\n    });\n}\nexport const ZodCatch = /*@__PURE__*/ core.$constructor(\"ZodCatch\", (inst, def) => {\n    core.$ZodCatch.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.catchProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n    inst.removeCatch = inst.unwrap;\n});\nfunction _catch(innerType, catchValue) {\n    return new ZodCatch({\n        type: \"catch\",\n        innerType: innerType,\n        catchValue: (typeof catchValue === \"function\" ? catchValue : () => catchValue),\n    });\n}\nexport { _catch as catch };\nexport const ZodNaN = /*@__PURE__*/ core.$constructor(\"ZodNaN\", (inst, def) => {\n    core.$ZodNaN.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.nanProcessor(inst, ctx, json, params);\n});\nexport function nan(params) {\n    return core._nan(ZodNaN, params);\n}\nexport const ZodPipe = /*@__PURE__*/ core.$constructor(\"ZodPipe\", (inst, def) => {\n    core.$ZodPipe.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.pipeProcessor(inst, ctx, json, params);\n    inst.in = def.in;\n    inst.out = def.out;\n});\nexport function pipe(in_, out) {\n    return new ZodPipe({\n        type: \"pipe\",\n        in: in_,\n        out: out,\n        // ...util.normalizeParams(params),\n    });\n}\nexport const ZodCodec = /*@__PURE__*/ core.$constructor(\"ZodCodec\", (inst, def) => {\n    ZodPipe.init(inst, def);\n    core.$ZodCodec.init(inst, def);\n});\nexport function codec(in_, out, params) {\n    return new ZodCodec({\n        type: \"pipe\",\n        in: in_,\n        out: out,\n        transform: params.decode,\n        reverseTransform: params.encode,\n    });\n}\nexport const ZodReadonly = /*@__PURE__*/ core.$constructor(\"ZodReadonly\", (inst, def) => {\n    core.$ZodReadonly.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.readonlyProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function readonly(innerType) {\n    return new ZodReadonly({\n        type: \"readonly\",\n        innerType: innerType,\n    });\n}\nexport const ZodTemplateLiteral = /*@__PURE__*/ core.$constructor(\"ZodTemplateLiteral\", (inst, def) => {\n    core.$ZodTemplateLiteral.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.templateLiteralProcessor(inst, ctx, json, params);\n});\nexport function templateLiteral(parts, params) {\n    return new ZodTemplateLiteral({\n        type: \"template_literal\",\n        parts,\n        ...util.normalizeParams(params),\n    });\n}\nexport const ZodLazy = /*@__PURE__*/ core.$constructor(\"ZodLazy\", (inst, def) => {\n    core.$ZodLazy.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.lazyProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.getter();\n});\nexport function lazy(getter) {\n    return new ZodLazy({\n        type: \"lazy\",\n        getter: getter,\n    });\n}\nexport const ZodPromise = /*@__PURE__*/ core.$constructor(\"ZodPromise\", (inst, def) => {\n    core.$ZodPromise.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.promiseProcessor(inst, ctx, json, params);\n    inst.unwrap = () => inst._zod.def.innerType;\n});\nexport function promise(innerType) {\n    return new ZodPromise({\n        type: \"promise\",\n        innerType: innerType,\n    });\n}\nexport const ZodFunction = /*@__PURE__*/ core.$constructor(\"ZodFunction\", (inst, def) => {\n    core.$ZodFunction.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.functionProcessor(inst, ctx, json, params);\n});\nexport function _function(params) {\n    return new ZodFunction({\n        type: \"function\",\n        input: Array.isArray(params?.input) ? tuple(params?.input) : (params?.input ?? array(unknown())),\n        output: params?.output ?? unknown(),\n    });\n}\nexport { _function as function };\nexport const ZodCustom = /*@__PURE__*/ core.$constructor(\"ZodCustom\", (inst, def) => {\n    core.$ZodCustom.init(inst, def);\n    ZodType.init(inst, def);\n    inst._zod.processJSONSchema = (ctx, json, params) => processors.customProcessor(inst, ctx, json, params);\n});\n// custom checks\nexport function check(fn) {\n    const ch = new core.$ZodCheck({\n        check: \"custom\",\n        // ...util.normalizeParams(params),\n    });\n    ch._zod.check = fn;\n    return ch;\n}\nexport function custom(fn, _params) {\n    return core._custom(ZodCustom, fn ?? (() => true), _params);\n}\nexport function refine(fn, _params = {}) {\n    return core._refine(ZodCustom, fn, _params);\n}\n// superRefine\nexport function superRefine(fn) {\n    return core._superRefine(fn);\n}\n// Re-export describe and meta from core\nexport const describe = core.describe;\nexport const meta = core.meta;\nfunction _instanceof(cls, params = {}) {\n    const inst = new ZodCustom({\n        type: \"custom\",\n        check: \"custom\",\n        fn: (data) => data instanceof cls,\n        abort: true,\n        ...util.normalizeParams(params),\n    });\n    inst._zod.bag.Class = cls;\n    // Override check to emit invalid_type instead of custom\n    inst._zod.check = (payload) => {\n        if (!(payload.value instanceof cls)) {\n            payload.issues.push({\n                code: \"invalid_type\",\n                expected: cls.name,\n                input: payload.value,\n                inst,\n                path: [...(inst._zod.def.path ?? [])],\n            });\n        }\n    };\n    return inst;\n}\nexport { _instanceof as instanceof };\n// stringbool\nexport const stringbool = (...args) => core._stringbool({\n    Codec: ZodCodec,\n    Boolean: ZodBoolean,\n    String: ZodString,\n}, ...args);\nexport function json(params) {\n    const jsonSchema = lazy(() => {\n        return union([string(params), number(), boolean(), _null(), array(jsonSchema), record(string(), jsonSchema)]);\n    });\n    return jsonSchema;\n}\n// preprocess\n// /** @deprecated Use `z.pipe()` and `z.transform()` instead. */\nexport function preprocess(fn, schema) {\n    return pipe(transform(fn), schema);\n}\n","import isDateObject from './isDateObject';\nimport isNullOrUndefined from './isNullOrUndefined';\n\nexport const isObjectType = (value: unknown): value is object =>\n  typeof value === 'object';\n\nexport default <T extends object>(value: unknown): value is T =>\n  !isNullOrUndefined(value) &&\n  !Array.isArray(value) &&\n  isObjectType(value) &&\n  !isDateObject(value);\n","// src/link.ts\nimport { Mark, markPasteRule, mergeAttributes } from \"@tiptap/core\";\nimport { find as find2, registerCustomProtocol, reset } from \"linkifyjs\";\n\n// src/helpers/autolink.ts\nimport { combineTransactionSteps, findChildrenInRange, getChangedRanges, getMarksBetween } from \"@tiptap/core\";\nimport { Plugin, PluginKey } from \"@tiptap/pm/state\";\nimport { tokenize } from \"linkifyjs\";\n\n// src/helpers/whitespace.ts\nvar UNICODE_WHITESPACE_PATTERN = \"[\\0- \\xA0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]\";\nvar UNICODE_WHITESPACE_REGEX = new RegExp(UNICODE_WHITESPACE_PATTERN);\nvar UNICODE_WHITESPACE_REGEX_END = new RegExp(`${UNICODE_WHITESPACE_PATTERN}$`);\nvar UNICODE_WHITESPACE_REGEX_GLOBAL = new RegExp(UNICODE_WHITESPACE_PATTERN, \"g\");\n\n// src/helpers/autolink.ts\nfunction isValidLinkStructure(tokens) {\n  if (tokens.length === 1) {\n    return tokens[0].isLink;\n  }\n  if (tokens.length === 3 && tokens[1].isLink) {\n    return [\"()\", \"[]\"].includes(tokens[0].value + tokens[2].value);\n  }\n  return false;\n}\nfunction autolink(options) {\n  return new Plugin({\n    key: new PluginKey(\"autolink\"),\n    appendTransaction: (transactions, oldState, newState) => {\n      const docChanges = transactions.some((transaction) => transaction.docChanged) && !oldState.doc.eq(newState.doc);\n      const preventAutolink = transactions.some((transaction) => transaction.getMeta(\"preventAutolink\"));\n      if (!docChanges || preventAutolink) {\n        return;\n      }\n      const { tr } = newState;\n      const transform = combineTransactionSteps(oldState.doc, [...transactions]);\n      const changes = getChangedRanges(transform);\n      changes.forEach(({ newRange }) => {\n        const nodesInChangedRanges = findChildrenInRange(newState.doc, newRange, (node) => node.isTextblock);\n        let textBlock;\n        let textBeforeWhitespace;\n        if (nodesInChangedRanges.length > 1) {\n          textBlock = nodesInChangedRanges[0];\n          textBeforeWhitespace = newState.doc.textBetween(\n            textBlock.pos,\n            textBlock.pos + textBlock.node.nodeSize,\n            void 0,\n            \" \"\n          );\n        } else if (nodesInChangedRanges.length) {\n          const endText = newState.doc.textBetween(newRange.from, newRange.to, \" \", \" \");\n          if (!UNICODE_WHITESPACE_REGEX_END.test(endText)) {\n            return;\n          }\n          textBlock = nodesInChangedRanges[0];\n          textBeforeWhitespace = newState.doc.textBetween(textBlock.pos, newRange.to, void 0, \" \");\n        }\n        if (textBlock && textBeforeWhitespace) {\n          const wordsBeforeWhitespace = textBeforeWhitespace.split(UNICODE_WHITESPACE_REGEX).filter(Boolean);\n          if (wordsBeforeWhitespace.length <= 0) {\n            return false;\n          }\n          const lastWordBeforeSpace = wordsBeforeWhitespace[wordsBeforeWhitespace.length - 1];\n          const lastWordAndBlockOffset = textBlock.pos + textBeforeWhitespace.lastIndexOf(lastWordBeforeSpace);\n          if (!lastWordBeforeSpace) {\n            return false;\n          }\n          const linksBeforeSpace = tokenize(lastWordBeforeSpace).map((t) => t.toObject(options.defaultProtocol));\n          if (!isValidLinkStructure(linksBeforeSpace)) {\n            return false;\n          }\n          linksBeforeSpace.filter((link) => link.isLink).map((link) => ({\n            ...link,\n            from: lastWordAndBlockOffset + link.start + 1,\n            to: lastWordAndBlockOffset + link.end + 1\n          })).filter((link) => {\n            if (!newState.schema.marks.code) {\n              return true;\n            }\n            return !newState.doc.rangeHasMark(link.from, link.to, newState.schema.marks.code);\n          }).filter((link) => options.validate(link.value)).filter((link) => options.shouldAutoLink(link.value)).forEach((link) => {\n            if (getMarksBetween(link.from, link.to, newState.doc).some((item) => item.mark.type === options.type)) {\n              return;\n            }\n            tr.addMark(\n              link.from,\n              link.to,\n              options.type.create({\n                href: link.href\n              })\n            );\n          });\n        }\n      });\n      if (!tr.steps.length) {\n        return;\n      }\n      return tr;\n    }\n  });\n}\n\n// src/helpers/clickHandler.ts\nimport { getAttributes } from \"@tiptap/core\";\nimport { Plugin as Plugin2, PluginKey as PluginKey2 } from \"@tiptap/pm/state\";\nfunction clickHandler(options) {\n  return new Plugin2({\n    key: new PluginKey2(\"handleClickLink\"),\n    props: {\n      handleClick: (view, pos, event) => {\n        var _a, _b;\n        if (event.button !== 0) {\n          return false;\n        }\n        if (!view.editable) {\n          return false;\n        }\n        let link = null;\n        if (event.target instanceof HTMLAnchorElement) {\n          link = event.target;\n        } else {\n          const target = event.target;\n          if (!target) {\n            return false;\n          }\n          const root = options.editor.view.dom;\n          link = target.closest(\"a\");\n          if (link && !root.contains(link)) {\n            link = null;\n          }\n        }\n        if (!link) {\n          return false;\n        }\n        let handled = false;\n        if (options.enableClickSelection) {\n          const commandResult = options.editor.commands.extendMarkRange(options.type.name);\n          handled = commandResult;\n        }\n        if (options.openOnClick) {\n          const attrs = getAttributes(view.state, options.type.name);\n          const href = (_a = link.href) != null ? _a : attrs.href;\n          const target = (_b = link.target) != null ? _b : attrs.target;\n          if (href) {\n            window.open(href, target);\n            handled = true;\n          }\n        }\n        return handled;\n      }\n    }\n  });\n}\n\n// src/helpers/pasteHandler.ts\nimport { Plugin as Plugin3, PluginKey as PluginKey3 } from \"@tiptap/pm/state\";\nimport { find } from \"linkifyjs\";\nfunction pasteHandler(options) {\n  return new Plugin3({\n    key: new PluginKey3(\"handlePasteLink\"),\n    props: {\n      handlePaste: (view, _event, slice) => {\n        const { shouldAutoLink } = options;\n        const { state } = view;\n        const { selection } = state;\n        const { empty } = selection;\n        if (empty) {\n          return false;\n        }\n        let textContent = \"\";\n        slice.content.forEach((node) => {\n          textContent += node.textContent;\n        });\n        const link = find(textContent, { defaultProtocol: options.defaultProtocol }).find(\n          (item) => item.isLink && item.value === textContent\n        );\n        if (!textContent || !link || shouldAutoLink !== void 0 && !shouldAutoLink(link.value)) {\n          return false;\n        }\n        return options.editor.commands.setMark(options.type, {\n          href: link.href\n        });\n      }\n    }\n  });\n}\n\n// src/link.ts\nvar pasteRegex = /https?:\\/\\/(?:www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z]{2,}\\b(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)/gi;\nfunction isAllowedUri(uri, protocols) {\n  const allowedProtocols = [\"http\", \"https\", \"ftp\", \"ftps\", \"mailto\", \"tel\", \"callto\", \"sms\", \"cid\", \"xmpp\"];\n  if (protocols) {\n    protocols.forEach((protocol) => {\n      const nextProtocol = typeof protocol === \"string\" ? protocol : protocol.scheme;\n      if (nextProtocol) {\n        allowedProtocols.push(nextProtocol);\n      }\n    });\n  }\n  return !uri || uri.replace(UNICODE_WHITESPACE_REGEX_GLOBAL, \"\").match(\n    new RegExp(\n      // eslint-disable-next-line no-useless-escape\n      `^(?:(?:${allowedProtocols.join(\"|\")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,\n      \"i\"\n    )\n  );\n}\nvar Link = Mark.create({\n  name: \"link\",\n  priority: 1e3,\n  keepOnSplit: false,\n  exitable: true,\n  onCreate() {\n    if (this.options.validate && !this.options.shouldAutoLink) {\n      this.options.shouldAutoLink = this.options.validate;\n      console.warn(\"The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.\");\n    }\n    this.options.protocols.forEach((protocol) => {\n      if (typeof protocol === \"string\") {\n        registerCustomProtocol(protocol);\n        return;\n      }\n      registerCustomProtocol(protocol.scheme, protocol.optionalSlashes);\n    });\n  },\n  onDestroy() {\n    reset();\n  },\n  inclusive() {\n    return this.options.autolink;\n  },\n  addOptions() {\n    return {\n      openOnClick: true,\n      enableClickSelection: false,\n      linkOnPaste: true,\n      autolink: true,\n      protocols: [],\n      defaultProtocol: \"http\",\n      HTMLAttributes: {\n        target: \"_blank\",\n        rel: \"noopener noreferrer nofollow\",\n        class: null\n      },\n      isAllowedUri: (url, ctx) => !!isAllowedUri(url, ctx.protocols),\n      validate: (url) => !!url,\n      shouldAutoLink: (url) => {\n        const hasProtocol = /^[a-z][a-z0-9+.-]*:\\/\\//i.test(url);\n        const hasMaybeProtocol = /^[a-z][a-z0-9+.-]*:/i.test(url);\n        if (hasProtocol || hasMaybeProtocol && !url.includes(\"@\")) {\n          return true;\n        }\n        const urlWithoutUserinfo = url.includes(\"@\") ? url.split(\"@\").pop() : url;\n        const hostname = urlWithoutUserinfo.split(/[/?#:]/)[0];\n        if (/^\\d{1,3}(\\.\\d{1,3}){3}$/.test(hostname)) {\n          return false;\n        }\n        if (!/\\./.test(hostname)) {\n          return false;\n        }\n        return true;\n      }\n    };\n  },\n  addAttributes() {\n    return {\n      href: {\n        default: null,\n        parseHTML(element) {\n          return element.getAttribute(\"href\");\n        }\n      },\n      target: {\n        default: this.options.HTMLAttributes.target\n      },\n      rel: {\n        default: this.options.HTMLAttributes.rel\n      },\n      class: {\n        default: this.options.HTMLAttributes.class\n      },\n      title: {\n        default: null\n      }\n    };\n  },\n  parseHTML() {\n    return [\n      {\n        tag: \"a[href]\",\n        getAttrs: (dom) => {\n          const href = dom.getAttribute(\"href\");\n          if (!href || !this.options.isAllowedUri(href, {\n            defaultValidate: (url) => !!isAllowedUri(url, this.options.protocols),\n            protocols: this.options.protocols,\n            defaultProtocol: this.options.defaultProtocol\n          })) {\n            return false;\n          }\n          return null;\n        }\n      }\n    ];\n  },\n  renderHTML({ HTMLAttributes }) {\n    if (!this.options.isAllowedUri(HTMLAttributes.href, {\n      defaultValidate: (href) => !!isAllowedUri(href, this.options.protocols),\n      protocols: this.options.protocols,\n      defaultProtocol: this.options.defaultProtocol\n    })) {\n      return [\"a\", mergeAttributes(this.options.HTMLAttributes, { ...HTMLAttributes, href: \"\" }), 0];\n    }\n    return [\"a\", mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0];\n  },\n  markdownTokenName: \"link\",\n  parseMarkdown: (token, helpers) => {\n    return helpers.applyMark(\"link\", helpers.parseInline(token.tokens || []), {\n      href: token.href,\n      title: token.title || null\n    });\n  },\n  renderMarkdown: (node, h) => {\n    var _a, _b, _c, _d;\n    const href = (_b = (_a = node.attrs) == null ? void 0 : _a.href) != null ? _b : \"\";\n    const title = (_d = (_c = node.attrs) == null ? void 0 : _c.title) != null ? _d : \"\";\n    const text = h.renderChildren(node);\n    return title ? `[${text}](${href} \"${title}\")` : `[${text}](${href})`;\n  },\n  addCommands() {\n    return {\n      setLink: (attributes) => ({ chain }) => {\n        const { href } = attributes;\n        if (!this.options.isAllowedUri(href, {\n          defaultValidate: (url) => !!isAllowedUri(url, this.options.protocols),\n          protocols: this.options.protocols,\n          defaultProtocol: this.options.defaultProtocol\n        })) {\n          return false;\n        }\n        return chain().setMark(this.name, attributes).setMeta(\"preventAutolink\", true).run();\n      },\n      toggleLink: (attributes) => ({ chain }) => {\n        const { href } = attributes || {};\n        if (href && !this.options.isAllowedUri(href, {\n          defaultValidate: (url) => !!isAllowedUri(url, this.options.protocols),\n          protocols: this.options.protocols,\n          defaultProtocol: this.options.defaultProtocol\n        })) {\n          return false;\n        }\n        return chain().toggleMark(this.name, attributes, { extendEmptyMarkRange: true }).setMeta(\"preventAutolink\", true).run();\n      },\n      unsetLink: () => ({ chain }) => {\n        return chain().unsetMark(this.name, { extendEmptyMarkRange: true }).setMeta(\"preventAutolink\", true).run();\n      }\n    };\n  },\n  addPasteRules() {\n    return [\n      markPasteRule({\n        find: (text) => {\n          const foundLinks = [];\n          if (text) {\n            const { protocols, defaultProtocol } = this.options;\n            const links = find2(text).filter(\n              (item) => item.isLink && this.options.isAllowedUri(item.value, {\n                defaultValidate: (href) => !!isAllowedUri(href, protocols),\n                protocols,\n                defaultProtocol\n              })\n            );\n            if (links.length) {\n              links.forEach((link) => {\n                if (!this.options.shouldAutoLink(link.value)) {\n                  return;\n                }\n                foundLinks.push({\n                  text: link.value,\n                  data: {\n                    href: link.href\n                  },\n                  index: link.start\n                });\n              });\n            }\n          }\n          return foundLinks;\n        },\n        type: this.type,\n        getAttributes: (match) => {\n          var _a;\n          return {\n            href: (_a = match.data) == null ? void 0 : _a.href\n          };\n        }\n      })\n    ];\n  },\n  addProseMirrorPlugins() {\n    const plugins = [];\n    const { protocols, defaultProtocol } = this.options;\n    if (this.options.autolink) {\n      plugins.push(\n        autolink({\n          type: this.type,\n          defaultProtocol: this.options.defaultProtocol,\n          validate: (url) => this.options.isAllowedUri(url, {\n            defaultValidate: (href) => !!isAllowedUri(href, protocols),\n            protocols,\n            defaultProtocol\n          }),\n          shouldAutoLink: this.options.shouldAutoLink\n        })\n      );\n    }\n    plugins.push(\n      clickHandler({\n        type: this.type,\n        editor: this.editor,\n        openOnClick: this.options.openOnClick === \"whenNotEditable\" ? true : this.options.openOnClick,\n        enableClickSelection: this.options.enableClickSelection\n      })\n    );\n    if (this.options.linkOnPaste) {\n      plugins.push(\n        pasteHandler({\n          editor: this.editor,\n          defaultProtocol: this.options.defaultProtocol,\n          type: this.type,\n          shouldAutoLink: this.options.shouldAutoLink\n        })\n      );\n    }\n    return plugins;\n  }\n});\n\n// src/index.ts\nvar index_default = Link;\nexport {\n  Link,\n  index_default as default,\n  isAllowedUri,\n  pasteRegex\n};\n//# sourceMappingURL=index.js.map","import { globalRegistry } from \"./registries.js\";\n// function initializeContext<T extends schemas.$ZodType>(inputs: JSONSchemaGeneratorParams<T>): ToJSONSchemaContext<T> {\n//   return {\n//     processor: inputs.processor,\n//     metadataRegistry: inputs.metadata ?? globalRegistry,\n//     target: inputs.target ?? \"draft-2020-12\",\n//     unrepresentable: inputs.unrepresentable ?? \"throw\",\n//   };\n// }\nexport function initializeContext(params) {\n    // Normalize target: convert old non-hyphenated versions to hyphenated versions\n    let target = params?.target ?? \"draft-2020-12\";\n    if (target === \"draft-4\")\n        target = \"draft-04\";\n    if (target === \"draft-7\")\n        target = \"draft-07\";\n    return {\n        processors: params.processors ?? {},\n        metadataRegistry: params?.metadata ?? globalRegistry,\n        target,\n        unrepresentable: params?.unrepresentable ?? \"throw\",\n        override: params?.override ?? (() => { }),\n        io: params?.io ?? \"output\",\n        counter: 0,\n        seen: new Map(),\n        cycles: params?.cycles ?? \"ref\",\n        reused: params?.reused ?? \"inline\",\n        external: params?.external ?? undefined,\n    };\n}\nexport function process(schema, ctx, _params = { path: [], schemaPath: [] }) {\n    var _a;\n    const def = schema._zod.def;\n    // check for schema in seens\n    const seen = ctx.seen.get(schema);\n    if (seen) {\n        seen.count++;\n        // check if cycle\n        const isCycle = _params.schemaPath.includes(schema);\n        if (isCycle) {\n            seen.cycle = _params.path;\n        }\n        return seen.schema;\n    }\n    // initialize\n    const result = { schema: {}, count: 1, cycle: undefined, path: _params.path };\n    ctx.seen.set(schema, result);\n    // custom method overrides default behavior\n    const overrideSchema = schema._zod.toJSONSchema?.();\n    if (overrideSchema) {\n        result.schema = overrideSchema;\n    }\n    else {\n        const params = {\n            ..._params,\n            schemaPath: [..._params.schemaPath, schema],\n            path: _params.path,\n        };\n        if (schema._zod.processJSONSchema) {\n            schema._zod.processJSONSchema(ctx, result.schema, params);\n        }\n        else {\n            const _json = result.schema;\n            const processor = ctx.processors[def.type];\n            if (!processor) {\n                throw new Error(`[toJSONSchema]: Non-representable type encountered: ${def.type}`);\n            }\n            processor(schema, ctx, _json, params);\n        }\n        const parent = schema._zod.parent;\n        if (parent) {\n            // Also set ref if processor didn't (for inheritance)\n            if (!result.ref)\n                result.ref = parent;\n            process(parent, ctx, params);\n            ctx.seen.get(parent).isParent = true;\n        }\n    }\n    // metadata\n    const meta = ctx.metadataRegistry.get(schema);\n    if (meta)\n        Object.assign(result.schema, meta);\n    if (ctx.io === \"input\" && isTransforming(schema)) {\n        // examples/defaults only apply to output type of pipe\n        delete result.schema.examples;\n        delete result.schema.default;\n    }\n    // set prefault as default\n    if (ctx.io === \"input\" && result.schema._prefault)\n        (_a = result.schema).default ?? (_a.default = result.schema._prefault);\n    delete result.schema._prefault;\n    // pulling fresh from ctx.seen in case it was overwritten\n    const _result = ctx.seen.get(schema);\n    return _result.schema;\n}\nexport function extractDefs(ctx, schema\n// params: EmitParams\n) {\n    // iterate over seen map;\n    const root = ctx.seen.get(schema);\n    if (!root)\n        throw new Error(\"Unprocessed schema. This is a bug in Zod.\");\n    // Track ids to detect duplicates across different schemas\n    const idToSchema = new Map();\n    for (const entry of ctx.seen.entries()) {\n        const id = ctx.metadataRegistry.get(entry[0])?.id;\n        if (id) {\n            const existing = idToSchema.get(id);\n            if (existing && existing !== entry[0]) {\n                throw new Error(`Duplicate schema id \"${id}\" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);\n            }\n            idToSchema.set(id, entry[0]);\n        }\n    }\n    // returns a ref to the schema\n    // defId will be empty if the ref points to an external schema (or #)\n    const makeURI = (entry) => {\n        // comparing the seen objects because sometimes\n        // multiple schemas map to the same seen object.\n        // e.g. lazy\n        // external is configured\n        const defsSegment = ctx.target === \"draft-2020-12\" ? \"$defs\" : \"definitions\";\n        if (ctx.external) {\n            const externalId = ctx.external.registry.get(entry[0])?.id; // ?? \"__shared\";// `__schema${ctx.counter++}`;\n            // check if schema is in the external registry\n            const uriGenerator = ctx.external.uri ?? ((id) => id);\n            if (externalId) {\n                return { ref: uriGenerator(externalId) };\n            }\n            // otherwise, add to __shared\n            const id = entry[1].defId ?? entry[1].schema.id ?? `schema${ctx.counter++}`;\n            entry[1].defId = id; // set defId so it will be reused if needed\n            return { defId: id, ref: `${uriGenerator(\"__shared\")}#/${defsSegment}/${id}` };\n        }\n        if (entry[1] === root) {\n            return { ref: \"#\" };\n        }\n        // self-contained schema\n        const uriPrefix = `#`;\n        const defUriPrefix = `${uriPrefix}/${defsSegment}/`;\n        const defId = entry[1].schema.id ?? `__schema${ctx.counter++}`;\n        return { defId, ref: defUriPrefix + defId };\n    };\n    // stored cached version in `def` property\n    // remove all properties, set $ref\n    const extractToDef = (entry) => {\n        // if the schema is already a reference, do not extract it\n        if (entry[1].schema.$ref) {\n            return;\n        }\n        const seen = entry[1];\n        const { ref, defId } = makeURI(entry);\n        seen.def = { ...seen.schema };\n        // defId won't be set if the schema is a reference to an external schema\n        // or if the schema is the root schema\n        if (defId)\n            seen.defId = defId;\n        // wipe away all properties except $ref\n        const schema = seen.schema;\n        for (const key in schema) {\n            delete schema[key];\n        }\n        schema.$ref = ref;\n    };\n    // throw on cycles\n    // break cycles\n    if (ctx.cycles === \"throw\") {\n        for (const entry of ctx.seen.entries()) {\n            const seen = entry[1];\n            if (seen.cycle) {\n                throw new Error(\"Cycle detected: \" +\n                    `#/${seen.cycle?.join(\"/\")}/<root>` +\n                    '\\n\\nSet the `cycles` parameter to `\"ref\"` to resolve cyclical schemas with defs.');\n            }\n        }\n    }\n    // extract schemas into $defs\n    for (const entry of ctx.seen.entries()) {\n        const seen = entry[1];\n        // convert root schema to # $ref\n        if (schema === entry[0]) {\n            extractToDef(entry); // this has special handling for the root schema\n            continue;\n        }\n        // extract schemas that are in the external registry\n        if (ctx.external) {\n            const ext = ctx.external.registry.get(entry[0])?.id;\n            if (schema !== entry[0] && ext) {\n                extractToDef(entry);\n                continue;\n            }\n        }\n        // extract schemas with `id` meta\n        const id = ctx.metadataRegistry.get(entry[0])?.id;\n        if (id) {\n            extractToDef(entry);\n            continue;\n        }\n        // break cycles\n        if (seen.cycle) {\n            // any\n            extractToDef(entry);\n            continue;\n        }\n        // extract reused schemas\n        if (seen.count > 1) {\n            if (ctx.reused === \"ref\") {\n                extractToDef(entry);\n                // biome-ignore lint:\n                continue;\n            }\n        }\n    }\n}\nexport function finalize(ctx, schema) {\n    const root = ctx.seen.get(schema);\n    if (!root)\n        throw new Error(\"Unprocessed schema. This is a bug in Zod.\");\n    // flatten refs - inherit properties from parent schemas\n    const flattenRef = (zodSchema) => {\n        const seen = ctx.seen.get(zodSchema);\n        // already processed\n        if (seen.ref === null)\n            return;\n        const schema = seen.def ?? seen.schema;\n        const _cached = { ...schema };\n        const ref = seen.ref;\n        seen.ref = null; // prevent infinite recursion\n        if (ref) {\n            flattenRef(ref);\n            const refSeen = ctx.seen.get(ref);\n            const refSchema = refSeen.schema;\n            // merge referenced schema into current\n            if (refSchema.$ref && (ctx.target === \"draft-07\" || ctx.target === \"draft-04\" || ctx.target === \"openapi-3.0\")) {\n                // older drafts can't combine $ref with other properties\n                schema.allOf = schema.allOf ?? [];\n                schema.allOf.push(refSchema);\n            }\n            else {\n                Object.assign(schema, refSchema);\n            }\n            // restore child's own properties (child wins)\n            Object.assign(schema, _cached);\n            const isParentRef = zodSchema._zod.parent === ref;\n            // For parent chain, child is a refinement - remove parent-only properties\n            if (isParentRef) {\n                for (const key in schema) {\n                    if (key === \"$ref\" || key === \"allOf\")\n                        continue;\n                    if (!(key in _cached)) {\n                        delete schema[key];\n                    }\n                }\n            }\n            // When ref was extracted to $defs, remove properties that match the definition\n            if (refSchema.$ref && refSeen.def) {\n                for (const key in schema) {\n                    if (key === \"$ref\" || key === \"allOf\")\n                        continue;\n                    if (key in refSeen.def && JSON.stringify(schema[key]) === JSON.stringify(refSeen.def[key])) {\n                        delete schema[key];\n                    }\n                }\n            }\n        }\n        // If parent was extracted (has $ref), propagate $ref to this schema\n        // This handles cases like: readonly().meta({id}).describe()\n        // where processor sets ref to innerType but parent should be referenced\n        const parent = zodSchema._zod.parent;\n        if (parent && parent !== ref) {\n            // Ensure parent is processed first so its def has inherited properties\n            flattenRef(parent);\n            const parentSeen = ctx.seen.get(parent);\n            if (parentSeen?.schema.$ref) {\n                schema.$ref = parentSeen.schema.$ref;\n                // De-duplicate with parent's definition\n                if (parentSeen.def) {\n                    for (const key in schema) {\n                        if (key === \"$ref\" || key === \"allOf\")\n                            continue;\n                        if (key in parentSeen.def && JSON.stringify(schema[key]) === JSON.stringify(parentSeen.def[key])) {\n                            delete schema[key];\n                        }\n                    }\n                }\n            }\n        }\n        // execute overrides\n        ctx.override({\n            zodSchema: zodSchema,\n            jsonSchema: schema,\n            path: seen.path ?? [],\n        });\n    };\n    for (const entry of [...ctx.seen.entries()].reverse()) {\n        flattenRef(entry[0]);\n    }\n    const result = {};\n    if (ctx.target === \"draft-2020-12\") {\n        result.$schema = \"https://json-schema.org/draft/2020-12/schema\";\n    }\n    else if (ctx.target === \"draft-07\") {\n        result.$schema = \"http://json-schema.org/draft-07/schema#\";\n    }\n    else if (ctx.target === \"draft-04\") {\n        result.$schema = \"http://json-schema.org/draft-04/schema#\";\n    }\n    else if (ctx.target === \"openapi-3.0\") {\n        // OpenAPI 3.0 schema objects should not include a $schema property\n    }\n    else {\n        // Arbitrary string values are allowed but won't have a $schema property set\n    }\n    if (ctx.external?.uri) {\n        const id = ctx.external.registry.get(schema)?.id;\n        if (!id)\n            throw new Error(\"Schema is missing an `id` property\");\n        result.$id = ctx.external.uri(id);\n    }\n    Object.assign(result, root.def ?? root.schema);\n    // build defs object\n    const defs = ctx.external?.defs ?? {};\n    for (const entry of ctx.seen.entries()) {\n        const seen = entry[1];\n        if (seen.def && seen.defId) {\n            defs[seen.defId] = seen.def;\n        }\n    }\n    // set definitions in result\n    if (ctx.external) {\n    }\n    else {\n        if (Object.keys(defs).length > 0) {\n            if (ctx.target === \"draft-2020-12\") {\n                result.$defs = defs;\n            }\n            else {\n                result.definitions = defs;\n            }\n        }\n    }\n    try {\n        // this \"finalizes\" this schema and ensures all cycles are removed\n        // each call to finalize() is functionally independent\n        // though the seen map is shared\n        const finalized = JSON.parse(JSON.stringify(result));\n        Object.defineProperty(finalized, \"~standard\", {\n            value: {\n                ...schema[\"~standard\"],\n                jsonSchema: {\n                    input: createStandardJSONSchemaMethod(schema, \"input\", ctx.processors),\n                    output: createStandardJSONSchemaMethod(schema, \"output\", ctx.processors),\n                },\n            },\n            enumerable: false,\n            writable: false,\n        });\n        return finalized;\n    }\n    catch (_err) {\n        throw new Error(\"Error converting schema to JSON.\");\n    }\n}\nfunction isTransforming(_schema, _ctx) {\n    const ctx = _ctx ?? { seen: new Set() };\n    if (ctx.seen.has(_schema))\n        return false;\n    ctx.seen.add(_schema);\n    const def = _schema._zod.def;\n    if (def.type === \"transform\")\n        return true;\n    if (def.type === \"array\")\n        return isTransforming(def.element, ctx);\n    if (def.type === \"set\")\n        return isTransforming(def.valueType, ctx);\n    if (def.type === \"lazy\")\n        return isTransforming(def.getter(), ctx);\n    if (def.type === \"promise\" ||\n        def.type === \"optional\" ||\n        def.type === \"nonoptional\" ||\n        def.type === \"nullable\" ||\n        def.type === \"readonly\" ||\n        def.type === \"default\" ||\n        def.type === \"prefault\") {\n        return isTransforming(def.innerType, ctx);\n    }\n    if (def.type === \"intersection\") {\n        return isTransforming(def.left, ctx) || isTransforming(def.right, ctx);\n    }\n    if (def.type === \"record\" || def.type === \"map\") {\n        return isTransforming(def.keyType, ctx) || isTransforming(def.valueType, ctx);\n    }\n    if (def.type === \"pipe\") {\n        return isTransforming(def.in, ctx) || isTransforming(def.out, ctx);\n    }\n    if (def.type === \"object\") {\n        for (const key in def.shape) {\n            if (isTransforming(def.shape[key], ctx))\n                return true;\n        }\n        return false;\n    }\n    if (def.type === \"union\") {\n        for (const option of def.options) {\n            if (isTransforming(option, ctx))\n                return true;\n        }\n        return false;\n    }\n    if (def.type === \"tuple\") {\n        for (const item of def.items) {\n            if (isTransforming(item, ctx))\n                return true;\n        }\n        if (def.rest && isTransforming(def.rest, ctx))\n            return true;\n        return false;\n    }\n    return false;\n}\n/**\n * Creates a toJSONSchema method for a schema instance.\n * This encapsulates the logic of initializing context, processing, extracting defs, and finalizing.\n */\nexport const createToJSONSchemaMethod = (schema, processors = {}) => (params) => {\n    const ctx = initializeContext({ ...params, processors });\n    process(schema, ctx);\n    extractDefs(ctx, schema);\n    return finalize(ctx, schema);\n};\nexport const createStandardJSONSchemaMethod = (schema, io, processors = {}) => (params) => {\n    const { libraryOptions, target } = params ?? {};\n    const ctx = initializeContext({ ...(libraryOptions ?? {}), target, io, processors });\n    process(schema, ctx);\n    extractDefs(ctx, schema);\n    return finalize(ctx, schema);\n};\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['line', { x1: '12', x2: '12', y1: '8', y2: '12', key: '1pkeuh' }],\n  ['line', { x1: '12', x2: '12.01', y1: '16', y2: '16', key: '4dfq90' }],\n];\n\n/**\n * @component @name CircleAlert\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMiIgeTE9IjgiIHkyPSIxMiIgLz4KICA8bGluZSB4MT0iMTIiIHgyPSIxMi4wMSIgeTE9IjE2IiB5Mj0iMTYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-alert\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleAlert = createLucideIcon('circle-alert', __iconNode);\n\nexport default CircleAlert;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', ry: '2', key: '1m3agn' }],\n  ['circle', { cx: '9', cy: '9', r: '2', key: 'af1f0g' }],\n  ['path', { d: 'm21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21', key: '1xmnt7' }],\n];\n\n/**\n * @component @name Image\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiByeT0iMiIgLz4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iOSIgcj0iMiIgLz4KICA8cGF0aCBkPSJtMjEgMTUtMy4wODYtMy4wODZhMiAyIDAgMCAwLTIuODI4IDBMNiAyMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/image\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Image = createLucideIcon('image', __iconNode);\n\nexport default Image;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71', key: '1cjeqo' }],\n  ['path', { d: 'M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71', key: '19qd67' }],\n];\n\n/**\n * @component @name Link\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMTNhNSA1IDAgMCAwIDcuNTQuNTRsMy0zYTUgNSAwIDAgMC03LjA3LTcuMDdsLTEuNzIgMS43MSIgLz4KICA8cGF0aCBkPSJNMTQgMTFhNSA1IDAgMCAwLTcuNTQtLjU0bC0zIDNhNSA1IDAgMCAwIDcuMDcgNy4wN2wxLjcxLTEuNzEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/link\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Link = createLucideIcon('link', __iconNode);\n\nexport default Link;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M21 5H3', key: '1fi0y6' }],\n  ['path', { d: 'M21 12H9', key: 'dn1m92' }],\n  ['path', { d: 'M21 19H7', key: '4cu937' }],\n];\n\n/**\n * @component @name TextAlignEnd\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgNUgzIiAvPgogIDxwYXRoIGQ9Ik0yMSAxMkg5IiAvPgogIDxwYXRoIGQ9Ik0yMSAxOUg3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/text-align-end\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TextAlignEnd = createLucideIcon('text-align-end', __iconNode);\n\nexport default TextAlignEnd;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M21 7v6h-6', key: '3ptur4' }],\n  ['path', { d: 'M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7', key: '1kgawr' }],\n];\n\n/**\n * @component @name Redo\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgN3Y2aC02IiAvPgogIDxwYXRoIGQ9Ik0zIDE3YTkgOSAwIDAgMSA5LTkgOSA5IDAgMCAxIDYgMi4zbDMgMi43IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/redo\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Redo = createLucideIcon('redo', __iconNode);\n\nexport default Redo;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['line', { x1: '19', x2: '10', y1: '4', y2: '4', key: '15jd3p' }],\n  ['line', { x1: '14', x2: '5', y1: '20', y2: '20', key: 'bu0au3' }],\n  ['line', { x1: '15', x2: '9', y1: '4', y2: '20', key: 'uljnxc' }],\n];\n\n/**\n * @component @name Italic\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8bGluZSB4MT0iMTkiIHgyPSIxMCIgeTE9IjQiIHkyPSI0IiAvPgogIDxsaW5lIHgxPSIxNCIgeDI9IjUiIHkxPSIyMCIgeTI9IjIwIiAvPgogIDxsaW5lIHgxPSIxNSIgeDI9IjkiIHkxPSI0IiB5Mj0iMjAiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/italic\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Italic = createLucideIcon('italic', __iconNode);\n\nexport default Italic;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '9', cy: '12', r: '1', key: '1vctgf' }],\n  ['circle', { cx: '9', cy: '5', r: '1', key: 'hp0tcf' }],\n  ['circle', { cx: '9', cy: '19', r: '1', key: 'fkjjf6' }],\n  ['circle', { cx: '15', cy: '12', r: '1', key: '1tmaij' }],\n  ['circle', { cx: '15', cy: '5', r: '1', key: '19l28e' }],\n  ['circle', { cx: '15', cy: '19', r: '1', key: 'f4zoj3' }],\n];\n\n/**\n * @component @name GripVertical\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSI5IiBjeT0iMTIiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iOSIgY3k9IjUiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iOSIgY3k9IjE5IiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTIiIHI9IjEiIC8+CiAgPGNpcmNsZSBjeD0iMTUiIGN5PSI1IiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjE1IiBjeT0iMTkiIHI9IjEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/grip-vertical\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst GripVertical = createLucideIcon('grip-vertical', __iconNode);\n\nexport default GripVertical;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    { d: 'M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8', key: 'mg9rjx' },\n  ],\n];\n\n/**\n * @component @name Bold\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNiAxMmg5YTQgNCAwIDAgMSAwIDhIN2ExIDEgMCAwIDEtMS0xVjVhMSAxIDAgMCAxIDEtMWg3YTQgNCAwIDAgMSAwIDgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/bold\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Bold = createLucideIcon('bold', __iconNode);\n\nexport default Bold;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M4 12h8', key: '17cfdx' }],\n  ['path', { d: 'M4 18V6', key: '1rz3zl' }],\n  ['path', { d: 'M12 18V6', key: 'zqpxq5' }],\n  ['path', { d: 'M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1', key: '9jr5yi' }],\n];\n\n/**\n * @component @name Heading2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxMmg4IiAvPgogIDxwYXRoIGQ9Ik00IDE4VjYiIC8+CiAgPHBhdGggZD0iTTEyIDE4VjYiIC8+CiAgPHBhdGggZD0iTTIxIDE4aC00YzAtNCA0LTMgNC02IDAtMS41LTItMi41LTQtMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/heading-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Heading2 = createLucideIcon('heading-2', __iconNode);\n\nexport default Heading2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M4 12h8', key: '17cfdx' }],\n  ['path', { d: 'M4 18V6', key: '1rz3zl' }],\n  ['path', { d: 'M12 18V6', key: 'zqpxq5' }],\n  ['path', { d: 'M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2', key: '68ncm8' }],\n  ['path', { d: 'M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2', key: '1ejuhz' }],\n];\n\n/**\n * @component @name Heading3\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNCAxMmg4IiAvPgogIDxwYXRoIGQ9Ik00IDE4VjYiIC8+CiAgPHBhdGggZD0iTTEyIDE4VjYiIC8+CiAgPHBhdGggZD0iTTE3LjUgMTAuNWMxLjctMSAzLjUgMCAzLjUgMS41YTIgMiAwIDAgMS0yIDIiIC8+CiAgPHBhdGggZD0iTTE3IDE3LjVjMiAxLjUgNCAuMyA0LTEuNWEyIDIgMCAwIDAtMi0yIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/heading-3\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Heading3 = createLucideIcon('heading-3', __iconNode);\n\nexport default Heading3;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72',\n      key: 'ul74o6',\n    },\n  ],\n  ['path', { d: 'm14 7 3 3', key: '1r5n42' }],\n  ['path', { d: 'M5 6v4', key: 'ilb8ba' }],\n  ['path', { d: 'M19 14v4', key: 'blhpug' }],\n  ['path', { d: 'M10 2v2', key: '7u0qdc' }],\n  ['path', { d: 'M7 8H3', key: 'zfb6yr' }],\n  ['path', { d: 'M21 16h-4', key: '1cnmox' }],\n  ['path', { d: 'M11 3H9', key: '1obp7u' }],\n];\n\n/**\n * @component @name WandSparkles\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEuNjQgMy42NC0xLjI4LTEuMjhhMS4yMSAxLjIxIDAgMCAwLTEuNzIgMEwyLjM2IDE4LjY0YTEuMjEgMS4yMSAwIDAgMCAwIDEuNzJsMS4yOCAxLjI4YTEuMiAxLjIgMCAwIDAgMS43MiAwTDIxLjY0IDUuMzZhMS4yIDEuMiAwIDAgMCAwLTEuNzIiIC8+CiAgPHBhdGggZD0ibTE0IDcgMyAzIiAvPgogIDxwYXRoIGQ9Ik01IDZ2NCIgLz4KICA8cGF0aCBkPSJNMTkgMTR2NCIgLz4KICA8cGF0aCBkPSJNMTAgMnYyIiAvPgogIDxwYXRoIGQ9Ik03IDhIMyIgLz4KICA8cGF0aCBkPSJNMjEgMTZoLTQiIC8+CiAgPHBhdGggZD0iTTExIDNIOSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/wand-sparkles\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst WandSparkles = createLucideIcon('wand-sparkles', __iconNode);\n\nexport default WandSparkles;\n","export type Attributes = Record<string, any>\n\nexport type DOMOutputSpecElement = 0 | Attributes | DOMOutputSpecArray\n/**\n * Better describes the output of a `renderHTML` function in prosemirror\n * @see https://prosemirror.net/docs/ref/#model.DOMOutputSpec\n */\nexport type DOMOutputSpecArray =\n  | [string]\n  | [string, Attributes]\n  | [string, 0]\n  | [string, Attributes, 0]\n  | [string, Attributes, DOMOutputSpecArray | 0]\n  | [string, DOMOutputSpecArray]\n\n// JSX types for Tiptap's JSX runtime\n// These types only apply when using @jsxImportSource @tiptap/core\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace JSX {\n  export type Element = DOMOutputSpecArray\n  export interface IntrinsicElements {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    [key: string]: any\n  }\n  export interface ElementChildrenAttribute {\n    children: unknown\n  }\n}\n\nexport type JSXRenderer = (\n  tag: 'slot' | string | ((props?: Attributes) => DOMOutputSpecArray | DOMOutputSpecElement),\n  props?: Attributes,\n  ...children: JSXRenderer[]\n) => DOMOutputSpecArray | DOMOutputSpecElement\n\nexport function Fragment(props: { children: JSXRenderer[] }) {\n  return props.children\n}\n\nexport const h: JSXRenderer = (tag, attributes) => {\n  // Treat the slot tag as the Prosemirror hole to render content into\n  if (tag === 'slot') {\n    return 0\n  }\n\n  // If the tag is a function, call it with the props\n  if (tag instanceof Function) {\n    return tag(attributes)\n  }\n\n  const { children, ...rest } = attributes ?? {}\n\n  if (tag === 'svg') {\n    throw new Error('SVG elements are not supported in the JSX syntax, use the array syntax instead')\n  }\n\n  // Otherwise, return the tag, attributes, and children\n  return [tag, rest, children]\n}\n\n// See\n// https://esbuild.github.io/api/#jsx-import-source\n// https://www.typescriptlang.org/tsconfig/#jsxImportSource\n\nexport { h as createElement, h as jsx, h as jsxDEV, h as jsxs }\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M11 5h10', key: '1cz7ny' }],\n  ['path', { d: 'M11 12h10', key: '1438ji' }],\n  ['path', { d: 'M11 19h10', key: '11t30w' }],\n  ['path', { d: 'M4 4h1v5', key: '10yrso' }],\n  ['path', { d: 'M4 9h2', key: 'r1h2o0' }],\n  ['path', { d: 'M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02', key: 'xtkcd5' }],\n];\n\n/**\n * @component @name ListOrdered\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgNWgxMCIgLz4KICA8cGF0aCBkPSJNMTEgMTJoMTAiIC8+CiAgPHBhdGggZD0iTTExIDE5aDEwIiAvPgogIDxwYXRoIGQ9Ik00IDRoMXY1IiAvPgogIDxwYXRoIGQ9Ik00IDloMiIgLz4KICA8cGF0aCBkPSJNNi41IDIwSDMuNGMwLTEgMi42LTEuOTI1IDIuNi0zLjVhMS41IDEuNSAwIDAgMC0yLjYtMS4wMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/list-ordered\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ListOrdered = createLucideIcon('list-ordered', __iconNode);\n\nexport default ListOrdered;\n","import * as React from 'react';\nimport { composeRefs } from '@radix-ui/react-compose-refs';\n\n/* -------------------------------------------------------------------------------------------------\n * Slot\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotProps extends React.HTMLAttributes<HTMLElement> {\n  children?: React.ReactNode;\n}\n\n/* @__NO_SIDE_EFFECTS__ */ export function createSlot(ownerName: string) {\n  const SlotClone = createSlotClone(ownerName);\n  const Slot = React.forwardRef<HTMLElement, SlotProps>((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n    const childrenArray = React.Children.toArray(children);\n    const slottable = childrenArray.find(isSlottable);\n\n    if (slottable) {\n      // the new element to render is the one passed as a child of `Slottable`\n      const newElement = slottable.props.children;\n\n      const newChildren = childrenArray.map((child) => {\n        if (child === slottable) {\n          // because the new element will be the one rendered, we are only interested\n          // in grabbing its children (`newElement.props.children`)\n          if (React.Children.count(newElement) > 1) return React.Children.only(null);\n          return React.isValidElement(newElement)\n            ? (newElement.props as { children: React.ReactNode }).children\n            : null;\n        } else {\n          return child;\n        }\n      });\n\n      return (\n        <SlotClone {...slotProps} ref={forwardedRef}>\n          {React.isValidElement(newElement)\n            ? React.cloneElement(newElement, undefined, newChildren)\n            : null}\n        </SlotClone>\n      );\n    }\n\n    return (\n      <SlotClone {...slotProps} ref={forwardedRef}>\n        {children}\n      </SlotClone>\n    );\n  });\n\n  Slot.displayName = `${ownerName}.Slot`;\n  return Slot;\n}\n\nconst Slot = createSlot('Slot');\n\n/* -------------------------------------------------------------------------------------------------\n * SlotClone\n * -----------------------------------------------------------------------------------------------*/\n\ninterface SlotCloneProps {\n  children: React.ReactNode;\n}\n\n/* @__NO_SIDE_EFFECTS__ */ function createSlotClone(ownerName: string) {\n  const SlotClone = React.forwardRef<any, SlotCloneProps>((props, forwardedRef) => {\n    const { children, ...slotProps } = props;\n\n    if (React.isValidElement(children)) {\n      const childrenRef = getElementRef(children);\n      const props = mergeProps(slotProps, children.props as AnyProps);\n      // do not pass ref to React.Fragment for React 19 compatibility\n      if (children.type !== React.Fragment) {\n        props.ref = forwardedRef ? composeRefs(forwardedRef, childrenRef) : childrenRef;\n      }\n      return React.cloneElement(children, props);\n    }\n\n    return React.Children.count(children) > 1 ? React.Children.only(null) : null;\n  });\n\n  SlotClone.displayName = `${ownerName}.SlotClone`;\n  return SlotClone;\n}\n\n/* -------------------------------------------------------------------------------------------------\n * Slottable\n * -----------------------------------------------------------------------------------------------*/\n\nconst SLOTTABLE_IDENTIFIER = Symbol('radix.slottable');\n\ninterface SlottableProps {\n  children: React.ReactNode;\n}\n\ninterface SlottableComponent extends React.FC<SlottableProps> {\n  __radixId: symbol;\n}\n\n/* @__NO_SIDE_EFFECTS__ */ export function createSlottable(ownerName: string) {\n  const Slottable: SlottableComponent = ({ children }) => {\n    return <>{children}</>;\n  };\n  Slottable.displayName = `${ownerName}.Slottable`;\n  Slottable.__radixId = SLOTTABLE_IDENTIFIER;\n  return Slottable;\n}\n\nconst Slottable = createSlottable('Slottable');\n\n/* ---------------------------------------------------------------------------------------------- */\n\ntype AnyProps = Record<string, any>;\n\nfunction isSlottable(\n  child: React.ReactNode\n): child is React.ReactElement<SlottableProps, typeof Slottable> {\n  return (\n    React.isValidElement(child) &&\n    typeof child.type === 'function' &&\n    '__radixId' in child.type &&\n    child.type.__radixId === SLOTTABLE_IDENTIFIER\n  );\n}\n\nfunction mergeProps(slotProps: AnyProps, childProps: AnyProps) {\n  // all child props should override\n  const overrideProps = { ...childProps };\n\n  for (const propName in childProps) {\n    const slotPropValue = slotProps[propName];\n    const childPropValue = childProps[propName];\n\n    const isHandler = /^on[A-Z]/.test(propName);\n    if (isHandler) {\n      // if the handler exists on both, we compose them\n      if (slotPropValue && childPropValue) {\n        overrideProps[propName] = (...args: unknown[]) => {\n          const result = childPropValue(...args);\n          slotPropValue(...args);\n          return result;\n        };\n      }\n      // but if it exists only on the slot, we use only this one\n      else if (slotPropValue) {\n        overrideProps[propName] = slotPropValue;\n      }\n    }\n    // if it's `style`, we merge them\n    else if (propName === 'style') {\n      overrideProps[propName] = { ...slotPropValue, ...childPropValue };\n    } else if (propName === 'className') {\n      overrideProps[propName] = [slotPropValue, childPropValue].filter(Boolean).join(' ');\n    }\n  }\n\n  return { ...slotProps, ...overrideProps };\n}\n\n// Before React 19 accessing `element.props.ref` will throw a warning and suggest using `element.ref`\n// After React 19 accessing `element.ref` does the opposite.\n// https://github.com/facebook/react/pull/28348\n//\n// Access the ref using the method that doesn't yield a warning.\nfunction getElementRef(element: React.ReactElement) {\n  // React <=18 in DEV\n  let getter = Object.getOwnPropertyDescriptor(element.props, 'ref')?.get;\n  let mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return (element as any).ref;\n  }\n\n  // React 19 in DEV\n  getter = Object.getOwnPropertyDescriptor(element, 'ref')?.get;\n  mayWarn = getter && 'isReactWarning' in getter && getter.isReactWarning;\n  if (mayWarn) {\n    return (element.props as { ref?: React.Ref<unknown> }).ref;\n  }\n\n  // Not DEV\n  return (element.props as { ref?: React.Ref<unknown> }).ref || (element as any).ref;\n}\n\nexport {\n  Slot,\n  Slottable,\n  //\n  Slot as Root,\n};\nexport type { SlotProps };\n","// src/starter-kit.ts\nimport { Extension } from \"@tiptap/core\";\nimport { Blockquote } from \"@tiptap/extension-blockquote\";\nimport { Bold } from \"@tiptap/extension-bold\";\nimport { Code } from \"@tiptap/extension-code\";\nimport { CodeBlock } from \"@tiptap/extension-code-block\";\nimport { Document } from \"@tiptap/extension-document\";\nimport { HardBreak } from \"@tiptap/extension-hard-break\";\nimport { Heading } from \"@tiptap/extension-heading\";\nimport { HorizontalRule } from \"@tiptap/extension-horizontal-rule\";\nimport { Italic } from \"@tiptap/extension-italic\";\nimport { Link } from \"@tiptap/extension-link\";\nimport { BulletList, ListItem, ListKeymap, OrderedList } from \"@tiptap/extension-list\";\nimport { Paragraph } from \"@tiptap/extension-paragraph\";\nimport { Strike } from \"@tiptap/extension-strike\";\nimport { Text } from \"@tiptap/extension-text\";\nimport { Underline } from \"@tiptap/extension-underline\";\nimport { Dropcursor, Gapcursor, TrailingNode, UndoRedo } from \"@tiptap/extensions\";\nvar StarterKit = Extension.create({\n  name: \"starterKit\",\n  addExtensions() {\n    var _a, _b, _c, _d;\n    const extensions = [];\n    if (this.options.bold !== false) {\n      extensions.push(Bold.configure(this.options.bold));\n    }\n    if (this.options.blockquote !== false) {\n      extensions.push(Blockquote.configure(this.options.blockquote));\n    }\n    if (this.options.bulletList !== false) {\n      extensions.push(BulletList.configure(this.options.bulletList));\n    }\n    if (this.options.code !== false) {\n      extensions.push(Code.configure(this.options.code));\n    }\n    if (this.options.codeBlock !== false) {\n      extensions.push(CodeBlock.configure(this.options.codeBlock));\n    }\n    if (this.options.document !== false) {\n      extensions.push(Document.configure(this.options.document));\n    }\n    if (this.options.dropcursor !== false) {\n      extensions.push(Dropcursor.configure(this.options.dropcursor));\n    }\n    if (this.options.gapcursor !== false) {\n      extensions.push(Gapcursor.configure(this.options.gapcursor));\n    }\n    if (this.options.hardBreak !== false) {\n      extensions.push(HardBreak.configure(this.options.hardBreak));\n    }\n    if (this.options.heading !== false) {\n      extensions.push(Heading.configure(this.options.heading));\n    }\n    if (this.options.undoRedo !== false) {\n      extensions.push(UndoRedo.configure(this.options.undoRedo));\n    }\n    if (this.options.horizontalRule !== false) {\n      extensions.push(HorizontalRule.configure(this.options.horizontalRule));\n    }\n    if (this.options.italic !== false) {\n      extensions.push(Italic.configure(this.options.italic));\n    }\n    if (this.options.listItem !== false) {\n      extensions.push(ListItem.configure(this.options.listItem));\n    }\n    if (this.options.listKeymap !== false) {\n      extensions.push(ListKeymap.configure((_a = this.options) == null ? void 0 : _a.listKeymap));\n    }\n    if (this.options.link !== false) {\n      extensions.push(Link.configure((_b = this.options) == null ? void 0 : _b.link));\n    }\n    if (this.options.orderedList !== false) {\n      extensions.push(OrderedList.configure(this.options.orderedList));\n    }\n    if (this.options.paragraph !== false) {\n      extensions.push(Paragraph.configure(this.options.paragraph));\n    }\n    if (this.options.strike !== false) {\n      extensions.push(Strike.configure(this.options.strike));\n    }\n    if (this.options.text !== false) {\n      extensions.push(Text.configure(this.options.text));\n    }\n    if (this.options.underline !== false) {\n      extensions.push(Underline.configure((_c = this.options) == null ? void 0 : _c.underline));\n    }\n    if (this.options.trailingNode !== false) {\n      extensions.push(TrailingNode.configure((_d = this.options) == null ? void 0 : _d.trailingNode));\n    }\n    return extensions;\n  }\n});\n\n// src/index.ts\nvar index_default = StarterKit;\nexport {\n  StarterKit,\n  index_default as default\n};\n//# sourceMappingURL=index.js.map","import { allProcessors } from \"./json-schema-processors.js\";\nimport { extractDefs, finalize, initializeContext, process, } from \"./to-json-schema.js\";\n/**\n * Legacy class-based interface for JSON Schema generation.\n * This class wraps the new functional implementation to provide backward compatibility.\n *\n * @deprecated Use the `toJSONSchema` function instead for new code.\n *\n * @example\n * ```typescript\n * // Legacy usage (still supported)\n * const gen = new JSONSchemaGenerator({ target: \"draft-07\" });\n * gen.process(schema);\n * const result = gen.emit(schema);\n *\n * // Preferred modern usage\n * const result = toJSONSchema(schema, { target: \"draft-07\" });\n * ```\n */\nexport class JSONSchemaGenerator {\n    /** @deprecated Access via ctx instead */\n    get metadataRegistry() {\n        return this.ctx.metadataRegistry;\n    }\n    /** @deprecated Access via ctx instead */\n    get target() {\n        return this.ctx.target;\n    }\n    /** @deprecated Access via ctx instead */\n    get unrepresentable() {\n        return this.ctx.unrepresentable;\n    }\n    /** @deprecated Access via ctx instead */\n    get override() {\n        return this.ctx.override;\n    }\n    /** @deprecated Access via ctx instead */\n    get io() {\n        return this.ctx.io;\n    }\n    /** @deprecated Access via ctx instead */\n    get counter() {\n        return this.ctx.counter;\n    }\n    set counter(value) {\n        this.ctx.counter = value;\n    }\n    /** @deprecated Access via ctx instead */\n    get seen() {\n        return this.ctx.seen;\n    }\n    constructor(params) {\n        // Normalize target for internal context\n        let normalizedTarget = params?.target ?? \"draft-2020-12\";\n        if (normalizedTarget === \"draft-4\")\n            normalizedTarget = \"draft-04\";\n        if (normalizedTarget === \"draft-7\")\n            normalizedTarget = \"draft-07\";\n        this.ctx = initializeContext({\n            processors: allProcessors,\n            target: normalizedTarget,\n            ...(params?.metadata && { metadata: params.metadata }),\n            ...(params?.unrepresentable && { unrepresentable: params.unrepresentable }),\n            ...(params?.override && { override: params.override }),\n            ...(params?.io && { io: params.io }),\n        });\n    }\n    /**\n     * Process a schema to prepare it for JSON Schema generation.\n     * This must be called before emit().\n     */\n    process(schema, _params = { path: [], schemaPath: [] }) {\n        return process(schema, this.ctx, _params);\n    }\n    /**\n     * Emit the final JSON Schema after processing.\n     * Must call process() first.\n     */\n    emit(schema, _params) {\n        // Apply emit params to the context\n        if (_params) {\n            if (_params.cycles)\n                this.ctx.cycles = _params.cycles;\n            if (_params.reused)\n                this.ctx.reused = _params.reused;\n            if (_params.external)\n                this.ctx.external = _params.external;\n        }\n        extractDefs(this.ctx, schema);\n        const result = finalize(this.ctx, schema);\n        // Strip ~standard property to match old implementation's return type\n        const { \"~standard\": _, ...plainResult } = result;\n        return plainResult;\n    }\n}\n","export default (name: string) =>\n  name.substring(0, name.search(/\\.\\d+(\\.|$)/)) || name;\n","import type { InternalFieldName } from '../types';\n\nimport getNodeParentName from './getNodeParentName';\n\nexport default (names: Set<InternalFieldName>, name: InternalFieldName) =>\n  names.has(getNodeParentName(name));\n","import isObject from './isObject';\n\nexport default (tempObject: object) => {\n  const prototypeCopy =\n    tempObject.constructor && tempObject.constructor.prototype;\n\n  return (\n    isObject(prototypeCopy) && prototypeCopy.hasOwnProperty('isPrototypeOf')\n  );\n};\n","export default typeof window !== 'undefined' &&\n  typeof window.HTMLElement !== 'undefined' &&\n  typeof document !== 'undefined';\n","import isObject from './isObject';\nimport isPlainObject from './isPlainObject';\nimport isWeb from './isWeb';\n\nexport default function cloneObject<T>(data: T): T {\n  if (data instanceof Date) {\n    return new Date(data) as any;\n  }\n\n  const isFileListInstance =\n    typeof FileList !== 'undefined' && data instanceof FileList;\n\n  if (isWeb && (data instanceof Blob || isFileListInstance)) {\n    return data;\n  }\n\n  const isArray = Array.isArray(data);\n\n  if (!isArray && !(isObject(data) && isPlainObject(data))) {\n    return data;\n  }\n\n  const copy = isArray ? [] : Object.create(Object.getPrototypeOf(data));\n\n  for (const key in data) {\n    if (Object.prototype.hasOwnProperty.call(data, key)) {\n      copy[key] = cloneObject(data[key]);\n    }\n  }\n\n  return copy;\n}\n","import compact from './compact';\n\nexport default (input: string): string[] =>\n  compact(input.replace(/[\"|']|\\]/g, '').split(/\\.|\\[/));\n","import isKey from './isKey';\nimport isNullOrUndefined from './isNullOrUndefined';\nimport isObject from './isObject';\nimport isUndefined from './isUndefined';\nimport stringToPath from './stringToPath';\n\nexport default <T>(\n  object: T,\n  path?: string | null,\n  defaultValue?: unknown,\n): any => {\n  if (!path || !isObject(object)) {\n    return defaultValue;\n  }\n\n  const result = (isKey(path) ? [path] : stringToPath(path)).reduce(\n    (result, key) =>\n      isNullOrUndefined(result) ? result : result[key as keyof T & object],\n    object,\n  );\n\n  return isUndefined(result) || result === object\n    ? isUndefined(object[path as keyof T])\n      ? defaultValue\n      : object[path as keyof T]\n    : result;\n};\n","import type { Dictionary, PrimitiveWrapper, State, TypedArray } from './internalTypes.js';\nimport { getStrictProperties, hasOwn, sameValueZeroEqual } from './utils.js';\n\nconst PREACT_VNODE = '__v';\nconst PREACT_OWNER = '__o';\nconst REACT_OWNER = '_owner';\n\nconst { getOwnPropertyDescriptor, keys } = Object;\n\n/**\n * Whether the array buffers are equal in value.\n */\nexport function areArrayBuffersEqual(a: ArrayBuffer, b: ArrayBuffer): boolean {\n  return a.byteLength === b.byteLength && areTypedArraysEqual(new Uint8Array(a), new Uint8Array(b));\n}\n\n/**\n * Whether the arrays are equal in value.\n */\nexport function areArraysEqual(a: any[], b: any[], state: State<any>) {\n  let index = a.length;\n\n  if (b.length !== index) {\n    return false;\n  }\n\n  while (index-- > 0) {\n    if (!state.equals(a[index], b[index], index, index, a, b, state)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Whether the dataviews are equal in value.\n */\nexport function areDataViewsEqual(a: DataView, b: DataView): boolean {\n  return (\n    a.byteLength === b.byteLength\n    && areTypedArraysEqual(\n      new Uint8Array(a.buffer, a.byteOffset, a.byteLength),\n      new Uint8Array(b.buffer, b.byteOffset, b.byteLength),\n    )\n  );\n}\n\n/**\n * Whether the dates passed are equal in value.\n */\nexport function areDatesEqual(a: Date, b: Date): boolean {\n  return sameValueZeroEqual(a.getTime(), b.getTime());\n}\n\n/**\n * Whether the errors passed are equal in value.\n */\nexport function areErrorsEqual(a: Error, b: Error): boolean {\n  return a.name === b.name && a.message === b.message && a.cause === b.cause && a.stack === b.stack;\n}\n\n/**\n * Whether the functions passed are equal in value.\n */\nexport function areFunctionsEqual(a: (...args: any[]) => any, b: (...args: any[]) => any): boolean {\n  return a === b;\n}\n\n/**\n * Whether the `Map`s are equal in value.\n */\nexport function areMapsEqual(a: Map<any, any>, b: Map<any, any>, state: State<any>): boolean {\n  const size = a.size;\n\n  if (size !== b.size) {\n    return false;\n  }\n\n  if (!size) {\n    return true;\n  }\n\n  const matchedIndices = new Array<true | undefined>(size);\n  const aIterable = a.entries();\n\n  let aResult: IteratorResult<[any, any]>;\n  let bResult: IteratorResult<[any, any]>;\n  let index = 0;\n\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n  while ((aResult = aIterable.next())) {\n    if (aResult.done) {\n      break;\n    }\n\n    const bIterable = b.entries();\n\n    let hasMatch = false;\n    let matchIndex = 0;\n\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    while ((bResult = bIterable.next())) {\n      if (bResult.done) {\n        break;\n      }\n\n      if (matchedIndices[matchIndex]) {\n        matchIndex++;\n        continue;\n      }\n\n      const aEntry = aResult.value;\n      const bEntry = bResult.value;\n\n      if (\n        state.equals(aEntry[0], bEntry[0], index, matchIndex, a, b, state)\n        && state.equals(aEntry[1], bEntry[1], aEntry[0], bEntry[0], a, b, state)\n      ) {\n        hasMatch = matchedIndices[matchIndex] = true;\n        break;\n      }\n\n      matchIndex++;\n    }\n\n    if (!hasMatch) {\n      return false;\n    }\n\n    index++;\n  }\n\n  return true;\n}\n\n/**\n * Whether the numbers are equal in value.\n */\nexport const areNumbersEqual = sameValueZeroEqual;\n\n/**\n * Whether the objects are equal in value.\n */\nexport function areObjectsEqual(a: Dictionary, b: Dictionary, state: State<any>): boolean {\n  const properties = keys(a);\n\n  let index = properties.length;\n\n  if (keys(b).length !== index) {\n    return false;\n  }\n\n  // Decrementing `while` showed faster results than either incrementing or\n  // decrementing `for` loop and than an incrementing `while` loop. Declarative\n  // methods like `some` / `every` were not used to avoid incurring the garbage\n  // cost of anonymous callbacks.\n  while (index-- > 0) {\n    if (!isPropertyEqual(a, b, state, properties[index]!)) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Whether the objects are equal in value with strict property checking.\n */\nexport function areObjectsEqualStrict(a: Dictionary, b: Dictionary, state: State<any>): boolean {\n  const properties = getStrictProperties(a);\n\n  let index = properties.length;\n\n  if (getStrictProperties(b).length !== index) {\n    return false;\n  }\n\n  let property: string | symbol;\n  let descriptorA: ReturnType<typeof getOwnPropertyDescriptor>;\n  let descriptorB: ReturnType<typeof getOwnPropertyDescriptor>;\n\n  // Decrementing `while` showed faster results than either incrementing or\n  // decrementing `for` loop and than an incrementing `while` loop. Declarative\n  // methods like `some` / `every` were not used to avoid incurring the garbage\n  // cost of anonymous callbacks.\n  while (index-- > 0) {\n    property = properties[index]!;\n\n    if (!isPropertyEqual(a, b, state, property)) {\n      return false;\n    }\n\n    descriptorA = getOwnPropertyDescriptor(a, property);\n    descriptorB = getOwnPropertyDescriptor(b, property);\n\n    if (\n      (descriptorA || descriptorB)\n      && (!descriptorA\n        || !descriptorB\n        || descriptorA.configurable !== descriptorB.configurable\n        || descriptorA.enumerable !== descriptorB.enumerable\n        || descriptorA.writable !== descriptorB.writable)\n    ) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Whether the primitive wrappers passed are equal in value.\n */\nexport function arePrimitiveWrappersEqual(a: PrimitiveWrapper, b: PrimitiveWrapper): boolean {\n  return sameValueZeroEqual(a.valueOf(), b.valueOf());\n}\n\n/**\n * Whether the regexps passed are equal in value.\n */\nexport function areRegExpsEqual(a: RegExp, b: RegExp): boolean {\n  return a.source === b.source && a.flags === b.flags;\n}\n\n/**\n * Whether the `Set`s are equal in value.\n */\nexport function areSetsEqual(a: Set<any>, b: Set<any>, state: State<any>): boolean {\n  const size = a.size;\n\n  if (size !== b.size) {\n    return false;\n  }\n\n  if (!size) {\n    return true;\n  }\n\n  const matchedIndices = new Array<true | undefined>(size);\n  const aIterable = a.values();\n\n  let aResult: IteratorResult<any>;\n  let bResult: IteratorResult<any>;\n\n  // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n  while ((aResult = aIterable.next())) {\n    if (aResult.done) {\n      break;\n    }\n\n    const bIterable = b.values();\n\n    let hasMatch = false;\n    let matchIndex = 0;\n\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n    while ((bResult = bIterable.next())) {\n      if (bResult.done) {\n        break;\n      }\n\n      if (\n        !matchedIndices[matchIndex]\n        && state.equals(aResult.value, bResult.value, aResult.value, bResult.value, a, b, state)\n      ) {\n        hasMatch = matchedIndices[matchIndex] = true;\n        break;\n      }\n\n      matchIndex++;\n    }\n\n    if (!hasMatch) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Whether the TypedArray instances are equal in value.\n */\nexport function areTypedArraysEqual(a: TypedArray, b: TypedArray) {\n  let index = a.byteLength;\n\n  if (b.byteLength !== index || a.byteOffset !== b.byteOffset) {\n    return false;\n  }\n\n  while (index-- > 0) {\n    if (a[index] !== b[index]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Whether the URL instances are equal in value.\n */\nexport function areUrlsEqual(a: URL, b: URL): boolean {\n  return (\n    a.hostname === b.hostname\n    && a.pathname === b.pathname\n    && a.protocol === b.protocol\n    && a.port === b.port\n    && a.hash === b.hash\n    && a.username === b.username\n    && a.password === b.password\n  );\n}\n\nfunction isPropertyEqual(a: Dictionary, b: Dictionary, state: State<any>, property: string | symbol) {\n  if (\n    (property === REACT_OWNER || property === PREACT_OWNER || property === PREACT_VNODE)\n    && (a.$$typeof || b.$$typeof)\n  ) {\n    return true;\n  }\n\n  return hasOwn(b, property) && state.equals(a[property], b[property], property, property, a, b, state);\n}\n","export default (value: unknown): value is Function =>\n  typeof value === 'function';\n","import type { FieldPath, FieldValues } from '../types';\n\nimport isKey from './isKey';\nimport isObject from './isObject';\nimport stringToPath from './stringToPath';\n\nexport default (\n  object: FieldValues,\n  path: FieldPath<FieldValues>,\n  value?: unknown,\n) => {\n  let index = -1;\n  const tempPath = isKey(path) ? [path] : stringToPath(path);\n  const length = tempPath.length;\n  const lastIndex = length - 1;\n\n  while (++index < length) {\n    const key = tempPath[index];\n    let newValue = value;\n\n    if (index !== lastIndex) {\n      const objValue = object[key];\n      newValue =\n        isObject(objValue) || Array.isArray(objValue)\n          ? objValue\n          : !isNaN(+tempPath[index + 1])\n            ? []\n            : {};\n    }\n\n    if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n      return;\n    }\n\n    object[key] = newValue;\n    object = object[key];\n  }\n};\n","export const EVENTS = {\n  BLUR: 'blur',\n  FOCUS_OUT: 'focusout',\n  CHANGE: 'change',\n} as const;\n\nexport const VALIDATION_MODE = {\n  onBlur: 'onBlur',\n  onChange: 'onChange',\n  onSubmit: 'onSubmit',\n  onTouched: 'onTouched',\n  all: 'all',\n} as const;\n\nexport const INPUT_VALIDATION_RULES = {\n  max: 'max',\n  min: 'min',\n  maxLength: 'maxLength',\n  minLength: 'minLength',\n  pattern: 'pattern',\n  required: 'required',\n  validate: 'validate',\n} as const;\n","import React from 'react';\n\nimport type { Control, FieldValues } from './types';\n\n/**\n * Separate context for `control` to prevent unnecessary rerenders.\n * Internal hooks that only need control use this instead of full form context.\n */\nexport const HookFormControlContext = React.createContext<Control | null>(null);\nHookFormControlContext.displayName = 'HookFormControlContext';\n\n/**\n * @internal Internal hook to access only control from context.\n */\nexport const useFormControlContext = <\n  TFieldValues extends FieldValues,\n  TContext = any,\n  TTransformedValues = TFieldValues,\n>(): Control<TFieldValues, TContext, TTransformedValues> =>\n  React.useContext(HookFormControlContext) as Control<\n    TFieldValues,\n    TContext,\n    TTransformedValues\n  >;\n","import { VALIDATION_MODE } from '../constants';\nimport type { Control, FieldValues, FormState, ReadFormState } from '../types';\n\nexport default <\n  TFieldValues extends FieldValues,\n  TContext = any,\n  TTransformedValues = TFieldValues,\n>(\n  formState: FormState<TFieldValues>,\n  control: Control<TFieldValues, TContext, TTransformedValues>,\n  localProxyFormState?: ReadFormState,\n  isRoot = true,\n) => {\n  const result = {\n    defaultValues: control._defaultValues,\n  } as typeof formState;\n\n  for (const key in formState) {\n    Object.defineProperty(result, key, {\n      get: () => {\n        const _key = key as keyof FormState<TFieldValues> & keyof ReadFormState;\n\n        if (control._proxyFormState[_key] !== VALIDATION_MODE.all) {\n          control._proxyFormState[_key] = !isRoot || VALIDATION_MODE.all;\n        }\n\n        localProxyFormState && (localProxyFormState[_key] = true);\n        return formState[_key];\n      },\n    });\n  }\n\n  return result;\n};\n","import React from 'react';\n\nexport const useIsomorphicLayoutEffect =\n  typeof window !== 'undefined' ? React.useLayoutEffect : React.useEffect;\n","import React from 'react';\n\nimport getProxyFormState from './logic/getProxyFormState';\nimport type {\n  FieldValues,\n  UseFormStateProps,\n  UseFormStateReturn,\n} from './types';\nimport { useFormControlContext } from './useFormControlContext';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n\n/**\n * This custom hook allows you to subscribe to each form state, and isolate the re-render at the custom hook level. It has its scope in terms of form state subscription, so it would not affect other useFormState and useForm. Using this hook can reduce the re-render impact on large and complex form application.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformstate) • [Demo](https://codesandbox.io/s/useformstate-75xly)\n *\n * @param props - include options on specify fields to subscribe. {@link UseFormStateReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, handleSubmit, control } = useForm({\n *     defaultValues: {\n *     firstName: \"firstName\"\n *   }});\n *   const { dirtyFields } = useFormState({\n *     control\n *   });\n *   const onSubmit = (data) => console.log(data);\n *\n *   return (\n *     <form onSubmit={handleSubmit(onSubmit)}>\n *       <input {...register(\"firstName\")} placeholder=\"First Name\" />\n *       {dirtyFields.firstName && <p>Field is dirty.</p>}\n *       <input type=\"submit\" />\n *     </form>\n *   );\n * }\n * ```\n */\nexport function useFormState<\n  TFieldValues extends FieldValues = FieldValues,\n  TTransformedValues = TFieldValues,\n>(\n  props?: UseFormStateProps<TFieldValues, TTransformedValues>,\n): UseFormStateReturn<TFieldValues> {\n  const formControl = useFormControlContext<\n    TFieldValues,\n    any,\n    TTransformedValues\n  >();\n  const { control = formControl, disabled, name, exact } = props || {};\n  const [formState, updateFormState] = React.useState(control._formState);\n  const _localProxyFormState = React.useRef({\n    isDirty: false,\n    isLoading: false,\n    dirtyFields: false,\n    touchedFields: false,\n    validatingFields: false,\n    isValidating: false,\n    isValid: false,\n    errors: false,\n  });\n\n  useIsomorphicLayoutEffect(\n    () =>\n      control._subscribe({\n        name,\n        formState: _localProxyFormState.current,\n        exact,\n        callback: (formState) => {\n          !disabled &&\n            updateFormState({\n              ...control._formState,\n              ...formState,\n            });\n        },\n      }),\n    [name, disabled, exact],\n  );\n\n  React.useEffect(() => {\n    _localProxyFormState.current.isValid && control._setValid(true);\n  }, [control]);\n\n  return React.useMemo(\n    () =>\n      getProxyFormState(\n        formState,\n        control,\n        _localProxyFormState.current,\n        false,\n      ),\n    [formState, control],\n  );\n}\n","export default (value: unknown): value is string => typeof value === 'string';\n","import type { DeepPartial, FieldValues, Names } from '../types';\nimport get from '../utils/get';\nimport isString from '../utils/isString';\n\nexport default <T>(\n  names: string | string[] | undefined,\n  _names: Names,\n  formValues?: FieldValues,\n  isGlobal?: boolean,\n  defaultValue?: DeepPartial<T> | unknown,\n) => {\n  if (isString(names)) {\n    isGlobal && _names.watch.add(names);\n    return get(formValues, names, defaultValue);\n  }\n\n  if (Array.isArray(names)) {\n    return names.map(\n      (fieldName) => (\n        isGlobal && _names.watch.add(fieldName),\n        get(formValues, fieldName)\n      ),\n    );\n  }\n\n  isGlobal && (_names.watchAll = true);\n\n  return formValues;\n};\n","import type { PasteRuleMatch } from '@tiptap/core'\nimport { Mark, markPasteRule, mergeAttributes } from '@tiptap/core'\nimport type { Plugin } from '@tiptap/pm/state'\nimport { find, registerCustomProtocol, reset } from 'linkifyjs'\n\nimport { autolink } from './helpers/autolink.js'\nimport { clickHandler } from './helpers/clickHandler.js'\nimport { pasteHandler } from './helpers/pasteHandler.js'\nimport { UNICODE_WHITESPACE_REGEX_GLOBAL } from './helpers/whitespace.js'\n\nexport interface LinkProtocolOptions {\n  /**\n   * The protocol scheme to be registered.\n   * @default '''\n   * @example 'ftp'\n   * @example 'git'\n   */\n  scheme: string\n\n  /**\n   * If enabled, it allows optional slashes after the protocol.\n   * @default false\n   * @example true\n   */\n  optionalSlashes?: boolean\n}\n\nexport const pasteRegex =\n  /https?:\\/\\/(?:www\\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z]{2,}\\b(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)(?:[-a-zA-Z0-9@:%._+~#=?!&/]*)/gi\n\n/**\n * @deprecated The default behavior is now to open links when the editor is not editable.\n */\ntype DeprecatedOpenWhenNotEditable = 'whenNotEditable'\n\nexport interface LinkOptions {\n  /**\n   * If enabled, the extension will automatically add links as you type.\n   * @default true\n   * @example false\n   */\n  autolink: boolean\n\n  /**\n   * An array of custom protocols to be registered with linkifyjs.\n   * @default []\n   * @example ['ftp', 'git']\n   */\n  protocols: Array<LinkProtocolOptions | string>\n\n  /**\n   * Default protocol to use when no protocol is specified.\n   * @default 'http'\n   */\n  defaultProtocol: string\n  /**\n   * If enabled, links will be opened on click.\n   * @default true\n   * @example false\n   */\n  openOnClick: boolean | DeprecatedOpenWhenNotEditable\n  /**\n   * If enabled, the link will be selected when clicked.\n   * @default false\n   * @example true\n   */\n  enableClickSelection: boolean\n  /**\n   * Adds a link to the current selection if the pasted content only contains an url.\n   * @default true\n   * @example false\n   */\n  linkOnPaste: boolean\n\n  /**\n   * HTML attributes to add to the link element.\n   * @default {}\n   * @example { class: 'foo' }\n   */\n  HTMLAttributes: Record<string, any>\n\n  /**\n   * @deprecated Use the `shouldAutoLink` option instead.\n   * A validation function that modifies link verification for the auto linker.\n   * @param url - The url to be validated.\n   * @returns - True if the url is valid, false otherwise.\n   */\n  validate: (url: string) => boolean\n\n  /**\n   * A validation function which is used for configuring link verification for preventing XSS attacks.\n   * Only modify this if you know what you're doing.\n   *\n   * @returns {boolean} `true` if the URL is valid, `false` otherwise.\n   *\n   * @example\n   * isAllowedUri: (url, { defaultValidate, protocols, defaultProtocol }) => {\n   * return url.startsWith('./') || defaultValidate(url)\n   * }\n   */\n  isAllowedUri: (\n    /**\n     * The URL to be validated.\n     */\n    url: string,\n    ctx: {\n      /**\n       * The default validation function.\n       */\n      defaultValidate: (url: string) => boolean\n      /**\n       * An array of allowed protocols for the URL (e.g., \"http\", \"https\"). As defined in the `protocols` option.\n       */\n      protocols: Array<LinkProtocolOptions | string>\n      /**\n       * A string that represents the default protocol (e.g., 'http'). As defined in the `defaultProtocol` option.\n       */\n      defaultProtocol: string\n    },\n  ) => boolean\n\n  /**\n   * Determines whether a valid link should be automatically linked in the content.\n   *\n   * @param {string} url - The URL that has already been validated.\n   * @returns {boolean} - True if the link should be auto-linked; false if it should not be auto-linked.\n   */\n  shouldAutoLink: (url: string) => boolean\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    link: {\n      /**\n       * Set a link mark\n       * @param attributes The link attributes\n       * @example editor.commands.setLink({ href: 'https://tiptap.dev' })\n       */\n      setLink: (attributes: {\n        href: string\n        target?: string | null\n        rel?: string | null\n        class?: string | null\n        title?: string | null\n      }) => ReturnType\n      /**\n       * Toggle a link mark\n       * @param attributes The link attributes\n       * @example editor.commands.toggleLink({ href: 'https://tiptap.dev' })\n       */\n      toggleLink: (attributes?: {\n        href: string\n        target?: string | null\n        rel?: string | null\n        class?: string | null\n        title?: string | null\n      }) => ReturnType\n      /**\n       * Unset a link mark\n       * @example editor.commands.unsetLink()\n       */\n      unsetLink: () => ReturnType\n    }\n  }\n}\n\nexport function isAllowedUri(uri: string | undefined, protocols?: LinkOptions['protocols']) {\n  const allowedProtocols: string[] = ['http', 'https', 'ftp', 'ftps', 'mailto', 'tel', 'callto', 'sms', 'cid', 'xmpp']\n\n  if (protocols) {\n    protocols.forEach(protocol => {\n      const nextProtocol = typeof protocol === 'string' ? protocol : protocol.scheme\n\n      if (nextProtocol) {\n        allowedProtocols.push(nextProtocol)\n      }\n    })\n  }\n\n  return (\n    !uri ||\n    uri.replace(UNICODE_WHITESPACE_REGEX_GLOBAL, '').match(\n      new RegExp(\n        // eslint-disable-next-line no-useless-escape\n        `^(?:(?:${allowedProtocols.join('|')}):|[^a-z]|[a-z0-9+.\\-]+(?:[^a-z+.\\-:]|$))`,\n        'i',\n      ),\n    )\n  )\n}\n\n/**\n * This extension allows you to create links.\n * @see https://www.tiptap.dev/api/marks/link\n */\nexport const Link = Mark.create<LinkOptions>({\n  name: 'link',\n\n  priority: 1000,\n\n  keepOnSplit: false,\n\n  exitable: true,\n\n  onCreate() {\n    // TODO: v4 - remove validate option\n    if (this.options.validate && !this.options.shouldAutoLink) {\n      // Copy the validate function to the shouldAutoLink option\n      this.options.shouldAutoLink = this.options.validate\n      console.warn('The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.')\n    }\n    this.options.protocols.forEach(protocol => {\n      if (typeof protocol === 'string') {\n        registerCustomProtocol(protocol)\n        return\n      }\n      registerCustomProtocol(protocol.scheme, protocol.optionalSlashes)\n    })\n  },\n\n  onDestroy() {\n    reset()\n  },\n\n  inclusive() {\n    return this.options.autolink\n  },\n\n  addOptions() {\n    return {\n      openOnClick: true,\n      enableClickSelection: false,\n      linkOnPaste: true,\n      autolink: true,\n      protocols: [],\n      defaultProtocol: 'http',\n      HTMLAttributes: {\n        target: '_blank',\n        rel: 'noopener noreferrer nofollow',\n        class: null,\n      },\n      isAllowedUri: (url, ctx) => !!isAllowedUri(url, ctx.protocols),\n      validate: url => !!url,\n      shouldAutoLink: url => {\n        // URLs with explicit protocols (e.g., https://) should be auto-linked\n        // But not if @ appears before :// (that would be userinfo like user:pass@host)\n        const hasProtocol = /^[a-z][a-z0-9+.-]*:\\/\\//i.test(url)\n        const hasMaybeProtocol = /^[a-z][a-z0-9+.-]*:/i.test(url)\n\n        if (hasProtocol || (hasMaybeProtocol && !url.includes('@'))) {\n          return true\n        }\n        // Strip userinfo (user:pass@) if present, then extract hostname\n        const urlWithoutUserinfo = url.includes('@') ? url.split('@').pop()! : url\n        const hostname = urlWithoutUserinfo.split(/[/?#:]/)[0]\n\n        // Don't auto-link IP addresses without protocol\n        if (/^\\d{1,3}(\\.\\d{1,3}){3}$/.test(hostname)) {\n          return false\n        }\n        // Don't auto-link single-word hostnames without TLD (e.g., \"localhost\")\n        if (!/\\./.test(hostname)) {\n          return false\n        }\n        return true\n      },\n    }\n  },\n\n  addAttributes() {\n    return {\n      href: {\n        default: null,\n        parseHTML(element) {\n          return element.getAttribute('href')\n        },\n      },\n      target: {\n        default: this.options.HTMLAttributes.target,\n      },\n      rel: {\n        default: this.options.HTMLAttributes.rel,\n      },\n      class: {\n        default: this.options.HTMLAttributes.class,\n      },\n      title: {\n        default: null,\n      },\n    }\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: 'a[href]',\n        getAttrs: dom => {\n          const href = (dom as HTMLElement).getAttribute('href')\n\n          // prevent XSS attacks\n          if (\n            !href ||\n            !this.options.isAllowedUri(href, {\n              defaultValidate: url => !!isAllowedUri(url, this.options.protocols),\n              protocols: this.options.protocols,\n              defaultProtocol: this.options.defaultProtocol,\n            })\n          ) {\n            return false\n          }\n          return null\n        },\n      },\n    ]\n  },\n\n  renderHTML({ HTMLAttributes }) {\n    // prevent XSS attacks\n    if (\n      !this.options.isAllowedUri(HTMLAttributes.href, {\n        defaultValidate: href => !!isAllowedUri(href, this.options.protocols),\n        protocols: this.options.protocols,\n        defaultProtocol: this.options.defaultProtocol,\n      })\n    ) {\n      // strip out the href\n      return ['a', mergeAttributes(this.options.HTMLAttributes, { ...HTMLAttributes, href: '' }), 0]\n    }\n\n    return ['a', mergeAttributes(this.options.HTMLAttributes, HTMLAttributes), 0]\n  },\n\n  markdownTokenName: 'link',\n\n  parseMarkdown: (token, helpers) => {\n    return helpers.applyMark('link', helpers.parseInline(token.tokens || []), {\n      href: token.href,\n      title: token.title || null,\n    })\n  },\n\n  renderMarkdown: (node, h) => {\n    const href = node.attrs?.href ?? ''\n    const title = node.attrs?.title ?? ''\n    const text = h.renderChildren(node)\n\n    return title ? `[${text}](${href} \"${title}\")` : `[${text}](${href})`\n  },\n\n  addCommands() {\n    return {\n      setLink:\n        attributes =>\n        ({ chain }) => {\n          const { href } = attributes\n\n          if (\n            !this.options.isAllowedUri(href, {\n              defaultValidate: url => !!isAllowedUri(url, this.options.protocols),\n              protocols: this.options.protocols,\n              defaultProtocol: this.options.defaultProtocol,\n            })\n          ) {\n            return false\n          }\n\n          return chain().setMark(this.name, attributes).setMeta('preventAutolink', true).run()\n        },\n\n      toggleLink:\n        attributes =>\n        ({ chain }) => {\n          const { href } = attributes || {}\n\n          if (\n            href &&\n            !this.options.isAllowedUri(href, {\n              defaultValidate: url => !!isAllowedUri(url, this.options.protocols),\n              protocols: this.options.protocols,\n              defaultProtocol: this.options.defaultProtocol,\n            })\n          ) {\n            return false\n          }\n\n          return chain()\n            .toggleMark(this.name, attributes, { extendEmptyMarkRange: true })\n            .setMeta('preventAutolink', true)\n            .run()\n        },\n\n      unsetLink:\n        () =>\n        ({ chain }) => {\n          return chain().unsetMark(this.name, { extendEmptyMarkRange: true }).setMeta('preventAutolink', true).run()\n        },\n    }\n  },\n\n  addPasteRules() {\n    return [\n      markPasteRule({\n        find: text => {\n          const foundLinks: PasteRuleMatch[] = []\n\n          if (text) {\n            const { protocols, defaultProtocol } = this.options\n            const links = find(text).filter(\n              item =>\n                item.isLink &&\n                this.options.isAllowedUri(item.value, {\n                  defaultValidate: href => !!isAllowedUri(href, protocols),\n                  protocols,\n                  defaultProtocol,\n                }),\n            )\n\n            if (links.length) {\n              links.forEach(link => {\n                if (!this.options.shouldAutoLink(link.value)) {\n                  return\n                }\n\n                foundLinks.push({\n                  text: link.value,\n                  data: {\n                    href: link.href,\n                  },\n                  index: link.start,\n                })\n              })\n            }\n          }\n\n          return foundLinks\n        },\n        type: this.type,\n        getAttributes: match => {\n          return {\n            href: match.data?.href,\n          }\n        },\n      }),\n    ]\n  },\n\n  addProseMirrorPlugins() {\n    const plugins: Plugin[] = []\n    const { protocols, defaultProtocol } = this.options\n\n    if (this.options.autolink) {\n      plugins.push(\n        autolink({\n          type: this.type,\n          defaultProtocol: this.options.defaultProtocol,\n          validate: url =>\n            this.options.isAllowedUri(url, {\n              defaultValidate: href => !!isAllowedUri(href, protocols),\n              protocols,\n              defaultProtocol,\n            }),\n          shouldAutoLink: this.options.shouldAutoLink,\n        }),\n      )\n    }\n\n    plugins.push(\n      clickHandler({\n        type: this.type,\n        editor: this.editor,\n        openOnClick: this.options.openOnClick === 'whenNotEditable' ? true : this.options.openOnClick,\n        enableClickSelection: this.options.enableClickSelection,\n      }),\n    )\n\n    if (this.options.linkOnPaste) {\n      plugins.push(\n        pasteHandler({\n          editor: this.editor,\n          defaultProtocol: this.options.defaultProtocol,\n          type: this.type,\n          shouldAutoLink: this.options.shouldAutoLink,\n        }),\n      )\n    }\n\n    return plugins\n  },\n})\n","import type { Primitive } from '../types';\n\nimport isNullOrUndefined from './isNullOrUndefined';\nimport { isObjectType } from './isObject';\n\nexport default (value: unknown): value is Primitive =>\n  isNullOrUndefined(value) || !isObjectType(value);\n","import isDateObject from './isDateObject';\nimport isObject from './isObject';\nimport isPrimitive from './isPrimitive';\n\nexport default function deepEqual(\n  object1: any,\n  object2: any,\n  _internal_visited = new WeakSet(),\n) {\n  if (isPrimitive(object1) || isPrimitive(object2)) {\n    return Object.is(object1, object2);\n  }\n\n  if (isDateObject(object1) && isDateObject(object2)) {\n    return Object.is(object1.getTime(), object2.getTime());\n  }\n\n  const keys1 = Object.keys(object1);\n  const keys2 = Object.keys(object2);\n\n  if (keys1.length !== keys2.length) {\n    return false;\n  }\n\n  if (_internal_visited.has(object1) || _internal_visited.has(object2)) {\n    return true;\n  }\n  _internal_visited.add(object1);\n  _internal_visited.add(object2);\n\n  for (const key of keys1) {\n    const val1 = object1[key];\n\n    if (!keys2.includes(key)) {\n      return false;\n    }\n\n    if (key !== 'ref') {\n      const val2 = object2[key];\n\n      if (\n        (isDateObject(val1) && isDateObject(val2)) ||\n        (isObject(val1) && isObject(val2)) ||\n        (Array.isArray(val1) && Array.isArray(val2))\n          ? !deepEqual(val1, val2, _internal_visited)\n          : !Object.is(val1, val2)\n      ) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n","import type { EditorState } from '@tiptap/pm/state'\n\nexport const hasListBefore = (editorState: EditorState, name: string, parentListTypes: string[]) => {\n  const { $anchor } = editorState.selection\n\n  const previousNodePos = Math.max(0, $anchor.pos - 2)\n\n  const previousNode = editorState.doc.resolve(previousNodePos).node()\n\n  if (!previousNode || !parentListTypes.includes(previousNode.type.name)) {\n    return false\n  }\n\n  return true\n}\n","import { liftTarget } from '@tiptap/pm/transform'\n\nimport type { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    clearNodes: {\n      /**\n       * Normalize nodes to a simple paragraph.\n       * @example editor.commands.clearNodes()\n       */\n      clearNodes: () => ReturnType\n    }\n  }\n}\n\nexport const clearNodes: RawCommands['clearNodes'] =\n  () =>\n  ({ state, tr, dispatch }) => {\n    const { selection } = tr\n    const { ranges } = selection\n\n    if (!dispatch) {\n      return true\n    }\n\n    ranges.forEach(({ $from, $to }) => {\n      state.doc.nodesBetween($from.pos, $to.pos, (node, pos) => {\n        if (node.type.isText) {\n          return\n        }\n\n        const { doc, mapping } = tr\n        const $mappedFrom = doc.resolve(mapping.map(pos))\n        const $mappedTo = doc.resolve(mapping.map(pos + node.nodeSize))\n        const nodeRange = $mappedFrom.blockRange($mappedTo)\n\n        if (!nodeRange) {\n          return\n        }\n\n        const targetLiftDepth = liftTarget(nodeRange)\n\n        if (node.type.isTextblock) {\n          const { defaultType } = $mappedFrom.parent.contentMatchAt($mappedFrom.index())\n\n          tr.setNodeMarkup(nodeRange.start, defaultType)\n        }\n\n        if (targetLiftDepth || targetLiftDepth === 0) {\n          tr.lift(nodeRange, targetLiftDepth)\n        }\n      })\n    })\n\n    return true\n  }\n","import React from 'react';\n\nimport generateWatchOutput from './logic/generateWatchOutput';\nimport deepEqual from './utils/deepEqual';\nimport type {\n  Control,\n  DeepPartialSkipArrayKey,\n  FieldPath,\n  FieldPathValue,\n  FieldPathValues,\n  FieldValues,\n  InternalFieldName,\n  UseWatchProps,\n} from './types';\nimport { useFormControlContext } from './useFormControlContext';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n\n/**\n * Subscribe to the entire form values change and re-render at the hook level.\n *\n * @remarks\n *\n * [API](https://react-hook-form.com/docs/usewatch) • [Demo](https://codesandbox.io/s/react-hook-form-v7-ts-usewatch-h9i5e)\n *\n * @param props - defaultValue, disable subscription and match exact name.\n *\n * @example\n * ```tsx\n * const { control } = useForm();\n * const values = useWatch({\n *   control,\n *   defaultValue: {\n *     name: \"data\"\n *   },\n *   exact: false,\n * })\n * ```\n */\nexport function useWatch<\n  TFieldValues extends FieldValues = FieldValues,\n  TTransformedValues = TFieldValues,\n>(props: {\n  name?: undefined;\n  defaultValue?: DeepPartialSkipArrayKey<TFieldValues>;\n  control?: Control<TFieldValues, any, TTransformedValues>;\n  disabled?: boolean;\n  exact?: boolean;\n  compute?: undefined;\n}): DeepPartialSkipArrayKey<TFieldValues>;\n/**\n * Custom hook to subscribe to field change and isolate re-rendering at the component level.\n *\n * @remarks\n *\n * [API](https://react-hook-form.com/docs/usewatch) • [Demo](https://codesandbox.io/s/react-hook-form-v7-ts-usewatch-h9i5e)\n *\n * @param props - defaultValue, disable subscription and match exact name.\n *\n * @example\n * ```tsx\n * const { control } = useForm();\n * const values = useWatch({\n *   control,\n *   name: \"fieldA\",\n *   defaultValue: \"default value\",\n *   exact: false,\n * })\n * ```\n */\nexport function useWatch<\n  TFieldValues extends FieldValues = FieldValues,\n  TFieldName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n  TTransformedValues = TFieldValues,\n>(props: {\n  name: TFieldName;\n  defaultValue?: FieldPathValue<TFieldValues, TFieldName>;\n  control?: Control<TFieldValues, any, TTransformedValues>;\n  disabled?: boolean;\n  exact?: boolean;\n  compute?: undefined;\n}): FieldPathValue<TFieldValues, TFieldName>;\n/**\n * Custom hook to subscribe to field change and compute function to produce state update\n *\n * @remarks\n *\n * [API](https://react-hook-form.com/docs/usewatch)\n *\n * @param props - defaultValue, disable subscription and match exact name.\n *\n * @example\n * ```tsx\n * const { control } = useForm();\n * const values = useWatch({\n *   control,\n *   compute: (formValues) => formValues.fieldA\n * })\n * ```\n */\nexport function useWatch<\n  TFieldValues extends FieldValues = FieldValues,\n  TTransformedValues = TFieldValues,\n  TComputeValue = unknown,\n>(props: {\n  name?: undefined;\n  defaultValue?: DeepPartialSkipArrayKey<TFieldValues>;\n  control?: Control<TFieldValues, any, TTransformedValues>;\n  disabled?: boolean;\n  exact?: boolean;\n  compute: (formValues: TFieldValues) => TComputeValue;\n}): TComputeValue;\n/**\n * Custom hook to subscribe to field change and compute function to produce state update\n *\n * @remarks\n *\n * [API](https://react-hook-form.com/docs/usewatch)\n *\n * @param props - defaultValue, disable subscription and match exact name.\n *\n * @example\n * ```tsx\n * const { control } = useForm();\n * const values = useWatch({\n *   control,\n *   name: \"fieldA\",\n *   defaultValue: \"default value\",\n *   exact: false,\n *   compute: (fieldValue) => fieldValue === \"data\" ? fieldValue : null,\n * })\n * ```\n */\nexport function useWatch<\n  TFieldValues extends FieldValues = FieldValues,\n  TFieldName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n  TTransformedValues = TFieldValues,\n  TComputeValue = unknown,\n>(props: {\n  name: TFieldName;\n  defaultValue?: FieldPathValue<TFieldValues, TFieldName>;\n  control?: Control<TFieldValues, any, TTransformedValues>;\n  disabled?: boolean;\n  exact?: boolean;\n  compute: (\n    fieldValue: FieldPathValue<TFieldValues, TFieldName>,\n  ) => TComputeValue;\n}): TComputeValue;\n/**\n * Custom hook to subscribe to field change and isolate re-rendering at the component level.\n *\n * @remarks\n *\n * [API](https://react-hook-form.com/docs/usewatch) • [Demo](https://codesandbox.io/s/react-hook-form-v7-ts-usewatch-h9i5e)\n *\n * @param props - defaultValue, disable subscription and match exact name.\n *\n * @example\n * ```tsx\n * const { control } = useForm();\n * const values = useWatch({\n *   control,\n *   name: [\"fieldA\", \"fieldB\"],\n *   defaultValue: {\n *     fieldA: \"data\",\n *     fieldB: \"data\"\n *   },\n *   exact: false,\n * })\n * ```\n */\nexport function useWatch<\n  TFieldValues extends FieldValues = FieldValues,\n  TFieldNames extends readonly FieldPath<TFieldValues>[] =\n    readonly FieldPath<TFieldValues>[],\n  TTransformedValues = TFieldValues,\n>(props: {\n  name: readonly [...TFieldNames];\n  defaultValue?: DeepPartialSkipArrayKey<TFieldValues>;\n  control?: Control<TFieldValues, any, TTransformedValues>;\n  disabled?: boolean;\n  exact?: boolean;\n  compute?: undefined;\n}): FieldPathValues<TFieldValues, TFieldNames>;\n/**\n * Custom hook to subscribe to field change and compute function to produce state update\n *\n * @remarks\n *\n * [API](https://react-hook-form.com/docs/usewatch)\n *\n * @param props - defaultValue, disable subscription and match exact name.\n *\n * @example\n * ```tsx\n * const { control } = useForm();\n * const values = useWatch({\n *   control,\n *   name: [\"fieldA\", \"fieldB\"],\n *   defaultValue: {\n *     fieldA: \"data\",\n *     fieldB: 0\n *   },\n *   compute: ([fieldAValue, fieldBValue]) => fieldB === 2 ? fieldA : null,\n *   exact: false,\n * })\n * ```\n */\nexport function useWatch<\n  TFieldValues extends FieldValues = FieldValues,\n  TFieldNames extends readonly FieldPath<TFieldValues>[] =\n    readonly FieldPath<TFieldValues>[],\n  TTransformedValues = TFieldValues,\n  TComputeValue = unknown,\n>(props: {\n  name: readonly [...TFieldNames];\n  defaultValue?: DeepPartialSkipArrayKey<TFieldValues>;\n  control?: Control<TFieldValues, any, TTransformedValues>;\n  disabled?: boolean;\n  exact?: boolean;\n  compute: (\n    fieldValue: FieldPathValues<TFieldValues, TFieldNames>,\n  ) => TComputeValue;\n}): TComputeValue;\n/**\n * Custom hook to subscribe to field change and isolate re-rendering at the component level.\n *\n * @remarks\n *\n * [API](https://react-hook-form.com/docs/usewatch) • [Demo](https://codesandbox.io/s/react-hook-form-v7-ts-usewatch-h9i5e)\n *\n * @example\n * ```tsx\n * // can skip passing down the control into useWatch if the form is wrapped with the FormProvider\n * const values = useWatch()\n * ```\n */\nexport function useWatch<\n  TFieldValues extends FieldValues = FieldValues,\n>(): DeepPartialSkipArrayKey<TFieldValues>;\n/**\n * Custom hook to subscribe to field change and isolate re-rendering at the component level.\n *\n * @remarks\n *\n * [API](https://react-hook-form.com/docs/usewatch) • [Demo](https://codesandbox.io/s/react-hook-form-v7-ts-usewatch-h9i5e)\n *\n * @example\n * ```tsx\n * const { control } = useForm();\n * const values = useWatch({\n *   name: \"fieldName\"\n *   control,\n * })\n * ```\n */\nexport function useWatch<TFieldValues extends FieldValues>(\n  props?: UseWatchProps<TFieldValues>,\n) {\n  const formControl = useFormControlContext<TFieldValues>();\n  const {\n    control = formControl,\n    name,\n    defaultValue,\n    disabled,\n    exact,\n    compute,\n  } = props || {};\n  const _defaultValue = React.useRef(defaultValue);\n  const _compute = React.useRef(compute);\n  const _computeFormValues = React.useRef<undefined | unknown>(undefined);\n\n  const _prevControl = React.useRef(control);\n  const _prevName = React.useRef(name);\n\n  _compute.current = compute;\n\n  const [value, updateValue] = React.useState(() => {\n    const defaultValue = control._getWatch(\n      name as InternalFieldName,\n      _defaultValue.current as DeepPartialSkipArrayKey<TFieldValues>,\n    );\n\n    return _compute.current ? _compute.current(defaultValue) : defaultValue;\n  });\n\n  const getCurrentOutput = React.useCallback(\n    (values?: TFieldValues) => {\n      const formValues = generateWatchOutput(\n        name as InternalFieldName | InternalFieldName[],\n        control._names,\n        values || control._formValues,\n        false,\n        _defaultValue.current,\n      );\n\n      return _compute.current ? _compute.current(formValues) : formValues;\n    },\n    [control._formValues, control._names, name],\n  );\n\n  const refreshValue = React.useCallback(\n    (values?: TFieldValues) => {\n      if (!disabled) {\n        const formValues = generateWatchOutput(\n          name as InternalFieldName | InternalFieldName[],\n          control._names,\n          values || control._formValues,\n          false,\n          _defaultValue.current,\n        );\n\n        if (_compute.current) {\n          const computedFormValues = _compute.current(formValues);\n\n          if (!deepEqual(computedFormValues, _computeFormValues.current)) {\n            updateValue(computedFormValues);\n            _computeFormValues.current = computedFormValues;\n          }\n        } else {\n          updateValue(formValues);\n        }\n      }\n    },\n    [control._formValues, control._names, disabled, name],\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    if (\n      _prevControl.current !== control ||\n      !deepEqual(_prevName.current, name)\n    ) {\n      _prevControl.current = control;\n      _prevName.current = name;\n      refreshValue();\n    }\n\n    return control._subscribe({\n      name,\n      formState: {\n        values: true,\n      },\n      exact,\n      callback: (formState) => {\n        refreshValue(formState.values);\n      },\n    });\n  }, [control, exact, name, refreshValue]);\n\n  React.useEffect(() => control._removeUnmounted());\n\n  // If name or control changed for this render, synchronously reflect the\n  // latest value so callers (like useController) see the correct value\n  // immediately on the same render.\n\n  // Optimize: Check control reference first before expensive deepEqual\n  const controlChanged = _prevControl.current !== control;\n  const prevName = _prevName.current;\n\n  // Cache the computed output to avoid duplicate calls within the same render\n  // We include shouldReturnImmediate in deps to ensure proper recomputation\n  const computedOutput = React.useMemo(() => {\n    if (disabled) {\n      return null;\n    }\n\n    const nameChanged = !controlChanged && !deepEqual(prevName, name);\n    const shouldReturnImmediate = controlChanged || nameChanged;\n\n    return shouldReturnImmediate ? getCurrentOutput() : null;\n  }, [disabled, controlChanged, name, prevName, getCurrentOutput]);\n\n  return computedOutput !== null ? computedOutput : value;\n}\n","import { mergeAttributes, Node, textblockTypeInputRule } from '@tiptap/core'\nimport { Plugin, PluginKey, Selection, TextSelection } from '@tiptap/pm/state'\n\nconst DEFAULT_TAB_SIZE = 4\n\nexport interface CodeBlockOptions {\n  /**\n   * Adds a prefix to language classes that are applied to code tags.\n   * @default 'language-'\n   */\n  languageClassPrefix: string | null | undefined\n  /**\n   * Define whether the node should be exited on triple enter.\n   * @default true\n   */\n  exitOnTripleEnter: boolean | null | undefined\n  /**\n   * Define whether the node should be exited on arrow down if there is no node after it.\n   * @default true\n   */\n  exitOnArrowDown: boolean | null | undefined\n  /**\n   * The default language.\n   * @default null\n   * @example 'js'\n   */\n  defaultLanguage: string | null | undefined\n  /**\n   * Enable tab key for indentation in code blocks.\n   * @default false\n   */\n  enableTabIndentation: boolean | null | undefined\n  /**\n   * The number of spaces to use for tab indentation.\n   * @default 4\n   */\n  tabSize: number | null | undefined\n  /**\n   * Custom HTML attributes that should be added to the rendered HTML tag.\n   * @default {}\n   * @example { class: 'foo' }\n   */\n  HTMLAttributes: Record<string, any>\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    codeBlock: {\n      /**\n       * Set a code block\n       * @param attributes Code block attributes\n       * @example editor.commands.setCodeBlock({ language: 'javascript' })\n       */\n      setCodeBlock: (attributes?: { language: string }) => ReturnType\n      /**\n       * Toggle a code block\n       * @param attributes Code block attributes\n       * @example editor.commands.toggleCodeBlock({ language: 'javascript' })\n       */\n      toggleCodeBlock: (attributes?: { language: string }) => ReturnType\n    }\n  }\n}\n\n/**\n * Matches a code block with backticks.\n */\nexport const backtickInputRegex = /^```([a-z]+)?[\\s\\n]$/\n\n/**\n * Matches a code block with tildes.\n */\nexport const tildeInputRegex = /^~~~([a-z]+)?[\\s\\n]$/\n\n/**\n * This extension allows you to create code blocks.\n * @see https://tiptap.dev/api/nodes/code-block\n */\nexport const CodeBlock = Node.create<CodeBlockOptions>({\n  name: 'codeBlock',\n\n  addOptions() {\n    return {\n      languageClassPrefix: 'language-',\n      exitOnTripleEnter: true,\n      exitOnArrowDown: true,\n      defaultLanguage: null,\n      enableTabIndentation: false,\n      tabSize: DEFAULT_TAB_SIZE,\n      HTMLAttributes: {},\n    }\n  },\n\n  content: 'text*',\n\n  marks: '',\n\n  group: 'block',\n\n  code: true,\n\n  defining: true,\n\n  addAttributes() {\n    return {\n      language: {\n        default: this.options.defaultLanguage,\n        parseHTML: element => {\n          const { languageClassPrefix } = this.options\n\n          if (!languageClassPrefix) {\n            return null\n          }\n\n          const classNames = [...(element.firstElementChild?.classList || [])]\n          const languages = classNames\n            .filter(className => className.startsWith(languageClassPrefix))\n            .map(className => className.replace(languageClassPrefix, ''))\n          const language = languages[0]\n\n          if (!language) {\n            return null\n          }\n\n          return language\n        },\n        rendered: false,\n      },\n    }\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: 'pre',\n        preserveWhitespace: 'full',\n      },\n    ]\n  },\n\n  renderHTML({ node, HTMLAttributes }) {\n    return [\n      'pre',\n      mergeAttributes(this.options.HTMLAttributes, HTMLAttributes),\n      [\n        'code',\n        {\n          class: node.attrs.language ? this.options.languageClassPrefix + node.attrs.language : null,\n        },\n        0,\n      ],\n    ]\n  },\n\n  markdownTokenName: 'code',\n\n  parseMarkdown: (token, helpers) => {\n    if (token.raw?.startsWith('```') === false && token.codeBlockStyle !== 'indented') {\n      return []\n    }\n\n    return helpers.createNode(\n      'codeBlock',\n      { language: token.lang || null },\n      token.text ? [helpers.createTextNode(token.text)] : [],\n    )\n  },\n\n  renderMarkdown: (node, h) => {\n    let output = ''\n    const language = node.attrs?.language || ''\n\n    if (!node.content) {\n      output = `\\`\\`\\`${language}\\n\\n\\`\\`\\``\n    } else {\n      const lines = [`\\`\\`\\`${language}`, h.renderChildren(node.content), '```']\n      output = lines.join('\\n')\n    }\n\n    return output\n  },\n\n  addCommands() {\n    return {\n      setCodeBlock:\n        attributes =>\n        ({ commands }) => {\n          return commands.setNode(this.name, attributes)\n        },\n      toggleCodeBlock:\n        attributes =>\n        ({ commands }) => {\n          return commands.toggleNode(this.name, 'paragraph', attributes)\n        },\n    }\n  },\n\n  addKeyboardShortcuts() {\n    return {\n      'Mod-Alt-c': () => this.editor.commands.toggleCodeBlock(),\n\n      // remove code block when at start of document or code block is empty\n      Backspace: () => {\n        const { empty, $anchor } = this.editor.state.selection\n        const isAtStart = $anchor.pos === 1\n\n        if (!empty || $anchor.parent.type.name !== this.name) {\n          return false\n        }\n\n        if (isAtStart || !$anchor.parent.textContent.length) {\n          return this.editor.commands.clearNodes()\n        }\n\n        return false\n      },\n\n      // handle tab indentation\n      Tab: ({ editor }) => {\n        if (!this.options.enableTabIndentation) {\n          return false\n        }\n\n        const tabSize = this.options.tabSize ?? DEFAULT_TAB_SIZE\n        const { state } = editor\n        const { selection } = state\n        const { $from, empty } = selection\n\n        if ($from.parent.type !== this.type) {\n          return false\n        }\n\n        const indent = ' '.repeat(tabSize)\n\n        if (empty) {\n          return editor.commands.insertContent(indent)\n        }\n\n        return editor.commands.command(({ tr }) => {\n          const { from, to } = selection\n          const text = state.doc.textBetween(from, to, '\\n', '\\n')\n          const lines = text.split('\\n')\n          const indentedText = lines.map(line => indent + line).join('\\n')\n\n          tr.replaceWith(from, to, state.schema.text(indentedText))\n          return true\n        })\n      },\n\n      // handle shift+tab reverse indentation\n      'Shift-Tab': ({ editor }) => {\n        if (!this.options.enableTabIndentation) {\n          return false\n        }\n\n        const tabSize = this.options.tabSize ?? DEFAULT_TAB_SIZE\n        const { state } = editor\n        const { selection } = state\n        const { $from, empty } = selection\n\n        if ($from.parent.type !== this.type) {\n          return false\n        }\n\n        if (empty) {\n          return editor.commands.command(({ tr }) => {\n            const { pos } = $from\n            const codeBlockStart = $from.start()\n            const codeBlockEnd = $from.end()\n\n            const allText = state.doc.textBetween(codeBlockStart, codeBlockEnd, '\\n', '\\n')\n            const lines = allText.split('\\n')\n\n            let currentLineIndex = 0\n            let charCount = 0\n            const relativeCursorPos = pos - codeBlockStart\n\n            for (let i = 0; i < lines.length; i += 1) {\n              if (charCount + lines[i].length >= relativeCursorPos) {\n                currentLineIndex = i\n                break\n              }\n              charCount += lines[i].length + 1\n            }\n\n            const currentLine = lines[currentLineIndex]\n            const leadingSpaces = currentLine.match(/^ */)?.[0] || ''\n            const spacesToRemove = Math.min(leadingSpaces.length, tabSize)\n\n            if (spacesToRemove === 0) {\n              return true\n            }\n\n            let lineStartPos = codeBlockStart\n            for (let i = 0; i < currentLineIndex; i += 1) {\n              lineStartPos += lines[i].length + 1\n            }\n\n            tr.delete(lineStartPos, lineStartPos + spacesToRemove)\n\n            const cursorPosInLine = pos - lineStartPos\n            if (cursorPosInLine <= spacesToRemove) {\n              tr.setSelection(TextSelection.create(tr.doc, lineStartPos))\n            }\n\n            return true\n          })\n        }\n\n        return editor.commands.command(({ tr }) => {\n          const { from, to } = selection\n          const text = state.doc.textBetween(from, to, '\\n', '\\n')\n          const lines = text.split('\\n')\n          const reverseIndentText = lines\n            .map(line => {\n              const leadingSpaces = line.match(/^ */)?.[0] || ''\n              const spacesToRemove = Math.min(leadingSpaces.length, tabSize)\n              return line.slice(spacesToRemove)\n            })\n            .join('\\n')\n\n          tr.replaceWith(from, to, state.schema.text(reverseIndentText))\n          return true\n        })\n      },\n\n      // exit node on triple enter\n      Enter: ({ editor }) => {\n        if (!this.options.exitOnTripleEnter) {\n          return false\n        }\n\n        const { state } = editor\n        const { selection } = state\n        const { $from, empty } = selection\n\n        if (!empty || $from.parent.type !== this.type) {\n          return false\n        }\n\n        const isAtEnd = $from.parentOffset === $from.parent.nodeSize - 2\n        const endsWithDoubleNewline = $from.parent.textContent.endsWith('\\n\\n')\n\n        if (!isAtEnd || !endsWithDoubleNewline) {\n          return false\n        }\n\n        return editor\n          .chain()\n          .command(({ tr }) => {\n            tr.delete($from.pos - 2, $from.pos)\n\n            return true\n          })\n          .exitCode()\n          .run()\n      },\n\n      // exit node on arrow down\n      ArrowDown: ({ editor }) => {\n        if (!this.options.exitOnArrowDown) {\n          return false\n        }\n\n        const { state } = editor\n        const { selection, doc } = state\n        const { $from, empty } = selection\n\n        if (!empty || $from.parent.type !== this.type) {\n          return false\n        }\n\n        const isAtEnd = $from.parentOffset === $from.parent.nodeSize - 2\n\n        if (!isAtEnd) {\n          return false\n        }\n\n        const after = $from.after()\n\n        if (after === undefined) {\n          return false\n        }\n\n        const nodeAfter = doc.nodeAt(after)\n\n        if (nodeAfter) {\n          return editor.commands.command(({ tr }) => {\n            tr.setSelection(Selection.near(doc.resolve(after)))\n            return true\n          })\n        }\n\n        return editor.commands.exitCode()\n      },\n    }\n  },\n\n  addInputRules() {\n    return [\n      textblockTypeInputRule({\n        find: backtickInputRegex,\n        type: this.type,\n        getAttributes: match => ({\n          language: match[1],\n        }),\n      }),\n      textblockTypeInputRule({\n        find: tildeInputRegex,\n        type: this.type,\n        getAttributes: match => ({\n          language: match[1],\n        }),\n      }),\n    ]\n  },\n\n  addProseMirrorPlugins() {\n    return [\n      // this plugin creates a code block for pasted content from VS Code\n      // we can also detect the copied code language\n      new Plugin({\n        key: new PluginKey('codeBlockVSCodeHandler'),\n        props: {\n          handlePaste: (view, event) => {\n            if (!event.clipboardData) {\n              return false\n            }\n\n            // don’t create a new code block within code blocks\n            if (this.editor.isActive(this.type.name)) {\n              return false\n            }\n\n            const text = event.clipboardData.getData('text/plain')\n            const vscode = event.clipboardData.getData('vscode-editor-data')\n            const vscodeData = vscode ? JSON.parse(vscode) : undefined\n            const language = vscodeData?.mode\n\n            if (!text || !language) {\n              return false\n            }\n\n            const { tr, schema } = view.state\n\n            // prepare a text node\n            // strip carriage return chars from text pasted as code\n            // see: https://github.com/ProseMirror/prosemirror-view/commit/a50a6bcceb4ce52ac8fcc6162488d8875613aacd\n            const textNode = schema.text(text.replace(/\\r\\n?/g, '\\n'))\n\n            // create a code block with the text node\n            // replace selection with the code block\n            tr.replaceSelectionWith(this.type.create({ language }, textNode))\n\n            if (tr.selection.$from.parent.type !== this.type) {\n              // put cursor inside the newly created code block\n              tr.setSelection(TextSelection.near(tr.doc.resolve(Math.max(0, tr.selection.from - 2))))\n            }\n\n            // store meta information\n            // this is useful for other plugins that depends on the paste event\n            // like the paste rule plugin\n            tr.setMeta('paste', true)\n\n            view.dispatch(tr)\n\n            return true\n          },\n        },\n      }),\n    ]\n  },\n})\n","import { Extension } from '@tiptap/core'\nimport type { Node, NodeType } from '@tiptap/pm/model'\nimport { Plugin, PluginKey } from '@tiptap/pm/state'\n\nfunction nodeEqualsType({ types, node }: { types: NodeType | NodeType[]; node: Node | null | undefined }) {\n  return (node && Array.isArray(types) && types.includes(node.type)) || node?.type === types\n}\n\n/**\n * Extension based on:\n * - https://github.com/ueberdosis/tiptap/blob/v1/packages/tiptap-extensions/src/extensions/TrailingNode.js\n * - https://github.com/remirror/remirror/blob/e0f1bec4a1e8073ce8f5500d62193e52321155b9/packages/prosemirror-trailing-node/src/trailing-node-plugin.ts\n */\n\nexport interface TrailingNodeOptions {\n  /**\n   * The node type that should be inserted at the end of the document.\n   * @note the node will always be added to the `notAfter` lists to\n   * prevent an infinite loop.\n   * @default undefined\n   */\n  node?: string\n  /**\n   * The node types after which the trailing node should not be inserted.\n   * @default ['paragraph']\n   */\n  notAfter?: string | string[]\n}\n\n/**\n * This extension allows you to add an extra node at the end of the document.\n * @see https://www.tiptap.dev/api/extensions/trailing-node\n */\nexport const TrailingNode = Extension.create<TrailingNodeOptions>({\n  name: 'trailingNode',\n\n  addOptions() {\n    return {\n      node: undefined,\n      notAfter: [],\n    }\n  },\n\n  addProseMirrorPlugins() {\n    const plugin = new PluginKey(this.name)\n    const defaultNode =\n      this.options.node || this.editor.schema.topNodeType.contentMatch.defaultType?.name || 'paragraph'\n\n    const disabledNodes = Object.entries(this.editor.schema.nodes)\n      .map(([, value]) => value)\n      .filter(node => (this.options.notAfter || []).concat(defaultNode).includes(node.name))\n\n    return [\n      new Plugin({\n        key: plugin,\n        appendTransaction: (_, __, state) => {\n          const { doc, tr, schema } = state\n          const shouldInsertNodeAtEnd = plugin.getState(state)\n          const endPosition = doc.content.size\n          const type = schema.nodes[defaultNode]\n\n          if (!shouldInsertNodeAtEnd) {\n            return\n          }\n\n          return tr.insert(endPosition, type.create())\n        },\n        state: {\n          init: (_, state) => {\n            const lastNode = state.tr.doc.lastChild\n\n            return !nodeEqualsType({ node: lastNode, types: disabledNodes })\n          },\n          apply: (tr, value) => {\n            if (!tr.docChanged) {\n              return value\n            }\n\n            // Ignore transactions from UniqueID extension to prevent infinite loops\n            // when UniqueID adds IDs to newly inserted trailing nodes\n            if (tr.getMeta('__uniqueIDTransaction')) {\n              return value\n            }\n\n            const lastNode = tr.doc.lastChild\n\n            return !nodeEqualsType({ node: lastNode, types: disabledNodes })\n          },\n        },\n      }),\n    ]\n  },\n})\n","import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { clamp } from '@radix-ui/number';\nimport { composeEventHandlers } from '@radix-ui/primitive';\nimport { createCollection } from '@radix-ui/react-collection';\nimport { useComposedRefs } from '@radix-ui/react-compose-refs';\nimport { createContextScope } from '@radix-ui/react-context';\nimport { useDirection } from '@radix-ui/react-direction';\nimport { DismissableLayer } from '@radix-ui/react-dismissable-layer';\nimport { useFocusGuards } from '@radix-ui/react-focus-guards';\nimport { FocusScope } from '@radix-ui/react-focus-scope';\nimport { useId } from '@radix-ui/react-id';\nimport * as PopperPrimitive from '@radix-ui/react-popper';\nimport { createPopperScope } from '@radix-ui/react-popper';\nimport { Portal as PortalPrimitive } from '@radix-ui/react-portal';\nimport { Primitive } from '@radix-ui/react-primitive';\nimport { createSlot } from '@radix-ui/react-slot';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\nimport { useControllableState } from '@radix-ui/react-use-controllable-state';\nimport { useLayoutEffect } from '@radix-ui/react-use-layout-effect';\nimport { usePrevious } from '@radix-ui/react-use-previous';\nimport { VISUALLY_HIDDEN_STYLES } from '@radix-ui/react-visually-hidden';\nimport { hideOthers } from 'aria-hidden';\nimport { RemoveScroll } from 'react-remove-scroll';\n\nimport type { Scope } from '@radix-ui/react-context';\n\ntype Direction = 'ltr' | 'rtl';\n\nconst OPEN_KEYS = [' ', 'Enter', 'ArrowUp', 'ArrowDown'];\nconst SELECTION_KEYS = [' ', 'Enter'];\n\n/* -------------------------------------------------------------------------------------------------\n * Select\n * -----------------------------------------------------------------------------------------------*/\n\nconst SELECT_NAME = 'Select';\n\ntype ItemData = { value: string; disabled: boolean; textValue: string };\nconst [Collection, useCollection, createCollectionScope] = createCollection<\n  SelectItemElement,\n  ItemData\n>(SELECT_NAME);\n\ntype ScopedProps<P> = P & { __scopeSelect?: Scope };\nconst [createSelectContext, createSelectScope] = createContextScope(SELECT_NAME, [\n  createCollectionScope,\n  createPopperScope,\n]);\nconst usePopperScope = createPopperScope();\n\ntype SelectContextValue = {\n  trigger: SelectTriggerElement | null;\n  onTriggerChange(node: SelectTriggerElement | null): void;\n  valueNode: SelectValueElement | null;\n  onValueNodeChange(node: SelectValueElement): void;\n  valueNodeHasChildren: boolean;\n  onValueNodeHasChildrenChange(hasChildren: boolean): void;\n  contentId: string;\n  value: string | undefined;\n  onValueChange(value: string): void;\n  open: boolean;\n  required?: boolean;\n  onOpenChange(open: boolean): void;\n  dir: SelectProps['dir'];\n  triggerPointerDownPosRef: React.MutableRefObject<{ x: number; y: number } | null>;\n  disabled?: boolean;\n};\n\nconst [SelectProvider, useSelectContext] = createSelectContext<SelectContextValue>(SELECT_NAME);\n\ntype NativeOption = React.ReactElement<React.ComponentProps<'option'>>;\n\ntype SelectNativeOptionsContextValue = {\n  onNativeOptionAdd(option: NativeOption): void;\n  onNativeOptionRemove(option: NativeOption): void;\n};\nconst [SelectNativeOptionsProvider, useSelectNativeOptionsContext] =\n  createSelectContext<SelectNativeOptionsContextValue>(SELECT_NAME);\n\ninterface ControlledClearableSelectProps {\n  value: string | undefined;\n  defaultValue?: never;\n  onValueChange: (value: string | undefined) => void;\n}\n\ninterface ControlledUnclearableSelectProps {\n  value: string;\n  defaultValue?: never;\n  onValueChange: (value: string) => void;\n}\n\ninterface UncontrolledSelectProps {\n  value?: never;\n  defaultValue?: string;\n  onValueChange?: {\n    (value: string): void;\n    (value: string | undefined): void;\n  };\n}\n\ntype SelectControlProps =\n  | ControlledClearableSelectProps\n  | ControlledUnclearableSelectProps\n  | UncontrolledSelectProps;\n\ninterface SelectSharedProps {\n  children?: React.ReactNode;\n  open?: boolean;\n  defaultOpen?: boolean;\n  onOpenChange?(open: boolean): void;\n  dir?: Direction;\n  name?: string;\n  autoComplete?: string;\n  disabled?: boolean;\n  required?: boolean;\n  form?: string;\n}\n\n// TODO: Should improve typing somewhat, but this would be a breaking change.\n// Consider using in the next major version (along with some testing to be sure\n// it works as expected and doesn't cause problems)\ntype _FutureSelectProps = SelectSharedProps & SelectControlProps;\n\ntype SelectProps = SelectSharedProps & {\n  value?: string;\n  defaultValue?: string;\n  onValueChange?(value: string): void;\n};\n\nconst Select: React.FC<SelectProps> = (props: ScopedProps<SelectProps>) => {\n  const {\n    __scopeSelect,\n    children,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    value: valueProp,\n    defaultValue,\n    onValueChange,\n    dir,\n    name,\n    autoComplete,\n    disabled,\n    required,\n    form,\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n  const [trigger, setTrigger] = React.useState<SelectTriggerElement | null>(null);\n  const [valueNode, setValueNode] = React.useState<SelectValueElement | null>(null);\n  const [valueNodeHasChildren, setValueNodeHasChildren] = React.useState(false);\n  const direction = useDirection(dir);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: SELECT_NAME,\n  });\n  const [value, setValue] = useControllableState({\n    prop: valueProp,\n    defaultProp: defaultValue,\n    onChange: onValueChange as any,\n    caller: SELECT_NAME,\n  });\n  const triggerPointerDownPosRef = React.useRef<{ x: number; y: number } | null>(null);\n\n  // We set this to true by default so that events bubble to forms without JS (SSR)\n  const isFormControl = trigger ? form || !!trigger.closest('form') : true;\n  const [nativeOptionsSet, setNativeOptionsSet] = React.useState(new Set<NativeOption>());\n\n  // The native `select` only associates the correct default value if the corresponding\n  // `option` is rendered as a child **at the same time** as itself.\n  // Because it might take a few renders for our items to gather the information to build\n  // the native `option`(s), we generate a key on the `select` to make sure React re-builds it\n  // each time the options change.\n  const nativeSelectKey = Array.from(nativeOptionsSet)\n    .map((option) => option.props.value)\n    .join(';');\n\n  return (\n    <PopperPrimitive.Root {...popperScope}>\n      <SelectProvider\n        required={required}\n        scope={__scopeSelect}\n        trigger={trigger}\n        onTriggerChange={setTrigger}\n        valueNode={valueNode}\n        onValueNodeChange={setValueNode}\n        valueNodeHasChildren={valueNodeHasChildren}\n        onValueNodeHasChildrenChange={setValueNodeHasChildren}\n        contentId={useId()}\n        value={value}\n        onValueChange={setValue}\n        open={open}\n        onOpenChange={setOpen}\n        dir={direction}\n        triggerPointerDownPosRef={triggerPointerDownPosRef}\n        disabled={disabled}\n      >\n        <Collection.Provider scope={__scopeSelect}>\n          <SelectNativeOptionsProvider\n            scope={props.__scopeSelect}\n            onNativeOptionAdd={React.useCallback((option) => {\n              setNativeOptionsSet((prev) => new Set(prev).add(option));\n            }, [])}\n            onNativeOptionRemove={React.useCallback((option) => {\n              setNativeOptionsSet((prev) => {\n                const optionsSet = new Set(prev);\n                optionsSet.delete(option);\n                return optionsSet;\n              });\n            }, [])}\n          >\n            {children}\n          </SelectNativeOptionsProvider>\n        </Collection.Provider>\n\n        {isFormControl ? (\n          <SelectBubbleInput\n            key={nativeSelectKey}\n            aria-hidden\n            required={required}\n            tabIndex={-1}\n            name={name}\n            autoComplete={autoComplete}\n            value={value}\n            // enable form autofill\n            onChange={(event) => setValue(event.target.value)}\n            disabled={disabled}\n            form={form}\n          >\n            {value === undefined ? <option value=\"\" /> : null}\n            {Array.from(nativeOptionsSet)}\n          </SelectBubbleInput>\n        ) : null}\n      </SelectProvider>\n    </PopperPrimitive.Root>\n  );\n};\n\nSelect.displayName = SELECT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectTrigger\n * -----------------------------------------------------------------------------------------------*/\n\nconst TRIGGER_NAME = 'SelectTrigger';\n\ntype SelectTriggerElement = React.ComponentRef<typeof Primitive.button>;\ntype PrimitiveButtonProps = React.ComponentPropsWithoutRef<typeof Primitive.button>;\ninterface SelectTriggerProps extends PrimitiveButtonProps {}\n\nconst SelectTrigger = React.forwardRef<SelectTriggerElement, SelectTriggerProps>(\n  (props: ScopedProps<SelectTriggerProps>, forwardedRef) => {\n    const { __scopeSelect, disabled = false, ...triggerProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(TRIGGER_NAME, __scopeSelect);\n    const isDisabled = context.disabled || disabled;\n    const composedRefs = useComposedRefs(forwardedRef, context.onTriggerChange);\n    const getItems = useCollection(__scopeSelect);\n    const pointerTypeRef = React.useRef<React.PointerEvent['pointerType']>('touch');\n\n    const [searchRef, handleTypeaheadSearch, resetTypeahead] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.value === context.value);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem !== undefined) {\n        context.onValueChange(nextItem.value);\n      }\n    });\n\n    const handleOpen = (pointerEvent?: React.MouseEvent | React.PointerEvent) => {\n      if (!isDisabled) {\n        context.onOpenChange(true);\n        // reset typeahead when we open\n        resetTypeahead();\n      }\n\n      if (pointerEvent) {\n        context.triggerPointerDownPosRef.current = {\n          x: Math.round(pointerEvent.pageX),\n          y: Math.round(pointerEvent.pageY),\n        };\n      }\n    };\n\n    return (\n      <PopperPrimitive.Anchor asChild {...popperScope}>\n        <Primitive.button\n          type=\"button\"\n          role=\"combobox\"\n          aria-controls={context.contentId}\n          aria-expanded={context.open}\n          aria-required={context.required}\n          aria-autocomplete=\"none\"\n          dir={context.dir}\n          data-state={context.open ? 'open' : 'closed'}\n          disabled={isDisabled}\n          data-disabled={isDisabled ? '' : undefined}\n          data-placeholder={shouldShowPlaceholder(context.value) ? '' : undefined}\n          {...triggerProps}\n          ref={composedRefs}\n          // Enable compatibility with native label or custom `Label` \"click\" for Safari:\n          onClick={composeEventHandlers(triggerProps.onClick, (event) => {\n            // Whilst browsers generally have no issue focusing the trigger when clicking\n            // on a label, Safari seems to struggle with the fact that there's no `onClick`.\n            // We force `focus` in this case. Note: this doesn't create any other side-effect\n            // because we are preventing default in `onPointerDown` so effectively\n            // this only runs for a label \"click\"\n            event.currentTarget.focus();\n\n            // Open on click when using a touch or pen device\n            if (pointerTypeRef.current !== 'mouse') {\n              handleOpen(event);\n            }\n          })}\n          onPointerDown={composeEventHandlers(triggerProps.onPointerDown, (event) => {\n            pointerTypeRef.current = event.pointerType;\n\n            // prevent implicit pointer capture\n            // https://www.w3.org/TR/pointerevents3/#implicit-pointer-capture\n            const target = event.target as HTMLElement;\n            if (target.hasPointerCapture(event.pointerId)) {\n              target.releasePointerCapture(event.pointerId);\n            }\n\n            // only call handler if it's the left button (mousedown gets triggered by all mouse buttons)\n            // but not when the control key is pressed (avoiding MacOS right click); also not for touch\n            // devices because that would open the menu on scroll. (pen devices behave as touch on iOS).\n            if (event.button === 0 && event.ctrlKey === false && event.pointerType === 'mouse') {\n              handleOpen(event);\n              // prevent trigger from stealing focus from the active item after opening.\n              event.preventDefault();\n            }\n          })}\n          onKeyDown={composeEventHandlers(triggerProps.onKeyDown, (event) => {\n            const isTypingAhead = searchRef.current !== '';\n            const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n            if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n            if (isTypingAhead && event.key === ' ') return;\n            if (OPEN_KEYS.includes(event.key)) {\n              handleOpen();\n              event.preventDefault();\n            }\n          })}\n        />\n      </PopperPrimitive.Anchor>\n    );\n  }\n);\n\nSelectTrigger.displayName = TRIGGER_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectValue\n * -----------------------------------------------------------------------------------------------*/\n\nconst VALUE_NAME = 'SelectValue';\n\ntype SelectValueElement = React.ComponentRef<typeof Primitive.span>;\ntype PrimitiveSpanProps = React.ComponentPropsWithoutRef<typeof Primitive.span>;\ninterface SelectValueProps extends Omit<PrimitiveSpanProps, 'placeholder'> {\n  placeholder?: React.ReactNode;\n}\n\nconst SelectValue = React.forwardRef<SelectValueElement, SelectValueProps>(\n  (props: ScopedProps<SelectValueProps>, forwardedRef) => {\n    // We ignore `className` and `style` as this part shouldn't be styled.\n    const { __scopeSelect, className, style, children, placeholder = '', ...valueProps } = props;\n    const context = useSelectContext(VALUE_NAME, __scopeSelect);\n    const { onValueNodeHasChildrenChange } = context;\n    const hasChildren = children !== undefined;\n    const composedRefs = useComposedRefs(forwardedRef, context.onValueNodeChange);\n\n    useLayoutEffect(() => {\n      onValueNodeHasChildrenChange(hasChildren);\n    }, [onValueNodeHasChildrenChange, hasChildren]);\n\n    return (\n      <Primitive.span\n        {...valueProps}\n        ref={composedRefs}\n        // we don't want events from the portalled `SelectValue` children to bubble\n        // through the item they came from\n        style={{ pointerEvents: 'none' }}\n      >\n        {shouldShowPlaceholder(context.value) ? <>{placeholder}</> : children}\n      </Primitive.span>\n    );\n  }\n);\n\nSelectValue.displayName = VALUE_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectIcon\n * -----------------------------------------------------------------------------------------------*/\n\nconst ICON_NAME = 'SelectIcon';\n\ntype SelectIconElement = React.ComponentRef<typeof Primitive.span>;\ninterface SelectIconProps extends PrimitiveSpanProps {}\n\nconst SelectIcon = React.forwardRef<SelectIconElement, SelectIconProps>(\n  (props: ScopedProps<SelectIconProps>, forwardedRef) => {\n    const { __scopeSelect, children, ...iconProps } = props;\n    return (\n      <Primitive.span aria-hidden {...iconProps} ref={forwardedRef}>\n        {children || '▼'}\n      </Primitive.span>\n    );\n  }\n);\n\nSelectIcon.displayName = ICON_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectPortal\n * -----------------------------------------------------------------------------------------------*/\n\nconst PORTAL_NAME = 'SelectPortal';\n\ntype PortalProps = React.ComponentPropsWithoutRef<typeof PortalPrimitive>;\ninterface SelectPortalProps {\n  children?: React.ReactNode;\n  /**\n   * Specify a container element to portal the content into.\n   */\n  container?: PortalProps['container'];\n}\n\nconst SelectPortal: React.FC<SelectPortalProps> = (props: ScopedProps<SelectPortalProps>) => {\n  return <PortalPrimitive asChild {...props} />;\n};\n\nSelectPortal.displayName = PORTAL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectContent\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_NAME = 'SelectContent';\n\ntype SelectContentElement = SelectContentImplElement;\ninterface SelectContentProps extends SelectContentImplProps {}\n\nconst SelectContent = React.forwardRef<SelectContentElement, SelectContentProps>(\n  (props: ScopedProps<SelectContentProps>, forwardedRef) => {\n    const context = useSelectContext(CONTENT_NAME, props.__scopeSelect);\n    const [fragment, setFragment] = React.useState<DocumentFragment>();\n\n    // setting the fragment in `useLayoutEffect` as `DocumentFragment` doesn't exist on the server\n    useLayoutEffect(() => {\n      setFragment(new DocumentFragment());\n    }, []);\n\n    if (!context.open) {\n      const frag = fragment as Element | undefined;\n      return frag\n        ? ReactDOM.createPortal(\n            <SelectContentProvider scope={props.__scopeSelect}>\n              <Collection.Slot scope={props.__scopeSelect}>\n                <div>{props.children}</div>\n              </Collection.Slot>\n            </SelectContentProvider>,\n            frag\n          )\n        : null;\n    }\n\n    return <SelectContentImpl {...props} ref={forwardedRef} />;\n  }\n);\n\nSelectContent.displayName = CONTENT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectContentImpl\n * -----------------------------------------------------------------------------------------------*/\n\nconst CONTENT_MARGIN = 10;\n\ntype SelectContentContextValue = {\n  content?: SelectContentElement | null;\n  viewport?: SelectViewportElement | null;\n  onViewportChange?: (node: SelectViewportElement | null) => void;\n  itemRefCallback?: (node: SelectItemElement | null, value: string, disabled: boolean) => void;\n  selectedItem?: SelectItemElement | null;\n  onItemLeave?: () => void;\n  itemTextRefCallback?: (\n    node: SelectItemTextElement | null,\n    value: string,\n    disabled: boolean\n  ) => void;\n  focusSelectedItem?: () => void;\n  selectedItemText?: SelectItemTextElement | null;\n  position?: SelectContentProps['position'];\n  isPositioned?: boolean;\n  searchRef?: React.RefObject<string>;\n};\n\nconst [SelectContentProvider, useSelectContentContext] =\n  createSelectContext<SelectContentContextValue>(CONTENT_NAME);\n\nconst CONTENT_IMPL_NAME = 'SelectContentImpl';\n\ntype SelectContentImplElement = SelectPopperPositionElement | SelectItemAlignedPositionElement;\ntype DismissableLayerProps = React.ComponentPropsWithoutRef<typeof DismissableLayer>;\ntype FocusScopeProps = React.ComponentPropsWithoutRef<typeof FocusScope>;\n\ntype SelectPopperPrivateProps = { onPlaced?: PopperContentProps['onPlaced'] };\n\ninterface SelectContentImplProps\n  extends Omit<SelectPopperPositionProps, keyof SelectPopperPrivateProps>,\n    Omit<SelectItemAlignedPositionProps, keyof SelectPopperPrivateProps> {\n  /**\n   * Event handler called when auto-focusing on close.\n   * Can be prevented.\n   */\n  onCloseAutoFocus?: FocusScopeProps['onUnmountAutoFocus'];\n  /**\n   * Event handler called when the escape key is down.\n   * Can be prevented.\n   */\n  onEscapeKeyDown?: DismissableLayerProps['onEscapeKeyDown'];\n  /**\n   * Event handler called when the a `pointerdown` event happens outside of the `DismissableLayer`.\n   * Can be prevented.\n   */\n  onPointerDownOutside?: DismissableLayerProps['onPointerDownOutside'];\n\n  position?: 'item-aligned' | 'popper';\n}\n\nconst Slot = createSlot('SelectContent.RemoveScroll');\n\nconst SelectContentImpl = React.forwardRef<SelectContentImplElement, SelectContentImplProps>(\n  (props: ScopedProps<SelectContentImplProps>, forwardedRef) => {\n    const {\n      __scopeSelect,\n      position = 'item-aligned',\n      onCloseAutoFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      //\n      // PopperContent props\n      side,\n      sideOffset,\n      align,\n      alignOffset,\n      arrowPadding,\n      collisionBoundary,\n      collisionPadding,\n      sticky,\n      hideWhenDetached,\n      avoidCollisions,\n      //\n      ...contentProps\n    } = props;\n    const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n    const [content, setContent] = React.useState<SelectContentImplElement | null>(null);\n    const [viewport, setViewport] = React.useState<SelectViewportElement | null>(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n    const [selectedItem, setSelectedItem] = React.useState<SelectItemElement | null>(null);\n    const [selectedItemText, setSelectedItemText] = React.useState<SelectItemTextElement | null>(\n      null\n    );\n    const getItems = useCollection(__scopeSelect);\n    const [isPositioned, setIsPositioned] = React.useState(false);\n    const firstValidItemFoundRef = React.useRef(false);\n\n    // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n    React.useEffect(() => {\n      if (content) return hideOthers(content);\n    }, [content]);\n\n    // Make sure the whole tree has focus guards as our `Select` may be\n    // the last element in the DOM (because of the `Portal`)\n    useFocusGuards();\n\n    const focusFirst = React.useCallback(\n      (candidates: Array<HTMLElement | null>) => {\n        const [firstItem, ...restItems] = getItems().map((item) => item.ref.current);\n        const [lastItem] = restItems.slice(-1);\n\n        const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n        for (const candidate of candidates) {\n          // if focus is already where we want to go, we don't want to keep going through the candidates\n          if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n          candidate?.scrollIntoView({ block: 'nearest' });\n          // viewport might have padding so scroll to its edges when focusing first/last items.\n          if (candidate === firstItem && viewport) viewport.scrollTop = 0;\n          if (candidate === lastItem && viewport) viewport.scrollTop = viewport.scrollHeight;\n          candidate?.focus();\n          if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n        }\n      },\n      [getItems, viewport]\n    );\n\n    const focusSelectedItem = React.useCallback(\n      () => focusFirst([selectedItem, content]),\n      [focusFirst, selectedItem, content]\n    );\n\n    // Since this is not dependent on layout, we want to ensure this runs at the same time as\n    // other effects across components. Hence why we don't call `focusSelectedItem` inside `position`.\n    React.useEffect(() => {\n      if (isPositioned) {\n        focusSelectedItem();\n      }\n    }, [isPositioned, focusSelectedItem]);\n\n    // prevent selecting items on `pointerup` in some cases after opening from `pointerdown`\n    // and close on `pointerup` outside.\n    const { onOpenChange, triggerPointerDownPosRef } = context;\n    React.useEffect(() => {\n      if (content) {\n        let pointerMoveDelta = { x: 0, y: 0 };\n\n        const handlePointerMove = (event: PointerEvent) => {\n          pointerMoveDelta = {\n            x: Math.abs(Math.round(event.pageX) - (triggerPointerDownPosRef.current?.x ?? 0)),\n            y: Math.abs(Math.round(event.pageY) - (triggerPointerDownPosRef.current?.y ?? 0)),\n          };\n        };\n        const handlePointerUp = (event: PointerEvent) => {\n          // If the pointer hasn't moved by a certain threshold then we prevent selecting item on `pointerup`.\n          if (pointerMoveDelta.x <= 10 && pointerMoveDelta.y <= 10) {\n            event.preventDefault();\n          } else {\n            // otherwise, if the event was outside the content, close.\n            if (!content.contains(event.target as HTMLElement)) {\n              onOpenChange(false);\n            }\n          }\n          document.removeEventListener('pointermove', handlePointerMove);\n          triggerPointerDownPosRef.current = null;\n        };\n\n        if (triggerPointerDownPosRef.current !== null) {\n          document.addEventListener('pointermove', handlePointerMove);\n          document.addEventListener('pointerup', handlePointerUp, { capture: true, once: true });\n        }\n\n        return () => {\n          document.removeEventListener('pointermove', handlePointerMove);\n          document.removeEventListener('pointerup', handlePointerUp, { capture: true });\n        };\n      }\n    }, [content, onOpenChange, triggerPointerDownPosRef]);\n\n    React.useEffect(() => {\n      const close = () => onOpenChange(false);\n      window.addEventListener('blur', close);\n      window.addEventListener('resize', close);\n      return () => {\n        window.removeEventListener('blur', close);\n        window.removeEventListener('resize', close);\n      };\n    }, [onOpenChange]);\n\n    const [searchRef, handleTypeaheadSearch] = useTypeaheadSearch((search) => {\n      const enabledItems = getItems().filter((item) => !item.disabled);\n      const currentItem = enabledItems.find((item) => item.ref.current === document.activeElement);\n      const nextItem = findNextItem(enabledItems, search, currentItem);\n      if (nextItem) {\n        /**\n         * Imperative focus during keydown is risky so we prevent React's batching updates\n         * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n         */\n        setTimeout(() => (nextItem.ref.current as HTMLElement).focus());\n      }\n    });\n\n    const itemRefCallback = React.useCallback(\n      (node: SelectItemElement | null, value: string, disabled: boolean) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== undefined && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItem(node);\n          if (isFirstValidItem) firstValidItemFoundRef.current = true;\n        }\n      },\n      [context.value]\n    );\n    const handleItemLeave = React.useCallback(() => content?.focus(), [content]);\n    const itemTextRefCallback = React.useCallback(\n      (node: SelectItemTextElement | null, value: string, disabled: boolean) => {\n        const isFirstValidItem = !firstValidItemFoundRef.current && !disabled;\n        const isSelectedItem = context.value !== undefined && context.value === value;\n        if (isSelectedItem || isFirstValidItem) {\n          setSelectedItemText(node);\n        }\n      },\n      [context.value]\n    );\n\n    const SelectPosition = position === 'popper' ? SelectPopperPosition : SelectItemAlignedPosition;\n\n    // Silently ignore props that are not supported by `SelectItemAlignedPosition`\n    const popperContentProps =\n      SelectPosition === SelectPopperPosition\n        ? {\n            side,\n            sideOffset,\n            align,\n            alignOffset,\n            arrowPadding,\n            collisionBoundary,\n            collisionPadding,\n            sticky,\n            hideWhenDetached,\n            avoidCollisions,\n          }\n        : {};\n\n    return (\n      <SelectContentProvider\n        scope={__scopeSelect}\n        content={content}\n        viewport={viewport}\n        onViewportChange={setViewport}\n        itemRefCallback={itemRefCallback}\n        selectedItem={selectedItem}\n        onItemLeave={handleItemLeave}\n        itemTextRefCallback={itemTextRefCallback}\n        focusSelectedItem={focusSelectedItem}\n        selectedItemText={selectedItemText}\n        position={position}\n        isPositioned={isPositioned}\n        searchRef={searchRef}\n      >\n        <RemoveScroll as={Slot} allowPinchZoom>\n          <FocusScope\n            asChild\n            // we make sure we're not trapping once it's been closed\n            // (closed !== unmounted when animating out)\n            trapped={context.open}\n            onMountAutoFocus={(event) => {\n              // we prevent open autofocus because we manually focus the selected item\n              event.preventDefault();\n            }}\n            onUnmountAutoFocus={composeEventHandlers(onCloseAutoFocus, (event) => {\n              context.trigger?.focus({ preventScroll: true });\n              event.preventDefault();\n            })}\n          >\n            <DismissableLayer\n              asChild\n              disableOutsidePointerEvents\n              onEscapeKeyDown={onEscapeKeyDown}\n              onPointerDownOutside={onPointerDownOutside}\n              // When focus is trapped, a focusout event may still happen.\n              // We make sure we don't trigger our `onDismiss` in such case.\n              onFocusOutside={(event) => event.preventDefault()}\n              onDismiss={() => context.onOpenChange(false)}\n            >\n              <SelectPosition\n                role=\"listbox\"\n                id={context.contentId}\n                data-state={context.open ? 'open' : 'closed'}\n                dir={context.dir}\n                onContextMenu={(event) => event.preventDefault()}\n                {...contentProps}\n                {...popperContentProps}\n                onPlaced={() => setIsPositioned(true)}\n                ref={composedRefs}\n                style={{\n                  // flex layout so we can place the scroll buttons properly\n                  display: 'flex',\n                  flexDirection: 'column',\n                  // reset the outline by default as the content MAY get focused\n                  outline: 'none',\n                  ...contentProps.style,\n                }}\n                onKeyDown={composeEventHandlers(contentProps.onKeyDown, (event) => {\n                  const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n\n                  // select should not be navigated using tab key so we prevent it\n                  if (event.key === 'Tab') event.preventDefault();\n\n                  if (!isModifierKey && event.key.length === 1) handleTypeaheadSearch(event.key);\n\n                  if (['ArrowUp', 'ArrowDown', 'Home', 'End'].includes(event.key)) {\n                    const items = getItems().filter((item) => !item.disabled);\n                    let candidateNodes = items.map((item) => item.ref.current!);\n\n                    if (['ArrowUp', 'End'].includes(event.key)) {\n                      candidateNodes = candidateNodes.slice().reverse();\n                    }\n                    if (['ArrowUp', 'ArrowDown'].includes(event.key)) {\n                      const currentElement = event.target as SelectItemElement;\n                      const currentIndex = candidateNodes.indexOf(currentElement);\n                      candidateNodes = candidateNodes.slice(currentIndex + 1);\n                    }\n\n                    /**\n                     * Imperative focus during keydown is risky so we prevent React's batching updates\n                     * to avoid potential bugs. See: https://github.com/facebook/react/issues/20332\n                     */\n                    setTimeout(() => focusFirst(candidateNodes));\n\n                    event.preventDefault();\n                  }\n                })}\n              />\n            </DismissableLayer>\n          </FocusScope>\n        </RemoveScroll>\n      </SelectContentProvider>\n    );\n  }\n);\n\nSelectContentImpl.displayName = CONTENT_IMPL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectItemAlignedPosition\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_ALIGNED_POSITION_NAME = 'SelectItemAlignedPosition';\n\ntype SelectItemAlignedPositionElement = React.ComponentRef<typeof Primitive.div>;\ninterface SelectItemAlignedPositionProps extends PrimitiveDivProps, SelectPopperPrivateProps {}\n\nconst SelectItemAlignedPosition = React.forwardRef<\n  SelectItemAlignedPositionElement,\n  SelectItemAlignedPositionProps\n>((props: ScopedProps<SelectItemAlignedPositionProps>, forwardedRef) => {\n  const { __scopeSelect, onPlaced, ...popperProps } = props;\n  const context = useSelectContext(CONTENT_NAME, __scopeSelect);\n  const contentContext = useSelectContentContext(CONTENT_NAME, __scopeSelect);\n  const [contentWrapper, setContentWrapper] = React.useState<HTMLDivElement | null>(null);\n  const [content, setContent] = React.useState<SelectItemAlignedPositionElement | null>(null);\n  const composedRefs = useComposedRefs(forwardedRef, (node) => setContent(node));\n  const getItems = useCollection(__scopeSelect);\n  const shouldExpandOnScrollRef = React.useRef(false);\n  const shouldRepositionRef = React.useRef(true);\n\n  const { viewport, selectedItem, selectedItemText, focusSelectedItem } = contentContext;\n  const position = React.useCallback(() => {\n    if (\n      context.trigger &&\n      context.valueNode &&\n      contentWrapper &&\n      content &&\n      viewport &&\n      selectedItem &&\n      selectedItemText\n    ) {\n      const triggerRect = context.trigger.getBoundingClientRect();\n\n      // -----------------------------------------------------------------------------------------\n      //  Horizontal positioning\n      // -----------------------------------------------------------------------------------------\n      const contentRect = content.getBoundingClientRect();\n      const valueNodeRect = context.valueNode.getBoundingClientRect();\n      const itemTextRect = selectedItemText.getBoundingClientRect();\n\n      if (context.dir !== 'rtl') {\n        const itemTextOffset = itemTextRect.left - contentRect.left;\n        const left = valueNodeRect.left - itemTextOffset;\n        const leftDelta = triggerRect.left - left;\n        const minContentWidth = triggerRect.width + leftDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const rightEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedLeft = clamp(left, [\n          CONTENT_MARGIN,\n          // Prevents the content from going off the starting edge of the\n          // viewport. It may still go off the ending edge, but this can be\n          // controlled by the user since they may want to manage overflow in a\n          // specific way.\n          // https://github.com/radix-ui/primitives/issues/2049\n          Math.max(CONTENT_MARGIN, rightEdge - contentWidth),\n        ]);\n\n        contentWrapper.style.minWidth = minContentWidth + 'px';\n        contentWrapper.style.left = clampedLeft + 'px';\n      } else {\n        const itemTextOffset = contentRect.right - itemTextRect.right;\n        const right = window.innerWidth - valueNodeRect.right - itemTextOffset;\n        const rightDelta = window.innerWidth - triggerRect.right - right;\n        const minContentWidth = triggerRect.width + rightDelta;\n        const contentWidth = Math.max(minContentWidth, contentRect.width);\n        const leftEdge = window.innerWidth - CONTENT_MARGIN;\n        const clampedRight = clamp(right, [\n          CONTENT_MARGIN,\n          Math.max(CONTENT_MARGIN, leftEdge - contentWidth),\n        ]);\n\n        contentWrapper.style.minWidth = minContentWidth + 'px';\n        contentWrapper.style.right = clampedRight + 'px';\n      }\n\n      // -----------------------------------------------------------------------------------------\n      // Vertical positioning\n      // -----------------------------------------------------------------------------------------\n      const items = getItems();\n      const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n      const itemsHeight = viewport.scrollHeight;\n\n      const contentStyles = window.getComputedStyle(content);\n      const contentBorderTopWidth = parseInt(contentStyles.borderTopWidth, 10);\n      const contentPaddingTop = parseInt(contentStyles.paddingTop, 10);\n      const contentBorderBottomWidth = parseInt(contentStyles.borderBottomWidth, 10);\n      const contentPaddingBottom = parseInt(contentStyles.paddingBottom, 10);\n      const fullContentHeight = contentBorderTopWidth + contentPaddingTop + itemsHeight + contentPaddingBottom + contentBorderBottomWidth; // prettier-ignore\n      const minContentHeight = Math.min(selectedItem.offsetHeight * 5, fullContentHeight);\n\n      const viewportStyles = window.getComputedStyle(viewport);\n      const viewportPaddingTop = parseInt(viewportStyles.paddingTop, 10);\n      const viewportPaddingBottom = parseInt(viewportStyles.paddingBottom, 10);\n\n      const topEdgeToTriggerMiddle = triggerRect.top + triggerRect.height / 2 - CONTENT_MARGIN;\n      const triggerMiddleToBottomEdge = availableHeight - topEdgeToTriggerMiddle;\n\n      const selectedItemHalfHeight = selectedItem.offsetHeight / 2;\n      const itemOffsetMiddle = selectedItem.offsetTop + selectedItemHalfHeight;\n      const contentTopToItemMiddle = contentBorderTopWidth + contentPaddingTop + itemOffsetMiddle;\n      const itemMiddleToContentBottom = fullContentHeight - contentTopToItemMiddle;\n\n      const willAlignWithoutTopOverflow = contentTopToItemMiddle <= topEdgeToTriggerMiddle;\n\n      if (willAlignWithoutTopOverflow) {\n        const isLastItem =\n          items.length > 0 && selectedItem === items[items.length - 1]!.ref.current;\n        contentWrapper.style.bottom = 0 + 'px';\n        const viewportOffsetBottom =\n          content.clientHeight - viewport.offsetTop - viewport.offsetHeight;\n        const clampedTriggerMiddleToBottomEdge = Math.max(\n          triggerMiddleToBottomEdge,\n          selectedItemHalfHeight +\n            // viewport might have padding bottom, include it to avoid a scrollable viewport\n            (isLastItem ? viewportPaddingBottom : 0) +\n            viewportOffsetBottom +\n            contentBorderBottomWidth\n        );\n        const height = contentTopToItemMiddle + clampedTriggerMiddleToBottomEdge;\n        contentWrapper.style.height = height + 'px';\n      } else {\n        const isFirstItem = items.length > 0 && selectedItem === items[0]!.ref.current;\n        contentWrapper.style.top = 0 + 'px';\n        const clampedTopEdgeToTriggerMiddle = Math.max(\n          topEdgeToTriggerMiddle,\n          contentBorderTopWidth +\n            viewport.offsetTop +\n            // viewport might have padding top, include it to avoid a scrollable viewport\n            (isFirstItem ? viewportPaddingTop : 0) +\n            selectedItemHalfHeight\n        );\n        const height = clampedTopEdgeToTriggerMiddle + itemMiddleToContentBottom;\n        contentWrapper.style.height = height + 'px';\n        viewport.scrollTop = contentTopToItemMiddle - topEdgeToTriggerMiddle + viewport.offsetTop;\n      }\n\n      contentWrapper.style.margin = `${CONTENT_MARGIN}px 0`;\n      contentWrapper.style.minHeight = minContentHeight + 'px';\n      contentWrapper.style.maxHeight = availableHeight + 'px';\n      // -----------------------------------------------------------------------------------------\n\n      onPlaced?.();\n\n      // we don't want the initial scroll position adjustment to trigger \"expand on scroll\"\n      // so we explicitly turn it on only after they've registered.\n      requestAnimationFrame(() => (shouldExpandOnScrollRef.current = true));\n    }\n  }, [\n    getItems,\n    context.trigger,\n    context.valueNode,\n    contentWrapper,\n    content,\n    viewport,\n    selectedItem,\n    selectedItemText,\n    context.dir,\n    onPlaced,\n  ]);\n\n  useLayoutEffect(() => position(), [position]);\n\n  // copy z-index from content to wrapper\n  const [contentZIndex, setContentZIndex] = React.useState<string>();\n  useLayoutEffect(() => {\n    if (content) setContentZIndex(window.getComputedStyle(content).zIndex);\n  }, [content]);\n\n  // When the viewport becomes scrollable at the top, the scroll up button will mount.\n  // Because it is part of the normal flow, it will push down the viewport, thus throwing our\n  // trigger => selectedItem alignment off by the amount the viewport was pushed down.\n  // We wait for this to happen and then re-run the positining logic one more time to account for it.\n  const handleScrollButtonChange = React.useCallback(\n    (node: SelectScrollButtonImplElement | null) => {\n      if (node && shouldRepositionRef.current === true) {\n        position();\n        focusSelectedItem?.();\n        shouldRepositionRef.current = false;\n      }\n    },\n    [position, focusSelectedItem]\n  );\n\n  return (\n    <SelectViewportProvider\n      scope={__scopeSelect}\n      contentWrapper={contentWrapper}\n      shouldExpandOnScrollRef={shouldExpandOnScrollRef}\n      onScrollButtonChange={handleScrollButtonChange}\n    >\n      <div\n        ref={setContentWrapper}\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          position: 'fixed',\n          zIndex: contentZIndex,\n        }}\n      >\n        <Primitive.div\n          {...popperProps}\n          ref={composedRefs}\n          style={{\n            // When we get the height of the content, it includes borders. If we were to set\n            // the height without having `boxSizing: 'border-box'` it would be too big.\n            boxSizing: 'border-box',\n            // We need to ensure the content doesn't get taller than the wrapper\n            maxHeight: '100%',\n            ...popperProps.style,\n          }}\n        />\n      </div>\n    </SelectViewportProvider>\n  );\n});\n\nSelectItemAlignedPosition.displayName = ITEM_ALIGNED_POSITION_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectPopperPosition\n * -----------------------------------------------------------------------------------------------*/\n\nconst POPPER_POSITION_NAME = 'SelectPopperPosition';\n\ntype SelectPopperPositionElement = React.ComponentRef<typeof PopperPrimitive.Content>;\ntype PopperContentProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Content>;\ninterface SelectPopperPositionProps extends PopperContentProps, SelectPopperPrivateProps {}\n\nconst SelectPopperPosition = React.forwardRef<\n  SelectPopperPositionElement,\n  SelectPopperPositionProps\n>((props: ScopedProps<SelectPopperPositionProps>, forwardedRef) => {\n  const {\n    __scopeSelect,\n    align = 'start',\n    collisionPadding = CONTENT_MARGIN,\n    ...popperProps\n  } = props;\n  const popperScope = usePopperScope(__scopeSelect);\n\n  return (\n    <PopperPrimitive.Content\n      {...popperScope}\n      {...popperProps}\n      ref={forwardedRef}\n      align={align}\n      collisionPadding={collisionPadding}\n      style={{\n        // Ensure border-box for floating-ui calculations\n        boxSizing: 'border-box',\n        ...popperProps.style,\n        // re-namespace exposed content custom properties\n        ...{\n          '--radix-select-content-transform-origin': 'var(--radix-popper-transform-origin)',\n          '--radix-select-content-available-width': 'var(--radix-popper-available-width)',\n          '--radix-select-content-available-height': 'var(--radix-popper-available-height)',\n          '--radix-select-trigger-width': 'var(--radix-popper-anchor-width)',\n          '--radix-select-trigger-height': 'var(--radix-popper-anchor-height)',\n        },\n      }}\n    />\n  );\n});\n\nSelectPopperPosition.displayName = POPPER_POSITION_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectViewport\n * -----------------------------------------------------------------------------------------------*/\n\ntype SelectViewportContextValue = {\n  contentWrapper?: HTMLDivElement | null;\n  shouldExpandOnScrollRef?: React.RefObject<boolean>;\n  onScrollButtonChange?: (node: SelectScrollButtonImplElement | null) => void;\n};\n\nconst [SelectViewportProvider, useSelectViewportContext] =\n  createSelectContext<SelectViewportContextValue>(CONTENT_NAME, {});\n\nconst VIEWPORT_NAME = 'SelectViewport';\n\ntype SelectViewportElement = React.ComponentRef<typeof Primitive.div>;\ntype PrimitiveDivProps = React.ComponentPropsWithoutRef<typeof Primitive.div>;\ninterface SelectViewportProps extends PrimitiveDivProps {\n  nonce?: string;\n}\n\nconst SelectViewport = React.forwardRef<SelectViewportElement, SelectViewportProps>(\n  (props: ScopedProps<SelectViewportProps>, forwardedRef) => {\n    const { __scopeSelect, nonce, ...viewportProps } = props;\n    const contentContext = useSelectContentContext(VIEWPORT_NAME, __scopeSelect);\n    const viewportContext = useSelectViewportContext(VIEWPORT_NAME, __scopeSelect);\n    const composedRefs = useComposedRefs(forwardedRef, contentContext.onViewportChange);\n    const prevScrollTopRef = React.useRef(0);\n    return (\n      <>\n        {/* Hide scrollbars cross-browser and enable momentum scroll for touch devices */}\n        <style\n          dangerouslySetInnerHTML={{\n            __html: `[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}`,\n          }}\n          nonce={nonce}\n        />\n        <Collection.Slot scope={__scopeSelect}>\n          <Primitive.div\n            data-radix-select-viewport=\"\"\n            role=\"presentation\"\n            {...viewportProps}\n            ref={composedRefs}\n            style={{\n              // we use position: 'relative' here on the `viewport` so that when we call\n              // `selectedItem.offsetTop` in calculations, the offset is relative to the viewport\n              // (independent of the scrollUpButton).\n              position: 'relative',\n              flex: 1,\n              // Viewport should only be scrollable in the vertical direction.\n              // This won't work in vertical writing modes, so we'll need to\n              // revisit this if/when that is supported\n              // https://developer.chrome.com/blog/vertical-form-controls\n              overflow: 'hidden auto',\n              ...viewportProps.style,\n            }}\n            onScroll={composeEventHandlers(viewportProps.onScroll, (event) => {\n              const viewport = event.currentTarget;\n              const { contentWrapper, shouldExpandOnScrollRef } = viewportContext;\n              if (shouldExpandOnScrollRef?.current && contentWrapper) {\n                const scrolledBy = Math.abs(prevScrollTopRef.current - viewport.scrollTop);\n                if (scrolledBy > 0) {\n                  const availableHeight = window.innerHeight - CONTENT_MARGIN * 2;\n                  const cssMinHeight = parseFloat(contentWrapper.style.minHeight);\n                  const cssHeight = parseFloat(contentWrapper.style.height);\n                  const prevHeight = Math.max(cssMinHeight, cssHeight);\n\n                  if (prevHeight < availableHeight) {\n                    const nextHeight = prevHeight + scrolledBy;\n                    const clampedNextHeight = Math.min(availableHeight, nextHeight);\n                    const heightDiff = nextHeight - clampedNextHeight;\n\n                    contentWrapper.style.height = clampedNextHeight + 'px';\n                    if (contentWrapper.style.bottom === '0px') {\n                      viewport.scrollTop = heightDiff > 0 ? heightDiff : 0;\n                      // ensure the content stays pinned to the bottom\n                      contentWrapper.style.justifyContent = 'flex-end';\n                    }\n                  }\n                }\n              }\n              prevScrollTopRef.current = viewport.scrollTop;\n            })}\n          />\n        </Collection.Slot>\n      </>\n    );\n  }\n);\n\nSelectViewport.displayName = VIEWPORT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectGroup\n * -----------------------------------------------------------------------------------------------*/\n\nconst GROUP_NAME = 'SelectGroup';\n\ntype SelectGroupContextValue = { id: string };\n\nconst [SelectGroupContextProvider, useSelectGroupContext] =\n  createSelectContext<SelectGroupContextValue>(GROUP_NAME);\n\ntype SelectGroupElement = React.ComponentRef<typeof Primitive.div>;\ninterface SelectGroupProps extends PrimitiveDivProps {}\n\nconst SelectGroup = React.forwardRef<SelectGroupElement, SelectGroupProps>(\n  (props: ScopedProps<SelectGroupProps>, forwardedRef) => {\n    const { __scopeSelect, ...groupProps } = props;\n    const groupId = useId();\n    return (\n      <SelectGroupContextProvider scope={__scopeSelect} id={groupId}>\n        <Primitive.div role=\"group\" aria-labelledby={groupId} {...groupProps} ref={forwardedRef} />\n      </SelectGroupContextProvider>\n    );\n  }\n);\n\nSelectGroup.displayName = GROUP_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectLabel\n * -----------------------------------------------------------------------------------------------*/\n\nconst LABEL_NAME = 'SelectLabel';\n\ntype SelectLabelElement = React.ComponentRef<typeof Primitive.div>;\ninterface SelectLabelProps extends PrimitiveDivProps {}\n\nconst SelectLabel = React.forwardRef<SelectLabelElement, SelectLabelProps>(\n  (props: ScopedProps<SelectLabelProps>, forwardedRef) => {\n    const { __scopeSelect, ...labelProps } = props;\n    const groupContext = useSelectGroupContext(LABEL_NAME, __scopeSelect);\n    return <Primitive.div id={groupContext.id} {...labelProps} ref={forwardedRef} />;\n  }\n);\n\nSelectLabel.displayName = LABEL_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectItem\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_NAME = 'SelectItem';\n\ntype SelectItemContextValue = {\n  value: string;\n  disabled: boolean;\n  textId: string;\n  isSelected: boolean;\n  onItemTextChange(node: SelectItemTextElement | null): void;\n};\n\nconst [SelectItemContextProvider, useSelectItemContext] =\n  createSelectContext<SelectItemContextValue>(ITEM_NAME);\n\ntype SelectItemElement = React.ComponentRef<typeof Primitive.div>;\ninterface SelectItemProps extends PrimitiveDivProps {\n  value: string;\n  disabled?: boolean;\n  textValue?: string;\n}\n\nconst SelectItem = React.forwardRef<SelectItemElement, SelectItemProps>(\n  (props: ScopedProps<SelectItemProps>, forwardedRef) => {\n    const {\n      __scopeSelect,\n      value,\n      disabled = false,\n      textValue: textValueProp,\n      ...itemProps\n    } = props;\n    const context = useSelectContext(ITEM_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_NAME, __scopeSelect);\n    const isSelected = context.value === value;\n    const [textValue, setTextValue] = React.useState(textValueProp ?? '');\n    const [isFocused, setIsFocused] = React.useState(false);\n    const composedRefs = useComposedRefs(forwardedRef, (node) =>\n      contentContext.itemRefCallback?.(node, value, disabled)\n    );\n    const textId = useId();\n    const pointerTypeRef = React.useRef<React.PointerEvent['pointerType']>('touch');\n\n    const handleSelect = () => {\n      if (!disabled) {\n        context.onValueChange(value);\n        context.onOpenChange(false);\n      }\n    };\n\n    if (value === '') {\n      throw new Error(\n        'A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.'\n      );\n    }\n\n    return (\n      <SelectItemContextProvider\n        scope={__scopeSelect}\n        value={value}\n        disabled={disabled}\n        textId={textId}\n        isSelected={isSelected}\n        onItemTextChange={React.useCallback((node) => {\n          setTextValue((prevTextValue) => prevTextValue || (node?.textContent ?? '').trim());\n        }, [])}\n      >\n        <Collection.ItemSlot\n          scope={__scopeSelect}\n          value={value}\n          disabled={disabled}\n          textValue={textValue}\n        >\n          <Primitive.div\n            role=\"option\"\n            aria-labelledby={textId}\n            data-highlighted={isFocused ? '' : undefined}\n            // `isFocused` caveat fixes stuttering in VoiceOver\n            aria-selected={isSelected && isFocused}\n            data-state={isSelected ? 'checked' : 'unchecked'}\n            aria-disabled={disabled || undefined}\n            data-disabled={disabled ? '' : undefined}\n            tabIndex={disabled ? undefined : -1}\n            {...itemProps}\n            ref={composedRefs}\n            onFocus={composeEventHandlers(itemProps.onFocus, () => setIsFocused(true))}\n            onBlur={composeEventHandlers(itemProps.onBlur, () => setIsFocused(false))}\n            onClick={composeEventHandlers(itemProps.onClick, () => {\n              // Open on click when using a touch or pen device\n              if (pointerTypeRef.current !== 'mouse') handleSelect();\n            })}\n            onPointerUp={composeEventHandlers(itemProps.onPointerUp, () => {\n              // Using a mouse you should be able to do pointer down, move through\n              // the list, and release the pointer over the item to select it.\n              if (pointerTypeRef.current === 'mouse') handleSelect();\n            })}\n            onPointerDown={composeEventHandlers(itemProps.onPointerDown, (event) => {\n              pointerTypeRef.current = event.pointerType;\n            })}\n            onPointerMove={composeEventHandlers(itemProps.onPointerMove, (event) => {\n              // Remember pointer type when sliding over to this item from another one\n              pointerTypeRef.current = event.pointerType;\n              if (disabled) {\n                contentContext.onItemLeave?.();\n              } else if (pointerTypeRef.current === 'mouse') {\n                // even though safari doesn't support this option, it's acceptable\n                // as it only means it might scroll a few pixels when using the pointer.\n                event.currentTarget.focus({ preventScroll: true });\n              }\n            })}\n            onPointerLeave={composeEventHandlers(itemProps.onPointerLeave, (event) => {\n              if (event.currentTarget === document.activeElement) {\n                contentContext.onItemLeave?.();\n              }\n            })}\n            onKeyDown={composeEventHandlers(itemProps.onKeyDown, (event) => {\n              const isTypingAhead = contentContext.searchRef?.current !== '';\n              if (isTypingAhead && event.key === ' ') return;\n              if (SELECTION_KEYS.includes(event.key)) handleSelect();\n              // prevent page scroll if using the space key to select an item\n              if (event.key === ' ') event.preventDefault();\n            })}\n          />\n        </Collection.ItemSlot>\n      </SelectItemContextProvider>\n    );\n  }\n);\n\nSelectItem.displayName = ITEM_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectItemText\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_TEXT_NAME = 'SelectItemText';\n\ntype SelectItemTextElement = React.ComponentRef<typeof Primitive.span>;\ninterface SelectItemTextProps extends PrimitiveSpanProps {}\n\nconst SelectItemText = React.forwardRef<SelectItemTextElement, SelectItemTextProps>(\n  (props: ScopedProps<SelectItemTextProps>, forwardedRef) => {\n    // We ignore `className` and `style` as this part shouldn't be styled.\n    const { __scopeSelect, className, style, ...itemTextProps } = props;\n    const context = useSelectContext(ITEM_TEXT_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ITEM_TEXT_NAME, __scopeSelect);\n    const itemContext = useSelectItemContext(ITEM_TEXT_NAME, __scopeSelect);\n    const nativeOptionsContext = useSelectNativeOptionsContext(ITEM_TEXT_NAME, __scopeSelect);\n    const [itemTextNode, setItemTextNode] = React.useState<SelectItemTextElement | null>(null);\n    const composedRefs = useComposedRefs(\n      forwardedRef,\n      (node) => setItemTextNode(node),\n      itemContext.onItemTextChange,\n      (node) => contentContext.itemTextRefCallback?.(node, itemContext.value, itemContext.disabled)\n    );\n\n    const textContent = itemTextNode?.textContent;\n    const nativeOption = React.useMemo(\n      () => (\n        <option key={itemContext.value} value={itemContext.value} disabled={itemContext.disabled}>\n          {textContent}\n        </option>\n      ),\n      [itemContext.disabled, itemContext.value, textContent]\n    );\n\n    const { onNativeOptionAdd, onNativeOptionRemove } = nativeOptionsContext;\n    useLayoutEffect(() => {\n      onNativeOptionAdd(nativeOption);\n      return () => onNativeOptionRemove(nativeOption);\n    }, [onNativeOptionAdd, onNativeOptionRemove, nativeOption]);\n\n    return (\n      <>\n        <Primitive.span id={itemContext.textId} {...itemTextProps} ref={composedRefs} />\n\n        {/* Portal the select item text into the trigger value node */}\n        {itemContext.isSelected && context.valueNode && !context.valueNodeHasChildren\n          ? ReactDOM.createPortal(itemTextProps.children, context.valueNode)\n          : null}\n      </>\n    );\n  }\n);\n\nSelectItemText.displayName = ITEM_TEXT_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectItemIndicator\n * -----------------------------------------------------------------------------------------------*/\n\nconst ITEM_INDICATOR_NAME = 'SelectItemIndicator';\n\ntype SelectItemIndicatorElement = React.ComponentRef<typeof Primitive.span>;\ninterface SelectItemIndicatorProps extends PrimitiveSpanProps {}\n\nconst SelectItemIndicator = React.forwardRef<SelectItemIndicatorElement, SelectItemIndicatorProps>(\n  (props: ScopedProps<SelectItemIndicatorProps>, forwardedRef) => {\n    const { __scopeSelect, ...itemIndicatorProps } = props;\n    const itemContext = useSelectItemContext(ITEM_INDICATOR_NAME, __scopeSelect);\n    return itemContext.isSelected ? (\n      <Primitive.span aria-hidden {...itemIndicatorProps} ref={forwardedRef} />\n    ) : null;\n  }\n);\n\nSelectItemIndicator.displayName = ITEM_INDICATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectScrollUpButton\n * -----------------------------------------------------------------------------------------------*/\n\nconst SCROLL_UP_BUTTON_NAME = 'SelectScrollUpButton';\n\ntype SelectScrollUpButtonElement = SelectScrollButtonImplElement;\ninterface SelectScrollUpButtonProps extends Omit<SelectScrollButtonImplProps, 'onAutoScroll'> {}\n\nconst SelectScrollUpButton = React.forwardRef<\n  SelectScrollUpButtonElement,\n  SelectScrollUpButtonProps\n>((props: ScopedProps<SelectScrollUpButtonProps>, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_UP_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollUp, setCanScrollUp] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      const viewport = contentContext.viewport;\n      function handleScroll() {\n        const canScrollUp = viewport.scrollTop > 0;\n        setCanScrollUp(canScrollUp);\n      }\n      handleScroll();\n      viewport.addEventListener('scroll', handleScroll);\n      return () => viewport.removeEventListener('scroll', handleScroll);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n\n  return canScrollUp ? (\n    <SelectScrollButtonImpl\n      {...props}\n      ref={composedRefs}\n      onAutoScroll={() => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop - selectedItem.offsetHeight;\n        }\n      }}\n    />\n  ) : null;\n});\n\nSelectScrollUpButton.displayName = SCROLL_UP_BUTTON_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectScrollDownButton\n * -----------------------------------------------------------------------------------------------*/\n\nconst SCROLL_DOWN_BUTTON_NAME = 'SelectScrollDownButton';\n\ntype SelectScrollDownButtonElement = SelectScrollButtonImplElement;\ninterface SelectScrollDownButtonProps extends Omit<SelectScrollButtonImplProps, 'onAutoScroll'> {}\n\nconst SelectScrollDownButton = React.forwardRef<\n  SelectScrollDownButtonElement,\n  SelectScrollDownButtonProps\n>((props: ScopedProps<SelectScrollDownButtonProps>, forwardedRef) => {\n  const contentContext = useSelectContentContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const viewportContext = useSelectViewportContext(SCROLL_DOWN_BUTTON_NAME, props.__scopeSelect);\n  const [canScrollDown, setCanScrollDown] = React.useState(false);\n  const composedRefs = useComposedRefs(forwardedRef, viewportContext.onScrollButtonChange);\n\n  useLayoutEffect(() => {\n    if (contentContext.viewport && contentContext.isPositioned) {\n      const viewport = contentContext.viewport;\n      function handleScroll() {\n        const maxScroll = viewport.scrollHeight - viewport.clientHeight;\n        // we use Math.ceil here because if the UI is zoomed-in\n        // `scrollTop` is not always reported as an integer\n        const canScrollDown = Math.ceil(viewport.scrollTop) < maxScroll;\n        setCanScrollDown(canScrollDown);\n      }\n      handleScroll();\n      viewport.addEventListener('scroll', handleScroll);\n      return () => viewport.removeEventListener('scroll', handleScroll);\n    }\n  }, [contentContext.viewport, contentContext.isPositioned]);\n\n  return canScrollDown ? (\n    <SelectScrollButtonImpl\n      {...props}\n      ref={composedRefs}\n      onAutoScroll={() => {\n        const { viewport, selectedItem } = contentContext;\n        if (viewport && selectedItem) {\n          viewport.scrollTop = viewport.scrollTop + selectedItem.offsetHeight;\n        }\n      }}\n    />\n  ) : null;\n});\n\nSelectScrollDownButton.displayName = SCROLL_DOWN_BUTTON_NAME;\n\ntype SelectScrollButtonImplElement = React.ComponentRef<typeof Primitive.div>;\ninterface SelectScrollButtonImplProps extends PrimitiveDivProps {\n  onAutoScroll(): void;\n}\n\nconst SelectScrollButtonImpl = React.forwardRef<\n  SelectScrollButtonImplElement,\n  SelectScrollButtonImplProps\n>((props: ScopedProps<SelectScrollButtonImplProps>, forwardedRef) => {\n  const { __scopeSelect, onAutoScroll, ...scrollIndicatorProps } = props;\n  const contentContext = useSelectContentContext('SelectScrollButton', __scopeSelect);\n  const autoScrollTimerRef = React.useRef<number | null>(null);\n  const getItems = useCollection(__scopeSelect);\n\n  const clearAutoScrollTimer = React.useCallback(() => {\n    if (autoScrollTimerRef.current !== null) {\n      window.clearInterval(autoScrollTimerRef.current);\n      autoScrollTimerRef.current = null;\n    }\n  }, []);\n\n  React.useEffect(() => {\n    return () => clearAutoScrollTimer();\n  }, [clearAutoScrollTimer]);\n\n  // When the viewport becomes scrollable on either side, the relevant scroll button will mount.\n  // Because it is part of the normal flow, it will push down (top button) or shrink (bottom button)\n  // the viewport, potentially causing the active item to now be partially out of view.\n  // We re-run the `scrollIntoView` logic to make sure it stays within the viewport.\n  useLayoutEffect(() => {\n    const activeItem = getItems().find((item) => item.ref.current === document.activeElement);\n    activeItem?.ref.current?.scrollIntoView({ block: 'nearest' });\n  }, [getItems]);\n\n  return (\n    <Primitive.div\n      aria-hidden\n      {...scrollIndicatorProps}\n      ref={forwardedRef}\n      style={{ flexShrink: 0, ...scrollIndicatorProps.style }}\n      onPointerDown={composeEventHandlers(scrollIndicatorProps.onPointerDown, () => {\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      })}\n      onPointerMove={composeEventHandlers(scrollIndicatorProps.onPointerMove, () => {\n        contentContext.onItemLeave?.();\n        if (autoScrollTimerRef.current === null) {\n          autoScrollTimerRef.current = window.setInterval(onAutoScroll, 50);\n        }\n      })}\n      onPointerLeave={composeEventHandlers(scrollIndicatorProps.onPointerLeave, () => {\n        clearAutoScrollTimer();\n      })}\n    />\n  );\n});\n\n/* -------------------------------------------------------------------------------------------------\n * SelectSeparator\n * -----------------------------------------------------------------------------------------------*/\n\nconst SEPARATOR_NAME = 'SelectSeparator';\n\ntype SelectSeparatorElement = React.ComponentRef<typeof Primitive.div>;\ninterface SelectSeparatorProps extends PrimitiveDivProps {}\n\nconst SelectSeparator = React.forwardRef<SelectSeparatorElement, SelectSeparatorProps>(\n  (props: ScopedProps<SelectSeparatorProps>, forwardedRef) => {\n    const { __scopeSelect, ...separatorProps } = props;\n    return <Primitive.div aria-hidden {...separatorProps} ref={forwardedRef} />;\n  }\n);\n\nSelectSeparator.displayName = SEPARATOR_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectArrow\n * -----------------------------------------------------------------------------------------------*/\n\nconst ARROW_NAME = 'SelectArrow';\n\ntype SelectArrowElement = React.ComponentRef<typeof PopperPrimitive.Arrow>;\ntype PopperArrowProps = React.ComponentPropsWithoutRef<typeof PopperPrimitive.Arrow>;\ninterface SelectArrowProps extends PopperArrowProps {}\n\nconst SelectArrow = React.forwardRef<SelectArrowElement, SelectArrowProps>(\n  (props: ScopedProps<SelectArrowProps>, forwardedRef) => {\n    const { __scopeSelect, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeSelect);\n    const context = useSelectContext(ARROW_NAME, __scopeSelect);\n    const contentContext = useSelectContentContext(ARROW_NAME, __scopeSelect);\n    return context.open && contentContext.position === 'popper' ? (\n      <PopperPrimitive.Arrow {...popperScope} {...arrowProps} ref={forwardedRef} />\n    ) : null;\n  }\n);\n\nSelectArrow.displayName = ARROW_NAME;\n\n/* -------------------------------------------------------------------------------------------------\n * SelectBubbleInput\n * -----------------------------------------------------------------------------------------------*/\n\nconst BUBBLE_INPUT_NAME = 'SelectBubbleInput';\n\ntype InputProps = React.ComponentPropsWithoutRef<typeof Primitive.select>;\ninterface SwitchBubbleInputProps extends InputProps {}\n\nconst SelectBubbleInput = React.forwardRef<HTMLSelectElement, SwitchBubbleInputProps>(\n  ({ __scopeSelect, value, ...props }: ScopedProps<SwitchBubbleInputProps>, forwardedRef) => {\n    const ref = React.useRef<HTMLSelectElement>(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const prevValue = usePrevious(value);\n\n    // Bubble value change to parents (e.g form change event)\n    React.useEffect(() => {\n      const select = ref.current;\n      if (!select) return;\n\n      const selectProto = window.HTMLSelectElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        selectProto,\n        'value'\n      ) as PropertyDescriptor;\n      const setValue = descriptor.set;\n      if (prevValue !== value && setValue) {\n        const event = new Event('change', { bubbles: true });\n        setValue.call(select, value);\n        select.dispatchEvent(event);\n      }\n    }, [prevValue, value]);\n\n    /**\n     * We purposefully use a `select` here to support form autofill as much as\n     * possible.\n     *\n     * We purposefully do not add the `value` attribute here to allow the value\n     * to be set programmatically and bubble to any parent form `onChange`\n     * event. Adding the `value` will cause React to consider the programmatic\n     * dispatch a duplicate and it will get swallowed.\n     *\n     * We use visually hidden styles rather than `display: \"none\"` because\n     * Safari autofill won't work otherwise.\n     */\n    return (\n      <Primitive.select\n        {...props}\n        style={{ ...VISUALLY_HIDDEN_STYLES, ...props.style }}\n        ref={composedRefs}\n        defaultValue={value}\n      />\n    );\n  }\n);\n\nSelectBubbleInput.displayName = BUBBLE_INPUT_NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nfunction shouldShowPlaceholder(value?: string) {\n  return value === '' || value === undefined;\n}\n\nfunction useTypeaheadSearch(onSearchChange: (search: string) => void) {\n  const handleSearchChange = useCallbackRef(onSearchChange);\n  const searchRef = React.useRef('');\n  const timerRef = React.useRef(0);\n\n  const handleTypeaheadSearch = React.useCallback(\n    (key: string) => {\n      const search = searchRef.current + key;\n      handleSearchChange(search);\n\n      (function updateSearch(value: string) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        // Reset `searchRef` 1 second after it was last updated\n        if (value !== '') timerRef.current = window.setTimeout(() => updateSearch(''), 1000);\n      })(search);\n    },\n    [handleSearchChange]\n  );\n\n  const resetTypeahead = React.useCallback(() => {\n    searchRef.current = '';\n    window.clearTimeout(timerRef.current);\n  }, []);\n\n  React.useEffect(() => {\n    return () => window.clearTimeout(timerRef.current);\n  }, []);\n\n  return [searchRef, handleTypeaheadSearch, resetTypeahead] as const;\n}\n\n/**\n * This is the \"meat\" of the typeahead matching logic. It takes in a list of items,\n * the search and the current item, and returns the next item (or `undefined`).\n *\n * We normalize the search because if a user has repeatedly pressed a character,\n * we want the exact same behavior as if we only had that one character\n * (ie. cycle through items starting with that character)\n *\n * We also reorder the items by wrapping the array around the current item.\n * This is so we always look forward from the current item, and picking the first\n * item will always be the correct one.\n *\n * Finally, if the normalized search is exactly one character, we exclude the\n * current item from the values because otherwise it would be the first to match always\n * and focus would never move. This is as opposed to the regular case, where we\n * don't want focus to move if the current item still matches.\n */\nfunction findNextItem<T extends { textValue: string }>(\n  items: T[],\n  search: string,\n  currentItem?: T\n) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0]! : search;\n  const currentItemIndex = currentItem ? items.indexOf(currentItem) : -1;\n  let wrappedItems = wrapArray(items, Math.max(currentItemIndex, 0));\n  const excludeCurrentItem = normalizedSearch.length === 1;\n  if (excludeCurrentItem) wrappedItems = wrappedItems.filter((v) => v !== currentItem);\n  const nextItem = wrappedItems.find((item) =>\n    item.textValue.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextItem !== currentItem ? nextItem : undefined;\n}\n\n/**\n * Wraps an array around itself at a given start index\n * Example: `wrapArray(['a', 'b', 'c', 'd'], 2) === ['c', 'd', 'a', 'b']`\n */\nfunction wrapArray<T>(array: T[], startIndex: number) {\n  return array.map<T>((_, index) => array[(startIndex + index) % array.length]!);\n}\n\nconst Root = Select;\nconst Trigger = SelectTrigger;\nconst Value = SelectValue;\nconst Icon = SelectIcon;\nconst Portal = SelectPortal;\nconst Content = SelectContent;\nconst Viewport = SelectViewport;\nconst Group = SelectGroup;\nconst Label = SelectLabel;\nconst Item = SelectItem;\nconst ItemText = SelectItemText;\nconst ItemIndicator = SelectItemIndicator;\nconst ScrollUpButton = SelectScrollUpButton;\nconst ScrollDownButton = SelectScrollDownButton;\nconst Separator = SelectSeparator;\nconst Arrow = SelectArrow;\n\nexport {\n  createSelectScope,\n  //\n  Select,\n  SelectTrigger,\n  SelectValue,\n  SelectIcon,\n  SelectPortal,\n  SelectContent,\n  SelectViewport,\n  SelectGroup,\n  SelectLabel,\n  SelectItem,\n  SelectItemText,\n  SelectItemIndicator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n  SelectSeparator,\n  SelectArrow,\n  //\n  Root,\n  Trigger,\n  Value,\n  Icon,\n  Portal,\n  Content,\n  Viewport,\n  Group,\n  Label,\n  Item,\n  ItemText,\n  ItemIndicator,\n  ScrollUpButton,\n  ScrollDownButton,\n  Separator,\n  Arrow,\n};\nexport type {\n  SelectProps,\n  SelectTriggerProps,\n  SelectValueProps,\n  SelectIconProps,\n  SelectPortalProps,\n  SelectContentProps,\n  SelectViewportProps,\n  SelectGroupProps,\n  SelectLabelProps,\n  SelectItemProps,\n  SelectItemTextProps,\n  SelectItemIndicatorProps,\n  SelectScrollUpButtonProps,\n  SelectScrollDownButtonProps,\n  SelectSeparatorProps,\n  SelectArrowProps,\n};\n","import {\n  areArrayBuffersEqual,\n  areArraysEqual as areArraysEqualDefault,\n  areDataViewsEqual,\n  areDatesEqual as areDatesEqualDefault,\n  areErrorsEqual as areErrorsEqualDefault,\n  areFunctionsEqual as areFunctionsEqualDefault,\n  areMapsEqual as areMapsEqualDefault,\n  areNumbersEqual as areNumbersEqualDefault,\n  areObjectsEqual as areObjectsEqualDefault,\n  areObjectsEqualStrict as areObjectsEqualStrictDefault,\n  arePrimitiveWrappersEqual as arePrimitiveWrappersEqualDefault,\n  areRegExpsEqual as areRegExpsEqualDefault,\n  areSetsEqual as areSetsEqualDefault,\n  areTypedArraysEqual as areTypedArraysEqualDefault,\n  areUrlsEqual as areUrlsEqualDefault,\n} from './equals.js';\nimport type {\n  ComparatorConfig,\n  CreateState,\n  CustomEqualCreatorOptions,\n  EqualityComparator,\n  InternalEqualityComparator,\n  State,\n} from './internalTypes.js';\nimport { combineComparators, createIsCircular, getShortTag } from './utils.js';\n\nconst ARRAY_BUFFER_TAG = '[object ArrayBuffer]';\nconst ARGUMENTS_TAG = '[object Arguments]';\nconst BOOLEAN_TAG = '[object Boolean]';\nconst DATA_VIEW_TAG = '[object DataView]';\nconst DATE_TAG = '[object Date]';\nconst ERROR_TAG = '[object Error]';\nconst MAP_TAG = '[object Map]';\nconst NUMBER_TAG = '[object Number]';\nconst OBJECT_TAG = '[object Object]';\nconst REG_EXP_TAG = '[object RegExp]';\nconst SET_TAG = '[object Set]';\nconst STRING_TAG = '[object String]';\nconst TYPED_ARRAY_TAGS: Record<string, boolean> = {\n  '[object Int8Array]': true,\n  '[object Uint8Array]': true,\n  '[object Uint8ClampedArray]': true,\n  '[object Int16Array]': true,\n  '[object Uint16Array]': true,\n  '[object Int32Array]': true,\n  '[object Uint32Array]': true,\n  '[object Float16Array]': true,\n  '[object Float32Array]': true,\n  '[object Float64Array]': true,\n  '[object BigInt64Array]': true,\n  '[object BigUint64Array]': true,\n};\nconst URL_TAG = '[object URL]';\n\n// eslint-disable-next-line @typescript-eslint/unbound-method\nconst toString = Object.prototype.toString;\n\ninterface CreateIsEqualOptions<Meta> {\n  circular: boolean;\n  comparator: EqualityComparator<Meta>;\n  createState: CreateState<Meta> | undefined;\n  equals: InternalEqualityComparator<Meta>;\n  strict: boolean;\n}\n\n/**\n * Create a comparator method based on the type-specific equality comparators passed.\n */\nexport function createEqualityComparator<Meta>({\n  areArrayBuffersEqual,\n  areArraysEqual,\n  areDataViewsEqual,\n  areDatesEqual,\n  areErrorsEqual,\n  areFunctionsEqual,\n  areMapsEqual,\n  areNumbersEqual,\n  areObjectsEqual,\n  arePrimitiveWrappersEqual,\n  areRegExpsEqual,\n  areSetsEqual,\n  areTypedArraysEqual,\n  areUrlsEqual,\n  unknownTagComparators,\n}: ComparatorConfig<Meta>): EqualityComparator<Meta> {\n  /**\n   * compare the value of the two objects and return true if they are equivalent in values\n   */\n  return function comparator(a: any, b: any, state: State<Meta>): boolean {\n    // If the items are strictly equal, no need to do a value comparison.\n    if (a === b) {\n      return true;\n    }\n\n    // If either of the items are nullish and fail the strictly equal check\n    // above, then they must be unequal.\n    if (a == null || b == null) {\n      return false;\n    }\n\n    const type = typeof a;\n\n    if (type !== typeof b) {\n      return false;\n    }\n\n    if (type !== 'object') {\n      if (type === 'number') {\n        return areNumbersEqual(a, b, state);\n      }\n\n      if (type === 'function') {\n        return areFunctionsEqual(a, b, state);\n      }\n\n      // If a primitive value that is not strictly equal, it must be unequal.\n      return false;\n    }\n\n    const constructor = a.constructor;\n\n    // Checks are listed in order of commonality of use-case:\n    //   1. Common complex object types (plain object, array)\n    //   2. Common data values (date, regexp)\n    //   3. Less-common complex object types (map, set)\n    //   4. Less-common data values (promise, primitive wrappers)\n    // Inherently this is both subjective and assumptive, however\n    // when reviewing comparable libraries in the wild this order\n    // appears to be generally consistent.\n\n    // Constructors should match, otherwise there is potential for false positives\n    // between class and subclass or custom object and POJO.\n    if (constructor !== b.constructor) {\n      return false;\n    }\n\n    // `isPlainObject` only checks against the object's own realm. Cross-realm\n    // comparisons are rare, and will be handled in the ultimate fallback, so\n    // we can avoid capturing the string tag.\n    if (constructor === Object) {\n      return areObjectsEqual(a, b, state);\n    }\n\n    // `isArray()` works on subclasses and is cross-realm, so we can avoid capturing\n    // the string tag or doing an `instanceof` check.\n    if (Array.isArray(a)) {\n      return areArraysEqual(a, b, state);\n    }\n\n    // Try to fast-path equality checks for other complex object types in the\n    // same realm to avoid capturing the string tag. Strict equality is used\n    // instead of `instanceof` because it is more performant for the common\n    // use-case. If someone is subclassing a native class, it will be handled\n    // with the string tag comparison.\n\n    if (constructor === Date) {\n      return areDatesEqual(a, b, state);\n    }\n\n    if (constructor === RegExp) {\n      return areRegExpsEqual(a, b, state);\n    }\n\n    if (constructor === Map) {\n      return areMapsEqual(a, b, state);\n    }\n\n    if (constructor === Set) {\n      return areSetsEqual(a, b, state);\n    }\n\n    // Since this is a custom object, capture the string tag to determing its type.\n    // This is reasonably performant in modern environments like v8 and SpiderMonkey.\n    const tag = toString.call(a);\n\n    if (tag === DATE_TAG) {\n      return areDatesEqual(a, b, state);\n    }\n\n    // For RegExp, the properties are not enumerable, and therefore will give false positives if\n    // tested like a standard object.\n    if (tag === REG_EXP_TAG) {\n      return areRegExpsEqual(a, b, state);\n    }\n\n    if (tag === MAP_TAG) {\n      return areMapsEqual(a, b, state);\n    }\n\n    if (tag === SET_TAG) {\n      return areSetsEqual(a, b, state);\n    }\n\n    if (tag === OBJECT_TAG) {\n      // The exception for value comparison is custom `Promise`-like class instances. These should\n      // be treated the same as standard `Promise` objects, which means strict equality, and if\n      // it reaches this point then that strict equality comparison has already failed.\n      return typeof a.then !== 'function' && typeof b.then !== 'function' && areObjectsEqual(a, b, state);\n    }\n\n    // If a URL tag, it should be tested explicitly. Like RegExp, the properties are not\n    // enumerable, and therefore will give false positives if tested like a standard object.\n    if (tag === URL_TAG) {\n      return areUrlsEqual(a, b, state);\n    }\n\n    // If an error tag, it should be tested explicitly. Like RegExp, the properties are not\n    // enumerable, and therefore will give false positives if tested like a standard object.\n    if (tag === ERROR_TAG) {\n      return areErrorsEqual(a, b, state);\n    }\n\n    // If an arguments tag, it should be treated as a standard object.\n    if (tag === ARGUMENTS_TAG) {\n      return areObjectsEqual(a, b, state);\n    }\n\n    if (TYPED_ARRAY_TAGS[tag]) {\n      return areTypedArraysEqual(a, b, state);\n    }\n\n    if (tag === ARRAY_BUFFER_TAG) {\n      return areArrayBuffersEqual(a, b, state);\n    }\n\n    if (tag === DATA_VIEW_TAG) {\n      return areDataViewsEqual(a, b, state);\n    }\n\n    // As the penultimate fallback, check if the values passed are primitive wrappers. This\n    // is very rare in modern JS, which is why it is deprioritized compared to all other object\n    // types.\n    if (tag === BOOLEAN_TAG || tag === NUMBER_TAG || tag === STRING_TAG) {\n      return arePrimitiveWrappersEqual(a, b, state);\n    }\n\n    if (unknownTagComparators) {\n      let unknownTagComparator = unknownTagComparators[tag];\n\n      if (!unknownTagComparator) {\n        const shortTag = getShortTag(a);\n\n        if (shortTag) {\n          unknownTagComparator = unknownTagComparators[shortTag];\n        }\n      }\n\n      // If the custom config has an unknown tag comparator that matches the captured tag or the\n      // @@toStringTag, it is the source of truth for whether the values are equal.\n      if (unknownTagComparator) {\n        return unknownTagComparator(a, b, state);\n      }\n    }\n\n    // If not matching any tags that require a specific type of comparison, then we hard-code false because\n    // the only thing remaining is strict equality, which has already been compared. This is for a few reasons:\n    //   - Certain types that cannot be introspected (e.g., `WeakMap`). For these types, this is the only\n    //     comparison that can be made.\n    //   - For types that can be introspected, but rarely have requirements to be compared\n    //     (`ArrayBuffer`, `DataView`, etc.), the cost is avoided to prioritize the common\n    //     use-cases (may be included in a future release, if requested enough).\n    //   - For types that can be introspected but do not have an objective definition of what\n    //     equality is (`Error`, etc.), the subjective decision is to be conservative and strictly compare.\n    // In all cases, these decisions should be reevaluated based on changes to the language and\n    // common development practices.\n    return false;\n  };\n}\n\n/**\n * Create the configuration object used for building comparators.\n */\nexport function createEqualityComparatorConfig<Meta>({\n  circular,\n  createCustomConfig,\n  strict,\n}: CustomEqualCreatorOptions<Meta>): ComparatorConfig<Meta> {\n  let config = {\n    areArrayBuffersEqual,\n    areArraysEqual: strict ? areObjectsEqualStrictDefault : areArraysEqualDefault,\n    areDataViewsEqual,\n    areDatesEqual: areDatesEqualDefault,\n    areErrorsEqual: areErrorsEqualDefault,\n    areFunctionsEqual: areFunctionsEqualDefault,\n    areMapsEqual: strict ? combineComparators(areMapsEqualDefault, areObjectsEqualStrictDefault) : areMapsEqualDefault,\n    areNumbersEqual: areNumbersEqualDefault,\n    areObjectsEqual: strict ? areObjectsEqualStrictDefault : areObjectsEqualDefault,\n    arePrimitiveWrappersEqual: arePrimitiveWrappersEqualDefault,\n    areRegExpsEqual: areRegExpsEqualDefault,\n    areSetsEqual: strict ? combineComparators(areSetsEqualDefault, areObjectsEqualStrictDefault) : areSetsEqualDefault,\n    areTypedArraysEqual: strict\n      ? combineComparators(areTypedArraysEqualDefault, areObjectsEqualStrictDefault)\n      : areTypedArraysEqualDefault,\n    areUrlsEqual: areUrlsEqualDefault,\n    unknownTagComparators: undefined,\n  };\n\n  if (createCustomConfig) {\n    config = Object.assign({}, config, createCustomConfig(config));\n  }\n\n  if (circular) {\n    const areArraysEqual = createIsCircular(config.areArraysEqual);\n    const areMapsEqual = createIsCircular(config.areMapsEqual);\n    const areObjectsEqual = createIsCircular(config.areObjectsEqual);\n    const areSetsEqual = createIsCircular(config.areSetsEqual);\n\n    config = Object.assign({}, config, {\n      areArraysEqual,\n      areMapsEqual,\n      areObjectsEqual,\n      areSetsEqual,\n    });\n  }\n\n  return config;\n}\n\n/**\n * Default equality comparator pass-through, used as the standard `isEqual` creator for\n * use inside the built comparator.\n */\nexport function createInternalEqualityComparator<Meta>(\n  compare: EqualityComparator<Meta>,\n): InternalEqualityComparator<Meta> {\n  return function (\n    a: any,\n    b: any,\n    _indexOrKeyA: any,\n    _indexOrKeyB: any,\n    _parentA: any,\n    _parentB: any,\n    state: State<Meta>,\n  ) {\n    return compare(a, b, state);\n  };\n}\n\n/**\n * Create the `isEqual` function used by the consuming application.\n */\nexport function createIsEqual<Meta>({ circular, comparator, createState, equals, strict }: CreateIsEqualOptions<Meta>) {\n  if (createState) {\n    return function isEqual<A, B>(a: A, b: B): boolean {\n      const { cache = circular ? new WeakMap() : undefined, meta } = createState();\n\n      return comparator(a, b, {\n        cache,\n        equals,\n        meta,\n        strict,\n      } as State<Meta>);\n    };\n  }\n\n  if (circular) {\n    return function isEqual<A, B>(a: A, b: B): boolean {\n      return comparator(a, b, {\n        cache: new WeakMap(),\n        equals,\n        meta: undefined as Meta,\n        strict,\n      } as State<Meta>);\n    };\n  }\n\n  const state = {\n    cache: undefined,\n    equals,\n    meta: undefined,\n    strict,\n  } as State<Meta>;\n\n  return function isEqual<A, B>(a: A, b: B): boolean {\n    return comparator(a, b, state);\n  };\n}\n","import { type EditorOptions, Editor } from '@tiptap/core'\nimport type { DependencyList, MutableRefObject } from 'react'\nimport { useDebugValue, useEffect, useRef, useState } from 'react'\nimport { useSyncExternalStore } from 'use-sync-external-store/shim/index.js'\n\nimport { useEditorState } from './useEditorState.js'\n\n// @ts-ignore\nconst isDev = process.env.NODE_ENV !== 'production'\nconst isSSR = typeof window === 'undefined'\nconst isNext = isSSR || Boolean(typeof window !== 'undefined' && (window as any).next)\n\n/**\n * The options for the `useEditor` hook.\n */\nexport type UseEditorOptions = Partial<EditorOptions> & {\n  /**\n   * Whether to render the editor on the first render.\n   * If client-side rendering, set this to `true`.\n   * If server-side rendering, set this to `false`.\n   * @default true\n   */\n  immediatelyRender?: boolean\n  /**\n   * Whether to re-render the editor on each transaction.\n   * This is legacy behavior that will be removed in future versions.\n   * @default false\n   */\n  shouldRerenderOnTransaction?: boolean\n}\n\n/**\n * This class handles the creation, destruction, and re-creation of the editor instance.\n */\nclass EditorInstanceManager {\n  /**\n   * The current editor instance.\n   */\n  private editor: Editor | null = null\n\n  /**\n   * The most recent options to apply to the editor.\n   */\n  private options: MutableRefObject<UseEditorOptions>\n\n  /**\n   * The subscriptions to notify when the editor instance\n   * has been created or destroyed.\n   */\n  private subscriptions = new Set<() => void>()\n\n  /**\n   * A timeout to destroy the editor if it was not mounted within a time frame.\n   */\n  private scheduledDestructionTimeout: ReturnType<typeof setTimeout> | undefined\n\n  /**\n   * Whether the editor has been mounted.\n   */\n  private isComponentMounted = false\n\n  /**\n   * The most recent dependencies array.\n   */\n  private previousDeps: DependencyList | null = null\n\n  /**\n   * The unique instance ID. This is used to identify the editor instance. And will be re-generated for each new instance.\n   */\n  public instanceId = ''\n\n  constructor(options: MutableRefObject<UseEditorOptions>) {\n    this.options = options\n    this.subscriptions = new Set<() => void>()\n    this.setEditor(this.getInitialEditor())\n    this.scheduleDestroy()\n\n    this.getEditor = this.getEditor.bind(this)\n    this.getServerSnapshot = this.getServerSnapshot.bind(this)\n    this.subscribe = this.subscribe.bind(this)\n    this.refreshEditorInstance = this.refreshEditorInstance.bind(this)\n    this.scheduleDestroy = this.scheduleDestroy.bind(this)\n    this.onRender = this.onRender.bind(this)\n    this.createEditor = this.createEditor.bind(this)\n  }\n\n  private setEditor(editor: Editor | null) {\n    this.editor = editor\n    this.instanceId = Math.random().toString(36).slice(2, 9)\n\n    // Notify all subscribers that the editor instance has been created\n    this.subscriptions.forEach(cb => cb())\n  }\n\n  private getInitialEditor() {\n    if (this.options.current.immediatelyRender === undefined) {\n      if (isSSR || isNext) {\n        if (isDev) {\n          /**\n           * Throw an error in development, to make sure the developer is aware that tiptap cannot be SSR'd\n           * and that they need to set `immediatelyRender` to `false` to avoid hydration mismatches.\n           */\n          throw new Error(\n            'Tiptap Error: SSR has been detected, please set `immediatelyRender` explicitly to `false` to avoid hydration mismatches.',\n          )\n        }\n\n        // Best faith effort in production, run the code in the legacy mode to avoid hydration mismatches and errors in production\n        return null\n      }\n\n      // Default to immediately rendering when client-side rendering\n      return this.createEditor()\n    }\n\n    if (this.options.current.immediatelyRender && isSSR && isDev) {\n      // Warn in development, to make sure the developer is aware that tiptap cannot be SSR'd, set `immediatelyRender` to `false` to avoid hydration mismatches.\n      throw new Error(\n        'Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.',\n      )\n    }\n\n    if (this.options.current.immediatelyRender) {\n      return this.createEditor()\n    }\n\n    return null\n  }\n\n  /**\n   * Create a new editor instance. And attach event listeners.\n   */\n  private createEditor(): Editor {\n    const optionsToApply: Partial<EditorOptions> = {\n      ...this.options.current,\n      // Always call the most recent version of the callback function by default\n      onBeforeCreate: (...args) => this.options.current.onBeforeCreate?.(...args),\n      onBlur: (...args) => this.options.current.onBlur?.(...args),\n      onCreate: (...args) => this.options.current.onCreate?.(...args),\n      onDestroy: (...args) => this.options.current.onDestroy?.(...args),\n      onFocus: (...args) => this.options.current.onFocus?.(...args),\n      onSelectionUpdate: (...args) => this.options.current.onSelectionUpdate?.(...args),\n      onTransaction: (...args) => this.options.current.onTransaction?.(...args),\n      onUpdate: (...args) => this.options.current.onUpdate?.(...args),\n      onContentError: (...args) => this.options.current.onContentError?.(...args),\n      onDrop: (...args) => this.options.current.onDrop?.(...args),\n      onPaste: (...args) => this.options.current.onPaste?.(...args),\n      onDelete: (...args) => this.options.current.onDelete?.(...args),\n    }\n    const editor = new Editor(optionsToApply)\n\n    // no need to keep track of the event listeners, they will be removed when the editor is destroyed\n\n    return editor\n  }\n\n  /**\n   * Get the current editor instance.\n   */\n  getEditor(): Editor | null {\n    return this.editor\n  }\n\n  /**\n   * Always disable the editor on the server-side.\n   */\n  getServerSnapshot(): null {\n    return null\n  }\n\n  /**\n   * Subscribe to the editor instance's changes.\n   */\n  subscribe(onStoreChange: () => void) {\n    this.subscriptions.add(onStoreChange)\n\n    return () => {\n      this.subscriptions.delete(onStoreChange)\n    }\n  }\n\n  static compareOptions(a: UseEditorOptions, b: UseEditorOptions) {\n    return (Object.keys(a) as (keyof UseEditorOptions)[]).every(key => {\n      if (\n        [\n          'onCreate',\n          'onBeforeCreate',\n          'onDestroy',\n          'onUpdate',\n          'onTransaction',\n          'onFocus',\n          'onBlur',\n          'onSelectionUpdate',\n          'onContentError',\n          'onDrop',\n          'onPaste',\n        ].includes(key)\n      ) {\n        // we don't want to compare callbacks, they are always different and only registered once\n        return true\n      }\n\n      // We often encourage putting extensions inlined in the options object, so we will do a slightly deeper comparison here\n      if (key === 'extensions' && a.extensions && b.extensions) {\n        if (a.extensions.length !== b.extensions.length) {\n          return false\n        }\n        return a.extensions.every((extension, index) => {\n          if (extension !== b.extensions?.[index]) {\n            return false\n          }\n          return true\n        })\n      }\n      if (a[key] !== b[key]) {\n        // if any of the options have changed, we should update the editor options\n        return false\n      }\n      return true\n    })\n  }\n\n  /**\n   * On each render, we will create, update, or destroy the editor instance.\n   * @param deps The dependencies to watch for changes\n   * @returns A cleanup function\n   */\n  onRender(deps: DependencyList) {\n    // The returned callback will run on each render\n    return () => {\n      this.isComponentMounted = true\n      // Cleanup any scheduled destructions, since we are currently rendering\n      clearTimeout(this.scheduledDestructionTimeout)\n\n      if (this.editor && !this.editor.isDestroyed && deps.length === 0) {\n        // if the editor does exist & deps are empty, we don't need to re-initialize the editor generally\n        if (!EditorInstanceManager.compareOptions(this.options.current, this.editor.options)) {\n          // But, the options are different, so we need to update the editor options\n          // Still, this is faster than re-creating the editor\n          this.editor.setOptions({\n            ...this.options.current,\n            editable: this.editor.isEditable,\n          })\n        }\n      } else {\n        // When the editor:\n        // - does not yet exist\n        // - is destroyed\n        // - the deps array changes\n        // We need to destroy the editor instance and re-initialize it\n        this.refreshEditorInstance(deps)\n      }\n\n      return () => {\n        this.isComponentMounted = false\n        this.scheduleDestroy()\n      }\n    }\n  }\n\n  /**\n   * Recreate the editor instance if the dependencies have changed.\n   */\n  private refreshEditorInstance(deps: DependencyList) {\n    if (this.editor && !this.editor.isDestroyed) {\n      // Editor instance already exists\n      if (this.previousDeps === null) {\n        // If lastDeps has not yet been initialized, reuse the current editor instance\n        this.previousDeps = deps\n        return\n      }\n      const depsAreEqual =\n        this.previousDeps.length === deps.length && this.previousDeps.every((dep, index) => dep === deps[index])\n\n      if (depsAreEqual) {\n        // deps exist and are equal, no need to recreate\n        return\n      }\n    }\n\n    if (this.editor && !this.editor.isDestroyed) {\n      // Destroy the editor instance if it exists\n      this.editor.destroy()\n    }\n\n    this.setEditor(this.createEditor())\n\n    // Update the lastDeps to the current deps\n    this.previousDeps = deps\n  }\n\n  /**\n   * Schedule the destruction of the editor instance.\n   * This will only destroy the editor if it was not mounted on the next tick.\n   * This is to avoid destroying the editor instance when it's actually still mounted.\n   */\n  private scheduleDestroy() {\n    const currentInstanceId = this.instanceId\n    const currentEditor = this.editor\n\n    // Wait two ticks to see if the component is still mounted\n    this.scheduledDestructionTimeout = setTimeout(() => {\n      if (this.isComponentMounted && this.instanceId === currentInstanceId) {\n        // If still mounted on the following tick, with the same instanceId, do not destroy the editor\n        if (currentEditor) {\n          // just re-apply options as they might have changed\n          currentEditor.setOptions(this.options.current)\n        }\n        return\n      }\n      if (currentEditor && !currentEditor.isDestroyed) {\n        currentEditor.destroy()\n        if (this.instanceId === currentInstanceId) {\n          this.setEditor(null)\n        }\n      }\n      // This allows the effect to run again between ticks\n      // which may save us from having to re-create the editor\n    }, 1)\n  }\n}\n\n/**\n * This hook allows you to create an editor instance.\n * @param options The editor options\n * @param deps The dependencies to watch for changes\n * @returns The editor instance\n * @example const editor = useEditor({ extensions: [...] })\n */\nexport function useEditor(\n  options: UseEditorOptions & { immediatelyRender: false },\n  deps?: DependencyList,\n): Editor | null\n\n/**\n * This hook allows you to create an editor instance.\n * @param options The editor options\n * @param deps The dependencies to watch for changes\n * @returns The editor instance\n * @example const editor = useEditor({ extensions: [...] })\n */\nexport function useEditor(options: UseEditorOptions, deps?: DependencyList): Editor\n\nexport function useEditor(options: UseEditorOptions = {}, deps: DependencyList = []): Editor | null {\n  const mostRecentOptions = useRef(options)\n\n  mostRecentOptions.current = options\n\n  const [instanceManager] = useState(() => new EditorInstanceManager(mostRecentOptions))\n\n  const editor = useSyncExternalStore(\n    instanceManager.subscribe,\n    instanceManager.getEditor,\n    instanceManager.getServerSnapshot,\n  )\n\n  useDebugValue(editor)\n\n  // This effect will handle creating/updating the editor instance\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(instanceManager.onRender(deps))\n\n  // The default behavior is to re-render on each transaction\n  // This is legacy behavior that will be removed in future versions\n  useEditorState({\n    editor,\n    selector: ({ transactionNumber }) => {\n      if (options.shouldRerenderOnTransaction === false || options.shouldRerenderOnTransaction === undefined) {\n        // This will prevent the editor from re-rendering on each transaction\n        return null\n      }\n\n      // This will avoid re-rendering on the first transaction when `immediatelyRender` is set to `true`\n      if (options.immediatelyRender && transactionNumber === 0) {\n        return 0\n      }\n      return transactionNumber + 1\n    },\n  })\n\n  return editor\n}\n","import { Extension } from '@tiptap/core'\nimport { history, redo, undo } from '@tiptap/pm/history'\n\nexport interface UndoRedoOptions {\n  /**\n   * The amount of history events that are collected before the oldest events are discarded.\n   * @default 100\n   * @example 50\n   */\n  depth: number\n\n  /**\n   * The delay (in milliseconds) between changes after which a new group should be started.\n   * @default 500\n   * @example 1000\n   */\n  newGroupDelay: number\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    undoRedo: {\n      /**\n       * Undo recent changes\n       * @example editor.commands.undo()\n       */\n      undo: () => ReturnType\n      /**\n       * Reapply reverted changes\n       * @example editor.commands.redo()\n       */\n      redo: () => ReturnType\n    }\n  }\n}\n\n/**\n * This extension allows you to undo and redo recent changes.\n * @see https://www.tiptap.dev/api/extensions/undo-redo\n *\n * **Important**: If the `@tiptap/extension-collaboration` package is used, make sure to remove\n * the `undo-redo` extension, as it is not compatible with the `collaboration` extension.\n *\n * `@tiptap/extension-collaboration` uses its own history implementation.\n */\nexport const UndoRedo = Extension.create<UndoRedoOptions>({\n  name: 'undoRedo',\n\n  addOptions() {\n    return {\n      depth: 100,\n      newGroupDelay: 500,\n    }\n  },\n\n  addCommands() {\n    return {\n      undo:\n        () =>\n        ({ state, dispatch }) => {\n          return undo(state, dispatch)\n        },\n      redo:\n        () =>\n        ({ state, dispatch }) => {\n          return redo(state, dispatch)\n        },\n    }\n  },\n\n  addProseMirrorPlugins() {\n    return [history(this.options)]\n  },\n\n  addKeyboardShortcuts() {\n    return {\n      'Mod-z': () => this.editor.commands.undo(),\n      'Shift-Mod-z': () => this.editor.commands.redo(),\n      'Mod-y': () => this.editor.commands.redo(),\n\n      // Russian keyboard layouts\n      'Mod-я': () => this.editor.commands.undo(),\n      'Shift-Mod-я': () => this.editor.commands.redo(),\n    }\n  },\n})\n","import { exitCode as originalExitCode } from '@tiptap/pm/commands'\n\nimport type { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    exitCode: {\n      /**\n       * Exit from a code block.\n       * @example editor.commands.exitCode()\n       */\n      exitCode: () => ReturnType\n    }\n  }\n}\n\nexport const exitCode: RawCommands['exitCode'] =\n  () =>\n  ({ state, dispatch }) => {\n    return originalExitCode(state, dispatch)\n  }\n","import React from 'react';\n\nimport getEventValue from './logic/getEventValue';\nimport isNameInFieldArray from './logic/isNameInFieldArray';\nimport cloneObject from './utils/cloneObject';\nimport get from './utils/get';\nimport isBoolean from './utils/isBoolean';\nimport isFunction from './utils/isFunction';\nimport isUndefined from './utils/isUndefined';\nimport set from './utils/set';\nimport { EVENTS } from './constants';\nimport type {\n  ControllerFieldState,\n  Field,\n  FieldPath,\n  FieldPathValue,\n  FieldValues,\n  InternalFieldName,\n  UseControllerProps,\n  UseControllerReturn,\n} from './types';\nimport { useFormControlContext } from './useFormControlContext';\nimport { useFormState } from './useFormState';\nimport { useWatch } from './useWatch';\n\n/**\n * Custom hook to work with controlled component, this function provide you with both form and field level state. Re-render is isolated at the hook level.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usecontroller) • [Demo](https://codesandbox.io/s/usecontroller-0o8px)\n *\n * @param props - the path name to the form field value, and validation rules.\n *\n * @returns field properties, field and form state. {@link UseControllerReturn}\n *\n * @example\n * ```tsx\n * function Input(props) {\n *   const { field, fieldState, formState } = useController(props);\n *   return (\n *     <div>\n *       <input {...field} placeholder={props.name} />\n *       <p>{fieldState.isTouched && \"Touched\"}</p>\n *       <p>{formState.isSubmitted ? \"submitted\" : \"\"}</p>\n *     </div>\n *   );\n * }\n * ```\n */\nexport function useController<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n  TTransformedValues = TFieldValues,\n>(\n  props: UseControllerProps<TFieldValues, TName, TTransformedValues>,\n): UseControllerReturn<TFieldValues, TName> {\n  const formControl = useFormControlContext<\n    TFieldValues,\n    any,\n    TTransformedValues\n  >();\n  const {\n    name,\n    disabled,\n    control = formControl,\n    shouldUnregister,\n    defaultValue,\n    exact = true,\n  } = props;\n  const isArrayField = isNameInFieldArray(control._names.array, name);\n\n  const defaultValueMemo = React.useMemo(\n    () =>\n      get(\n        control._formValues,\n        name,\n        get(control._defaultValues, name, defaultValue),\n      ),\n    [control, name, defaultValue],\n  );\n\n  const value = useWatch({\n    control,\n    name,\n    defaultValue: defaultValueMemo,\n    exact,\n  }) as FieldPathValue<TFieldValues, TName>;\n\n  const formState = useFormState({\n    control,\n    name,\n    exact,\n  });\n\n  const _props = React.useRef(props);\n\n  const _previousNameRef = React.useRef<string | undefined>(undefined);\n\n  const _registerProps = React.useRef(\n    control.register(name, {\n      ...props.rules,\n      value,\n      ...(isBoolean(props.disabled) ? { disabled: props.disabled } : {}),\n    }),\n  );\n\n  _props.current = props;\n\n  const fieldState = React.useMemo(\n    () =>\n      Object.defineProperties(\n        {},\n        {\n          invalid: {\n            enumerable: true,\n            get: () => !!get(formState.errors, name),\n          },\n          isDirty: {\n            enumerable: true,\n            get: () => !!get(formState.dirtyFields, name),\n          },\n          isTouched: {\n            enumerable: true,\n            get: () => !!get(formState.touchedFields, name),\n          },\n          isValidating: {\n            enumerable: true,\n            get: () => !!get(formState.validatingFields, name),\n          },\n          error: {\n            enumerable: true,\n            get: () => get(formState.errors, name),\n          },\n        },\n      ) as ControllerFieldState,\n    [formState, name],\n  );\n\n  const onChange = React.useCallback(\n    (event: any) =>\n      _registerProps.current.onChange({\n        target: {\n          value: getEventValue(event),\n          name: name as InternalFieldName,\n        },\n        type: EVENTS.CHANGE,\n      }),\n    [name],\n  );\n\n  const onBlur = React.useCallback(\n    () =>\n      _registerProps.current.onBlur({\n        target: {\n          value: get(control._formValues, name),\n          name: name as InternalFieldName,\n        },\n        type: EVENTS.BLUR,\n      }),\n    [name, control._formValues],\n  );\n\n  const ref = React.useCallback(\n    (elm: any) => {\n      const field = get(control._fields, name);\n\n      if (field && field._f && elm) {\n        field._f.ref = {\n          focus: () => isFunction(elm.focus) && elm.focus(),\n          select: () => isFunction(elm.select) && elm.select(),\n          setCustomValidity: (message: string) =>\n            isFunction(elm.setCustomValidity) && elm.setCustomValidity(message),\n          reportValidity: () =>\n            isFunction(elm.reportValidity) && elm.reportValidity(),\n        };\n      }\n    },\n    [control._fields, name],\n  );\n\n  const field = React.useMemo(\n    () => ({\n      name,\n      value,\n      ...(isBoolean(disabled) || formState.disabled\n        ? { disabled: formState.disabled || disabled }\n        : {}),\n      onChange,\n      onBlur,\n      ref,\n    }),\n    [name, disabled, formState.disabled, onChange, onBlur, ref, value],\n  );\n\n  React.useEffect(() => {\n    const _shouldUnregisterField =\n      control._options.shouldUnregister || shouldUnregister;\n    const previousName = _previousNameRef.current;\n\n    if (previousName && previousName !== name && !isArrayField) {\n      control.unregister(previousName as FieldPath<TFieldValues>);\n    }\n\n    control.register(name, {\n      ..._props.current.rules,\n      ...(isBoolean(_props.current.disabled)\n        ? { disabled: _props.current.disabled }\n        : {}),\n    });\n\n    const updateMounted = (name: InternalFieldName, value: boolean) => {\n      const field: Field = get(control._fields, name);\n\n      if (field && field._f) {\n        field._f.mount = value;\n      }\n    };\n\n    updateMounted(name, true);\n\n    if (_shouldUnregisterField) {\n      const value = cloneObject(\n        get(control._options.defaultValues, name, _props.current.defaultValue),\n      );\n      set(control._defaultValues, name, value);\n      if (isUndefined(get(control._formValues, name))) {\n        set(control._formValues, name, value);\n      }\n    }\n\n    !isArrayField && control.register(name);\n\n    _previousNameRef.current = name;\n\n    return () => {\n      (\n        isArrayField\n          ? _shouldUnregisterField && !control._state.action\n          : _shouldUnregisterField\n      )\n        ? control.unregister(name)\n        : updateMounted(name, false);\n    };\n  }, [name, control, isArrayField, shouldUnregister]);\n\n  React.useEffect(() => {\n    control._setDisabledField({\n      disabled,\n      name,\n    });\n  }, [disabled, name, control]);\n\n  return React.useMemo(\n    () => ({\n      field,\n      formState,\n      fieldState,\n    }),\n    [field, formState, fieldState],\n  );\n}\n","import { Extension } from '@tiptap/core'\n\nimport { handleBackspace, handleDelete } from './listHelpers/index.js'\n\nexport type ListKeymapOptions = {\n  /**\n   * An array of list types. This is used for item and wrapper list matching.\n   * @default []\n   * @example [{ itemName: 'listItem', wrapperNames: ['bulletList', 'orderedList'] }]\n   */\n  listTypes: Array<{\n    itemName: string\n    wrapperNames: string[]\n  }>\n}\n\n/**\n * This extension registers custom keymaps to change the behaviour of the backspace and delete keys.\n * By default Prosemirror keyhandling will always lift or sink items so paragraphs are joined into\n * the adjacent or previous list item. This extension will prevent this behaviour and instead will\n * try to join paragraphs from two list items into a single list item.\n * @see https://www.tiptap.dev/api/extensions/list-keymap\n */\nexport const ListKeymap = Extension.create<ListKeymapOptions>({\n  name: 'listKeymap',\n\n  addOptions() {\n    return {\n      listTypes: [\n        {\n          itemName: 'listItem',\n          wrapperNames: ['bulletList', 'orderedList'],\n        },\n        {\n          itemName: 'taskItem',\n          wrapperNames: ['taskList'],\n        },\n      ],\n    }\n  },\n\n  addKeyboardShortcuts() {\n    return {\n      Delete: ({ editor }) => {\n        let handled = false\n\n        this.options.listTypes.forEach(({ itemName }) => {\n          if (editor.state.schema.nodes[itemName] === undefined) {\n            return\n          }\n\n          if (handleDelete(editor, itemName)) {\n            handled = true\n          }\n        })\n\n        return handled\n      },\n      'Mod-Delete': ({ editor }) => {\n        let handled = false\n\n        this.options.listTypes.forEach(({ itemName }) => {\n          if (editor.state.schema.nodes[itemName] === undefined) {\n            return\n          }\n\n          if (handleDelete(editor, itemName)) {\n            handled = true\n          }\n        })\n\n        return handled\n      },\n      Backspace: ({ editor }) => {\n        let handled = false\n\n        this.options.listTypes.forEach(({ itemName, wrapperNames }) => {\n          if (editor.state.schema.nodes[itemName] === undefined) {\n            return\n          }\n\n          if (handleBackspace(editor, itemName, wrapperNames)) {\n            handled = true\n          }\n        })\n\n        return handled\n      },\n      'Mod-Backspace': ({ editor }) => {\n        let handled = false\n\n        this.options.listTypes.forEach(({ itemName, wrapperNames }) => {\n          if (editor.state.schema.nodes[itemName] === undefined) {\n            return\n          }\n\n          if (handleBackspace(editor, itemName, wrapperNames)) {\n            handled = true\n          }\n        })\n\n        return handled\n      },\n    }\n  },\n})\n","import type { Command, CommandProps, RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    first: {\n      /**\n       * Runs one command after the other and stops at the first which returns true.\n       * @param commands The commands to run.\n       * @example editor.commands.first([command1, command2])\n       */\n      first: (commands: Command[] | ((props: CommandProps) => Command[])) => ReturnType\n    }\n  }\n}\n\nexport const first: RawCommands['first'] = commands => props => {\n  const items = typeof commands === 'function' ? commands(props) : commands\n\n  for (let i = 0; i < items.length; i += 1) {\n    if (items[i](props)) {\n      return true\n    }\n  }\n\n  return false\n}\n","import { TextSelection } from '@tiptap/pm/state'\n\nexport function isTextSelection(value: unknown): value is TextSelection {\n  return value instanceof TextSelection\n}\n","import type { JSONContent, MarkdownLexerConfiguration, MarkdownParseHelpers, MarkdownToken } from '@tiptap/core'\n\n/**\n * Matches an ordered list item line with optional leading whitespace.\n * Captures: (1) indentation spaces, (2) item number, (3) content after marker\n * Example matches: \"1. Item\", \"  2. Nested item\", \"    3. Deeply nested\"\n */\nconst ORDERED_LIST_ITEM_REGEX = /^(\\s*)(\\d+)\\.\\s+(.*)$/\n\n/**\n * Matches any line that starts with whitespace (indented content).\n * Used to identify continuation content that belongs to a list item.\n */\nconst INDENTED_LINE_REGEX = /^\\s/\n\n/**\n * Represents a parsed ordered list item with indentation information\n */\nexport interface OrderedListItem {\n  indent: number\n  number: number\n  content: string\n  raw: string\n}\n\n/**\n * Collects all ordered list items from lines, parsing them into a flat array\n * with indentation information. Stops collecting continuation content when\n * encountering nested list items, allowing them to be processed separately.\n *\n * @param lines - Array of source lines to parse\n * @returns Tuple of [listItems array, number of lines consumed]\n */\nexport function collectOrderedListItems(lines: string[]): [OrderedListItem[], number] {\n  const listItems: OrderedListItem[] = []\n  let currentLineIndex = 0\n  let consumed = 0\n\n  while (currentLineIndex < lines.length) {\n    const line = lines[currentLineIndex]\n    const match = line.match(ORDERED_LIST_ITEM_REGEX)\n\n    if (!match) {\n      break\n    }\n\n    const [, indent, number, content] = match\n    const indentLevel = indent.length\n    let itemContent = content\n    let nextLineIndex = currentLineIndex + 1\n    const itemLines = [line]\n\n    // Collect continuation lines for this item (but NOT nested list items)\n    while (nextLineIndex < lines.length) {\n      const nextLine = lines[nextLineIndex]\n      const nextMatch = nextLine.match(ORDERED_LIST_ITEM_REGEX)\n\n      // If it's another list item (nested or not), stop collecting\n      if (nextMatch) {\n        break\n      }\n\n      // Check for continuation content (non-list content)\n      if (nextLine.trim() === '') {\n        // Empty line\n        itemLines.push(nextLine)\n        itemContent += '\\n'\n        nextLineIndex += 1\n      } else if (nextLine.match(INDENTED_LINE_REGEX)) {\n        // Indented content - part of this item (but not a list item)\n        itemLines.push(nextLine)\n        itemContent += `\\n${nextLine.slice(indentLevel + 2)}` // Remove list marker indent\n        nextLineIndex += 1\n      } else {\n        // Non-indented line means end of list\n        break\n      }\n    }\n\n    listItems.push({\n      indent: indentLevel,\n      number: parseInt(number, 10),\n      content: itemContent.trim(),\n      raw: itemLines.join('\\n'),\n    })\n\n    consumed = nextLineIndex\n    currentLineIndex = nextLineIndex\n  }\n\n  return [listItems, consumed]\n}\n\n/**\n * Recursively builds a nested structure from a flat array of list items\n * based on their indentation levels. Creates proper markdown tokens with\n * nested lists where appropriate.\n *\n * @param items - Flat array of list items with indentation info\n * @param baseIndent - The indentation level to process at this recursion level\n * @param lexer - Markdown lexer for parsing inline and block content\n * @returns Array of list_item tokens with proper nesting\n */\nexport function buildNestedStructure(\n  items: OrderedListItem[],\n  baseIndent: number,\n  lexer: MarkdownLexerConfiguration,\n): unknown[] {\n  const result: unknown[] = []\n  let currentIndex = 0\n\n  while (currentIndex < items.length) {\n    const item = items[currentIndex]\n\n    if (item.indent === baseIndent) {\n      // This item belongs at the current level\n      const contentLines = item.content.split('\\n')\n      const mainText = contentLines[0]?.trim() || ''\n\n      const tokens = []\n\n      // Always wrap the main text in a paragraph token\n      if (mainText) {\n        tokens.push({\n          type: 'paragraph',\n          raw: mainText,\n          tokens: lexer.inlineTokens(mainText),\n        })\n      }\n\n      // Handle additional content after the main text\n      const additionalContent = contentLines.slice(1).join('\\n').trim()\n      if (additionalContent) {\n        // Parse as block tokens (handles mixed unordered lists, etc.)\n        const blockTokens = lexer.blockTokens(additionalContent)\n        tokens.push(...blockTokens)\n      }\n\n      // Look ahead to find nested items at deeper indent levels\n      let lookAheadIndex = currentIndex + 1\n      const nestedItems = []\n\n      while (lookAheadIndex < items.length && items[lookAheadIndex].indent > baseIndent) {\n        nestedItems.push(items[lookAheadIndex])\n        lookAheadIndex += 1\n      }\n\n      // If we have nested items, recursively build their structure\n      if (nestedItems.length > 0) {\n        // Find the next indent level (immediate children)\n        const nextIndent = Math.min(...nestedItems.map(nestedItem => nestedItem.indent))\n\n        // Build the nested list recursively with all nested items\n        // The recursive call will handle further nesting\n        const nestedListItems = buildNestedStructure(nestedItems, nextIndent, lexer)\n\n        // Create a nested list token\n        tokens.push({\n          type: 'list',\n          ordered: true,\n          start: nestedItems[0].number,\n          items: nestedListItems,\n          raw: nestedItems.map(nestedItem => nestedItem.raw).join('\\n'),\n        })\n      }\n\n      result.push({\n        type: 'list_item',\n        raw: item.raw,\n        tokens,\n      })\n\n      // Skip the nested items we just processed\n      currentIndex = lookAheadIndex\n    } else {\n      // This item has deeper indent than we're currently processing\n      // It should be handled by a recursive call\n      currentIndex += 1\n    }\n  }\n\n  return result\n}\n\n/**\n * Parses markdown list item tokens into Tiptap JSONContent structure,\n * ensuring text content is properly wrapped in paragraph nodes.\n *\n * @param items - Array of markdown tokens representing list items\n * @param helpers - Markdown parse helpers for recursive parsing\n * @returns Array of listItem JSONContent nodes\n */\nexport function parseListItems(items: MarkdownToken[], helpers: MarkdownParseHelpers): JSONContent[] {\n  return items.map(item => {\n    if (item.type !== 'list_item') {\n      return helpers.parseChildren([item])[0]\n    }\n\n    // Parse the tokens within the list item\n    const content: JSONContent[] = []\n\n    if (item.tokens && item.tokens.length > 0) {\n      item.tokens.forEach(itemToken => {\n        // If it's already a proper block node (paragraph, list, etc.), parse it directly\n        if (\n          itemToken.type === 'paragraph' ||\n          itemToken.type === 'list' ||\n          itemToken.type === 'blockquote' ||\n          itemToken.type === 'code'\n        ) {\n          content.push(...helpers.parseChildren([itemToken]))\n        } else if (itemToken.type === 'text' && itemToken.tokens) {\n          // If it's inline text tokens, wrap them in a paragraph\n          const inlineContent = helpers.parseChildren([itemToken])\n          content.push({\n            type: 'paragraph',\n            content: inlineContent,\n          })\n        } else {\n          // For any other content, try to parse it\n          const parsed = helpers.parseChildren([itemToken])\n          if (parsed.length > 0) {\n            content.push(...parsed)\n          }\n        }\n      })\n    }\n\n    return {\n      type: 'listItem',\n      content,\n    }\n  })\n}\n","import type { ControllerProps, FieldPath, FieldValues } from './types';\nimport { useController } from './useController';\n\n/**\n * Component based on `useController` hook to work with controlled component.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usecontroller/controller) • [Demo](https://codesandbox.io/s/react-hook-form-v6-controller-ts-jwyzw) • [Video](https://www.youtube.com/watch?v=N2UNk_UCVyA)\n *\n * @param props - the path name to the form field value, and validation rules.\n *\n * @returns provide field handler functions, field and form state.\n *\n * @example\n * ```tsx\n * function App() {\n *   const { control } = useForm<FormValues>({\n *     defaultValues: {\n *       test: \"\"\n *     }\n *   });\n *\n *   return (\n *     <form>\n *       <Controller\n *         control={control}\n *         name=\"test\"\n *         render={({ field: { onChange, onBlur, value, ref }, formState, fieldState }) => (\n *           <>\n *             <input\n *               onChange={onChange} // send value to hook form\n *               onBlur={onBlur} // notify when input is touched\n *               value={value} // return updated value\n *               ref={ref} // set ref for focus management\n *             />\n *             <p>{formState.isSubmitted ? \"submitted\" : \"\"}</p>\n *             <p>{fieldState.isTouched ? \"touched\" : \"\"}</p>\n *           </>\n *         )}\n *       />\n *     </form>\n *   );\n * }\n * ```\n */\nconst Controller = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n  TTransformedValues = TFieldValues,\n>(\n  props: ControllerProps<TFieldValues, TName, TTransformedValues>,\n) =>\n  props.render(useController<TFieldValues, TName, TTransformedValues>(props));\n\nexport { Controller };\n","import type { FieldValues } from '../types';\n\nimport { isObjectType } from './isObject';\n\nexport const flatten = (obj: FieldValues) => {\n  const output: FieldValues = {};\n\n  for (const key of Object.keys(obj)) {\n    if (isObjectType(obj[key]) && obj[key] !== null) {\n      const nested = flatten(obj[key]);\n\n      for (const nestedKey of Object.keys(nested)) {\n        output[`${key}.${nestedKey}`] = nested[nestedKey];\n      }\n    } else {\n      output[key] = obj[key];\n    }\n  }\n\n  return output;\n};\n","import React from 'react';\n\nimport type {\n  Control,\n  FieldValues,\n  FormProviderProps,\n  UseFormReturn,\n} from './types';\nimport { HookFormControlContext } from './useFormControlContext';\n\nconst HookFormContext = React.createContext<UseFormReturn | null>(null);\nHookFormContext.displayName = 'HookFormContext';\n\n/**\n * This custom hook allows you to access the form context. useFormContext is intended to be used in deeply nested structures, where it would become inconvenient to pass the context as a prop. To be used with {@link FormProvider}.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformcontext) • [Demo](https://codesandbox.io/s/react-hook-form-v7-form-context-ytudi)\n *\n * @returns return all useForm methods\n *\n * @example\n * ```tsx\n * function App() {\n *   const methods = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   return (\n *     <FormProvider {...methods} >\n *       <form onSubmit={methods.handleSubmit(onSubmit)}>\n *         <NestedInput />\n *         <input type=\"submit\" />\n *       </form>\n *     </FormProvider>\n *   );\n * }\n *\n *  function NestedInput() {\n *   const { register } = useFormContext(); // retrieve all hook methods\n *   return <input {...register(\"test\")} />;\n * }\n * ```\n */\nexport const useFormContext = <\n  TFieldValues extends FieldValues,\n  TContext = any,\n  TTransformedValues = TFieldValues,\n>(): UseFormReturn<TFieldValues, TContext, TTransformedValues> =>\n  React.useContext(HookFormContext) as UseFormReturn<\n    TFieldValues,\n    TContext,\n    TTransformedValues\n  >;\n\n/**\n * A provider component that propagates the `useForm` methods to all children components via [React Context](https://react.dev/reference/react/useContext) API. To be used with {@link useFormContext}.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useformcontext) • [Demo](https://codesandbox.io/s/react-hook-form-v7-form-context-ytudi)\n *\n * @param props - all useForm methods\n *\n * @example\n * ```tsx\n * function App() {\n *   const methods = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   return (\n *     <FormProvider {...methods} >\n *       <form onSubmit={methods.handleSubmit(onSubmit)}>\n *         <NestedInput />\n *         <input type=\"submit\" />\n *       </form>\n *     </FormProvider>\n *   );\n * }\n *\n *  function NestedInput() {\n *   const { register } = useFormContext(); // retrieve all hook methods\n *   return <input {...register(\"test\")} />;\n * }\n * ```\n */\nexport const FormProvider = <\n  TFieldValues extends FieldValues,\n  TContext = any,\n  TTransformedValues = TFieldValues,\n>(\n  props: FormProviderProps<TFieldValues, TContext, TTransformedValues>,\n) => {\n  const {\n    children,\n    watch,\n    getValues,\n    getFieldState,\n    setError,\n    clearErrors,\n    setValue,\n    trigger,\n    formState,\n    resetField,\n    reset,\n    handleSubmit,\n    unregister,\n    control,\n    register,\n    setFocus,\n    subscribe,\n  } = props;\n\n  return (\n    <HookFormContext.Provider\n      value={\n        React.useMemo(\n          () => ({\n            watch,\n            getValues,\n            getFieldState,\n            setError,\n            clearErrors,\n            setValue,\n            trigger,\n            formState,\n            resetField,\n            reset,\n            handleSubmit,\n            unregister,\n            control,\n            register,\n            setFocus,\n            subscribe,\n          }),\n          [\n            clearErrors,\n            control,\n            formState,\n            getFieldState,\n            getValues,\n            handleSubmit,\n            register,\n            reset,\n            resetField,\n            setError,\n            setFocus,\n            setValue,\n            subscribe,\n            trigger,\n            unregister,\n            watch,\n          ],\n        ) as unknown as UseFormReturn\n      }\n    >\n      <HookFormControlContext.Provider value={control as Control}>\n        {children}\n      </HookFormControlContext.Provider>\n    </HookFormContext.Provider>\n  );\n};\n","import {\n  createEqualityComparatorConfig,\n  createEqualityComparator,\n  createInternalEqualityComparator,\n  createIsEqual,\n} from './comparator.js';\nimport type { CustomEqualCreatorOptions } from './internalTypes.js';\nimport { sameValueZeroEqual } from './utils.js';\n\nexport { sameValueZeroEqual };\nexport type {\n  AnyEqualityComparator,\n  Cache,\n  CircularState,\n  ComparatorConfig,\n  CreateCustomComparatorConfig,\n  CreateState,\n  CustomEqualCreatorOptions,\n  DefaultState,\n  Dictionary,\n  EqualityComparator,\n  EqualityComparatorCreator,\n  InternalEqualityComparator,\n  PrimitiveWrapper,\n  State,\n  TypeEqualityComparator,\n  TypedArray,\n} from './internalTypes.js';\n\n/**\n * Whether the items passed are deeply-equal in value.\n */\nexport const deepEqual = createCustomEqual();\n\n/**\n * Whether the items passed are deeply-equal in value based on strict comparison.\n */\nexport const strictDeepEqual = createCustomEqual({ strict: true });\n\n/**\n * Whether the items passed are deeply-equal in value, including circular references.\n */\nexport const circularDeepEqual = createCustomEqual({ circular: true });\n\n/**\n * Whether the items passed are deeply-equal in value, including circular references,\n * based on strict comparison.\n */\nexport const strictCircularDeepEqual = createCustomEqual({\n  circular: true,\n  strict: true,\n});\n\n/**\n * Whether the items passed are shallowly-equal in value.\n */\nexport const shallowEqual = createCustomEqual({\n  createInternalComparator: () => sameValueZeroEqual,\n});\n\n/**\n * Whether the items passed are shallowly-equal in value based on strict comparison\n */\nexport const strictShallowEqual = createCustomEqual({\n  strict: true,\n  createInternalComparator: () => sameValueZeroEqual,\n});\n\n/**\n * Whether the items passed are shallowly-equal in value, including circular references.\n */\nexport const circularShallowEqual = createCustomEqual({\n  circular: true,\n  createInternalComparator: () => sameValueZeroEqual,\n});\n\n/**\n * Whether the items passed are shallowly-equal in value, including circular references,\n * based on strict comparison.\n */\nexport const strictCircularShallowEqual = createCustomEqual({\n  circular: true,\n  createInternalComparator: () => sameValueZeroEqual,\n  strict: true,\n});\n\n/**\n * Create a custom equality comparison method.\n *\n * This can be done to create very targeted comparisons in extreme hot-path scenarios\n * where the standard methods are not performant enough, but can also be used to provide\n * support for legacy environments that do not support expected features like\n * `RegExp.prototype.flags` out of the box.\n */\nexport function createCustomEqual<Meta = undefined>(options: CustomEqualCreatorOptions<Meta> = {}) {\n  const {\n    circular = false,\n    createInternalComparator: createCustomInternalComparator,\n    createState,\n    strict = false,\n  } = options;\n\n  const config = createEqualityComparatorConfig<Meta>(options);\n  const comparator = createEqualityComparator(config);\n  const equals = createCustomInternalComparator\n    ? createCustomInternalComparator(comparator)\n    : createInternalEqualityComparator(comparator);\n\n  return createIsEqual({ circular, comparator, createState, equals, strict });\n}\n","import React from 'react'\n\nimport { useReactNodeView } from './useReactNodeView.js'\n\nexport interface NodeViewWrapperProps {\n  [key: string]: any\n  as?: React.ElementType\n}\n\nexport const NodeViewWrapper: React.FC<NodeViewWrapperProps> = React.forwardRef((props, ref) => {\n  const { onDragStart } = useReactNodeView()\n  const Tag = props.as || 'div'\n\n  return (\n    // @ts-ignore\n    <Tag\n      {...props}\n      ref={ref}\n      data-node-view-wrapper=\"\"\n      onDragStart={onDragStart}\n      style={{\n        whiteSpace: 'normal',\n        ...props.style,\n      }}\n    />\n  )\n})\n","import type { ParseOptions } from '@tiptap/pm/model'\nimport { DOMParser, Fragment, Node as ProseMirrorNode, Schema } from '@tiptap/pm/model'\n\nimport type { Content } from '../types.js'\nimport { elementFromString } from '../utilities/elementFromString.js'\n\nexport type CreateNodeFromContentOptions = {\n  slice?: boolean\n  parseOptions?: ParseOptions\n  errorOnInvalidContent?: boolean\n}\n\n/**\n * Takes a JSON or HTML content and creates a Prosemirror node or fragment from it.\n * @param content The JSON or HTML content to create the node from\n * @param schema The Prosemirror schema to use for the node\n * @param options Options for the parser\n * @returns The created Prosemirror node or fragment\n */\nexport function createNodeFromContent(\n  content: Content | ProseMirrorNode | Fragment,\n  schema: Schema,\n  options?: CreateNodeFromContentOptions,\n): ProseMirrorNode | Fragment {\n  if (content instanceof ProseMirrorNode || content instanceof Fragment) {\n    return content\n  }\n  options = {\n    slice: true,\n    parseOptions: {},\n    ...options,\n  }\n\n  const isJSONContent = typeof content === 'object' && content !== null\n  const isTextContent = typeof content === 'string'\n\n  if (isJSONContent) {\n    try {\n      const isArrayContent = Array.isArray(content) && content.length > 0\n\n      // if the JSON Content is an array of nodes, create a fragment for each node\n      if (isArrayContent) {\n        return Fragment.fromArray(content.map(item => schema.nodeFromJSON(item)))\n      }\n\n      const node = schema.nodeFromJSON(content)\n\n      if (options.errorOnInvalidContent) {\n        node.check()\n      }\n\n      return node\n    } catch (error) {\n      if (options.errorOnInvalidContent) {\n        throw new Error('[tiptap error]: Invalid JSON content', { cause: error as Error })\n      }\n\n      console.warn('[tiptap warn]: Invalid content.', 'Passed value:', content, 'Error:', error)\n\n      return createNodeFromContent('', schema, options)\n    }\n  }\n\n  if (isTextContent) {\n    // Check for invalid content\n    if (options.errorOnInvalidContent) {\n      let hasInvalidContent = false\n      let invalidContent = ''\n\n      // A copy of the current schema with a catch-all node at the end\n      const contentCheckSchema = new Schema({\n        topNode: schema.spec.topNode,\n        marks: schema.spec.marks,\n        // Prosemirror's schemas are executed such that: the last to execute, matches last\n        // This means that we can add a catch-all node at the end of the schema to catch any content that we don't know how to handle\n        nodes: schema.spec.nodes.append({\n          __tiptap__private__unknown__catch__all__node: {\n            content: 'inline*',\n            group: 'block',\n            parseDOM: [\n              {\n                tag: '*',\n                getAttrs: e => {\n                  // If this is ever called, we know that the content has something that we don't know how to handle in the schema\n                  hasInvalidContent = true\n                  // Try to stringify the element for a more helpful error message\n                  invalidContent = typeof e === 'string' ? e : e.outerHTML\n                  return null\n                },\n              },\n            ],\n          },\n        }),\n      })\n\n      if (options.slice) {\n        DOMParser.fromSchema(contentCheckSchema).parseSlice(elementFromString(content), options.parseOptions)\n      } else {\n        DOMParser.fromSchema(contentCheckSchema).parse(elementFromString(content), options.parseOptions)\n      }\n\n      if (options.errorOnInvalidContent && hasInvalidContent) {\n        throw new Error('[tiptap error]: Invalid HTML content', {\n          cause: new Error(`Invalid element found: ${invalidContent}`),\n        })\n      }\n    }\n\n    const parser = DOMParser.fromSchema(schema)\n\n    if (options.slice) {\n      return parser.parseSlice(elementFromString(content), options.parseOptions).content\n    }\n\n    return parser.parse(elementFromString(content), options.parseOptions)\n  }\n\n  return createNodeFromContent('', schema, options)\n}\n","import React from 'react';\n\nimport { flatten } from './utils/flatten';\nimport type { FieldValues, FormProps } from './types';\nimport { useFormContext } from './useFormContext';\n\nconst POST_REQUEST = 'post';\n\n/**\n * Form component to manage submission.\n *\n * @param props - to setup submission detail. {@link FormProps}\n *\n * @returns form component or headless render prop.\n *\n * @example\n * ```tsx\n * function App() {\n *   const { control, formState: { errors } } = useForm();\n *\n *   return (\n *     <Form action=\"/api\" control={control}>\n *       <input {...register(\"name\")} />\n *       <p>{errors?.root?.server && 'Server error'}</p>\n *       <button>Submit</button>\n *     </Form>\n *   );\n * }\n * ```\n */\nfunction Form<\n  TFieldValues extends FieldValues,\n  TTransformedValues = TFieldValues,\n>(props: FormProps<TFieldValues, TTransformedValues>) {\n  const methods = useFormContext<TFieldValues, any, TTransformedValues>();\n  const [mounted, setMounted] = React.useState(false);\n  const {\n    control = methods.control,\n    onSubmit,\n    children,\n    action,\n    method = POST_REQUEST,\n    headers,\n    encType,\n    onError,\n    render,\n    onSuccess,\n    validateStatus,\n    ...rest\n  } = props;\n\n  const submit = async (event?: React.BaseSyntheticEvent) => {\n    let hasError = false;\n    let type = '';\n\n    await control.handleSubmit(async (data) => {\n      const formData = new FormData();\n      let formDataJson = '';\n\n      try {\n        formDataJson = JSON.stringify(data);\n      } catch {}\n\n      const flattenFormValues = flatten(control._formValues);\n\n      for (const key in flattenFormValues) {\n        formData.append(key, flattenFormValues[key]);\n      }\n\n      if (onSubmit) {\n        await onSubmit({\n          data,\n          event,\n          method,\n          formData,\n          formDataJson,\n        });\n      }\n\n      if (action) {\n        try {\n          const shouldStringifySubmissionData = [\n            headers && headers['Content-Type'],\n            encType,\n          ].some((value) => value && value.includes('json'));\n\n          const response = await fetch(String(action), {\n            method,\n            headers: {\n              ...headers,\n              ...(encType && encType !== 'multipart/form-data'\n                ? { 'Content-Type': encType }\n                : {}),\n            },\n            body: shouldStringifySubmissionData ? formDataJson : formData,\n          });\n\n          if (\n            response &&\n            (validateStatus\n              ? !validateStatus(response.status)\n              : response.status < 200 || response.status >= 300)\n          ) {\n            hasError = true;\n            onError && onError({ response });\n            type = String(response.status);\n          } else {\n            onSuccess && onSuccess({ response });\n          }\n        } catch (error: unknown) {\n          hasError = true;\n          onError && onError({ error });\n        }\n      }\n    })(event);\n\n    if (hasError && props.control) {\n      props.control._subjects.state.next({\n        isSubmitSuccessful: false,\n      });\n      props.control.setError('root.server', {\n        type,\n      });\n    }\n  };\n\n  React.useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  return render ? (\n    <>\n      {render({\n        submit,\n      })}\n    </>\n  ) : (\n    <form\n      noValidate={mounted}\n      action={action}\n      method={method}\n      encType={encType}\n      onSubmit={submit}\n      {...rest}\n    >\n      {children}\n    </form>\n  );\n}\n\nexport { Form };\n","import type { KeyboardShortcutCommand } from '@tiptap/core'\nimport {\n  getRenderedAttributes,\n  mergeAttributes,\n  Node,\n  renderNestedMarkdownContent,\n  wrappingInputRule,\n} from '@tiptap/core'\nimport type { Node as ProseMirrorNode } from '@tiptap/pm/model'\n\nexport interface TaskItemOptions {\n  /**\n   * A callback function that is called when the checkbox is clicked while the editor is in readonly mode.\n   * @param node The prosemirror node of the task item\n   * @param checked The new checked state\n   * @returns boolean\n   */\n  onReadOnlyChecked?: (node: ProseMirrorNode, checked: boolean) => boolean\n\n  /**\n   * Controls whether the task items can be nested or not.\n   * @default false\n   * @example true\n   */\n  nested: boolean\n\n  /**\n   * HTML attributes to add to the task item element.\n   * @default {}\n   * @example { class: 'foo' }\n   */\n  HTMLAttributes: Record<string, any>\n\n  /**\n   * The node type for taskList nodes\n   * @default 'taskList'\n   * @example 'myCustomTaskList'\n   */\n  taskListTypeName: string\n\n  /**\n   * Accessibility options for the task item.\n   * @default {}\n   * @example\n   * ```js\n   * {\n   *   checkboxLabel: (node) => `Task item: ${node.textContent || 'empty task item'}`\n   * }\n   */\n  a11y?: {\n    checkboxLabel?: (node: ProseMirrorNode, checked: boolean) => string\n  }\n}\n\n/**\n * Matches a task item to a - [ ] on input.\n */\nexport const inputRegex = /^\\s*(\\[([( |x])?\\])\\s$/\n\n/**\n * This extension allows you to create task items.\n * @see https://www.tiptap.dev/api/nodes/task-item\n */\nexport const TaskItem = Node.create<TaskItemOptions>({\n  name: 'taskItem',\n\n  addOptions() {\n    return {\n      nested: false,\n      HTMLAttributes: {},\n      taskListTypeName: 'taskList',\n      a11y: undefined,\n    }\n  },\n\n  content() {\n    return this.options.nested ? 'paragraph block*' : 'paragraph+'\n  },\n\n  defining: true,\n\n  addAttributes() {\n    return {\n      checked: {\n        default: false,\n        keepOnSplit: false,\n        parseHTML: element => {\n          const dataChecked = element.getAttribute('data-checked')\n\n          return dataChecked === '' || dataChecked === 'true'\n        },\n        renderHTML: attributes => ({\n          'data-checked': attributes.checked,\n        }),\n      },\n    }\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: `li[data-type=\"${this.name}\"]`,\n        priority: 51,\n      },\n    ]\n  },\n\n  renderHTML({ node, HTMLAttributes }) {\n    return [\n      'li',\n      mergeAttributes(this.options.HTMLAttributes, HTMLAttributes, {\n        'data-type': this.name,\n      }),\n      [\n        'label',\n        [\n          'input',\n          {\n            type: 'checkbox',\n            checked: node.attrs.checked ? 'checked' : null,\n          },\n        ],\n        ['span'],\n      ],\n      ['div', 0],\n    ]\n  },\n\n  parseMarkdown: (token, h) => {\n    // Parse the task item's text content into paragraph content\n    const content = []\n\n    // First, add the main paragraph content\n    if (token.tokens && token.tokens.length > 0) {\n      // If we have tokens, create a paragraph with the inline content\n      content.push(h.createNode('paragraph', {}, h.parseInline(token.tokens)))\n    } else if (token.text) {\n      // If we have raw text, create a paragraph with text node\n      content.push(h.createNode('paragraph', {}, [h.createNode('text', { text: token.text })]))\n    } else {\n      // Fallback: empty paragraph\n      content.push(h.createNode('paragraph', {}, []))\n    }\n\n    // Then, add any nested content (like nested task lists)\n    if (token.nestedTokens && token.nestedTokens.length > 0) {\n      const nestedContent = h.parseChildren(token.nestedTokens)\n      content.push(...nestedContent)\n    }\n\n    return h.createNode('taskItem', { checked: token.checked || false }, content)\n  },\n\n  renderMarkdown: (node, h) => {\n    const checkedChar = node.attrs?.checked ? 'x' : ' '\n    const prefix = `- [${checkedChar}] `\n\n    return renderNestedMarkdownContent(node, h, prefix)\n  },\n\n  addKeyboardShortcuts() {\n    const shortcuts: {\n      [key: string]: KeyboardShortcutCommand\n    } = {\n      Enter: () => this.editor.commands.splitListItem(this.name),\n      'Shift-Tab': () => this.editor.commands.liftListItem(this.name),\n    }\n\n    if (!this.options.nested) {\n      return shortcuts\n    }\n\n    return {\n      ...shortcuts,\n      Tab: () => this.editor.commands.sinkListItem(this.name),\n    }\n  },\n\n  addNodeView() {\n    return ({ node, HTMLAttributes, getPos, editor }) => {\n      const listItem = document.createElement('li')\n      const checkboxWrapper = document.createElement('label')\n      const checkboxStyler = document.createElement('span')\n      const checkbox = document.createElement('input')\n      const content = document.createElement('div')\n\n      const updateA11Y = (currentNode: ProseMirrorNode) => {\n        checkbox.ariaLabel =\n          this.options.a11y?.checkboxLabel?.(currentNode, checkbox.checked) ||\n          `Task item checkbox for ${currentNode.textContent || 'empty task item'}`\n      }\n\n      updateA11Y(node)\n\n      checkboxWrapper.contentEditable = 'false'\n      checkbox.type = 'checkbox'\n      checkbox.addEventListener('mousedown', event => event.preventDefault())\n      checkbox.addEventListener('change', event => {\n        // if the editor isn’t editable and we don't have a handler for\n        // readonly checks we have to undo the latest change\n        if (!editor.isEditable && !this.options.onReadOnlyChecked) {\n          checkbox.checked = !checkbox.checked\n\n          return\n        }\n\n        const { checked } = event.target as any\n\n        if (editor.isEditable && typeof getPos === 'function') {\n          editor\n            .chain()\n            .focus(undefined, { scrollIntoView: false })\n            .command(({ tr }) => {\n              const position = getPos()\n\n              if (typeof position !== 'number') {\n                return false\n              }\n              const currentNode = tr.doc.nodeAt(position)\n\n              tr.setNodeMarkup(position, undefined, {\n                ...currentNode?.attrs,\n                checked,\n              })\n\n              return true\n            })\n            .run()\n        }\n        if (!editor.isEditable && this.options.onReadOnlyChecked) {\n          // Reset state if onReadOnlyChecked returns false\n          if (!this.options.onReadOnlyChecked(node, checked)) {\n            checkbox.checked = !checkbox.checked\n          }\n        }\n      })\n\n      Object.entries(this.options.HTMLAttributes).forEach(([key, value]) => {\n        listItem.setAttribute(key, value)\n      })\n\n      listItem.dataset.checked = node.attrs.checked\n      checkbox.checked = node.attrs.checked\n\n      checkboxWrapper.append(checkbox, checkboxStyler)\n      listItem.append(checkboxWrapper, content)\n\n      Object.entries(HTMLAttributes).forEach(([key, value]) => {\n        listItem.setAttribute(key, value)\n      })\n\n      // Track the keys of previously rendered HTML attributes for proper removal\n      let prevRenderedAttributeKeys = new Set(Object.keys(HTMLAttributes))\n\n      return {\n        dom: listItem,\n        contentDOM: content,\n        update: updatedNode => {\n          if (updatedNode.type !== this.type) {\n            return false\n          }\n\n          listItem.dataset.checked = updatedNode.attrs.checked\n          checkbox.checked = updatedNode.attrs.checked\n          updateA11Y(updatedNode)\n\n          // Sync all HTML attributes from the updated node\n          const extensionAttributes = editor.extensionManager.attributes\n          const newHTMLAttributes = getRenderedAttributes(updatedNode, extensionAttributes)\n          const newKeys = new Set(Object.keys(newHTMLAttributes))\n\n          // Remove attributes that were previously rendered but are no longer present\n          // If the attribute exists in static options, restore it instead of removing\n          const staticAttrs = this.options.HTMLAttributes\n\n          prevRenderedAttributeKeys.forEach(key => {\n            if (!newKeys.has(key)) {\n              if (key in staticAttrs) {\n                listItem.setAttribute(key, staticAttrs[key])\n              } else {\n                listItem.removeAttribute(key)\n              }\n            }\n          })\n\n          // Update or add new attributes\n          Object.entries(newHTMLAttributes).forEach(([key, value]) => {\n            if (value === null || value === undefined) {\n              // If the attribute exists in static options, restore it instead of removing\n              if (key in staticAttrs) {\n                listItem.setAttribute(key, staticAttrs[key])\n              } else {\n                listItem.removeAttribute(key)\n              }\n            } else {\n              listItem.setAttribute(key, value)\n            }\n          })\n\n          // Update the tracked keys for next update\n          prevRenderedAttributeKeys = newKeys\n\n          return true\n        },\n      }\n    }\n  },\n\n  addInputRules() {\n    return [\n      wrappingInputRule({\n        find: inputRegex,\n        type: this.type,\n        getAttributes: match => ({\n          checked: match[match.length - 1] === 'x',\n        }),\n      }),\n    ]\n  },\n})\n","import type { ReactNode } from 'react';\n\nimport type {\n  FieldValues,\n  UseFormStateProps,\n  UseFormStateReturn,\n} from './types';\nimport { useFormState } from './useFormState';\n\nexport type FormStateSubscribeProps<\n  TFieldValues extends FieldValues,\n  TTransformedValues = TFieldValues,\n> = UseFormStateProps<TFieldValues, TTransformedValues> & {\n  render: (values: UseFormStateReturn<TFieldValues>) => ReactNode;\n};\n\nexport const FormStateSubscribe = <\n  TFieldValues extends FieldValues,\n  TTransformedValues = TFieldValues,\n>({\n  control,\n  disabled,\n  exact,\n  name,\n  render,\n}: FormStateSubscribeProps<TFieldValues, TTransformedValues>) =>\n  render(useFormState({ control, name, disabled, exact }));\n","import type {\n  InternalFieldErrors,\n  InternalFieldName,\n  ValidateResult,\n} from '../types';\n\nexport default (\n  name: InternalFieldName,\n  validateAllFieldCriteria: boolean,\n  errors: InternalFieldErrors,\n  type: string,\n  message: ValidateResult,\n) =>\n  validateAllFieldCriteria\n    ? {\n        ...errors[name],\n        types: {\n          ...(errors[name] && errors[name]!.types ? errors[name]!.types : {}),\n          [type]: message || true,\n        },\n      }\n    : {};\n","export default <T>(value: T) => (Array.isArray(value) ? value : [value]);\n","import type { Noop } from '../types';\n\nexport type Observer<T> = {\n  next: (value: T) => void;\n};\n\nexport type Subscription = {\n  unsubscribe: Noop;\n};\n\nexport type Subject<T> = {\n  readonly observers: Observer<T>[];\n  subscribe: (value: Observer<T>) => Subscription;\n  unsubscribe: Noop;\n} & Observer<T>;\n\nexport default <T>(): Subject<T> => {\n  let _observers: Observer<T>[] = [];\n\n  const next = (value: T) => {\n    for (const observer of _observers) {\n      observer.next && observer.next(value);\n    }\n  };\n\n  const subscribe = (observer: Observer<T>): Subscription => {\n    _observers.push(observer);\n    return {\n      unsubscribe: () => {\n        _observers = _observers.filter((o) => o !== observer);\n      },\n    };\n  };\n\n  const unsubscribe = () => {\n    _observers = [];\n  };\n\n  return {\n    get observers() {\n      return _observers;\n    },\n    next,\n    subscribe,\n    unsubscribe,\n  };\n};\n","import type { Node as ProseMirrorNode, ParseOptions } from '@tiptap/pm/model'\nimport { Fragment } from '@tiptap/pm/model'\n\nimport { createNodeFromContent } from '../helpers/createNodeFromContent.js'\nimport { selectionToInsertionEnd } from '../helpers/selectionToInsertionEnd.js'\nimport type { Content, Range, RawCommands } from '../types.js'\n\nexport interface InsertContentAtOptions {\n  /**\n   * Options for parsing the content.\n   */\n  parseOptions?: ParseOptions\n\n  /**\n   * Whether to update the selection after inserting the content.\n   */\n  updateSelection?: boolean\n\n  /**\n   * Whether to apply input rules after inserting the content.\n   */\n  applyInputRules?: boolean\n\n  /**\n   * Whether to apply paste rules after inserting the content.\n   */\n  applyPasteRules?: boolean\n\n  /**\n   * Whether to throw an error if the content is invalid.\n   */\n  errorOnInvalidContent?: boolean\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    insertContentAt: {\n      /**\n       * Insert a node or string of HTML at a specific position.\n       * @example editor.commands.insertContentAt(0, '<h1>Example</h1>')\n       */\n      insertContentAt: (\n        /**\n         * The position to insert the content at.\n         */\n        position: number | Range,\n\n        /**\n         * The ProseMirror content to insert.\n         */\n        value: Content | ProseMirrorNode | Fragment,\n\n        /**\n         * Optional options\n         */\n        options?: InsertContentAtOptions,\n      ) => ReturnType\n    }\n  }\n}\n\nconst isFragment = (nodeOrFragment: ProseMirrorNode | Fragment): nodeOrFragment is Fragment => {\n  return !('type' in nodeOrFragment)\n}\n\nexport const insertContentAt: RawCommands['insertContentAt'] =\n  (position, value, options) =>\n  ({ tr, dispatch, editor }) => {\n    if (dispatch) {\n      options = {\n        parseOptions: editor.options.parseOptions,\n        updateSelection: true,\n        applyInputRules: false,\n        applyPasteRules: false,\n        ...options,\n      }\n\n      let content: Fragment | ProseMirrorNode\n\n      const emitContentError = (error: Error) => {\n        editor.emit('contentError', {\n          editor,\n          error,\n          disableCollaboration: () => {\n            if (\n              'collaboration' in editor.storage &&\n              typeof editor.storage.collaboration === 'object' &&\n              editor.storage.collaboration\n            ) {\n              ;(editor.storage.collaboration as any).isDisabled = true\n            }\n          },\n        })\n      }\n\n      const parseOptions: ParseOptions = {\n        preserveWhitespace: 'full',\n        ...options.parseOptions,\n      }\n\n      // If `emitContentError` is enabled, we want to check the content for errors\n      // but ignore them (do not remove the invalid content from the document)\n      if (!options.errorOnInvalidContent && !editor.options.enableContentCheck && editor.options.emitContentError) {\n        try {\n          createNodeFromContent(value, editor.schema, {\n            parseOptions,\n            errorOnInvalidContent: true,\n          })\n        } catch (e) {\n          emitContentError(e as Error)\n        }\n      }\n\n      try {\n        content = createNodeFromContent(value, editor.schema, {\n          parseOptions,\n          errorOnInvalidContent: options.errorOnInvalidContent ?? editor.options.enableContentCheck,\n        })\n      } catch (e) {\n        emitContentError(e as Error)\n        return false\n      }\n\n      let { from, to } =\n        typeof position === 'number' ? { from: position, to: position } : { from: position.from, to: position.to }\n\n      let isOnlyTextContent = true\n      let isOnlyBlockContent = true\n      const nodes = isFragment(content) ? content : [content]\n\n      nodes.forEach(node => {\n        // check if added node is valid\n        node.check()\n\n        isOnlyTextContent = isOnlyTextContent ? node.isText && node.marks.length === 0 : false\n\n        isOnlyBlockContent = isOnlyBlockContent ? node.isBlock : false\n      })\n\n      // check if we can replace the wrapping node by\n      // the newly inserted content\n      // example:\n      // replace an empty paragraph by an inserted image\n      // instead of inserting the image below the paragraph\n      if (from === to && isOnlyBlockContent) {\n        const { parent } = tr.doc.resolve(from)\n        const isEmptyTextBlock = parent.isTextblock && !parent.type.spec.code && !parent.childCount\n\n        if (isEmptyTextBlock) {\n          from -= 1\n          to += 1\n        }\n      }\n\n      let newContent\n\n      // if there is only plain text we have to use `insertText`\n      // because this will keep the current marks\n      if (isOnlyTextContent) {\n        // if value is string, we can use it directly\n        // otherwise if it is an array, we have to join it\n        if (Array.isArray(value)) {\n          newContent = value.map(v => v.text || '').join('')\n        } else if (value instanceof Fragment) {\n          let text = ''\n\n          value.forEach(node => {\n            if (node.text) {\n              text += node.text\n            }\n          })\n\n          newContent = text\n        } else if (typeof value === 'object' && !!value && !!value.text) {\n          newContent = value.text\n        } else {\n          newContent = value as string\n        }\n\n        tr.insertText(newContent, from, to)\n      } else {\n        newContent = content\n\n        const $from = tr.doc.resolve(from)\n        const $fromNode = $from.node()\n        const fromSelectionAtStart = $from.parentOffset === 0\n        const isTextSelection = $fromNode.isText || $fromNode.isTextblock\n        const hasContent = $fromNode.content.size > 0\n\n        if (fromSelectionAtStart && isTextSelection && hasContent) {\n          from = Math.max(0, from - 1)\n        }\n\n        tr.replaceWith(from, to, newContent)\n      }\n\n      // set cursor at end of inserted content\n      if (options.updateSelection) {\n        selectionToInsertionEnd(tr, tr.steps.length - 1, -1)\n      }\n\n      if (options.applyInputRules) {\n        tr.setMeta('applyInputRules', { from, text: newContent })\n      }\n\n      if (options.applyPasteRules) {\n        tr.setMeta('applyPasteRules', { from, text: newContent })\n      }\n    }\n\n    return true\n  }\n","import isObject from './isObject';\n\nexport default function extractFormValues<\n  T extends object,\n  K extends Record<string, unknown>,\n>(fieldsState: T, formValues: K) {\n  const values: Record<string, unknown> = {};\n\n  for (const key in fieldsState) {\n    if (fieldsState.hasOwnProperty(key)) {\n      const fieldState = fieldsState[key];\n      const fieldValue = formValues[key];\n\n      if (fieldState && isObject(fieldState) && fieldValue) {\n        const nestedFieldsState = extractFormValues(\n          fieldState,\n          fieldValue as K,\n        );\n\n        if (isObject(nestedFieldsState)) {\n          values[key] = nestedFieldsState;\n        }\n      } else if (fieldsState[key]) {\n        values[key] = fieldValue;\n      }\n    }\n  }\n\n  return values;\n}\n","import type { EmptyObject } from '../types';\n\nimport isObject from './isObject';\n\nexport default (value: unknown): value is EmptyObject =>\n  isObject(value) && !Object.keys(value).length;\n","import type { FieldElement } from '../types';\n\nexport default (element: FieldElement): element is HTMLInputElement =>\n  element.type === 'file';\n","import isWeb from './isWeb';\n\nexport default (value: unknown): value is HTMLElement => {\n  if (!isWeb) {\n    return false;\n  }\n\n  const owner = value ? ((value as HTMLElement).ownerDocument as Document) : 0;\n  return (\n    value instanceof\n    (owner && owner.defaultView ? owner.defaultView.HTMLElement : HTMLElement)\n  );\n};\n","import type { FieldElement } from '../types';\n\nexport default (element: FieldElement): element is HTMLSelectElement =>\n  element.type === `select-multiple`;\n","import type { FieldElement } from '../types';\n\nexport default (element: FieldElement): element is HTMLInputElement =>\n  element.type === 'radio';\n","import type { FieldElement } from '../types';\n\nimport isCheckBoxInput from './isCheckBoxInput';\nimport isRadioInput from './isRadioInput';\n\nexport default (ref: FieldElement): ref is HTMLInputElement =>\n  isRadioInput(ref) || isCheckBoxInput(ref);\n","import type { Ref } from '../types';\n\nimport isHTMLElement from './isHTMLElement';\n\nexport default (ref: Ref) => isHTMLElement(ref) && ref.isConnected;\n","import isEmptyObject from './isEmptyObject';\nimport isKey from './isKey';\nimport isObject from './isObject';\nimport isUndefined from './isUndefined';\nimport stringToPath from './stringToPath';\n\nfunction baseGet(object: any, updatePath: (string | number)[]) {\n  const length = updatePath.slice(0, -1).length;\n  let index = 0;\n\n  while (index < length) {\n    object = isUndefined(object) ? index++ : object[updatePath[index++]];\n  }\n\n  return object;\n}\n\nfunction isEmptyArray(obj: unknown[]) {\n  for (const key in obj) {\n    if (obj.hasOwnProperty(key) && !isUndefined(obj[key])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport default function unset(object: any, path: string | (string | number)[]) {\n  const paths = Array.isArray(path)\n    ? path\n    : isKey(path)\n      ? [path]\n      : stringToPath(path);\n\n  const childObject = paths.length === 1 ? object : baseGet(object, paths);\n\n  const index = paths.length - 1;\n  const key = paths[index];\n\n  if (childObject) {\n    delete childObject[key];\n  }\n\n  if (\n    index !== 0 &&\n    ((isObject(childObject) && isEmptyObject(childObject)) ||\n      (Array.isArray(childObject) && isEmptyArray(childObject)))\n  ) {\n    unset(object, paths.slice(0, -1));\n  }\n\n  return object;\n}\n","import { joinTextblockForward as originalCommand } from '@tiptap/pm/commands'\n\nimport type { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    joinTextblockForward: {\n      /**\n       * A more limited form of joinForward that only tries to join the current textblock to the one after it, if the cursor is at the end of a textblock.\n       */\n      joinTextblockForward: () => ReturnType\n    }\n  }\n}\n\nexport const joinTextblockForward: RawCommands['joinTextblockForward'] =\n  () =>\n  ({ state, dispatch }) => {\n    return originalCommand(state, dispatch)\n  }\n","import isFunction from './isFunction';\n\nexport default <T>(data: T): boolean => {\n  for (const key in data) {\n    if (isFunction(data[key])) {\n      return true;\n    }\n  }\n  return false;\n};\n","import deepEqual from '../utils/deepEqual';\nimport isNullOrUndefined from '../utils/isNullOrUndefined';\nimport isObject from '../utils/isObject';\nimport isPrimitive from '../utils/isPrimitive';\nimport isUndefined from '../utils/isUndefined';\nimport objectHasFunction from '../utils/objectHasFunction';\n\nfunction isTraversable(value: any): boolean {\n  return Array.isArray(value) || (isObject(value) && !objectHasFunction(value));\n}\n\nfunction markFieldsDirty<T>(data: T, fields: Record<string, any> = {}) {\n  for (const key in data) {\n    const value = data[key];\n\n    if (isTraversable(value)) {\n      fields[key] = Array.isArray(value) ? [] : {};\n      markFieldsDirty(value, fields[key]);\n    } else if (!isUndefined(value)) {\n      fields[key] = true;\n    }\n  }\n\n  return fields;\n}\n\nexport default function getDirtyFields<T>(\n  data: T,\n  formValues: T,\n  dirtyFieldsFromValues?: Record<\n    Extract<keyof T, string>,\n    ReturnType<typeof markFieldsDirty> | boolean\n  >,\n) {\n  if (!dirtyFieldsFromValues) {\n    dirtyFieldsFromValues = markFieldsDirty(formValues);\n  }\n\n  for (const key in data) {\n    const value = data[key];\n\n    if (isTraversable(value)) {\n      if (isUndefined(formValues) || isPrimitive(dirtyFieldsFromValues[key])) {\n        dirtyFieldsFromValues[key] = markFieldsDirty(\n          value,\n          Array.isArray(value) ? [] : {},\n        );\n      } else {\n        getDirtyFields(\n          value,\n          isNullOrUndefined(formValues) ? {} : formValues[key],\n          dirtyFieldsFromValues[key],\n        );\n      }\n    } else {\n      const formValue = formValues[key];\n      dirtyFieldsFromValues[key] = !deepEqual(value, formValue);\n    }\n  }\n\n  return dirtyFieldsFromValues;\n}\n","import type {\n  DecorationWithType,\n  Editor,\n  NodeViewRenderer,\n  NodeViewRendererOptions,\n  NodeViewRendererProps,\n} from '@tiptap/core'\nimport { getRenderedAttributes, NodeView } from '@tiptap/core'\nimport type { Node, Node as ProseMirrorNode } from '@tiptap/pm/model'\nimport type { Decoration, DecorationSource, NodeView as ProseMirrorNodeView } from '@tiptap/pm/view'\nimport type { ComponentType, NamedExoticComponent } from 'react'\nimport { createElement, createRef, memo } from 'react'\n\nimport type { EditorWithContentComponent } from './Editor.js'\nimport { ReactRenderer } from './ReactRenderer.js'\nimport type { ReactNodeViewProps } from './types.js'\nimport type { ReactNodeViewContextProps } from './useReactNodeView.js'\nimport { ReactNodeViewContext } from './useReactNodeView.js'\n\nexport interface ReactNodeViewRendererOptions extends NodeViewRendererOptions {\n  /**\n   * This function is called when the node view is updated.\n   * It allows you to compare the old node with the new node and decide if the component should update.\n   */\n  update:\n    | ((props: {\n        oldNode: ProseMirrorNode\n        oldDecorations: readonly Decoration[]\n        oldInnerDecorations: DecorationSource\n        newNode: ProseMirrorNode\n        newDecorations: readonly Decoration[]\n        innerDecorations: DecorationSource\n        updateProps: () => void\n      }) => boolean)\n    | null\n  /**\n   * The tag name of the element wrapping the React component.\n   */\n  as?: string\n  /**\n   * The class name of the element wrapping the React component.\n   */\n  className?: string\n  /**\n   * Attributes that should be applied to the element wrapping the React component.\n   * If this is a function, it will be called each time the node view is updated.\n   * If this is an object, it will be applied once when the node view is mounted.\n   */\n  attrs?:\n    | Record<string, string>\n    | ((props: { node: ProseMirrorNode; HTMLAttributes: Record<string, any> }) => Record<string, string>)\n}\n\nexport class ReactNodeView<\n  T = HTMLElement,\n  Component extends ComponentType<ReactNodeViewProps<T>> = ComponentType<ReactNodeViewProps<T>>,\n  NodeEditor extends Editor = Editor,\n  Options extends ReactNodeViewRendererOptions = ReactNodeViewRendererOptions,\n> extends NodeView<Component, NodeEditor, Options> {\n  /**\n   * The renderer instance.\n   */\n  renderer!: ReactRenderer<unknown, ReactNodeViewProps<T>>\n\n  /**\n   * The element that holds the rich-text content of the node.\n   */\n  contentDOMElement!: HTMLElement | null\n\n  /**\n   * The requestAnimationFrame ID used for selection updates.\n   */\n  selectionRafId: number | null = null\n\n  constructor(component: Component, props: NodeViewRendererProps, options?: Partial<Options>) {\n    super(component, props, options)\n\n    if (!this.node.isLeaf) {\n      if (this.options.contentDOMElementTag) {\n        this.contentDOMElement = document.createElement(this.options.contentDOMElementTag)\n      } else {\n        this.contentDOMElement = document.createElement(this.node.isInline ? 'span' : 'div')\n      }\n\n      this.contentDOMElement.dataset.nodeViewContentReact = ''\n      this.contentDOMElement.dataset.nodeViewWrapper = ''\n\n      // For some reason the whiteSpace prop is not inherited properly in Chrome and Safari\n      // With this fix it seems to work fine\n      // See: https://github.com/ueberdosis/tiptap/issues/1197\n      this.contentDOMElement.style.whiteSpace = 'inherit'\n\n      const contentTarget = this.dom.querySelector('[data-node-view-content]')\n\n      if (!contentTarget) {\n        return\n      }\n\n      contentTarget.appendChild(this.contentDOMElement)\n    }\n  }\n\n  private cachedExtensionWithSyncedStorage: NodeViewRendererProps['extension'] | null = null\n\n  /**\n   * Returns a proxy of the extension that redirects storage access to the editor's mutable storage.\n   * This preserves the original prototype chain (instanceof checks, methods like configure/extend work).\n   * Cached to avoid proxy creation on every update.\n   */\n  get extensionWithSyncedStorage(): NodeViewRendererProps['extension'] {\n    if (!this.cachedExtensionWithSyncedStorage) {\n      const editor = this.editor\n      const extension = this.extension\n\n      this.cachedExtensionWithSyncedStorage = new Proxy(extension, {\n        get(target, prop, receiver) {\n          if (prop === 'storage') {\n            return editor.storage[extension.name as keyof typeof editor.storage] ?? {}\n          }\n          return Reflect.get(target, prop, receiver)\n        },\n      })\n    }\n\n    return this.cachedExtensionWithSyncedStorage\n  }\n\n  /**\n   * Setup the React component.\n   * Called on initialization.\n   */\n  mount() {\n    const props = {\n      editor: this.editor,\n      node: this.node,\n      decorations: this.decorations as DecorationWithType[],\n      innerDecorations: this.innerDecorations,\n      view: this.view,\n      selected: false,\n      extension: this.extensionWithSyncedStorage,\n      HTMLAttributes: this.HTMLAttributes,\n      getPos: () => this.getPos(),\n      updateAttributes: (attributes = {}) => this.updateAttributes(attributes),\n      deleteNode: () => this.deleteNode(),\n      ref: createRef<T>(),\n    } satisfies ReactNodeViewProps<T>\n\n    if (!(this.component as any).displayName) {\n      const capitalizeFirstChar = (string: string): string => {\n        return string.charAt(0).toUpperCase() + string.substring(1)\n      }\n\n      this.component.displayName = capitalizeFirstChar(this.extension.name)\n    }\n\n    const onDragStart = this.onDragStart.bind(this)\n    const nodeViewContentRef: ReactNodeViewContextProps['nodeViewContentRef'] = element => {\n      if (element && this.contentDOMElement && element.firstChild !== this.contentDOMElement) {\n        // remove the nodeViewWrapper attribute from the element\n        if (element.hasAttribute('data-node-view-wrapper')) {\n          element.removeAttribute('data-node-view-wrapper')\n        }\n        element.appendChild(this.contentDOMElement)\n      }\n    }\n    const context = { onDragStart, nodeViewContentRef }\n    const Component = this.component\n    // For performance reasons, we memoize the provider component\n    // And all of the things it requires are declared outside of the component, so it doesn't need to re-render\n    const ReactNodeViewProvider: NamedExoticComponent<ReactNodeViewProps<T>> = memo(componentProps => {\n      return (\n        <ReactNodeViewContext.Provider value={context}>\n          {createElement(Component, componentProps)}\n        </ReactNodeViewContext.Provider>\n      )\n    })\n\n    ReactNodeViewProvider.displayName = 'ReactNodeView'\n\n    let as = this.node.isInline ? 'span' : 'div'\n\n    if (this.options.as) {\n      as = this.options.as\n    }\n\n    const { className = '' } = this.options\n\n    this.handleSelectionUpdate = this.handleSelectionUpdate.bind(this)\n\n    this.renderer = new ReactRenderer(ReactNodeViewProvider, {\n      editor: this.editor,\n      props,\n      as,\n      className: `node-${this.node.type.name} ${className}`.trim(),\n    })\n\n    this.editor.on('selectionUpdate', this.handleSelectionUpdate)\n    this.updateElementAttributes()\n  }\n\n  /**\n   * Return the DOM element.\n   * This is the element that will be used to display the node view.\n   */\n  get dom() {\n    if (\n      this.renderer.element.firstElementChild &&\n      !this.renderer.element.firstElementChild?.hasAttribute('data-node-view-wrapper')\n    ) {\n      throw Error('Please use the NodeViewWrapper component for your node view.')\n    }\n\n    return this.renderer.element\n  }\n\n  /**\n   * Return the content DOM element.\n   * This is the element that will be used to display the rich-text content of the node.\n   */\n  get contentDOM() {\n    if (this.node.isLeaf) {\n      return null\n    }\n\n    return this.contentDOMElement\n  }\n\n  /**\n   * On editor selection update, check if the node is selected.\n   * If it is, call `selectNode`, otherwise call `deselectNode`.\n   */\n  handleSelectionUpdate() {\n    if (this.selectionRafId) {\n      cancelAnimationFrame(this.selectionRafId)\n      this.selectionRafId = null\n    }\n\n    this.selectionRafId = requestAnimationFrame(() => {\n      this.selectionRafId = null\n      const { from, to } = this.editor.state.selection\n      const pos = this.getPos()\n      if (typeof pos !== 'number') {\n        return\n      }\n\n      if (from <= pos && to >= pos + this.node.nodeSize) {\n        if (this.renderer.props.selected) {\n          return\n        }\n\n        this.selectNode()\n      } else {\n        if (!this.renderer.props.selected) {\n          return\n        }\n\n        this.deselectNode()\n      }\n    })\n  }\n\n  /**\n   * On update, update the React component.\n   * To prevent unnecessary updates, the `update` option can be used.\n   */\n  update(node: Node, decorations: readonly Decoration[], innerDecorations: DecorationSource): boolean {\n    const rerenderComponent = (props?: Record<string, any>) => {\n      this.renderer.updateProps(props)\n      if (typeof this.options.attrs === 'function') {\n        this.updateElementAttributes()\n      }\n    }\n\n    if (node.type !== this.node.type) {\n      return false\n    }\n\n    if (typeof this.options.update === 'function') {\n      const oldNode = this.node\n      const oldDecorations = this.decorations\n      const oldInnerDecorations = this.innerDecorations\n\n      this.node = node\n      this.decorations = decorations\n      this.innerDecorations = innerDecorations\n\n      return this.options.update({\n        oldNode,\n        oldDecorations,\n        newNode: node,\n        newDecorations: decorations,\n        oldInnerDecorations,\n        innerDecorations,\n        updateProps: () =>\n          rerenderComponent({ node, decorations, innerDecorations, extension: this.extensionWithSyncedStorage }),\n      })\n    }\n\n    if (node === this.node && this.decorations === decorations && this.innerDecorations === innerDecorations) {\n      return true\n    }\n\n    this.node = node\n    this.decorations = decorations\n    this.innerDecorations = innerDecorations\n\n    rerenderComponent({ node, decorations, innerDecorations, extension: this.extensionWithSyncedStorage })\n\n    return true\n  }\n\n  /**\n   * Select the node.\n   * Add the `selected` prop and the `ProseMirror-selectednode` class.\n   */\n  selectNode() {\n    this.renderer.updateProps({\n      selected: true,\n    })\n    this.renderer.element.classList.add('ProseMirror-selectednode')\n  }\n\n  /**\n   * Deselect the node.\n   * Remove the `selected` prop and the `ProseMirror-selectednode` class.\n   */\n  deselectNode() {\n    this.renderer.updateProps({\n      selected: false,\n    })\n    this.renderer.element.classList.remove('ProseMirror-selectednode')\n  }\n\n  /**\n   * Destroy the React component instance.\n   */\n  destroy() {\n    this.renderer.destroy()\n    this.editor.off('selectionUpdate', this.handleSelectionUpdate)\n    this.contentDOMElement = null\n\n    if (this.selectionRafId) {\n      cancelAnimationFrame(this.selectionRafId)\n      this.selectionRafId = null\n    }\n  }\n\n  /**\n   * Update the attributes of the top-level element that holds the React component.\n   * Applying the attributes defined in the `attrs` option.\n   */\n  updateElementAttributes() {\n    if (this.options.attrs) {\n      let attrsObj: Record<string, string> = {}\n\n      if (typeof this.options.attrs === 'function') {\n        const extensionAttributes = this.editor.extensionManager.attributes\n        const HTMLAttributes = getRenderedAttributes(this.node, extensionAttributes)\n\n        attrsObj = this.options.attrs({ node: this.node, HTMLAttributes })\n      } else {\n        attrsObj = this.options.attrs\n      }\n\n      this.renderer.updateAttributes(attrsObj)\n    }\n  }\n}\n\n/**\n * Create a React node view renderer.\n */\nexport function ReactNodeViewRenderer<T = HTMLElement>(\n  component: ComponentType<ReactNodeViewProps<T>>,\n  options?: Partial<ReactNodeViewRendererOptions>,\n): NodeViewRenderer {\n  return props => {\n    // try to get the parent component\n    // this is important for vue devtools to show the component hierarchy correctly\n    // maybe it’s `undefined` because <editor-content> isn’t rendered yet\n    if (!(props.editor as EditorWithContentComponent).contentComponent) {\n      return {} as unknown as ProseMirrorNodeView\n    }\n\n    return new ReactNodeView<T>(component, props, options)\n  }\n}\n","import type { RawCommands } from '../types.js'\nimport { isiOS } from '../utilities/isiOS.js'\nimport { isMacOS } from '../utilities/isMacOS.js'\n\nfunction normalizeKeyName(name: string) {\n  const parts = name.split(/-(?!$)/)\n  let result = parts[parts.length - 1]\n\n  if (result === 'Space') {\n    result = ' '\n  }\n\n  let alt\n  let ctrl\n  let shift\n  let meta\n\n  for (let i = 0; i < parts.length - 1; i += 1) {\n    const mod = parts[i]\n\n    if (/^(cmd|meta|m)$/i.test(mod)) {\n      meta = true\n    } else if (/^a(lt)?$/i.test(mod)) {\n      alt = true\n    } else if (/^(c|ctrl|control)$/i.test(mod)) {\n      ctrl = true\n    } else if (/^s(hift)?$/i.test(mod)) {\n      shift = true\n    } else if (/^mod$/i.test(mod)) {\n      if (isiOS() || isMacOS()) {\n        meta = true\n      } else {\n        ctrl = true\n      }\n    } else {\n      throw new Error(`Unrecognized modifier name: ${mod}`)\n    }\n  }\n\n  if (alt) {\n    result = `Alt-${result}`\n  }\n\n  if (ctrl) {\n    result = `Ctrl-${result}`\n  }\n\n  if (meta) {\n    result = `Meta-${result}`\n  }\n\n  if (shift) {\n    result = `Shift-${result}`\n  }\n\n  return result\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    keyboardShortcut: {\n      /**\n       * Trigger a keyboard shortcut.\n       * @param name The name of the keyboard shortcut.\n       * @example editor.commands.keyboardShortcut('Mod-b')\n       */\n      keyboardShortcut: (name: string) => ReturnType\n    }\n  }\n}\n\nexport const keyboardShortcut: RawCommands['keyboardShortcut'] =\n  name =>\n  ({ editor, view, tr, dispatch }) => {\n    const keys = normalizeKeyName(name).split(/-(?!$)/)\n    const key = keys.find(item => !['Alt', 'Ctrl', 'Meta', 'Shift'].includes(item))\n    const event = new KeyboardEvent('keydown', {\n      key: key === 'Space' ? ' ' : key,\n      altKey: keys.includes('Alt'),\n      ctrlKey: keys.includes('Ctrl'),\n      metaKey: keys.includes('Meta'),\n      shiftKey: keys.includes('Shift'),\n      bubbles: true,\n      cancelable: true,\n    })\n\n    const capturedTransaction = editor.captureTransaction(() => {\n      view.someProp('handleKeyDown', f => f(view, event))\n    })\n\n    capturedTransaction?.steps.forEach(step => {\n      const newStep = step.map(tr.mapping)\n\n      if (newStep && dispatch) {\n        tr.maybeStep(newStep)\n      }\n    })\n\n    return true\n  }\n","import isUndefined from '../utils/isUndefined';\n\ntype CheckboxFieldResult = {\n  isValid: boolean;\n  value: string | string[] | boolean | undefined;\n};\n\nconst defaultResult: CheckboxFieldResult = {\n  value: false,\n  isValid: false,\n};\n\nconst validResult = { value: true, isValid: true };\n\nexport default (options?: HTMLInputElement[]): CheckboxFieldResult => {\n  if (Array.isArray(options)) {\n    if (options.length > 1) {\n      const values = options\n        .filter((option) => option && option.checked && !option.disabled)\n        .map((option) => option.value);\n      return { value: values, isValid: !!values.length };\n    }\n\n    return options[0].checked && !options[0].disabled\n      ? // @ts-expect-error expected to work in the browser\n        options[0].attributes && !isUndefined(options[0].attributes.value)\n        ? isUndefined(options[0].value) || options[0].value === ''\n          ? validResult\n          : { value: options[0].value, isValid: true }\n        : validResult\n      : defaultResult;\n  }\n\n  return defaultResult;\n};\n","import type { Field, NativeFieldValue } from '../types';\nimport isString from '../utils/isString';\nimport isUndefined from '../utils/isUndefined';\n\nexport default <T extends NativeFieldValue>(\n  value: T,\n  { valueAsNumber, valueAsDate, setValueAs }: Field['_f'],\n) =>\n  isUndefined(value)\n    ? value\n    : valueAsNumber\n      ? value === ''\n        ? NaN\n        : value\n          ? +value\n          : value\n      : valueAsDate && isString(value)\n        ? new Date(value)\n        : setValueAs\n          ? setValueAs(value)\n          : value;\n","type RadioFieldResult = {\n  isValid: boolean;\n  value: number | string | null;\n};\n\nconst defaultReturn: RadioFieldResult = {\n  isValid: false,\n  value: null,\n};\n\nexport default (options?: HTMLInputElement[]): RadioFieldResult =>\n  Array.isArray(options)\n    ? options.reduce(\n        (previous, option): RadioFieldResult =>\n          option && option.checked && !option.disabled\n            ? {\n                isValid: true,\n                value: option.value,\n              }\n            : previous,\n        defaultReturn,\n      )\n    : defaultReturn;\n","import type { Field } from '../types';\nimport isCheckBox from '../utils/isCheckBoxInput';\nimport isFileInput from '../utils/isFileInput';\nimport isMultipleSelect from '../utils/isMultipleSelect';\nimport isRadioInput from '../utils/isRadioInput';\nimport isUndefined from '../utils/isUndefined';\n\nimport getCheckboxValue from './getCheckboxValue';\nimport getFieldValueAs from './getFieldValueAs';\nimport getRadioValue from './getRadioValue';\n\nexport default function getFieldValue(_f: Field['_f']) {\n  const ref = _f.ref;\n\n  if (isFileInput(ref)) {\n    return ref.files;\n  }\n\n  if (isRadioInput(ref)) {\n    return getRadioValue(_f.refs).value;\n  }\n\n  if (isMultipleSelect(ref)) {\n    return [...ref.selectedOptions].map(({ value }) => value);\n  }\n\n  if (isCheckBox(ref)) {\n    return getCheckboxValue(_f.refs).value;\n  }\n\n  return getFieldValueAs(isUndefined(ref.value) ? _f.ref.value : ref.value, _f);\n}\n","import type {\n  CriteriaMode,\n  Field,\n  FieldName,\n  FieldRefs,\n  FieldValues,\n  InternalFieldName,\n} from '../types';\nimport { get } from '../utils';\nimport set from '../utils/set';\n\nexport default <TFieldValues extends FieldValues>(\n  fieldsNames: Set<InternalFieldName> | InternalFieldName[],\n  _fields: FieldRefs,\n  criteriaMode?: CriteriaMode,\n  shouldUseNativeValidation?: boolean | undefined,\n) => {\n  const fields: Record<InternalFieldName, Field['_f']> = {};\n\n  for (const name of fieldsNames) {\n    const field: Field = get(_fields, name);\n\n    field && set(fields, name, field._f);\n  }\n\n  return {\n    criteriaMode,\n    names: [...fieldsNames] as FieldName<TFieldValues>[],\n    fields,\n    shouldUseNativeValidation,\n  };\n};\n","export default (value: unknown): value is RegExp => value instanceof RegExp;\n","import type {\n  ValidationRule,\n  ValidationValue,\n  ValidationValueMessage,\n} from '../types';\nimport isObject from '../utils/isObject';\nimport isRegex from '../utils/isRegex';\nimport isUndefined from '../utils/isUndefined';\n\nexport default <T extends ValidationValue>(\n  rule?: ValidationRule<T> | ValidationValueMessage<T>,\n) =>\n  isUndefined(rule)\n    ? rule\n    : isRegex(rule)\n      ? rule.source\n      : isObject(rule)\n        ? isRegex(rule.value)\n          ? rule.value.source\n          : rule.value\n        : rule;\n","import { VALIDATION_MODE } from '../constants';\nimport type { Mode, ValidationModeFlags } from '../types';\n\nexport default (mode?: Mode): ValidationModeFlags => ({\n  isOnSubmit: !mode || mode === VALIDATION_MODE.onSubmit,\n  isOnBlur: mode === VALIDATION_MODE.onBlur,\n  isOnChange: mode === VALIDATION_MODE.onChange,\n  isOnAll: mode === VALIDATION_MODE.all,\n  isOnTouch: mode === VALIDATION_MODE.onTouched,\n});\n","import type { Field, Validate } from '../types';\nimport isFunction from '../utils/isFunction';\nimport isObject from '../utils/isObject';\n\nconst ASYNC_FUNCTION = 'AsyncFunction';\n\nexport default (fieldReference: Field['_f']) =>\n  !!fieldReference &&\n  !!fieldReference.validate &&\n  !!(\n    (isFunction(fieldReference.validate) &&\n      fieldReference.validate.constructor.name === ASYNC_FUNCTION) ||\n    (isObject(fieldReference.validate) &&\n      Object.values(fieldReference.validate).find(\n        (validateFunction: Validate<unknown, unknown>) =>\n          validateFunction.constructor.name === ASYNC_FUNCTION,\n      ))\n  );\n","import { mergeAttributes, Node, parseIndentedBlocks } from '@tiptap/core'\n\nexport interface TaskListOptions {\n  /**\n   * The node type name for a task item.\n   * @default 'taskItem'\n   * @example 'myCustomTaskItem'\n   */\n  itemTypeName: string\n\n  /**\n   * The HTML attributes for a task list node.\n   * @default {}\n   * @example { class: 'foo' }\n   */\n  HTMLAttributes: Record<string, any>\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    taskList: {\n      /**\n       * Toggle a task list\n       * @example editor.commands.toggleTaskList()\n       */\n      toggleTaskList: () => ReturnType\n    }\n  }\n}\n\n/**\n * This extension allows you to create task lists.\n * @see https://www.tiptap.dev/api/nodes/task-list\n */\nexport const TaskList = Node.create<TaskListOptions>({\n  name: 'taskList',\n\n  addOptions() {\n    return {\n      itemTypeName: 'taskItem',\n      HTMLAttributes: {},\n    }\n  },\n\n  group: 'block list',\n\n  content() {\n    return `${this.options.itemTypeName}+`\n  },\n\n  parseHTML() {\n    return [\n      {\n        tag: `ul[data-type=\"${this.name}\"]`,\n        priority: 51,\n      },\n    ]\n  },\n\n  renderHTML({ HTMLAttributes }) {\n    return ['ul', mergeAttributes(this.options.HTMLAttributes, HTMLAttributes, { 'data-type': this.name }), 0]\n  },\n\n  parseMarkdown: (token, h) => {\n    return h.createNode('taskList', {}, h.parseChildren(token.items || []))\n  },\n\n  renderMarkdown: (node, h) => {\n    if (!node.content) {\n      return ''\n    }\n\n    return h.renderChildren(node.content, '\\n')\n  },\n\n  markdownTokenizer: {\n    name: 'taskList',\n    level: 'block',\n    start(src) {\n      // Look for the start of a task list item\n      const index = src.match(/^\\s*[-+*]\\s+\\[([ xX])\\]\\s+/)?.index\n      return index !== undefined ? index : -1\n    },\n    tokenize(src, tokens, lexer) {\n      // Helper function to recursively parse task lists\n      const parseTaskListContent = (content: string): any[] | undefined => {\n        const nestedResult = parseIndentedBlocks(\n          content,\n          {\n            itemPattern: /^(\\s*)([-+*])\\s+\\[([ xX])\\]\\s+(.*)$/,\n            extractItemData: match => ({\n              indentLevel: match[1].length,\n              mainContent: match[4],\n              checked: match[3].toLowerCase() === 'x',\n            }),\n            createToken: (data, nestedTokens) => ({\n              type: 'taskItem',\n              raw: '',\n              mainContent: data.mainContent,\n              indentLevel: data.indentLevel,\n              checked: data.checked,\n              text: data.mainContent,\n              tokens: lexer.inlineTokens(data.mainContent),\n              nestedTokens,\n            }),\n            // Allow recursive nesting\n            customNestedParser: parseTaskListContent,\n          },\n          lexer,\n        )\n\n        if (nestedResult) {\n          // Return as task list token\n          return [\n            {\n              type: 'taskList',\n              raw: nestedResult.raw,\n              items: nestedResult.items,\n            },\n          ]\n        }\n\n        // Fall back to regular markdown parsing if not a task list\n        return lexer.blockTokens(content)\n      }\n\n      const result = parseIndentedBlocks(\n        src,\n        {\n          itemPattern: /^(\\s*)([-+*])\\s+\\[([ xX])\\]\\s+(.*)$/,\n          extractItemData: match => ({\n            indentLevel: match[1].length,\n            mainContent: match[4],\n            checked: match[3].toLowerCase() === 'x',\n          }),\n          createToken: (data, nestedTokens) => ({\n            type: 'taskItem',\n            raw: '',\n            mainContent: data.mainContent,\n            indentLevel: data.indentLevel,\n            checked: data.checked,\n            text: data.mainContent,\n            tokens: lexer.inlineTokens(data.mainContent),\n            nestedTokens,\n          }),\n          // Use the recursive parser for nested content\n          customNestedParser: parseTaskListContent,\n        },\n        lexer,\n      )\n\n      if (!result) {\n        return undefined\n      }\n\n      return {\n        type: 'taskList',\n        raw: result.raw,\n        items: result.items,\n      }\n    },\n  },\n\n  markdownOptions: {\n    indentsContent: true,\n  },\n\n  addCommands() {\n    return {\n      toggleTaskList:\n        () =>\n        ({ commands }) => {\n          return commands.toggleList(this.name, this.options.itemTypeName)\n        },\n    }\n  },\n\n  addKeyboardShortcuts() {\n    return {\n      'Mod-Shift-9': () => this.editor.commands.toggleTaskList(),\n    }\n  },\n})\n","import type { Field } from '../types';\n\nexport default (options: Field['_f']) =>\n  options.mount &&\n  (options.required ||\n    options.min ||\n    options.max ||\n    options.maxLength ||\n    options.minLength ||\n    options.pattern ||\n    options.validate);\n","import type { InternalFieldName, Names } from '../types';\n\nexport default (\n  name: InternalFieldName,\n  _names: Names,\n  isBlurEvent?: boolean,\n) =>\n  !isBlurEvent &&\n  (_names.watchAll ||\n    _names.watch.has(name) ||\n    [..._names.watch].some(\n      (watchName) =>\n        name.startsWith(watchName) &&\n        /^\\.\\w+/.test(name.slice(watchName.length)),\n    ));\n","import type { FieldRefs, InternalFieldName, Ref } from '../types';\nimport { get } from '../utils';\nimport isObject from '../utils/isObject';\n\nconst iterateFieldsByAction = (\n  fields: FieldRefs,\n  action: (ref: Ref, name: string) => 1 | undefined | void,\n  fieldsNames?: Set<InternalFieldName> | InternalFieldName[] | 0,\n  abortEarly?: boolean,\n) => {\n  for (const key of fieldsNames || Object.keys(fields)) {\n    const field = get(fields, key);\n\n    if (field) {\n      const { _f, ...currentField } = field;\n\n      if (_f) {\n        if (_f.refs && _f.refs[0] && action(_f.refs[0], key) && !abortEarly) {\n          return true;\n        } else if (_f.ref && action(_f.ref, _f.name) && !abortEarly) {\n          return true;\n        } else {\n          if (iterateFieldsByAction(currentField, action)) {\n            break;\n          }\n        }\n      } else if (isObject(currentField)) {\n        if (iterateFieldsByAction(currentField as FieldRefs, action)) {\n          break;\n        }\n      }\n    }\n  }\n  return;\n};\nexport default iterateFieldsByAction;\n","import type { ReactNode } from 'react'\nimport { createContext, useContext, useMemo } from 'react'\n\nimport { EditorContext } from './Context.js'\nimport type { Editor, EditorContentProps, EditorStateSnapshot } from './index.js'\nimport { EditorContent, useEditorState } from './index.js'\n\n/**\n * The shape of the React context used by the `<Tiptap />` components.\n *\n * The editor instance is always available when using the default `useEditor`\n * configuration. For SSR scenarios where `immediatelyRender: false` is used,\n * consider using the legacy `EditorProvider` pattern instead.\n */\nexport type TiptapContextType = {\n  /** The Tiptap editor instance. */\n  editor: Editor\n}\n\n/**\n * React context that stores the current editor instance.\n *\n * Use `useTiptap()` to read from this context in child components.\n */\nexport const TiptapContext = createContext<TiptapContextType>({\n  get editor(): Editor {\n    throw new Error('useTiptap must be used within a <Tiptap> provider')\n  },\n})\n\nTiptapContext.displayName = 'TiptapContext'\n\n/**\n * Hook to read the Tiptap context and access the editor instance.\n *\n * This is a small convenience wrapper around `useContext(TiptapContext)`.\n * The editor is always available when used within a `<Tiptap>` provider.\n *\n * @returns The current `TiptapContextType` value from the provider.\n *\n * @example\n * ```tsx\n * import { useTiptap } from '@tiptap/react'\n *\n * function Toolbar() {\n *   const { editor } = useTiptap()\n *\n *   return (\n *     <button onClick={() => editor.chain().focus().toggleBold().run()}>\n *       Bold\n *     </button>\n *   )\n * }\n * ```\n */\nexport const useTiptap = () => useContext(TiptapContext)\n\n/**\n * Select a slice of the editor state using the context-provided editor.\n *\n * This is a thin wrapper around `useEditorState` that reads the `editor`\n * instance from `useTiptap()` so callers don't have to pass it manually.\n *\n * @typeParam TSelectorResult - The type returned by the selector.\n * @param selector - Function that receives the editor state snapshot and\n *                   returns the piece of state you want to subscribe to.\n * @param equalityFn - Optional function to compare previous/next selected\n *                     values and avoid unnecessary updates.\n * @returns The selected slice of the editor state.\n *\n * @example\n * ```tsx\n * function WordCount() {\n *   const wordCount = useTiptapState(state => {\n *     const text = state.editor.state.doc.textContent\n *     return text.split(/\\s+/).filter(Boolean).length\n *   })\n *\n *   return <span>{wordCount} words</span>\n * }\n * ```\n */\nexport function useTiptapState<TSelectorResult>(\n  selector: (context: EditorStateSnapshot<Editor>) => TSelectorResult,\n  equalityFn?: (a: TSelectorResult, b: TSelectorResult | null) => boolean,\n) {\n  const { editor } = useTiptap()\n\n  return useEditorState({\n    editor,\n    selector,\n    equalityFn,\n  })\n}\n\n/**\n * Props for the `Tiptap` root/provider component.\n */\nexport type TiptapWrapperProps = {\n  /**\n   * The editor instance to provide to child components.\n   * Use `useEditor()` to create this instance.\n   */\n  editor?: Editor\n\n  /**\n   * @deprecated Use `editor` instead. Will be removed in the next major version.\n   */\n  instance?: Editor\n\n  children: ReactNode\n}\n\n/**\n * Top-level provider component that makes the editor instance available via\n * React context to all child components.\n *\n * This component also provides backwards compatibility with the legacy\n * `EditorContext`, so components using `useCurrentEditor()` will work\n * inside a `<Tiptap>` provider.\n *\n * @param props - Component props.\n * @returns A context provider element wrapping `children`.\n *\n * @example\n * ```tsx\n * import { Tiptap, useEditor } from '@tiptap/react'\n *\n * function App() {\n *   const editor = useEditor({ extensions: [...] })\n *\n *   return (\n *     <Tiptap editor={editor}>\n *       <Toolbar />\n *       <Tiptap.Content />\n *     </Tiptap>\n *   )\n * }\n * ```\n */\nexport function TiptapWrapper({ editor, instance, children }: TiptapWrapperProps) {\n  const resolvedEditor = editor ?? instance\n\n  if (!resolvedEditor) {\n    throw new Error('Tiptap: An editor instance is required. Pass a non-null `editor` prop.')\n  }\n\n  const tiptapContextValue = useMemo<TiptapContextType>(() => ({ editor: resolvedEditor }), [resolvedEditor])\n\n  // Provide backwards compatibility with the legacy EditorContext\n  // so components using useCurrentEditor() work inside <Tiptap>\n  const legacyContextValue = useMemo(() => ({ editor: resolvedEditor }), [resolvedEditor])\n\n  return (\n    <EditorContext.Provider value={legacyContextValue}>\n      <TiptapContext.Provider value={tiptapContextValue}>{children}</TiptapContext.Provider>\n    </EditorContext.Provider>\n  )\n}\n\nTiptapWrapper.displayName = 'Tiptap'\n\n/**\n * Convenience component that renders `EditorContent` using the context-provided\n * editor instance. Use this instead of manually passing the `editor` prop.\n *\n * @param props - All `EditorContent` props except `editor` and `ref`.\n * @returns An `EditorContent` element bound to the context editor.\n *\n * @example\n * ```tsx\n * // inside a Tiptap provider\n * <Tiptap.Content className=\"editor\" />\n * ```\n */\nexport function TiptapContent({ ...rest }: Omit<EditorContentProps, 'editor' | 'ref'>) {\n  const { editor } = useTiptap()\n\n  return <EditorContent editor={editor} {...rest} />\n}\n\nTiptapContent.displayName = 'Tiptap.Content'\n\n/**\n * Root `Tiptap` component. Use it as the provider for all child components.\n *\n * The exported object includes the `Content` subcomponent for rendering the\n * editor content area.\n *\n * This component provides both the new `TiptapContext` (accessed via `useTiptap()`)\n * and the legacy `EditorContext` (accessed via `useCurrentEditor()`) for\n * backwards compatibility.\n *\n * For bubble menus and floating menus, import them separately from\n * `@tiptap/react/menus` to keep floating-ui as an optional dependency.\n *\n * @example\n * ```tsx\n * import { Tiptap, useEditor } from '@tiptap/react'\n * import { BubbleMenu } from '@tiptap/react/menus'\n *\n * function App() {\n *   const editor = useEditor({ extensions: [...] })\n *\n *   return (\n *     <Tiptap editor={editor}>\n *       <Tiptap.Content />\n *       <BubbleMenu>\n *         <button onClick={() => editor.chain().focus().toggleBold().run()}>Bold</button>\n *       </BubbleMenu>\n *     </Tiptap>\n *   )\n * }\n * ```\n */\nexport const Tiptap = Object.assign(TiptapWrapper, {\n  /**\n   * The Tiptap Content component that renders the EditorContent with the editor instance from the context.\n   * @see TiptapContent\n   */\n  Content: TiptapContent,\n})\n\nexport default Tiptap\n","import type { FieldError, FieldErrors, FieldValues } from '../types';\nimport get from '../utils/get';\nimport isKey from '../utils/isKey';\n\nexport default function schemaErrorLookup<T extends FieldValues = FieldValues>(\n  errors: FieldErrors<T>,\n  _fields: FieldValues,\n  name: string,\n): {\n  error?: FieldError;\n  name: string;\n} {\n  const error = get(errors, name);\n\n  if (error || isKey(name)) {\n    return {\n      error,\n      name,\n    };\n  }\n\n  const names = name.split('.');\n\n  while (names.length) {\n    const fieldName = names.join('.');\n    const field = get(_fields, fieldName);\n    const foundError = get(errors, fieldName);\n\n    if (field && !Array.isArray(field) && name !== fieldName) {\n      return { name };\n    }\n\n    if (foundError && foundError.type) {\n      return {\n        name: fieldName,\n        error: foundError,\n      };\n    }\n\n    if (foundError && foundError.root && foundError.root.type) {\n      return {\n        name: `${fieldName}.root`,\n        error: foundError.root,\n      };\n    }\n\n    names.pop();\n  }\n\n  return {\n    name,\n  };\n}\n","export * from './Context.js'\nexport * from './EditorContent.js'\nexport * from './NodeViewContent.js'\nexport * from './NodeViewWrapper.js'\nexport * from './ReactMarkViewRenderer.js'\nexport * from './ReactNodeViewRenderer.js'\nexport * from './ReactRenderer.js'\nexport * from './Tiptap.js'\nexport * from './types.js'\nexport * from './useEditor.js'\nexport * from './useEditorState.js'\nexport * from './useReactNodeView.js'\nexport * from '@tiptap/core'\n","import { selectNodeBackward as originalSelectNodeBackward } from '@tiptap/pm/commands'\n\nimport type { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    selectNodeBackward: {\n      /**\n       * Select a node backward.\n       * @example editor.commands.selectNodeBackward()\n       */\n      selectNodeBackward: () => ReturnType\n    }\n  }\n}\n\nexport const selectNodeBackward: RawCommands['selectNodeBackward'] =\n  () =>\n  ({ state, dispatch }) => {\n    return originalSelectNodeBackward(state, dispatch)\n  }\n","import { selectNodeForward as originalSelectNodeForward } from '@tiptap/pm/commands'\n\nimport type { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    selectNodeForward: {\n      /**\n       * Select a node forward.\n       * @example editor.commands.selectNodeForward()\n       */\n      selectNodeForward: () => ReturnType\n    }\n  }\n}\n\nexport const selectNodeForward: RawCommands['selectNodeForward'] =\n  () =>\n  ({ state, dispatch }) => {\n    return originalSelectNodeForward(state, dispatch)\n  }\n","import { VALIDATION_MODE } from '../constants';\nimport type {\n  FieldValues,\n  FormState,\n  InternalFieldName,\n  ReadFormState,\n} from '../types';\nimport isEmptyObject from '../utils/isEmptyObject';\n\nexport default <T extends FieldValues, K extends ReadFormState>(\n  formStateData: Partial<FormState<T>> & {\n    name?: InternalFieldName;\n    values?: T;\n  },\n  _proxyFormState: K,\n  updateFormState: (formState: Partial<FormState<T>>) => void,\n  isRoot?: boolean,\n) => {\n  updateFormState(formStateData);\n  const { name, ...formState } = formStateData;\n\n  return (\n    isEmptyObject(formState) ||\n    Object.keys(formState).length >= Object.keys(_proxyFormState).length ||\n    Object.keys(formState).find(\n      (key) =>\n        _proxyFormState[key as keyof ReadFormState] ===\n        (!isRoot || VALIDATION_MODE.all),\n    )\n  );\n};\n","import convertToArrayPayload from '../utils/convertToArrayPayload';\n\nexport default <T extends string | readonly string[] | undefined>(\n  name?: T,\n  signalName?: string,\n  exact?: boolean,\n) =>\n  !name ||\n  !signalName ||\n  name === signalName ||\n  convertToArrayPayload(name).some(\n    (currentName) =>\n      currentName &&\n      (exact\n        ? currentName === signalName\n        : currentName.startsWith(signalName) ||\n          signalName.startsWith(currentName)),\n  );\n","import type { ValidationModeFlags } from '../types';\n\nexport default (\n  isBlurEvent: boolean,\n  isTouched: boolean,\n  isSubmitted: boolean,\n  reValidateMode: {\n    isOnBlur: boolean;\n    isOnChange: boolean;\n  },\n  mode: Partial<ValidationModeFlags>,\n) => {\n  if (mode.isOnAll) {\n    return false;\n  } else if (!isSubmitted && mode.isOnTouch) {\n    return !(isTouched || isBlurEvent);\n  } else if (isSubmitted ? reValidateMode.isOnBlur : mode.isOnBlur) {\n    return !isBlurEvent;\n  } else if (isSubmitted ? reValidateMode.isOnChange : mode.isOnChange) {\n    return isBlurEvent;\n  }\n  return true;\n};\n","import compact from '../utils/compact';\nimport get from '../utils/get';\nimport unset from '../utils/unset';\n\nexport default <T>(ref: T, name: string) =>\n  !compact(get(ref, name)).length && unset(ref, name);\n","import type {\n  FieldError,\n  FieldErrors,\n  FieldValues,\n  InternalFieldName,\n} from '../types';\nimport convertToArrayPayload from '../utils/convertToArrayPayload';\nimport get from '../utils/get';\nimport set from '../utils/set';\n\nexport default <T extends FieldValues = FieldValues>(\n  errors: FieldErrors<T>,\n  error: Partial<Record<string, FieldError>>,\n  name: InternalFieldName,\n): FieldErrors<T> => {\n  const fieldArrayErrors = convertToArrayPayload(get(errors, name));\n  set(fieldArrayErrors, 'root', error[name]);\n  set(errors, name, fieldArrayErrors);\n  return errors;\n};\n","import type { FieldError, Ref, ValidateResult } from '../types';\nimport isBoolean from '../utils/isBoolean';\nimport isString from '../utils/isString';\n\nexport default function getValidateError(\n  result: ValidateResult,\n  ref: Ref,\n  type = 'validate',\n): FieldError | void {\n  if (\n    isString(result) ||\n    (Array.isArray(result) && result.every(isString)) ||\n    (isBoolean(result) && !result)\n  ) {\n    return {\n      type,\n      message: isString(result) ? result : '',\n      ref,\n    };\n  }\n}\n","import type { Mark, MarkType } from '@tiptap/pm/model'\nimport type { EditorState } from '@tiptap/pm/state'\n\nimport { getMarkType } from './getMarkType.js'\n\nexport function getMarkAttributes(state: EditorState, typeOrName: string | MarkType): Record<string, any> {\n  const type = getMarkType(typeOrName, state.schema)\n  const { from, to, empty } = state.selection\n  const marks: Mark[] = []\n\n  if (empty) {\n    if (state.storedMarks) {\n      marks.push(...state.storedMarks)\n    }\n\n    marks.push(...state.selection.$head.marks())\n  } else {\n    state.doc.nodesBetween(from, to, node => {\n      marks.push(...node.marks)\n    })\n  }\n\n  const mark = marks.find(markItem => markItem.type.name === type.name)\n\n  if (!mark) {\n    return {}\n  }\n\n  return { ...mark.attrs }\n}\n","import type { ValidationRule } from '../types';\nimport isObject from '../utils/isObject';\nimport isRegex from '../utils/isRegex';\n\nexport default (validationData?: ValidationRule) =>\n  isObject(validationData) && !isRegex(validationData)\n    ? validationData\n    : {\n        value: validationData,\n        message: '',\n      };\n","import { INPUT_VALIDATION_RULES } from '../constants';\nimport type {\n  Field,\n  FieldError,\n  FieldValues,\n  InternalFieldErrors,\n  InternalNameSet,\n  MaxType,\n  Message,\n  MinType,\n  NativeFieldValue,\n} from '../types';\nimport get from '../utils/get';\nimport isBoolean from '../utils/isBoolean';\nimport isCheckBoxInput from '../utils/isCheckBoxInput';\nimport isEmptyObject from '../utils/isEmptyObject';\nimport isFileInput from '../utils/isFileInput';\nimport isFunction from '../utils/isFunction';\nimport isHTMLElement from '../utils/isHTMLElement';\nimport isNullOrUndefined from '../utils/isNullOrUndefined';\nimport isObject from '../utils/isObject';\nimport isRadioInput from '../utils/isRadioInput';\nimport isRegex from '../utils/isRegex';\nimport isString from '../utils/isString';\nimport isUndefined from '../utils/isUndefined';\n\nimport appendErrors from './appendErrors';\nimport getCheckboxValue from './getCheckboxValue';\nimport getRadioValue from './getRadioValue';\nimport getValidateError from './getValidateError';\nimport getValueAndMessage from './getValueAndMessage';\n\nexport default async <T extends FieldValues>(\n  field: Field,\n  disabledFieldNames: InternalNameSet,\n  formValues: T,\n  validateAllFieldCriteria: boolean,\n  shouldUseNativeValidation?: boolean,\n  isFieldArray?: boolean,\n): Promise<InternalFieldErrors> => {\n  const {\n    ref,\n    refs,\n    required,\n    maxLength,\n    minLength,\n    min,\n    max,\n    pattern,\n    validate,\n    name,\n    valueAsNumber,\n    mount,\n  } = field._f;\n  const inputValue: NativeFieldValue = get(formValues, name);\n  if (!mount || disabledFieldNames.has(name)) {\n    return {};\n  }\n  const inputRef: HTMLInputElement = refs ? refs[0] : (ref as HTMLInputElement);\n  const setCustomValidity = (message?: string | boolean) => {\n    if (shouldUseNativeValidation && inputRef.reportValidity) {\n      inputRef.setCustomValidity(isBoolean(message) ? '' : message || '');\n      inputRef.reportValidity();\n    }\n  };\n  const error: InternalFieldErrors = {};\n  const isRadio = isRadioInput(ref);\n  const isCheckBox = isCheckBoxInput(ref);\n  const isRadioOrCheckbox = isRadio || isCheckBox;\n  const isEmpty =\n    ((valueAsNumber || isFileInput(ref)) &&\n      isUndefined(ref.value) &&\n      isUndefined(inputValue)) ||\n    (isHTMLElement(ref) && ref.value === '') ||\n    inputValue === '' ||\n    (Array.isArray(inputValue) && !inputValue.length);\n  const appendErrorsCurry = appendErrors.bind(\n    null,\n    name,\n    validateAllFieldCriteria,\n    error,\n  );\n  const getMinMaxMessage = (\n    exceedMax: boolean,\n    maxLengthMessage: Message,\n    minLengthMessage: Message,\n    maxType: MaxType = INPUT_VALIDATION_RULES.maxLength,\n    minType: MinType = INPUT_VALIDATION_RULES.minLength,\n  ) => {\n    const message = exceedMax ? maxLengthMessage : minLengthMessage;\n    error[name] = {\n      type: exceedMax ? maxType : minType,\n      message,\n      ref,\n      ...appendErrorsCurry(exceedMax ? maxType : minType, message),\n    };\n  };\n\n  if (\n    isFieldArray\n      ? !Array.isArray(inputValue) || !inputValue.length\n      : required &&\n        ((!isRadioOrCheckbox && (isEmpty || isNullOrUndefined(inputValue))) ||\n          (isBoolean(inputValue) && !inputValue) ||\n          (isCheckBox && !getCheckboxValue(refs).isValid) ||\n          (isRadio && !getRadioValue(refs).isValid))\n  ) {\n    const { value, message } = isString(required)\n      ? { value: !!required, message: required }\n      : getValueAndMessage(required);\n\n    if (value) {\n      error[name] = {\n        type: INPUT_VALIDATION_RULES.required,\n        message,\n        ref: inputRef,\n        ...appendErrorsCurry(INPUT_VALIDATION_RULES.required, message),\n      };\n      if (!validateAllFieldCriteria) {\n        setCustomValidity(message);\n        return error;\n      }\n    }\n  }\n\n  if (!isEmpty && (!isNullOrUndefined(min) || !isNullOrUndefined(max))) {\n    let exceedMax;\n    let exceedMin;\n    const maxOutput = getValueAndMessage(max);\n    const minOutput = getValueAndMessage(min);\n\n    if (!isNullOrUndefined(inputValue) && !isNaN(inputValue as number)) {\n      const valueNumber =\n        (ref as HTMLInputElement).valueAsNumber ||\n        (inputValue ? +inputValue : inputValue);\n      if (!isNullOrUndefined(maxOutput.value)) {\n        exceedMax = valueNumber > maxOutput.value;\n      }\n      if (!isNullOrUndefined(minOutput.value)) {\n        exceedMin = valueNumber < minOutput.value;\n      }\n    } else {\n      const valueDate =\n        (ref as HTMLInputElement).valueAsDate || new Date(inputValue as string);\n      const convertTimeToDate = (time: unknown) =>\n        new Date(new Date().toDateString() + ' ' + time);\n      const isTime = ref.type == 'time';\n      const isWeek = ref.type == 'week';\n\n      if (isString(maxOutput.value) && inputValue) {\n        exceedMax = isTime\n          ? convertTimeToDate(inputValue) > convertTimeToDate(maxOutput.value)\n          : isWeek\n            ? inputValue > maxOutput.value\n            : valueDate > new Date(maxOutput.value);\n      }\n\n      if (isString(minOutput.value) && inputValue) {\n        exceedMin = isTime\n          ? convertTimeToDate(inputValue) < convertTimeToDate(minOutput.value)\n          : isWeek\n            ? inputValue < minOutput.value\n            : valueDate < new Date(minOutput.value);\n      }\n    }\n\n    if (exceedMax || exceedMin) {\n      getMinMaxMessage(\n        !!exceedMax,\n        maxOutput.message,\n        minOutput.message,\n        INPUT_VALIDATION_RULES.max,\n        INPUT_VALIDATION_RULES.min,\n      );\n      if (!validateAllFieldCriteria) {\n        setCustomValidity(error[name]!.message);\n        return error;\n      }\n    }\n  }\n\n  if (\n    (maxLength || minLength) &&\n    !isEmpty &&\n    (isString(inputValue) || (isFieldArray && Array.isArray(inputValue)))\n  ) {\n    const maxLengthOutput = getValueAndMessage(maxLength);\n    const minLengthOutput = getValueAndMessage(minLength);\n    const exceedMax =\n      !isNullOrUndefined(maxLengthOutput.value) &&\n      inputValue.length > +maxLengthOutput.value;\n    const exceedMin =\n      !isNullOrUndefined(minLengthOutput.value) &&\n      inputValue.length < +minLengthOutput.value;\n\n    if (exceedMax || exceedMin) {\n      getMinMaxMessage(\n        exceedMax,\n        maxLengthOutput.message,\n        minLengthOutput.message,\n      );\n      if (!validateAllFieldCriteria) {\n        setCustomValidity(error[name]!.message);\n        return error;\n      }\n    }\n  }\n\n  if (pattern && !isEmpty && isString(inputValue)) {\n    const { value: patternValue, message } = getValueAndMessage(pattern);\n\n    if (isRegex(patternValue) && !inputValue.match(patternValue)) {\n      error[name] = {\n        type: INPUT_VALIDATION_RULES.pattern,\n        message,\n        ref,\n        ...appendErrorsCurry(INPUT_VALIDATION_RULES.pattern, message),\n      };\n      if (!validateAllFieldCriteria) {\n        setCustomValidity(message);\n        return error;\n      }\n    }\n  }\n\n  if (validate) {\n    if (isFunction(validate)) {\n      const result = await validate(inputValue, formValues);\n      const validateError = getValidateError(result, inputRef);\n\n      if (validateError) {\n        error[name] = {\n          ...validateError,\n          ...appendErrorsCurry(\n            INPUT_VALIDATION_RULES.validate,\n            validateError.message,\n          ),\n        };\n        if (!validateAllFieldCriteria) {\n          setCustomValidity(validateError.message);\n          return error;\n        }\n      }\n    } else if (isObject(validate)) {\n      let validationResult = {} as FieldError;\n\n      for (const key in validate) {\n        if (!isEmptyObject(validationResult) && !validateAllFieldCriteria) {\n          break;\n        }\n\n        const validateError = getValidateError(\n          await validate[key](inputValue, formValues),\n          inputRef,\n          key,\n        );\n\n        if (validateError) {\n          validationResult = {\n            ...validateError,\n            ...appendErrorsCurry(key, validateError.message),\n          };\n\n          setCustomValidity(validateError.message);\n\n          if (validateAllFieldCriteria) {\n            error[name] = validationResult;\n          }\n        }\n      }\n\n      if (!isEmptyObject(validationResult)) {\n        error[name] = {\n          ref: inputRef,\n          ...validationResult,\n        };\n        if (!validateAllFieldCriteria) {\n          return error;\n        }\n      }\n    }\n  }\n\n  setCustomValidity(true);\n  return error;\n};\n","import type { Node as ProseMirrorNode } from '@tiptap/pm/model'\n\nimport type { NodeWithPos, Predicate } from '../types.js'\n\n/**\n * Find children inside a Prosemirror node that match a predicate.\n * @param node The Prosemirror node to search in\n * @param predicate The predicate to match\n * @returns An array of nodes with their positions\n */\nexport function findChildren(node: ProseMirrorNode, predicate: Predicate): NodeWithPos[] {\n  const nodesWithPos: NodeWithPos[] = []\n\n  node.descendants((child, pos) => {\n    if (predicate(child)) {\n      nodesWithPos.push({\n        node: child,\n        pos,\n      })\n    }\n  })\n\n  return nodesWithPos\n}\n","import type { Node as ProseMirrorNode, ResolvedPos } from '@tiptap/pm/model'\n\nimport type { Predicate } from '../types.js'\n\n/**\n * Finds the closest parent node to a resolved position that matches a predicate.\n * @param $pos The resolved position to search from\n * @param predicate The predicate to match\n * @returns The closest parent node to the resolved position that matches the predicate\n * @example ```js\n * findParentNodeClosestToPos($from, node => node.type.name === 'paragraph')\n * ```\n */\nexport function findParentNodeClosestToPos(\n  $pos: ResolvedPos,\n  predicate: Predicate,\n):\n  | {\n      pos: number\n      start: number\n      depth: number\n      node: ProseMirrorNode\n    }\n  | undefined {\n  for (let i = $pos.depth; i > 0; i -= 1) {\n    const node = $pos.node(i)\n\n    if (predicate(node)) {\n      return {\n        pos: i > 0 ? $pos.before(i) : 0,\n        start: $pos.start(i),\n        depth: i,\n        node,\n      }\n    }\n  }\n}\n","import type { ExtensionConfig } from '../Extension.js'\nimport type { MarkConfig } from '../Mark.js'\nimport type { NodeConfig } from '../Node.js'\nimport type { AnyExtension, MaybeThisParameterType, RemoveThis } from '../types.js'\n\n/**\n * Returns a field from an extension\n * @param extension The Tiptap extension\n * @param field The field, for example `renderHTML` or `priority`\n * @param context The context object that should be passed as `this` into the function\n * @returns The field value\n */\nexport function getExtensionField<T = any, E extends AnyExtension = any>(\n  extension: E,\n  field: keyof ExtensionConfig | keyof MarkConfig | keyof NodeConfig,\n  context?: Omit<MaybeThisParameterType<T>, 'parent'>,\n): RemoveThis<T> {\n  if (extension.config[field as keyof typeof extension.config] === undefined && extension.parent) {\n    return getExtensionField(extension.parent, field, context)\n  }\n\n  if (typeof extension.config[field as keyof typeof extension.config] === 'function') {\n    const value = (extension.config[field as keyof typeof extension.config] as any).bind({\n      ...context,\n      parent: extension.parent ? getExtensionField(extension.parent, field, context) : null,\n    })\n\n    return value\n  }\n\n  return extension.config[field as keyof typeof extension.config] as RemoveThis<T>\n}\n","import type { AnyConfig, Extensions } from '../types.js'\nimport { getExtensionField } from './getExtensionField.js'\n\n/**\n * Create a flattened array of extensions by traversing the `addExtensions` field.\n * @param extensions An array of Tiptap extensions\n * @returns A flattened array of Tiptap extensions\n */\nexport function flattenExtensions(extensions: Extensions): Extensions {\n  return (\n    extensions\n      .map(extension => {\n        const context = {\n          name: extension.name,\n          options: extension.options,\n          storage: extension.storage,\n        }\n\n        const addExtensions = getExtensionField<AnyConfig['addExtensions']>(extension, 'addExtensions', context)\n\n        if (addExtensions) {\n          return [extension, ...flattenExtensions(addExtensions())]\n        }\n\n        return extension\n      })\n      // `Infinity` will break TypeScript so we set a number that is probably high enough\n      .flat(10)\n  )\n}\n","import type { Fragment, Schema } from '@tiptap/pm/model'\nimport { DOMSerializer } from '@tiptap/pm/model'\n\nexport function getHTMLFromFragment(fragment: Fragment, schema: Schema): string {\n  const documentFragment = DOMSerializer.fromSchema(schema).serializeFragment(fragment)\n\n  const temporaryDocument = document.implementation.createHTMLDocument()\n  const container = temporaryDocument.createElement('div')\n\n  container.appendChild(documentFragment)\n\n  return container.innerHTML\n}\n","import type { MarkConfig, NodeConfig } from '../index.js'\nimport type { AnyConfig, Attribute, Attributes, ExtensionAttribute, Extensions } from '../types.js'\nimport { getExtensionField } from './getExtensionField.js'\nimport { splitExtensions } from './splitExtensions.js'\n\n/**\n * Get a list of all extension attributes defined in `addAttribute` and `addGlobalAttribute`.\n * @param extensions List of extensions\n */\nexport function getAttributesFromExtensions(extensions: Extensions): ExtensionAttribute[] {\n  const extensionAttributes: ExtensionAttribute[] = []\n  const { nodeExtensions, markExtensions } = splitExtensions(extensions)\n  const nodeAndMarkExtensions = [...nodeExtensions, ...markExtensions]\n  const defaultAttribute: Required<Omit<Attribute, 'validate'>> & Pick<Attribute, 'validate'> = {\n    default: null,\n    validate: undefined,\n    rendered: true,\n    renderHTML: null,\n    parseHTML: null,\n    keepOnSplit: true,\n    isRequired: false,\n  }\n\n  // Precompute lists of extension types for global attribute resolution\n  const nodeExtensionTypes = nodeExtensions.filter(ext => ext.name !== 'text').map(ext => ext.name)\n  const markExtensionTypes = markExtensions.map(ext => ext.name)\n  const allExtensionTypes = [...nodeExtensionTypes, ...markExtensionTypes]\n\n  extensions.forEach(extension => {\n    const context = {\n      name: extension.name,\n      options: extension.options,\n      storage: extension.storage,\n      extensions: nodeAndMarkExtensions,\n    }\n\n    const addGlobalAttributes = getExtensionField<AnyConfig['addGlobalAttributes']>(\n      extension,\n      'addGlobalAttributes',\n      context,\n    )\n\n    if (!addGlobalAttributes) {\n      return\n    }\n\n    const globalAttributes = addGlobalAttributes()\n\n    globalAttributes.forEach(globalAttribute => {\n      // Resolve the types based on the string shorthand or explicit array\n      let resolvedTypes: string[]\n      if (Array.isArray(globalAttribute.types)) {\n        resolvedTypes = globalAttribute.types\n      } else if (globalAttribute.types === '*') {\n        resolvedTypes = allExtensionTypes\n      } else if (globalAttribute.types === 'nodes') {\n        resolvedTypes = nodeExtensionTypes\n      } else if (globalAttribute.types === 'marks') {\n        resolvedTypes = markExtensionTypes\n      } else {\n        resolvedTypes = []\n      }\n\n      resolvedTypes.forEach(type => {\n        Object.entries(globalAttribute.attributes).forEach(([name, attribute]) => {\n          extensionAttributes.push({\n            type,\n            name,\n            attribute: {\n              ...defaultAttribute,\n              ...attribute,\n            },\n          })\n        })\n      })\n    })\n  })\n\n  nodeAndMarkExtensions.forEach(extension => {\n    const context = {\n      name: extension.name,\n      options: extension.options,\n      storage: extension.storage,\n    }\n\n    const addAttributes = getExtensionField<NodeConfig['addAttributes'] | MarkConfig['addAttributes']>(\n      extension,\n      'addAttributes',\n      context,\n    )\n\n    if (!addAttributes) {\n      return\n    }\n\n    // TODO: remove `as Attributes`\n    const attributes = addAttributes() as Attributes\n\n    Object.entries(attributes).forEach(([name, attribute]) => {\n      const mergedAttr = {\n        ...defaultAttribute,\n        ...attribute,\n      }\n\n      if (typeof mergedAttr?.default === 'function') {\n        mergedAttr.default = mergedAttr.default()\n      }\n\n      if (mergedAttr?.isRequired && mergedAttr?.default === undefined) {\n        delete mergedAttr.default\n      }\n\n      extensionAttributes.push({\n        type: extension.name,\n        name,\n        attribute: mergedAttr,\n      })\n    })\n  })\n\n  return extensionAttributes\n}\n","import { EVENTS, VALIDATION_MODE } from '../constants';\nimport type {\n  BatchFieldArrayUpdate,\n  ChangeHandler,\n  Control,\n  DeepPartial,\n  DelayCallback,\n  EventType,\n  Field,\n  FieldError,\n  FieldErrors,\n  FieldNamesMarkedBoolean,\n  FieldPath,\n  FieldRefs,\n  FieldValues,\n  FormState,\n  FromSubscribe,\n  GetIsDirty,\n  GetValuesConfig,\n  InternalFieldName,\n  Names,\n  Path,\n  ReadFormState,\n  Ref,\n  SetFieldValue,\n  SetValueConfig,\n  Subjects,\n  UseFormClearErrors,\n  UseFormGetFieldState,\n  UseFormGetValues,\n  UseFormHandleSubmit,\n  UseFormProps,\n  UseFormRegister,\n  UseFormReset,\n  UseFormResetField,\n  UseFormReturn,\n  UseFormSetError,\n  UseFormSetFocus,\n  UseFormSetValue,\n  UseFormSubscribe,\n  UseFormTrigger,\n  UseFormUnregister,\n  UseFormWatch,\n  WatchInternal,\n  WatchObserver,\n} from '../types';\nimport cloneObject from '../utils/cloneObject';\nimport compact from '../utils/compact';\nimport convertToArrayPayload from '../utils/convertToArrayPayload';\nimport createSubject from '../utils/createSubject';\nimport deepEqual from '../utils/deepEqual';\nimport extractFormValues from '../utils/extractFormValues';\nimport get from '../utils/get';\nimport isBoolean from '../utils/isBoolean';\nimport isCheckBoxInput from '../utils/isCheckBoxInput';\nimport isDateObject from '../utils/isDateObject';\nimport isEmptyObject from '../utils/isEmptyObject';\nimport isFileInput from '../utils/isFileInput';\nimport isFunction from '../utils/isFunction';\nimport isHTMLElement from '../utils/isHTMLElement';\nimport isMultipleSelect from '../utils/isMultipleSelect';\nimport isNullOrUndefined from '../utils/isNullOrUndefined';\nimport isObject from '../utils/isObject';\nimport isRadioOrCheckbox from '../utils/isRadioOrCheckbox';\nimport isString from '../utils/isString';\nimport isUndefined from '../utils/isUndefined';\nimport isWeb from '../utils/isWeb';\nimport live from '../utils/live';\nimport set from '../utils/set';\nimport unset from '../utils/unset';\n\nimport generateWatchOutput from './generateWatchOutput';\nimport getDirtyFields from './getDirtyFields';\nimport getEventValue from './getEventValue';\nimport getFieldValue from './getFieldValue';\nimport getFieldValueAs from './getFieldValueAs';\nimport getResolverOptions from './getResolverOptions';\nimport getRuleValue from './getRuleValue';\nimport getValidationModes from './getValidationModes';\nimport hasPromiseValidation from './hasPromiseValidation';\nimport hasValidation from './hasValidation';\nimport isNameInFieldArray from './isNameInFieldArray';\nimport isWatched from './isWatched';\nimport iterateFieldsByAction from './iterateFieldsByAction';\nimport schemaErrorLookup from './schemaErrorLookup';\nimport shouldRenderFormState from './shouldRenderFormState';\nimport shouldSubscribeByName from './shouldSubscribeByName';\nimport skipValidation from './skipValidation';\nimport unsetEmptyArray from './unsetEmptyArray';\nimport updateFieldArrayRootError from './updateFieldArrayRootError';\nimport validateField from './validateField';\n\nconst defaultOptions = {\n  mode: VALIDATION_MODE.onSubmit,\n  reValidateMode: VALIDATION_MODE.onChange,\n  shouldFocusError: true,\n} as const;\n\nexport function createFormControl<\n  TFieldValues extends FieldValues = FieldValues,\n  TContext = any,\n  TTransformedValues = TFieldValues,\n>(\n  props: UseFormProps<TFieldValues, TContext, TTransformedValues> = {},\n): Omit<\n  UseFormReturn<TFieldValues, TContext, TTransformedValues>,\n  'formState'\n> & {\n  formControl: Omit<\n    UseFormReturn<TFieldValues, TContext, TTransformedValues>,\n    'formState'\n  >;\n} {\n  let _options = {\n    ...defaultOptions,\n    ...props,\n  };\n  let _formState: FormState<TFieldValues> = {\n    submitCount: 0,\n    isDirty: false,\n    isReady: false,\n    isLoading: isFunction(_options.defaultValues),\n    isValidating: false,\n    isSubmitted: false,\n    isSubmitting: false,\n    isSubmitSuccessful: false,\n    isValid: false,\n    touchedFields: {},\n    dirtyFields: {},\n    validatingFields: {},\n    errors: _options.errors || {},\n    disabled: _options.disabled || false,\n  };\n  let _fields: FieldRefs = {};\n  let _defaultValues =\n    isObject(_options.defaultValues) || isObject(_options.values)\n      ? cloneObject(_options.defaultValues || _options.values) || {}\n      : {};\n  let _formValues = _options.shouldUnregister\n    ? ({} as TFieldValues)\n    : (cloneObject(_defaultValues) as TFieldValues);\n  let _state = {\n    action: false,\n    mount: false,\n    watch: false,\n    keepIsValid: false,\n  };\n  let _names: Names = {\n    mount: new Set(),\n    disabled: new Set(),\n    unMount: new Set(),\n    array: new Set(),\n    watch: new Set(),\n  };\n  let delayErrorCallback: DelayCallback | null;\n  let timer = 0;\n  const defaultProxyFormState: ReadFormState = {\n    isDirty: false,\n    dirtyFields: false,\n    validatingFields: false,\n    touchedFields: false,\n    isValidating: false,\n    isValid: false,\n    errors: false,\n  };\n  const _proxyFormState: ReadFormState = {\n    ...defaultProxyFormState,\n  };\n  let _proxySubscribeFormState = {\n    ..._proxyFormState,\n  };\n  const _subjects: Subjects<TFieldValues> = {\n    array: createSubject(),\n    state: createSubject(),\n  };\n\n  const shouldDisplayAllAssociatedErrors =\n    _options.criteriaMode === VALIDATION_MODE.all;\n\n  const debounce =\n    <T extends Function>(callback: T) =>\n    (wait: number) => {\n      clearTimeout(timer);\n      timer = setTimeout(callback, wait);\n    };\n\n  const _setValid = async (shouldUpdateValid?: boolean) => {\n    if (_state.keepIsValid) {\n      return;\n    }\n    if (\n      !_options.disabled &&\n      (_proxyFormState.isValid ||\n        _proxySubscribeFormState.isValid ||\n        shouldUpdateValid)\n    ) {\n      let isValid: boolean;\n      if (_options.resolver) {\n        isValid = isEmptyObject((await _runSchema()).errors);\n        _updateIsValidating();\n      } else {\n        isValid = await executeBuiltInValidation(_fields, true);\n      }\n      if (isValid !== _formState.isValid) {\n        _subjects.state.next({\n          isValid,\n        });\n      }\n    }\n  };\n\n  const _updateIsValidating = (names?: string[], isValidating?: boolean) => {\n    if (\n      !_options.disabled &&\n      (_proxyFormState.isValidating ||\n        _proxyFormState.validatingFields ||\n        _proxySubscribeFormState.isValidating ||\n        _proxySubscribeFormState.validatingFields)\n    ) {\n      (names || Array.from(_names.mount)).forEach((name) => {\n        if (name) {\n          isValidating\n            ? set(_formState.validatingFields, name, isValidating)\n            : unset(_formState.validatingFields, name);\n        }\n      });\n\n      _subjects.state.next({\n        validatingFields: _formState.validatingFields,\n        isValidating: !isEmptyObject(_formState.validatingFields),\n      });\n    }\n  };\n\n  const _setFieldArray: BatchFieldArrayUpdate = (\n    name,\n    values = [],\n    method,\n    args,\n    shouldSetValues = true,\n    shouldUpdateFieldsAndState = true,\n  ) => {\n    if (args && method && !_options.disabled) {\n      _state.action = true;\n      if (shouldUpdateFieldsAndState && Array.isArray(get(_fields, name))) {\n        const fieldValues = method(get(_fields, name), args.argA, args.argB);\n        shouldSetValues && set(_fields, name, fieldValues);\n      }\n\n      if (\n        shouldUpdateFieldsAndState &&\n        Array.isArray(get(_formState.errors, name))\n      ) {\n        const errors = method(\n          get(_formState.errors, name),\n          args.argA,\n          args.argB,\n        );\n        shouldSetValues && set(_formState.errors, name, errors);\n        unsetEmptyArray(_formState.errors, name);\n      }\n\n      if (\n        (_proxyFormState.touchedFields ||\n          _proxySubscribeFormState.touchedFields) &&\n        shouldUpdateFieldsAndState &&\n        Array.isArray(get(_formState.touchedFields, name))\n      ) {\n        const touchedFields = method(\n          get(_formState.touchedFields, name),\n          args.argA,\n          args.argB,\n        );\n        shouldSetValues && set(_formState.touchedFields, name, touchedFields);\n      }\n\n      if (_proxyFormState.dirtyFields || _proxySubscribeFormState.dirtyFields) {\n        _formState.dirtyFields = getDirtyFields(_defaultValues, _formValues);\n      }\n\n      _subjects.state.next({\n        name,\n        isDirty: _getDirty(name, values),\n        dirtyFields: _formState.dirtyFields,\n        errors: _formState.errors,\n        isValid: _formState.isValid,\n      });\n    } else {\n      set(_formValues, name, values);\n    }\n  };\n\n  const updateErrors = (name: InternalFieldName, error: FieldError) => {\n    set(_formState.errors, name, error);\n    _subjects.state.next({\n      errors: _formState.errors,\n    });\n  };\n\n  const _setErrors = (errors: FieldErrors<TFieldValues>) => {\n    _formState.errors = errors;\n    _subjects.state.next({\n      errors: _formState.errors,\n      isValid: false,\n    });\n  };\n\n  const updateValidAndValue = (\n    name: InternalFieldName,\n    shouldSkipSetValueAs: boolean,\n    value?: unknown,\n    ref?: Ref,\n  ) => {\n    const field: Field = get(_fields, name);\n\n    if (field) {\n      const defaultValue = get(\n        _formValues,\n        name,\n        isUndefined(value) ? get(_defaultValues, name) : value,\n      );\n\n      isUndefined(defaultValue) ||\n      (ref && (ref as HTMLInputElement).defaultChecked) ||\n      shouldSkipSetValueAs\n        ? set(\n            _formValues,\n            name,\n            shouldSkipSetValueAs ? defaultValue : getFieldValue(field._f),\n          )\n        : setFieldValue(name, defaultValue);\n\n      _state.mount && !_state.action && _setValid();\n    }\n  };\n\n  const updateTouchAndDirty = (\n    name: InternalFieldName,\n    fieldValue: unknown,\n    isBlurEvent?: boolean,\n    shouldDirty?: boolean,\n    shouldRender?: boolean,\n  ): Partial<\n    Pick<FormState<TFieldValues>, 'dirtyFields' | 'isDirty' | 'touchedFields'>\n  > => {\n    let shouldUpdateField = false;\n    let isPreviousDirty = false;\n    const output: Partial<FormState<TFieldValues>> & { name: string } = {\n      name,\n    };\n\n    if (!_options.disabled) {\n      if (!isBlurEvent || shouldDirty) {\n        if (_proxyFormState.isDirty || _proxySubscribeFormState.isDirty) {\n          isPreviousDirty = _formState.isDirty;\n          _formState.isDirty = output.isDirty = _getDirty();\n          shouldUpdateField = isPreviousDirty !== output.isDirty;\n        }\n\n        const isCurrentFieldPristine = deepEqual(\n          get(_defaultValues, name),\n          fieldValue,\n        );\n\n        isPreviousDirty = !!get(_formState.dirtyFields, name);\n        isCurrentFieldPristine\n          ? unset(_formState.dirtyFields, name)\n          : set(_formState.dirtyFields, name, true);\n        output.dirtyFields = _formState.dirtyFields;\n        shouldUpdateField =\n          shouldUpdateField ||\n          ((_proxyFormState.dirtyFields ||\n            _proxySubscribeFormState.dirtyFields) &&\n            isPreviousDirty !== !isCurrentFieldPristine);\n      }\n\n      if (isBlurEvent) {\n        const isPreviousFieldTouched = get(_formState.touchedFields, name);\n\n        if (!isPreviousFieldTouched) {\n          set(_formState.touchedFields, name, isBlurEvent);\n          output.touchedFields = _formState.touchedFields;\n          shouldUpdateField =\n            shouldUpdateField ||\n            ((_proxyFormState.touchedFields ||\n              _proxySubscribeFormState.touchedFields) &&\n              isPreviousFieldTouched !== isBlurEvent);\n        }\n      }\n\n      shouldUpdateField && shouldRender && _subjects.state.next(output);\n    }\n\n    return shouldUpdateField ? output : {};\n  };\n\n  const shouldRenderByError = (\n    name: InternalFieldName,\n    isValid?: boolean,\n    error?: FieldError,\n    fieldState?: {\n      dirty?: FieldNamesMarkedBoolean<TFieldValues>;\n      isDirty?: boolean;\n      touched?: FieldNamesMarkedBoolean<TFieldValues>;\n    },\n  ) => {\n    const previousFieldError = get(_formState.errors, name);\n    const shouldUpdateValid =\n      (_proxyFormState.isValid || _proxySubscribeFormState.isValid) &&\n      isBoolean(isValid) &&\n      _formState.isValid !== isValid;\n\n    if (_options.delayError && error) {\n      delayErrorCallback = debounce(() => updateErrors(name, error));\n      delayErrorCallback(_options.delayError);\n    } else {\n      clearTimeout(timer);\n      delayErrorCallback = null;\n      error\n        ? set(_formState.errors, name, error)\n        : unset(_formState.errors, name);\n    }\n\n    if (\n      (error ? !deepEqual(previousFieldError, error) : previousFieldError) ||\n      !isEmptyObject(fieldState) ||\n      shouldUpdateValid\n    ) {\n      const updatedFormState = {\n        ...fieldState,\n        ...(shouldUpdateValid && isBoolean(isValid) ? { isValid } : {}),\n        errors: _formState.errors,\n        name,\n      };\n\n      _formState = {\n        ..._formState,\n        ...updatedFormState,\n      };\n\n      _subjects.state.next(updatedFormState);\n    }\n  };\n\n  const _runSchema = async (name?: InternalFieldName[]) => {\n    _updateIsValidating(name, true);\n    const result = await _options.resolver!(\n      _formValues as TFieldValues,\n      _options.context,\n      getResolverOptions(\n        name || _names.mount,\n        _fields,\n        _options.criteriaMode,\n        _options.shouldUseNativeValidation,\n      ),\n    );\n    return result;\n  };\n\n  const executeSchemaAndUpdateState = async (names?: InternalFieldName[]) => {\n    const { errors } = await _runSchema(names);\n    _updateIsValidating(names);\n\n    if (names) {\n      for (const name of names) {\n        const error = get(errors, name);\n        error\n          ? set(_formState.errors, name, error)\n          : unset(_formState.errors, name);\n      }\n    } else {\n      _formState.errors = errors;\n    }\n\n    return errors;\n  };\n\n  const executeBuiltInValidation = async (\n    fields: FieldRefs,\n    shouldOnlyCheckValid?: boolean,\n    context: {\n      valid: boolean;\n    } = {\n      valid: true,\n    },\n  ) => {\n    for (const name in fields) {\n      const field = fields[name];\n\n      if (field) {\n        const { _f, ...fieldValue } = field as Field;\n\n        if (_f) {\n          const isFieldArrayRoot = _names.array.has(_f.name);\n          const isPromiseFunction =\n            field._f && hasPromiseValidation((field as Field)._f);\n\n          if (isPromiseFunction && _proxyFormState.validatingFields) {\n            _updateIsValidating([_f.name], true);\n          }\n\n          const fieldError = await validateField(\n            field as Field,\n            _names.disabled,\n            _formValues,\n            shouldDisplayAllAssociatedErrors,\n            _options.shouldUseNativeValidation && !shouldOnlyCheckValid,\n            isFieldArrayRoot,\n          );\n\n          if (isPromiseFunction && _proxyFormState.validatingFields) {\n            _updateIsValidating([_f.name]);\n          }\n\n          if (fieldError[_f.name]) {\n            context.valid = false;\n            if (shouldOnlyCheckValid || props.shouldUseNativeValidation) {\n              break;\n            }\n          }\n\n          !shouldOnlyCheckValid &&\n            (get(fieldError, _f.name)\n              ? isFieldArrayRoot\n                ? updateFieldArrayRootError(\n                    _formState.errors,\n                    fieldError,\n                    _f.name,\n                  )\n                : set(_formState.errors, _f.name, fieldError[_f.name])\n              : unset(_formState.errors, _f.name));\n        }\n\n        !isEmptyObject(fieldValue) &&\n          (await executeBuiltInValidation(\n            fieldValue,\n            shouldOnlyCheckValid,\n            context,\n          ));\n      }\n    }\n\n    return context.valid;\n  };\n\n  const _removeUnmounted = () => {\n    for (const name of _names.unMount) {\n      const field: Field = get(_fields, name);\n\n      field &&\n        (field._f.refs\n          ? field._f.refs.every((ref) => !live(ref))\n          : !live(field._f.ref)) &&\n        unregister(name as FieldPath<TFieldValues>);\n    }\n\n    _names.unMount = new Set();\n  };\n\n  const _getDirty: GetIsDirty = (name, data) =>\n    !_options.disabled &&\n    (name && data && set(_formValues, name, data),\n    !deepEqual(getValues(), _defaultValues));\n\n  const _getWatch: WatchInternal<TFieldValues> = (\n    names,\n    defaultValue,\n    isGlobal,\n  ) =>\n    generateWatchOutput(\n      names,\n      _names,\n      {\n        ...(_state.mount\n          ? _formValues\n          : isUndefined(defaultValue)\n            ? _defaultValues\n            : isString(names)\n              ? { [names]: defaultValue }\n              : defaultValue),\n      },\n      isGlobal,\n      defaultValue,\n    );\n\n  const _getFieldArray = <TFieldArrayValues>(\n    name: InternalFieldName,\n  ): Partial<TFieldArrayValues>[] =>\n    compact(\n      get(\n        _state.mount ? _formValues : _defaultValues,\n        name,\n        _options.shouldUnregister ? get(_defaultValues, name, []) : [],\n      ),\n    );\n\n  const setFieldValue = (\n    name: InternalFieldName,\n    value: SetFieldValue<TFieldValues>,\n    options: SetValueConfig = {},\n  ) => {\n    const field: Field = get(_fields, name);\n    let fieldValue: unknown = value;\n\n    if (field) {\n      const fieldReference = field._f;\n\n      if (fieldReference) {\n        !fieldReference.disabled &&\n          set(_formValues, name, getFieldValueAs(value, fieldReference));\n\n        fieldValue =\n          isHTMLElement(fieldReference.ref) && isNullOrUndefined(value)\n            ? ''\n            : value;\n\n        if (isMultipleSelect(fieldReference.ref)) {\n          [...fieldReference.ref.options].forEach(\n            (optionRef) =>\n              (optionRef.selected = (\n                fieldValue as InternalFieldName[]\n              ).includes(optionRef.value)),\n          );\n        } else if (fieldReference.refs) {\n          if (isCheckBoxInput(fieldReference.ref)) {\n            fieldReference.refs.forEach((checkboxRef) => {\n              if (!checkboxRef.defaultChecked || !checkboxRef.disabled) {\n                if (Array.isArray(fieldValue)) {\n                  checkboxRef.checked = !!fieldValue.find(\n                    (data: string) => data === checkboxRef.value,\n                  );\n                } else {\n                  checkboxRef.checked =\n                    fieldValue === checkboxRef.value || !!fieldValue;\n                }\n              }\n            });\n          } else {\n            fieldReference.refs.forEach(\n              (radioRef: HTMLInputElement) =>\n                (radioRef.checked = radioRef.value === fieldValue),\n            );\n          }\n        } else if (isFileInput(fieldReference.ref)) {\n          fieldReference.ref.value = '';\n        } else {\n          fieldReference.ref.value = fieldValue;\n\n          if (!fieldReference.ref.type) {\n            _subjects.state.next({\n              name,\n              values: cloneObject(_formValues),\n            });\n          }\n        }\n      }\n    }\n\n    (options.shouldDirty || options.shouldTouch) &&\n      updateTouchAndDirty(\n        name,\n        fieldValue,\n        options.shouldTouch,\n        options.shouldDirty,\n        true,\n      );\n\n    options.shouldValidate && trigger(name as Path<TFieldValues>);\n  };\n\n  const setValues = <\n    T extends InternalFieldName,\n    K extends SetFieldValue<TFieldValues>,\n    U extends SetValueConfig,\n  >(\n    name: T,\n    value: K,\n    options: U,\n  ) => {\n    for (const fieldKey in value) {\n      if (!value.hasOwnProperty(fieldKey)) {\n        return;\n      }\n      const fieldValue = value[fieldKey];\n      const fieldName = name + '.' + fieldKey;\n      const field = get(_fields, fieldName);\n\n      (_names.array.has(name) ||\n        isObject(fieldValue) ||\n        (field && !field._f)) &&\n      !isDateObject(fieldValue)\n        ? setValues(fieldName, fieldValue, options)\n        : setFieldValue(fieldName, fieldValue, options);\n    }\n  };\n\n  const setValue: UseFormSetValue<TFieldValues> = (\n    name,\n    value,\n    options = {},\n  ) => {\n    const field = get(_fields, name);\n    const isFieldArray = _names.array.has(name);\n    const cloneValue = cloneObject(value);\n\n    set(_formValues, name, cloneValue);\n\n    if (isFieldArray) {\n      _subjects.array.next({\n        name,\n        values: cloneObject(_formValues),\n      });\n\n      if (\n        (_proxyFormState.isDirty ||\n          _proxyFormState.dirtyFields ||\n          _proxySubscribeFormState.isDirty ||\n          _proxySubscribeFormState.dirtyFields) &&\n        options.shouldDirty\n      ) {\n        _subjects.state.next({\n          name,\n          dirtyFields: getDirtyFields(_defaultValues, _formValues),\n          isDirty: _getDirty(name, cloneValue),\n        });\n      }\n    } else {\n      field && !field._f && !isNullOrUndefined(cloneValue)\n        ? setValues(name, cloneValue, options)\n        : setFieldValue(name, cloneValue, options);\n    }\n\n    if (isWatched(name, _names)) {\n      _subjects.state.next({\n        ..._formState,\n        name,\n        values: cloneObject(_formValues),\n      });\n    } else {\n      _subjects.state.next({\n        name: _state.mount ? name : undefined,\n        values: cloneObject(_formValues),\n      });\n    }\n  };\n\n  const onChange: ChangeHandler = async (event) => {\n    _state.mount = true;\n    const target = event.target;\n    let name: string = target.name;\n    let isFieldValueUpdated = true;\n    const field: Field = get(_fields, name);\n    const _updateIsFieldValueUpdated = (fieldValue: unknown) => {\n      isFieldValueUpdated =\n        Number.isNaN(fieldValue) ||\n        (isDateObject(fieldValue) && isNaN(fieldValue.getTime())) ||\n        deepEqual(fieldValue, get(_formValues, name, fieldValue));\n    };\n    const validationModeBeforeSubmit = getValidationModes(_options.mode);\n    const validationModeAfterSubmit = getValidationModes(\n      _options.reValidateMode,\n    );\n\n    if (field) {\n      let error;\n      let isValid;\n      const fieldValue = target.type\n        ? getFieldValue(field._f)\n        : getEventValue(event);\n      const isBlurEvent =\n        event.type === EVENTS.BLUR || event.type === EVENTS.FOCUS_OUT;\n      const shouldSkipValidation =\n        (!hasValidation(field._f) &&\n          !_options.resolver &&\n          !get(_formState.errors, name) &&\n          !field._f.deps) ||\n        skipValidation(\n          isBlurEvent,\n          get(_formState.touchedFields, name),\n          _formState.isSubmitted,\n          validationModeAfterSubmit,\n          validationModeBeforeSubmit,\n        );\n      const watched = isWatched(name, _names, isBlurEvent);\n\n      set(_formValues, name, fieldValue);\n\n      if (isBlurEvent) {\n        if (!target || !target.readOnly) {\n          field._f.onBlur && field._f.onBlur(event);\n          delayErrorCallback && delayErrorCallback(0);\n        }\n      } else if (field._f.onChange) {\n        field._f.onChange(event);\n      }\n\n      const fieldState = updateTouchAndDirty(name, fieldValue, isBlurEvent);\n\n      const shouldRender = !isEmptyObject(fieldState) || watched;\n\n      !isBlurEvent &&\n        _subjects.state.next({\n          name,\n          type: event.type,\n          values: cloneObject(_formValues),\n        });\n\n      if (shouldSkipValidation) {\n        if (_proxyFormState.isValid || _proxySubscribeFormState.isValid) {\n          if (_options.mode === 'onBlur') {\n            if (isBlurEvent) {\n              _setValid();\n            }\n          } else if (!isBlurEvent) {\n            _setValid();\n          }\n        }\n\n        return (\n          shouldRender &&\n          _subjects.state.next({ name, ...(watched ? {} : fieldState) })\n        );\n      }\n\n      !isBlurEvent && watched && _subjects.state.next({ ..._formState });\n\n      if (_options.resolver) {\n        const { errors } = await _runSchema([name]);\n        _updateIsValidating([name]);\n\n        _updateIsFieldValueUpdated(fieldValue);\n\n        if (isFieldValueUpdated) {\n          const previousErrorLookupResult = schemaErrorLookup(\n            _formState.errors,\n            _fields,\n            name,\n          );\n          const errorLookupResult = schemaErrorLookup(\n            errors,\n            _fields,\n            previousErrorLookupResult.name || name,\n          );\n\n          error = errorLookupResult.error;\n          name = errorLookupResult.name;\n\n          isValid = isEmptyObject(errors);\n        }\n      } else {\n        _updateIsValidating([name], true);\n        error = (\n          await validateField(\n            field,\n            _names.disabled,\n            _formValues,\n            shouldDisplayAllAssociatedErrors,\n            _options.shouldUseNativeValidation,\n          )\n        )[name];\n        _updateIsValidating([name]);\n\n        _updateIsFieldValueUpdated(fieldValue);\n\n        if (isFieldValueUpdated) {\n          if (error) {\n            isValid = false;\n          } else if (\n            _proxyFormState.isValid ||\n            _proxySubscribeFormState.isValid\n          ) {\n            isValid = await executeBuiltInValidation(_fields, true);\n          }\n        }\n      }\n\n      if (isFieldValueUpdated) {\n        field._f.deps &&\n          (!Array.isArray(field._f.deps) || field._f.deps.length > 0) &&\n          trigger(\n            field._f.deps as\n              | FieldPath<TFieldValues>\n              | FieldPath<TFieldValues>[],\n          );\n        shouldRenderByError(name, isValid, error, fieldState);\n      }\n    }\n  };\n\n  const _focusInput = (ref: Ref, key: string) => {\n    if (get(_formState.errors, key) && ref.focus) {\n      ref.focus();\n      return 1;\n    }\n    return;\n  };\n\n  const trigger: UseFormTrigger<TFieldValues> = async (name, options = {}) => {\n    let isValid;\n    let validationResult;\n    const fieldNames = convertToArrayPayload(name) as InternalFieldName[];\n\n    if (_options.resolver) {\n      const errors = await executeSchemaAndUpdateState(\n        isUndefined(name) ? name : fieldNames,\n      );\n\n      isValid = isEmptyObject(errors);\n      validationResult = name\n        ? !fieldNames.some((name) => get(errors, name))\n        : isValid;\n    } else if (name) {\n      validationResult = (\n        await Promise.all(\n          fieldNames.map(async (fieldName) => {\n            const field = get(_fields, fieldName);\n            return await executeBuiltInValidation(\n              field && field._f ? { [fieldName]: field } : field,\n            );\n          }),\n        )\n      ).every(Boolean);\n      !(!validationResult && !_formState.isValid) && _setValid();\n    } else {\n      validationResult = isValid = await executeBuiltInValidation(_fields);\n    }\n\n    _subjects.state.next({\n      ...(!isString(name) ||\n      ((_proxyFormState.isValid || _proxySubscribeFormState.isValid) &&\n        isValid !== _formState.isValid)\n        ? {}\n        : { name }),\n      ...(_options.resolver || !name ? { isValid } : {}),\n      errors: _formState.errors,\n    });\n\n    options.shouldFocus &&\n      !validationResult &&\n      iterateFieldsByAction(\n        _fields,\n        _focusInput,\n        name ? fieldNames : _names.mount,\n      );\n\n    return validationResult;\n  };\n\n  const getValues: UseFormGetValues<TFieldValues> = (\n    fieldNames?:\n      | FieldPath<TFieldValues>\n      | ReadonlyArray<FieldPath<TFieldValues>>,\n    config?: GetValuesConfig,\n  ) => {\n    let values = {\n      ...(_state.mount ? _formValues : _defaultValues),\n    };\n\n    if (config) {\n      values = extractFormValues(\n        config.dirtyFields ? _formState.dirtyFields : _formState.touchedFields,\n        values,\n      );\n    }\n\n    return isUndefined(fieldNames)\n      ? values\n      : isString(fieldNames)\n        ? get(values, fieldNames)\n        : fieldNames.map((name) => get(values, name));\n  };\n\n  const getFieldState: UseFormGetFieldState<TFieldValues> = (\n    name,\n    formState,\n  ) => ({\n    invalid: !!get((formState || _formState).errors, name),\n    isDirty: !!get((formState || _formState).dirtyFields, name),\n    error: get((formState || _formState).errors, name),\n    isValidating: !!get(_formState.validatingFields, name),\n    isTouched: !!get((formState || _formState).touchedFields, name),\n  });\n\n  const clearErrors: UseFormClearErrors<TFieldValues> = (name) => {\n    name &&\n      convertToArrayPayload(name).forEach((inputName) =>\n        unset(_formState.errors, inputName),\n      );\n\n    _subjects.state.next({\n      errors: name ? _formState.errors : {},\n    });\n  };\n\n  const setError: UseFormSetError<TFieldValues> = (name, error, options) => {\n    const ref = (get(_fields, name, { _f: {} })._f || {}).ref;\n    const currentError = get(_formState.errors, name) || {};\n\n    // Don't override existing error messages elsewhere in the object tree.\n    const { ref: currentRef, message, type, ...restOfErrorTree } = currentError;\n\n    set(_formState.errors, name, {\n      ...restOfErrorTree,\n      ...error,\n      ref,\n    });\n\n    _subjects.state.next({\n      name,\n      errors: _formState.errors,\n      isValid: false,\n    });\n\n    options && options.shouldFocus && ref && ref.focus && ref.focus();\n  };\n\n  const watch: UseFormWatch<TFieldValues> = (\n    name?:\n      | FieldPath<TFieldValues>\n      | ReadonlyArray<FieldPath<TFieldValues>>\n      | WatchObserver<TFieldValues>,\n    defaultValue?: DeepPartial<TFieldValues>,\n  ) =>\n    isFunction(name)\n      ? _subjects.state.subscribe({\n          next: (payload) =>\n            'values' in payload &&\n            name(\n              _getWatch(undefined, defaultValue),\n              payload as {\n                name?: FieldPath<TFieldValues>;\n                type?: EventType;\n                value?: unknown;\n              },\n            ),\n        })\n      : _getWatch(\n          name as InternalFieldName | InternalFieldName[],\n          defaultValue,\n          true,\n        );\n\n  const _subscribe: FromSubscribe<TFieldValues> = (props) =>\n    _subjects.state.subscribe({\n      next: (\n        formState: Partial<FormState<TFieldValues>> & {\n          name?: InternalFieldName;\n          values?: TFieldValues | undefined;\n          type?: EventType;\n        },\n      ) => {\n        if (\n          shouldSubscribeByName(props.name, formState.name, props.exact) &&\n          shouldRenderFormState(\n            formState,\n            (props.formState as ReadFormState) || _proxyFormState,\n            _setFormState,\n            props.reRenderRoot,\n          )\n        ) {\n          props.callback({\n            values: { ..._formValues } as TFieldValues,\n            ..._formState,\n            ...formState,\n            defaultValues:\n              _defaultValues as FormState<TFieldValues>['defaultValues'],\n          });\n        }\n      },\n    }).unsubscribe;\n\n  const subscribe: UseFormSubscribe<TFieldValues> = (props) => {\n    _state.mount = true;\n    _proxySubscribeFormState = {\n      ..._proxySubscribeFormState,\n      ...props.formState,\n    };\n    return _subscribe({\n      ...props,\n      formState: {\n        ...defaultProxyFormState,\n        ...props.formState,\n      },\n    });\n  };\n\n  const unregister: UseFormUnregister<TFieldValues> = (name, options = {}) => {\n    for (const fieldName of name ? convertToArrayPayload(name) : _names.mount) {\n      _names.mount.delete(fieldName);\n      _names.array.delete(fieldName);\n\n      if (!options.keepValue) {\n        unset(_fields, fieldName);\n        unset(_formValues, fieldName);\n      }\n\n      !options.keepError && unset(_formState.errors, fieldName);\n      !options.keepDirty && unset(_formState.dirtyFields, fieldName);\n      !options.keepTouched && unset(_formState.touchedFields, fieldName);\n      !options.keepIsValidating &&\n        unset(_formState.validatingFields, fieldName);\n      !_options.shouldUnregister &&\n        !options.keepDefaultValue &&\n        unset(_defaultValues, fieldName);\n    }\n\n    _subjects.state.next({\n      values: cloneObject(_formValues),\n    });\n\n    _subjects.state.next({\n      ..._formState,\n      ...(!options.keepDirty ? {} : { isDirty: _getDirty() }),\n    });\n\n    !options.keepIsValid && _setValid();\n  };\n\n  const _setDisabledField: Control<TFieldValues>['_setDisabledField'] = ({\n    disabled,\n    name,\n  }) => {\n    if (\n      (isBoolean(disabled) && _state.mount) ||\n      !!disabled ||\n      _names.disabled.has(name)\n    ) {\n      const wasDisabled = _names.disabled.has(name);\n      const isDisabled = !!disabled;\n      const disabledStateChanged = wasDisabled !== isDisabled;\n\n      disabled ? _names.disabled.add(name) : _names.disabled.delete(name);\n      disabledStateChanged && _state.mount && !_state.action && _setValid();\n    }\n  };\n\n  const register: UseFormRegister<TFieldValues> = (name, options = {}) => {\n    let field = get(_fields, name);\n    const disabledIsDefined =\n      isBoolean(options.disabled) || isBoolean(_options.disabled);\n\n    set(_fields, name, {\n      ...(field || {}),\n      _f: {\n        ...(field && field._f ? field._f : { ref: { name } }),\n        name,\n        mount: true,\n        ...options,\n      },\n    });\n    _names.mount.add(name);\n\n    if (field) {\n      _setDisabledField({\n        disabled: isBoolean(options.disabled)\n          ? options.disabled\n          : _options.disabled,\n        name,\n      });\n    } else {\n      updateValidAndValue(name, true, options.value);\n    }\n\n    return {\n      ...(disabledIsDefined\n        ? { disabled: options.disabled || _options.disabled }\n        : {}),\n      ...(_options.progressive\n        ? {\n            required: !!options.required,\n            min: getRuleValue(options.min),\n            max: getRuleValue(options.max),\n            minLength: getRuleValue<number>(options.minLength) as number,\n            maxLength: getRuleValue(options.maxLength) as number,\n            pattern: getRuleValue(options.pattern) as string,\n          }\n        : {}),\n      name,\n      onChange,\n      onBlur: onChange,\n      ref: (ref: HTMLInputElement | null): void => {\n        if (ref) {\n          register(name, options);\n          field = get(_fields, name);\n\n          const fieldRef = isUndefined(ref.value)\n            ? ref.querySelectorAll\n              ? (ref.querySelectorAll('input,select,textarea')[0] as Ref) || ref\n              : ref\n            : ref;\n          const radioOrCheckbox = isRadioOrCheckbox(fieldRef);\n          const refs = field._f.refs || [];\n\n          if (\n            radioOrCheckbox\n              ? refs.find((option: Ref) => option === fieldRef)\n              : fieldRef === field._f.ref\n          ) {\n            return;\n          }\n\n          set(_fields, name, {\n            _f: {\n              ...field._f,\n              ...(radioOrCheckbox\n                ? {\n                    refs: [\n                      ...refs.filter(live),\n                      fieldRef,\n                      ...(Array.isArray(get(_defaultValues, name)) ? [{}] : []),\n                    ],\n                    ref: { type: fieldRef.type, name },\n                  }\n                : { ref: fieldRef }),\n            },\n          });\n\n          updateValidAndValue(name, false, undefined, fieldRef);\n        } else {\n          field = get(_fields, name, {});\n\n          if (field._f) {\n            field._f.mount = false;\n          }\n\n          (_options.shouldUnregister || options.shouldUnregister) &&\n            !(isNameInFieldArray(_names.array, name) && _state.action) &&\n            _names.unMount.add(name);\n        }\n      },\n    };\n  };\n\n  const _focusError = () =>\n    _options.shouldFocusError &&\n    iterateFieldsByAction(_fields, _focusInput, _names.mount);\n\n  const _disableForm = (disabled?: boolean) => {\n    if (isBoolean(disabled)) {\n      _subjects.state.next({ disabled });\n      iterateFieldsByAction(\n        _fields,\n        (ref, name) => {\n          const currentField: Field = get(_fields, name);\n          if (currentField) {\n            ref.disabled = currentField._f.disabled || disabled;\n\n            if (Array.isArray(currentField._f.refs)) {\n              currentField._f.refs.forEach((inputRef) => {\n                inputRef.disabled = currentField._f.disabled || disabled;\n              });\n            }\n          }\n        },\n        0,\n        false,\n      );\n    }\n  };\n\n  const handleSubmit: UseFormHandleSubmit<TFieldValues, TTransformedValues> =\n    (onValid, onInvalid) => async (e) => {\n      let onValidError = undefined;\n      if (e) {\n        e.preventDefault && e.preventDefault();\n        (e as React.BaseSyntheticEvent).persist &&\n          (e as React.BaseSyntheticEvent).persist();\n      }\n      let fieldValues:\n        | TFieldValues\n        | TTransformedValues\n        | Record<string, never> = cloneObject(_formValues);\n\n      _subjects.state.next({\n        isSubmitting: true,\n      });\n\n      if (_options.resolver) {\n        const { errors, values } = await _runSchema();\n        _updateIsValidating();\n        _formState.errors = errors;\n        fieldValues = cloneObject(values);\n      } else {\n        await executeBuiltInValidation(_fields);\n      }\n\n      if (_names.disabled.size) {\n        for (const name of _names.disabled) {\n          unset(fieldValues, name);\n        }\n      }\n\n      unset(_formState.errors, 'root');\n\n      if (isEmptyObject(_formState.errors)) {\n        _subjects.state.next({\n          errors: {},\n        });\n        try {\n          await onValid(fieldValues as TTransformedValues, e);\n        } catch (error) {\n          onValidError = error;\n        }\n      } else {\n        if (onInvalid) {\n          await onInvalid({ ..._formState.errors }, e);\n        }\n        _focusError();\n        setTimeout(_focusError);\n      }\n\n      _subjects.state.next({\n        isSubmitted: true,\n        isSubmitting: false,\n        isSubmitSuccessful: isEmptyObject(_formState.errors) && !onValidError,\n        submitCount: _formState.submitCount + 1,\n        errors: _formState.errors,\n      });\n      if (onValidError) {\n        throw onValidError;\n      }\n    };\n\n  const resetField: UseFormResetField<TFieldValues> = (name, options = {}) => {\n    if (get(_fields, name)) {\n      if (isUndefined(options.defaultValue)) {\n        setValue(name, cloneObject(get(_defaultValues, name)));\n      } else {\n        setValue(\n          name,\n          options.defaultValue as Parameters<typeof setValue<typeof name>>[1],\n        );\n        set(_defaultValues, name, cloneObject(options.defaultValue));\n      }\n\n      if (!options.keepTouched) {\n        unset(_formState.touchedFields, name);\n      }\n\n      if (!options.keepDirty) {\n        unset(_formState.dirtyFields, name);\n        _formState.isDirty = options.defaultValue\n          ? _getDirty(name, cloneObject(get(_defaultValues, name)))\n          : _getDirty();\n      }\n\n      if (!options.keepError) {\n        unset(_formState.errors, name);\n        _proxyFormState.isValid && _setValid();\n      }\n\n      _subjects.state.next({ ..._formState });\n    }\n  };\n\n  const _reset: UseFormReset<TFieldValues> = (\n    formValues,\n    keepStateOptions = {},\n  ) => {\n    const updatedValues = formValues ? cloneObject(formValues) : _defaultValues;\n    const cloneUpdatedValues = cloneObject(updatedValues);\n    const isEmptyResetValues = isEmptyObject(formValues);\n    const values = isEmptyResetValues ? _defaultValues : cloneUpdatedValues;\n\n    if (!keepStateOptions.keepDefaultValues) {\n      _defaultValues = updatedValues;\n    }\n\n    if (!keepStateOptions.keepValues) {\n      if (keepStateOptions.keepDirtyValues) {\n        const fieldsToCheck = new Set([\n          ..._names.mount,\n          ...Object.keys(getDirtyFields(_defaultValues, _formValues)),\n        ]);\n        for (const fieldName of Array.from(fieldsToCheck)) {\n          const isDirty = get(_formState.dirtyFields, fieldName);\n          const existingValue = get(_formValues, fieldName);\n          const newValue = get(values, fieldName);\n\n          if (isDirty && !isUndefined(existingValue)) {\n            set(values, fieldName, existingValue);\n          } else if (!isDirty && !isUndefined(newValue)) {\n            setValue(fieldName as FieldPath<TFieldValues>, newValue);\n          }\n        }\n      } else {\n        if (isWeb && isUndefined(formValues)) {\n          for (const name of _names.mount) {\n            const field = get(_fields, name);\n            if (field && field._f) {\n              const fieldReference = Array.isArray(field._f.refs)\n                ? field._f.refs[0]\n                : field._f.ref;\n\n              if (isHTMLElement(fieldReference)) {\n                const form = fieldReference.closest('form');\n                if (form) {\n                  form.reset();\n                  break;\n                }\n              }\n            }\n          }\n        }\n\n        if (keepStateOptions.keepFieldsRef) {\n          for (const fieldName of _names.mount) {\n            setValue(\n              fieldName as FieldPath<TFieldValues>,\n              get(values, fieldName),\n            );\n          }\n        } else {\n          _fields = {};\n        }\n      }\n\n      _formValues = _options.shouldUnregister\n        ? keepStateOptions.keepDefaultValues\n          ? (cloneObject(_defaultValues) as TFieldValues)\n          : ({} as TFieldValues)\n        : (cloneObject(values) as TFieldValues);\n\n      _subjects.array.next({\n        values: { ...values },\n      });\n\n      _subjects.state.next({\n        values: { ...values } as TFieldValues,\n      });\n    }\n\n    _names = {\n      mount: keepStateOptions.keepDirtyValues ? _names.mount : new Set(),\n      unMount: new Set(),\n      array: new Set(),\n      disabled: new Set(),\n      watch: new Set(),\n      watchAll: false,\n      focus: '',\n    };\n\n    _state.mount =\n      !_proxyFormState.isValid ||\n      !!keepStateOptions.keepIsValid ||\n      !!keepStateOptions.keepDirtyValues ||\n      (!_options.shouldUnregister && !isEmptyObject(values));\n\n    _state.watch = !!_options.shouldUnregister;\n    _state.keepIsValid = !!keepStateOptions.keepIsValid;\n    _state.action = false;\n\n    // Clear errors synchronously to prevent validation errors on subsequent submissions\n    // This fixes the issue where form.reset() causes validation errors on subsequent\n    // submissions in Next.js 16 with Server Actions\n    if (!keepStateOptions.keepErrors) {\n      _formState.errors = {};\n    }\n\n    _subjects.state.next({\n      submitCount: keepStateOptions.keepSubmitCount\n        ? _formState.submitCount\n        : 0,\n      isDirty: isEmptyResetValues\n        ? false\n        : keepStateOptions.keepDirty\n          ? _formState.isDirty\n          : !!(\n              keepStateOptions.keepDefaultValues &&\n              !deepEqual(formValues, _defaultValues)\n            ),\n      isSubmitted: keepStateOptions.keepIsSubmitted\n        ? _formState.isSubmitted\n        : false,\n      dirtyFields: isEmptyResetValues\n        ? {}\n        : keepStateOptions.keepDirtyValues\n          ? keepStateOptions.keepDefaultValues && _formValues\n            ? getDirtyFields(_defaultValues, _formValues)\n            : _formState.dirtyFields\n          : keepStateOptions.keepDefaultValues && formValues\n            ? getDirtyFields(_defaultValues, formValues)\n            : keepStateOptions.keepDirty\n              ? _formState.dirtyFields\n              : {},\n      touchedFields: keepStateOptions.keepTouched\n        ? _formState.touchedFields\n        : {},\n      errors: keepStateOptions.keepErrors ? _formState.errors : {},\n      isSubmitSuccessful: keepStateOptions.keepIsSubmitSuccessful\n        ? _formState.isSubmitSuccessful\n        : false,\n      isSubmitting: false,\n      defaultValues: _defaultValues as FormState<TFieldValues>['defaultValues'],\n    });\n  };\n\n  const reset: UseFormReset<TFieldValues> = (formValues, keepStateOptions) =>\n    _reset(\n      isFunction(formValues)\n        ? (formValues as Function)(_formValues as TFieldValues)\n        : formValues,\n      { ..._options.resetOptions, ...keepStateOptions },\n    );\n\n  const setFocus: UseFormSetFocus<TFieldValues> = (name, options = {}) => {\n    const field = get(_fields, name);\n    const fieldReference = field && field._f;\n\n    if (fieldReference) {\n      const fieldRef = fieldReference.refs\n        ? fieldReference.refs[0]\n        : fieldReference.ref;\n\n      if (fieldRef.focus) {\n        // Use setTimeout to ensure focus happens after any pending state updates\n        // This fixes the issue where setFocus doesn't work immediately after setError\n        setTimeout(() => {\n          fieldRef.focus();\n          options.shouldSelect &&\n            isFunction(fieldRef.select) &&\n            fieldRef.select();\n        });\n      }\n    }\n  };\n\n  const _setFormState = (\n    updatedFormState: Partial<FormState<TFieldValues>>,\n  ) => {\n    _formState = {\n      ..._formState,\n      ...updatedFormState,\n    };\n  };\n\n  const _resetDefaultValues = () =>\n    isFunction(_options.defaultValues) &&\n    (_options.defaultValues as Function)().then((values: TFieldValues) => {\n      reset(values, _options.resetOptions);\n      _subjects.state.next({\n        isLoading: false,\n      });\n    });\n\n  const methods = {\n    control: {\n      register,\n      unregister,\n      getFieldState,\n      handleSubmit,\n      setError,\n      _subscribe,\n      _runSchema,\n      _updateIsValidating,\n      _focusError,\n      _getWatch,\n      _getDirty,\n      _setValid,\n      _setFieldArray,\n      _setDisabledField,\n      _setErrors,\n      _getFieldArray,\n      _reset,\n      _resetDefaultValues,\n      _removeUnmounted,\n      _disableForm,\n      _subjects,\n      _proxyFormState,\n      get _fields() {\n        return _fields;\n      },\n      get _formValues() {\n        return _formValues;\n      },\n      get _state() {\n        return _state;\n      },\n      set _state(value) {\n        _state = value;\n      },\n      get _defaultValues() {\n        return _defaultValues;\n      },\n      get _names() {\n        return _names;\n      },\n      set _names(value) {\n        _names = value;\n      },\n      get _formState() {\n        return _formState;\n      },\n      get _options() {\n        return _options;\n      },\n      set _options(value) {\n        _options = {\n          ..._options,\n          ...value,\n        };\n      },\n    },\n    subscribe,\n    trigger,\n    register,\n    handleSubmit,\n    watch,\n    setValue,\n    getValues,\n    reset,\n    resetField,\n    clearErrors,\n    unregister,\n    setError,\n    setFocus,\n    getFieldState,\n  };\n\n  return {\n    ...methods,\n    formControl: methods,\n  };\n}\n","export function mergeAttributes(...objects: Record<string, any>[]): Record<string, any> {\n  return objects\n    .filter(item => !!item)\n    .reduce((items, item) => {\n      const mergedAttributes = { ...items }\n\n      Object.entries(item).forEach(([key, value]) => {\n        const exists = mergedAttributes[key]\n\n        if (!exists) {\n          mergedAttributes[key] = value\n\n          return\n        }\n\n        if (key === 'class') {\n          const valueClasses: string[] = value ? String(value).split(' ') : []\n          const existingClasses: string[] = mergedAttributes[key] ? mergedAttributes[key].split(' ') : []\n\n          const insertClasses = valueClasses.filter(valueClass => !existingClasses.includes(valueClass))\n\n          mergedAttributes[key] = [...existingClasses, ...insertClasses].join(' ')\n        } else if (key === 'style') {\n          const newStyles: string[] = value\n            ? value\n                .split(';')\n                .map((style: string) => style.trim())\n                .filter(Boolean)\n            : []\n          const existingStyles: string[] = mergedAttributes[key]\n            ? mergedAttributes[key]\n                .split(';')\n                .map((style: string) => style.trim())\n                .filter(Boolean)\n            : []\n\n          const styleMap = new Map<string, string>()\n\n          existingStyles.forEach(style => {\n            const [property, val] = style.split(':').map(part => part.trim())\n\n            styleMap.set(property, val)\n          })\n\n          newStyles.forEach(style => {\n            const [property, val] = style.split(':').map(part => part.trim())\n\n            styleMap.set(property, val)\n          })\n\n          mergedAttributes[key] = Array.from(styleMap.entries())\n            .map(([property, val]) => `${property}: ${val}`)\n            .join('; ')\n        } else {\n          mergedAttributes[key] = value\n        }\n      })\n\n      return mergedAttributes\n    }, {})\n}\n","import type { MarkSpec, NodeSpec, TagParseRule } from '@tiptap/pm/model'\nimport { Schema } from '@tiptap/pm/model'\n\nimport type { Editor, MarkConfig, NodeConfig } from '../index.js'\nimport type { AnyConfig, Extensions } from '../types.js'\nimport { callOrReturn } from '../utilities/callOrReturn.js'\nimport { isEmptyObject } from '../utilities/isEmptyObject.js'\nimport { getAttributesFromExtensions } from './getAttributesFromExtensions.js'\nimport { getExtensionField } from './getExtensionField.js'\nimport { getRenderedAttributes } from './getRenderedAttributes.js'\nimport { injectExtensionAttributesToParseRule } from './injectExtensionAttributesToParseRule.js'\nimport { splitExtensions } from './splitExtensions.js'\n\nfunction cleanUpSchemaItem<T>(data: T) {\n  return Object.fromEntries(\n    // @ts-ignore\n    Object.entries(data).filter(([key, value]) => {\n      if (key === 'attrs' && isEmptyObject(value as object | undefined)) {\n        return false\n      }\n\n      return value !== null && value !== undefined\n    }),\n  ) as T\n}\n\n/**\n * Builds an attribute spec tuple for ProseMirror schema from an extension attribute.\n * @param extensionAttribute The extension attribute to build the spec for\n * @returns A tuple of [attributeName, spec]\n */\nfunction buildAttributeSpec(\n  extensionAttribute: ReturnType<typeof getAttributesFromExtensions>[number],\n): [string, Record<string, any>] {\n  const spec: Record<string, any> = {}\n\n  // Only include 'default' if the attribute is not required and default is set on the attribute\n  if (!extensionAttribute?.attribute?.isRequired && 'default' in (extensionAttribute?.attribute || {})) {\n    spec.default = extensionAttribute.attribute.default\n  }\n\n  // Only include 'validate' if it's defined\n  if (extensionAttribute?.attribute?.validate !== undefined) {\n    spec.validate = extensionAttribute.attribute.validate\n  }\n\n  return [extensionAttribute.name, spec]\n}\n\n/**\n * Creates a new Prosemirror schema based on the given extensions.\n * @param extensions An array of Tiptap extensions\n * @param editor The editor instance\n * @returns A Prosemirror schema\n */\nexport function getSchemaByResolvedExtensions(extensions: Extensions, editor?: Editor): Schema {\n  const allAttributes = getAttributesFromExtensions(extensions)\n  const { nodeExtensions, markExtensions } = splitExtensions(extensions)\n  const topNode = nodeExtensions.find(extension => getExtensionField(extension, 'topNode'))?.name\n\n  const nodes = Object.fromEntries(\n    nodeExtensions.map(extension => {\n      const extensionAttributes = allAttributes.filter(attribute => attribute.type === extension.name)\n      const context = {\n        name: extension.name,\n        options: extension.options,\n        storage: extension.storage,\n        editor,\n      }\n\n      const extraNodeFields = extensions.reduce((fields, e) => {\n        const extendNodeSchema = getExtensionField<AnyConfig['extendNodeSchema']>(e, 'extendNodeSchema', context)\n\n        return {\n          ...fields,\n          ...(extendNodeSchema ? extendNodeSchema(extension) : {}),\n        }\n      }, {})\n\n      const schema: NodeSpec = cleanUpSchemaItem({\n        ...extraNodeFields,\n        content: callOrReturn(getExtensionField<NodeConfig['content']>(extension, 'content', context)),\n        marks: callOrReturn(getExtensionField<NodeConfig['marks']>(extension, 'marks', context)),\n        group: callOrReturn(getExtensionField<NodeConfig['group']>(extension, 'group', context)),\n        inline: callOrReturn(getExtensionField<NodeConfig['inline']>(extension, 'inline', context)),\n        atom: callOrReturn(getExtensionField<NodeConfig['atom']>(extension, 'atom', context)),\n        selectable: callOrReturn(getExtensionField<NodeConfig['selectable']>(extension, 'selectable', context)),\n        draggable: callOrReturn(getExtensionField<NodeConfig['draggable']>(extension, 'draggable', context)),\n        code: callOrReturn(getExtensionField<NodeConfig['code']>(extension, 'code', context)),\n        whitespace: callOrReturn(getExtensionField<NodeConfig['whitespace']>(extension, 'whitespace', context)),\n        linebreakReplacement: callOrReturn(\n          getExtensionField<NodeConfig['linebreakReplacement']>(extension, 'linebreakReplacement', context),\n        ),\n        defining: callOrReturn(getExtensionField<NodeConfig['defining']>(extension, 'defining', context)),\n        isolating: callOrReturn(getExtensionField<NodeConfig['isolating']>(extension, 'isolating', context)),\n        attrs: Object.fromEntries(extensionAttributes.map(buildAttributeSpec)),\n      })\n\n      const parseHTML = callOrReturn(getExtensionField<NodeConfig['parseHTML']>(extension, 'parseHTML', context))\n\n      if (parseHTML) {\n        schema.parseDOM = parseHTML.map(parseRule =>\n          injectExtensionAttributesToParseRule(parseRule, extensionAttributes),\n        ) as TagParseRule[]\n      }\n\n      const renderHTML = getExtensionField<NodeConfig['renderHTML']>(extension, 'renderHTML', context)\n\n      if (renderHTML) {\n        schema.toDOM = node =>\n          renderHTML({\n            node,\n            HTMLAttributes: getRenderedAttributes(node, extensionAttributes),\n          })\n      }\n\n      const renderText = getExtensionField<NodeConfig['renderText']>(extension, 'renderText', context)\n\n      if (renderText) {\n        schema.toText = renderText\n      }\n\n      return [extension.name, schema]\n    }),\n  )\n\n  const marks = Object.fromEntries(\n    markExtensions.map(extension => {\n      const extensionAttributes = allAttributes.filter(attribute => attribute.type === extension.name)\n      const context = {\n        name: extension.name,\n        options: extension.options,\n        storage: extension.storage,\n        editor,\n      }\n\n      const extraMarkFields = extensions.reduce((fields, e) => {\n        const extendMarkSchema = getExtensionField<AnyConfig['extendMarkSchema']>(e, 'extendMarkSchema', context)\n\n        return {\n          ...fields,\n          ...(extendMarkSchema ? extendMarkSchema(extension as any) : {}),\n        }\n      }, {})\n\n      const schema: MarkSpec = cleanUpSchemaItem({\n        ...extraMarkFields,\n        inclusive: callOrReturn(getExtensionField<MarkConfig['inclusive']>(extension, 'inclusive', context)),\n        excludes: callOrReturn(getExtensionField<MarkConfig['excludes']>(extension, 'excludes', context)),\n        group: callOrReturn(getExtensionField<MarkConfig['group']>(extension, 'group', context)),\n        spanning: callOrReturn(getExtensionField<MarkConfig['spanning']>(extension, 'spanning', context)),\n        code: callOrReturn(getExtensionField<MarkConfig['code']>(extension, 'code', context)),\n        attrs: Object.fromEntries(extensionAttributes.map(buildAttributeSpec)),\n      })\n\n      const parseHTML = callOrReturn(getExtensionField<MarkConfig['parseHTML']>(extension, 'parseHTML', context))\n\n      if (parseHTML) {\n        schema.parseDOM = parseHTML.map(parseRule =>\n          injectExtensionAttributesToParseRule(parseRule, extensionAttributes),\n        )\n      }\n\n      const renderHTML = getExtensionField<MarkConfig['renderHTML']>(extension, 'renderHTML', context)\n\n      if (renderHTML) {\n        schema.toDOM = mark =>\n          renderHTML({\n            mark,\n            HTMLAttributes: getRenderedAttributes(mark, extensionAttributes),\n          })\n      }\n\n      return [extension.name, schema]\n    }),\n  )\n\n  return new Schema({\n    topNode,\n    nodes,\n    marks,\n  })\n}\n","import type { AnyConfig, Extensions } from '../types.js'\nimport { getExtensionField } from './getExtensionField.js'\n\n/**\n * Sort extensions by priority.\n * @param extensions An array of Tiptap extensions\n * @returns A sorted array of Tiptap extensions by priority\n */\nexport function sortExtensions(extensions: Extensions): Extensions {\n  const defaultPriority = 100\n\n  return extensions.sort((a, b) => {\n    const priorityA = getExtensionField<AnyConfig['priority']>(a, 'priority') || defaultPriority\n    const priorityB = getExtensionField<AnyConfig['priority']>(b, 'priority') || defaultPriority\n\n    if (priorityA > priorityB) {\n      return -1\n    }\n\n    if (priorityA < priorityB) {\n      return 1\n    }\n\n    return 0\n  })\n}\n","import { DOMParser } from '@tiptap/pm/model'\n\nimport type { Extensions } from '../types.js'\nimport { elementFromString } from '../utilities/elementFromString.js'\nimport { getSchema } from './getSchema.js'\n\n/**\n * Generate JSONContent from HTML\n * @param html The HTML to generate JSONContent from\n * @param extensions The extensions to use for the schema\n * @returns The generated JSONContent\n */\nexport function generateJSON(html: string, extensions: Extensions): Record<string, any> {\n  const schema = getSchema(extensions)\n  const dom = elementFromString(html)\n\n  return DOMParser.fromSchema(schema).parse(dom).toJSON()\n}\n","import { Node } from '@tiptap/pm/model'\n\nimport type { Extensions, JSONContent, TextSerializer } from '../types.js'\nimport { getSchema } from './getSchema.js'\nimport { getText } from './getText.js'\nimport { getTextSerializersFromSchema } from './getTextSerializersFromSchema.js'\n\n/**\n * Generate raw text from a JSONContent\n * @param doc The JSONContent to generate text from\n * @param extensions The extensions to use for the schema\n * @param options Options for the text generation f.e. blockSeparator or textSerializers\n * @returns The generated text\n */\nexport function generateText(\n  doc: JSONContent,\n  extensions: Extensions,\n  options?: {\n    blockSeparator?: string\n    textSerializers?: Record<string, TextSerializer>\n  },\n): string {\n  const { blockSeparator = '\\n\\n', textSerializers = {} } = options || {}\n  const schema = getSchema(extensions)\n  const contentNode = Node.fromJSON(schema, doc)\n\n  return getText(contentNode, {\n    blockSeparator,\n    textSerializers: {\n      ...getTextSerializersFromSchema(schema),\n      ...textSerializers,\n    },\n  })\n}\n","import type { Node, NodeType } from '@tiptap/pm/model'\nimport type { EditorState } from '@tiptap/pm/state'\n\nimport { getNodeType } from './getNodeType.js'\n\nexport function getNodeAttributes(state: EditorState, typeOrName: string | NodeType): Record<string, any> {\n  const type = getNodeType(typeOrName, state.schema)\n  const { from, to } = state.selection\n  const nodes: Node[] = []\n\n  state.doc.nodesBetween(from, to, node => {\n    nodes.push(node)\n  })\n\n  const node = nodes.reverse().find(nodeItem => nodeItem.type.name === type.name)\n\n  if (!node) {\n    return {}\n  }\n\n  return { ...node.attrs }\n}\n","import type { Step, Transform } from '@tiptap/pm/transform'\n\nimport type { Range } from '../types.js'\nimport { removeDuplicates } from '../utilities/removeDuplicates.js'\n\nexport type ChangedRange = {\n  oldRange: Range\n  newRange: Range\n}\n\n/**\n * Removes duplicated ranges and ranges that are\n * fully captured by other ranges.\n */\nfunction simplifyChangedRanges(changes: ChangedRange[]): ChangedRange[] {\n  const uniqueChanges = removeDuplicates(changes)\n\n  return uniqueChanges.length === 1\n    ? uniqueChanges\n    : uniqueChanges.filter((change, index) => {\n        const rest = uniqueChanges.filter((_, i) => i !== index)\n\n        return !rest.some(otherChange => {\n          return (\n            change.oldRange.from >= otherChange.oldRange.from &&\n            change.oldRange.to <= otherChange.oldRange.to &&\n            change.newRange.from >= otherChange.newRange.from &&\n            change.newRange.to <= otherChange.newRange.to\n          )\n        })\n      })\n}\n\n/**\n * Returns a list of changed ranges\n * based on the first and last state of all steps.\n */\nexport function getChangedRanges(transform: Transform): ChangedRange[] {\n  const { mapping, steps } = transform\n  const changes: ChangedRange[] = []\n\n  mapping.maps.forEach((stepMap, index) => {\n    const ranges: Range[] = []\n\n    // This accounts for step changes where no range was actually altered\n    // e.g. when setting a mark, node attribute, etc.\n    // @ts-ignore\n    if (!stepMap.ranges.length) {\n      const { from, to } = steps[index] as Step & {\n        from?: number\n        to?: number\n      }\n\n      if (from === undefined || to === undefined) {\n        return\n      }\n\n      ranges.push({ from, to })\n    } else {\n      stepMap.forEach((from, to) => {\n        ranges.push({ from, to })\n      })\n    }\n\n    ranges.forEach(({ from, to }) => {\n      const newStart = mapping.slice(index).map(from, -1)\n      const newEnd = mapping.slice(index).map(to)\n      const oldStart = mapping.invert().map(newStart, -1)\n      const oldEnd = mapping.invert().map(newEnd)\n\n      changes.push({\n        oldRange: {\n          from: oldStart,\n          to: oldEnd,\n        },\n        newRange: {\n          from: newStart,\n          to: newEnd,\n        },\n      })\n    })\n  })\n\n  return simplifyChangedRanges(changes)\n}\n","import type { MarkType, NodeType, Schema } from '@tiptap/pm/model'\n\n/**\n * Tries to get a node or mark type by its name.\n * @param name The name of the node or mark type\n * @param schema The Prosemiror schema to search in\n * @returns The node or mark type, or null if it doesn't exist\n */\nexport function getSchemaTypeByName(name: string, schema: Schema): NodeType | MarkType | null {\n  return schema.nodes[name] || schema.marks[name] || null\n}\n","import type { MarkType } from '@tiptap/pm/model'\nimport type { EditorState } from '@tiptap/pm/state'\n\nimport type { MarkRange } from '../types.js'\nimport { objectIncludes } from '../utilities/objectIncludes.js'\nimport { getMarkType } from './getMarkType.js'\n\nexport function isMarkActive(\n  state: EditorState,\n  typeOrName: MarkType | string | null,\n  attributes: Record<string, any> = {},\n): boolean {\n  const { empty, ranges } = state.selection\n  const type = typeOrName ? getMarkType(typeOrName, state.schema) : null\n\n  if (empty) {\n    return !!(state.storedMarks || state.selection.$from.marks())\n      .filter(mark => {\n        if (!type) {\n          return true\n        }\n\n        return type.name === mark.type.name\n      })\n      .find(mark => objectIncludes(mark.attrs, attributes, { strict: false }))\n  }\n\n  let selectionRange = 0\n  const markRanges: MarkRange[] = []\n\n  ranges.forEach(({ $from, $to }) => {\n    const from = $from.pos\n    const to = $to.pos\n\n    state.doc.nodesBetween(from, to, (node, pos) => {\n      // ignore selected text inside nodes whose schema disallows this mark type\n      if (type && node.inlineContent && !node.type.allowsMarkType(type)) {\n        return false\n      }\n\n      if (!node.isText && !node.marks.length) {\n        return\n      }\n\n      const relativeFrom = Math.max(from, pos)\n      const relativeTo = Math.min(to, pos + node.nodeSize)\n      const range = relativeTo - relativeFrom\n\n      selectionRange += range\n\n      markRanges.push(\n        ...node.marks.map(mark => ({\n          mark,\n          from: relativeFrom,\n          to: relativeTo,\n        })),\n      )\n    })\n  })\n\n  if (selectionRange === 0) {\n    return false\n  }\n\n  // calculate range of matched mark\n  const matchedRange = markRanges\n    .filter(markRange => {\n      if (!type) {\n        return true\n      }\n\n      return type.name === markRange.mark.type.name\n    })\n    .filter(markRange => objectIncludes(markRange.mark.attrs, attributes, { strict: false }))\n    .reduce((sum, markRange) => sum + markRange.to - markRange.from, 0)\n\n  // calculate range of marks that excludes the searched mark\n  // for example `code` doesn’t allow any other marks\n  const excludedRange = markRanges\n    .filter(markRange => {\n      if (!type) {\n        return true\n      }\n\n      return markRange.mark.type !== type && markRange.mark.type.excludes(type)\n    })\n    .reduce((sum, markRange) => sum + markRange.to - markRange.from, 0)\n\n  // we only include the result of `excludedRange`\n  // if there is a match at all\n  const range = matchedRange > 0 ? matchedRange + excludedRange : matchedRange\n\n  return range >= selectionRange\n}\n","import { NodeSelection } from '@tiptap/pm/state'\n\nexport function isNodeSelection(value: unknown): value is NodeSelection {\n  return value instanceof NodeSelection\n}\n","import type { MarkType, ResolvedPos } from '@tiptap/pm/model'\nimport type { EditorState, Transaction } from '@tiptap/pm/state'\n\nimport { getMarkAttributes } from '../helpers/getMarkAttributes.js'\nimport { getMarkType } from '../helpers/getMarkType.js'\nimport { isTextSelection } from '../helpers/index.js'\nimport type { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    setMark: {\n      /**\n       * Add a mark with new attributes.\n       * @param typeOrName The mark type or name.\n       * @example editor.commands.setMark('bold', { level: 1 })\n       */\n      setMark: (typeOrName: string | MarkType, attributes?: Record<string, any>) => ReturnType\n    }\n  }\n}\n\nfunction canSetMark(state: EditorState, tr: Transaction, newMarkType: MarkType) {\n  const { selection } = tr\n  let cursor: ResolvedPos | null = null\n\n  if (isTextSelection(selection)) {\n    cursor = selection.$cursor\n  }\n\n  if (cursor) {\n    const currentMarks = state.storedMarks ?? cursor.marks()\n    const parentAllowsMarkType = cursor.parent.type.allowsMarkType(newMarkType)\n\n    // There can be no current marks that exclude the new mark, and the parent must allow this mark type\n    return (\n      parentAllowsMarkType &&\n      (!!newMarkType.isInSet(currentMarks) || !currentMarks.some(mark => mark.type.excludes(newMarkType)))\n    )\n  }\n\n  const { ranges } = selection\n\n  return ranges.some(({ $from, $to }) => {\n    let someNodeSupportsMark =\n      $from.depth === 0 ? state.doc.inlineContent && state.doc.type.allowsMarkType(newMarkType) : false\n\n    state.doc.nodesBetween($from.pos, $to.pos, (node, _pos, parent) => {\n      // If we already found a mark that we can enable, return false to bypass the remaining search\n      if (someNodeSupportsMark) {\n        return false\n      }\n\n      if (node.isInline) {\n        const parentAllowsMarkType = !parent || parent.type.allowsMarkType(newMarkType)\n        const currentMarksAllowMarkType =\n          !!newMarkType.isInSet(node.marks) || !node.marks.some(otherMark => otherMark.type.excludes(newMarkType))\n\n        someNodeSupportsMark = parentAllowsMarkType && currentMarksAllowMarkType\n      }\n      return !someNodeSupportsMark\n    })\n\n    return someNodeSupportsMark\n  })\n}\nexport const setMark: RawCommands['setMark'] =\n  (typeOrName, attributes = {}) =>\n  ({ tr, state, dispatch }) => {\n    const { selection } = tr\n    const { empty, ranges } = selection\n    const type = getMarkType(typeOrName, state.schema)\n\n    if (dispatch) {\n      if (empty) {\n        const oldAttributes = getMarkAttributes(state, type)\n\n        tr.addStoredMark(\n          type.create({\n            ...oldAttributes,\n            ...attributes,\n          }),\n        )\n      } else {\n        ranges.forEach(range => {\n          const from = range.$from.pos\n          const to = range.$to.pos\n\n          state.doc.nodesBetween(from, to, (node, pos) => {\n            const trimmedFrom = Math.max(pos, from)\n            const trimmedTo = Math.min(pos + node.nodeSize, to)\n            const someHasMark = node.marks.find(mark => mark.type === type)\n\n            // if there is already a mark of this type\n            // we know that we have to merge its attributes\n            // otherwise we add a fresh new mark\n            if (someHasMark) {\n              node.marks.forEach(mark => {\n                if (type === mark.type) {\n                  tr.addMark(\n                    trimmedFrom,\n                    trimmedTo,\n                    type.create({\n                      ...mark.attrs,\n                      ...attributes,\n                    }),\n                  )\n                }\n              })\n            } else {\n              tr.addMark(trimmedFrom, trimmedTo, type.create(attributes))\n            }\n          })\n        })\n      }\n    }\n\n    return canSetMark(state, tr, type)\n  }\n","import { setBlockType } from '@tiptap/pm/commands'\nimport type { NodeType } from '@tiptap/pm/model'\n\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport type { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    setNode: {\n      /**\n       * Replace a given range with a node.\n       * @param typeOrName The type or name of the node\n       * @param attributes The attributes of the node\n       * @example editor.commands.setNode('paragraph')\n       */\n      setNode: (typeOrName: string | NodeType, attributes?: Record<string, any>) => ReturnType\n    }\n  }\n}\n\nexport const setNode: RawCommands['setNode'] =\n  (typeOrName, attributes = {}) =>\n  ({ state, dispatch, chain }) => {\n    const type = getNodeType(typeOrName, state.schema)\n\n    let attributesToCopy: Record<string, any> | undefined\n\n    if (state.selection.$anchor.sameParent(state.selection.$head)) {\n      // only copy attributes if the selection is pointing to a node of the same type\n      attributesToCopy = state.selection.$anchor.parent.attrs\n    }\n\n    // TODO: use a fallback like insertContent?\n    if (!type.isTextblock) {\n      console.warn('[tiptap warn]: Currently \"setNode()\" only supports text block nodes.')\n\n      return false\n    }\n\n    return (\n      chain()\n        // try to convert node to default node if needed\n        .command(({ commands }) => {\n          const canSetBlock = setBlockType(type, { ...attributesToCopy, ...attributes })(state)\n\n          if (canSetBlock) {\n            return true\n          }\n\n          return commands.clearNodes()\n        })\n        .command(({ state: updatedState }) => {\n          return setBlockType(type, { ...attributesToCopy, ...attributes })(updatedState, dispatch)\n        })\n        .run()\n    )\n  }\n","import type { EditorState } from '@tiptap/pm/state'\nimport { NodeSelection, TextSelection } from '@tiptap/pm/state'\nimport { canSplit } from '@tiptap/pm/transform'\n\nimport { defaultBlockAt } from '../helpers/defaultBlockAt.js'\nimport { getSplittedAttributes } from '../helpers/getSplittedAttributes.js'\nimport type { RawCommands } from '../types.js'\n\nfunction ensureMarks(state: EditorState, splittableMarks?: string[]) {\n  const marks = state.storedMarks || (state.selection.$to.parentOffset && state.selection.$from.marks())\n\n  if (marks) {\n    const filteredMarks = marks.filter(mark => splittableMarks?.includes(mark.type.name))\n\n    state.tr.ensureMarks(filteredMarks)\n  }\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    splitBlock: {\n      /**\n       * Forks a new node from an existing node.\n       * @param options.keepMarks Keep marks from the previous node.\n       * @example editor.commands.splitBlock()\n       * @example editor.commands.splitBlock({ keepMarks: true })\n       */\n      splitBlock: (options?: { keepMarks?: boolean }) => ReturnType\n    }\n  }\n}\n\nexport const splitBlock: RawCommands['splitBlock'] =\n  ({ keepMarks = true } = {}) =>\n  ({ tr, state, dispatch, editor }) => {\n    const { selection, doc } = tr\n    const { $from, $to } = selection\n    const extensionAttributes = editor.extensionManager.attributes\n    const newAttributes = getSplittedAttributes(extensionAttributes, $from.node().type.name, $from.node().attrs)\n\n    if (selection instanceof NodeSelection && selection.node.isBlock) {\n      if (!$from.parentOffset || !canSplit(doc, $from.pos)) {\n        return false\n      }\n\n      if (dispatch) {\n        if (keepMarks) {\n          ensureMarks(state, editor.extensionManager.splittableMarks)\n        }\n\n        tr.split($from.pos).scrollIntoView()\n      }\n\n      return true\n    }\n\n    if (!$from.parent.isBlock) {\n      return false\n    }\n\n    const atEnd = $to.parentOffset === $to.parent.content.size\n\n    const deflt = $from.depth === 0 ? undefined : defaultBlockAt($from.node(-1).contentMatchAt($from.indexAfter(-1)))\n\n    let types =\n      atEnd && deflt\n        ? [\n            {\n              type: deflt,\n              attrs: newAttributes,\n            },\n          ]\n        : undefined\n\n    let can = canSplit(tr.doc, tr.mapping.map($from.pos), 1, types)\n\n    if (!types && !can && canSplit(tr.doc, tr.mapping.map($from.pos), 1, deflt ? [{ type: deflt }] : undefined)) {\n      can = true\n      types = deflt\n        ? [\n            {\n              type: deflt,\n              attrs: newAttributes,\n            },\n          ]\n        : undefined\n    }\n\n    if (dispatch) {\n      if (can) {\n        if (selection instanceof TextSelection) {\n          tr.deleteSelection()\n        }\n\n        tr.split(tr.mapping.map($from.pos), 1, types)\n\n        if (deflt && !atEnd && !$from.parentOffset && $from.parent.type !== deflt) {\n          const first = tr.mapping.map($from.before())\n          const $first = tr.doc.resolve(first)\n\n          if ($from.node(-1).canReplaceWith($first.index(), $first.index() + 1, deflt)) {\n            tr.setNodeMarkup(tr.mapping.map($from.before()), deflt)\n          }\n        }\n      }\n\n      if (keepMarks) {\n        ensureMarks(state, editor.extensionManager.splittableMarks)\n      }\n\n      tr.scrollIntoView()\n    }\n\n    return can\n  }\n","export default () => {\n  if (typeof crypto !== 'undefined' && crypto.randomUUID) {\n    return crypto.randomUUID();\n  }\n\n  const d =\n    typeof performance === 'undefined' ? Date.now() : performance.now() * 1000;\n\n  return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = ((Math.random() * 16 + d) % 16) | 0;\n\n    return (c == 'x' ? r : (r & 0x3) | 0x8).toString(16);\n  });\n};\n","import type { FieldArrayMethodProps, InternalFieldName } from '../types';\nimport isUndefined from '../utils/isUndefined';\n\nexport default (\n  name: InternalFieldName,\n  index: number,\n  options: FieldArrayMethodProps = {},\n): string =>\n  options.shouldFocus || isUndefined(options.shouldFocus)\n    ? options.focusName ||\n      `${name}.${isUndefined(options.focusIndex) ? index : options.focusIndex}.`\n    : '';\n","import convertToArrayPayload from './convertToArrayPayload';\n\nexport default <T>(data: T[], value: T | T[]): T[] => [\n  ...data,\n  ...convertToArrayPayload(value),\n];\n","export default <T>(value: T | T[]): undefined[] | undefined =>\n  Array.isArray(value) ? value.map(() => undefined) : undefined;\n","import convertToArrayPayload from './convertToArrayPayload';\n\nexport default function insert<T>(data: T[], index: number): (T | undefined)[];\nexport default function insert<T>(\n  data: T[],\n  index: number,\n  value: T | T[],\n): T[];\nexport default function insert<T>(\n  data: T[],\n  index: number,\n  value?: T | T[],\n): (T | undefined)[] {\n  return [\n    ...data.slice(0, index),\n    ...convertToArrayPayload(value),\n    ...data.slice(index),\n  ];\n}\n","import isUndefined from './isUndefined';\n\nexport default <T>(\n  data: (T | undefined)[],\n  from: number,\n  to: number,\n): (T | undefined)[] => {\n  if (!Array.isArray(data)) {\n    return [];\n  }\n\n  if (isUndefined(data[to])) {\n    data[to] = undefined;\n  }\n  data.splice(to, 0, data.splice(from, 1)[0]);\n\n  return data;\n};\n","import type { Node as ProseMirrorNode, NodeType } from '@tiptap/pm/model'\nimport { Fragment, Slice } from '@tiptap/pm/model'\nimport { TextSelection } from '@tiptap/pm/state'\nimport { canSplit } from '@tiptap/pm/transform'\n\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport { getSplittedAttributes } from '../helpers/getSplittedAttributes.js'\nimport type { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    splitListItem: {\n      /**\n       * Splits one list item into two list items.\n       * @param typeOrName The type or name of the node.\n       * @param overrideAttrs The attributes to ensure on the new node.\n       * @example editor.commands.splitListItem('listItem')\n       */\n      splitListItem: (typeOrName: string | NodeType, overrideAttrs?: Record<string, any>) => ReturnType\n    }\n  }\n}\n\nexport const splitListItem: RawCommands['splitListItem'] =\n  (typeOrName, overrideAttrs = {}) =>\n  ({ tr, state, dispatch, editor }) => {\n    const type = getNodeType(typeOrName, state.schema)\n    const { $from, $to } = state.selection\n\n    // @ts-ignore\n    // eslint-disable-next-line\n    const node: ProseMirrorNode = state.selection.node\n\n    if ((node && node.isBlock) || $from.depth < 2 || !$from.sameParent($to)) {\n      return false\n    }\n\n    const grandParent = $from.node(-1)\n\n    if (grandParent.type !== type) {\n      return false\n    }\n\n    const extensionAttributes = editor.extensionManager.attributes\n\n    if ($from.parent.content.size === 0 && $from.node(-1).childCount === $from.indexAfter(-1)) {\n      // In an empty block. If this is a nested list, the wrapping\n      // list item should be split. Otherwise, bail out and let next\n      // command handle lifting.\n      if ($from.depth === 2 || $from.node(-3).type !== type || $from.index(-2) !== $from.node(-2).childCount - 1) {\n        return false\n      }\n\n      if (dispatch) {\n        let wrap = Fragment.empty\n        // eslint-disable-next-line\n        const depthBefore = $from.index(-1) ? 1 : $from.index(-2) ? 2 : 3\n\n        // Build a fragment containing empty versions of the structure\n        // from the outer list item to the parent node of the cursor\n        for (let d = $from.depth - depthBefore; d >= $from.depth - 3; d -= 1) {\n          wrap = Fragment.from($from.node(d).copy(wrap))\n        }\n\n        const depthAfter =\n          // eslint-disable-next-line no-nested-ternary\n          $from.indexAfter(-1) < $from.node(-2).childCount\n            ? 1\n            : $from.indexAfter(-2) < $from.node(-3).childCount\n              ? 2\n              : 3\n\n        // Add a second list item with an empty default start node\n        const newNextTypeAttributes = {\n          ...getSplittedAttributes(extensionAttributes, $from.node().type.name, $from.node().attrs),\n          ...overrideAttrs,\n        }\n        const nextType = type.contentMatch.defaultType?.createAndFill(newNextTypeAttributes) || undefined\n\n        wrap = wrap.append(Fragment.from(type.createAndFill(null, nextType) || undefined))\n\n        const start = $from.before($from.depth - (depthBefore - 1))\n\n        tr.replace(start, $from.after(-depthAfter), new Slice(wrap, 4 - depthBefore, 0))\n\n        let sel = -1\n\n        tr.doc.nodesBetween(start, tr.doc.content.size, (n, pos) => {\n          if (sel > -1) {\n            return false\n          }\n\n          if (n.isTextblock && n.content.size === 0) {\n            sel = pos + 1\n          }\n        })\n\n        if (sel > -1) {\n          tr.setSelection(TextSelection.near(tr.doc.resolve(sel)))\n        }\n\n        tr.scrollIntoView()\n      }\n\n      return true\n    }\n\n    const nextType = $to.pos === $from.end() ? grandParent.contentMatchAt(0).defaultType : null\n\n    const newTypeAttributes = {\n      ...getSplittedAttributes(extensionAttributes, grandParent.type.name, grandParent.attrs),\n      ...overrideAttrs,\n    }\n    const newNextTypeAttributes = {\n      ...getSplittedAttributes(extensionAttributes, $from.node().type.name, $from.node().attrs),\n      ...overrideAttrs,\n    }\n\n    tr.delete($from.pos, $to.pos)\n\n    const types = nextType\n      ? [\n          { type, attrs: newTypeAttributes },\n          { type: nextType, attrs: newNextTypeAttributes },\n        ]\n      : [{ type, attrs: newTypeAttributes }]\n\n    if (!canSplit(tr.doc, $from.pos, 2)) {\n      return false\n    }\n\n    if (dispatch) {\n      const { selection, storedMarks } = state\n      const { splittableMarks } = editor.extensionManager\n      const marks = storedMarks || (selection.$to.parentOffset && selection.$from.marks())\n\n      tr.split($from.pos, 2, types).scrollIntoView()\n\n      if (!marks || !dispatch) {\n        return true\n      }\n\n      const filteredMarks = marks.filter(mark => splittableMarks.includes(mark.type.name))\n\n      tr.ensureMarks(filteredMarks)\n    }\n\n    return true\n  }\n","import convertToArrayPayload from './convertToArrayPayload';\n\nexport default <T>(data: T[], value: T | T[]): T[] => [\n  ...convertToArrayPayload(value),\n  ...convertToArrayPayload(data),\n];\n","import compact from './compact';\nimport convertToArrayPayload from './convertToArrayPayload';\nimport isUndefined from './isUndefined';\n\nfunction removeAtIndexes<T>(data: T[], indexes: number[]): T[] {\n  let i = 0;\n  const temp = [...data];\n\n  for (const index of indexes) {\n    temp.splice(index - i, 1);\n    i++;\n  }\n\n  return compact(temp).length ? temp : [];\n}\n\nexport default <T>(data: T[], index?: number | number[]): T[] =>\n  isUndefined(index)\n    ? []\n    : removeAtIndexes(\n        data,\n        (convertToArrayPayload(index) as number[]).sort((a, b) => a - b),\n      );\n","export default <T>(data: T[], indexA: number, indexB: number): void => {\n  [data[indexA], data[indexB]] = [data[indexB], data[indexA]];\n};\n","export default <T>(fieldValues: T[], index: number, value: T) => {\n  fieldValues[index] = value;\n  return fieldValues;\n};\n","import React from 'react';\n\nimport generateId from './logic/generateId';\nimport getFocusFieldName from './logic/getFocusFieldName';\nimport getValidationModes from './logic/getValidationModes';\nimport isWatched from './logic/isWatched';\nimport iterateFieldsByAction from './logic/iterateFieldsByAction';\nimport updateFieldArrayRootError from './logic/updateFieldArrayRootError';\nimport validateField from './logic/validateField';\nimport appendAt from './utils/append';\nimport cloneObject from './utils/cloneObject';\nimport convertToArrayPayload from './utils/convertToArrayPayload';\nimport fillEmptyArray from './utils/fillEmptyArray';\nimport get from './utils/get';\nimport insertAt from './utils/insert';\nimport isEmptyObject from './utils/isEmptyObject';\nimport moveArrayAt from './utils/move';\nimport prependAt from './utils/prepend';\nimport removeArrayAt from './utils/remove';\nimport set from './utils/set';\nimport swapArrayAt from './utils/swap';\nimport unset from './utils/unset';\nimport updateAt from './utils/update';\nimport { VALIDATION_MODE } from './constants';\nimport type {\n  Control,\n  Field,\n  FieldArray,\n  FieldArrayMethodProps,\n  FieldArrayPath,\n  FieldArrayWithId,\n  FieldErrors,\n  FieldPath,\n  FieldValues,\n  FormState,\n  InternalFieldName,\n  RegisterOptions,\n  UseFieldArrayProps,\n  UseFieldArrayReturn,\n} from './types';\nimport { useFormControlContext } from './useFormControlContext';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n\n/**\n * A custom hook that exposes convenient methods to perform operations with a list of dynamic inputs that need to be appended, updated, removed etc. • [Demo](https://codesandbox.io/s/react-hook-form-usefieldarray-ssugn) • [Video](https://youtu.be/4MrbfGSFY2A)\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/usefieldarray) • [Demo](https://codesandbox.io/s/react-hook-form-usefieldarray-ssugn)\n *\n * @param props - useFieldArray props\n *\n * @returns methods - functions to manipulate with the Field Arrays (dynamic inputs) {@link UseFieldArrayReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, control, handleSubmit, reset, trigger, setError } = useForm({\n *     defaultValues: {\n *       test: []\n *     }\n *   });\n *   const { fields, append } = useFieldArray({\n *     control,\n *     name: \"test\"\n *   });\n *\n *   return (\n *     <form onSubmit={handleSubmit(data => console.log(data))}>\n *       {fields.map((item, index) => (\n *          <input key={item.id} {...register(`test.${index}.firstName`)}  />\n *       ))}\n *       <button type=\"button\" onClick={() => append({ firstName: \"bill\" })}>\n *         append\n *       </button>\n *       <input type=\"submit\" />\n *     </form>\n *   );\n * }\n * ```\n */\nexport function useFieldArray<\n  TFieldValues extends FieldValues = FieldValues,\n  TFieldArrayName extends FieldArrayPath<TFieldValues> =\n    FieldArrayPath<TFieldValues>,\n  TKeyName extends string = 'id',\n  TTransformedValues = TFieldValues,\n>(\n  props: UseFieldArrayProps<\n    TFieldValues,\n    TFieldArrayName,\n    TKeyName,\n    TTransformedValues\n  >,\n): UseFieldArrayReturn<TFieldValues, TFieldArrayName, TKeyName> {\n  const formControl = useFormControlContext<\n    TFieldValues,\n    any,\n    TTransformedValues\n  >();\n  const {\n    control = formControl,\n    name,\n    keyName = 'id',\n    shouldUnregister,\n    rules,\n  } = props;\n  const [fields, setFields] = React.useState(control._getFieldArray(name));\n  const ids = React.useRef<string[]>(\n    control._getFieldArray(name).map(generateId),\n  );\n\n  const _actioned = React.useRef(false);\n\n  control._names.array.add(name);\n\n  React.useMemo(\n    () =>\n      rules &&\n      fields.length >= 0 &&\n      (control as Control<TFieldValues, any, TTransformedValues>).register(\n        name as FieldPath<TFieldValues>,\n        rules as RegisterOptions<TFieldValues>,\n      ),\n    [control, name, fields.length, rules],\n  );\n\n  useIsomorphicLayoutEffect(\n    () =>\n      control._subjects.array.subscribe({\n        next: ({\n          values,\n          name: fieldArrayName,\n        }: {\n          values?: FieldValues;\n          name?: InternalFieldName;\n        }) => {\n          if (fieldArrayName === name || !fieldArrayName) {\n            const fieldValues = get(values, name);\n            if (Array.isArray(fieldValues)) {\n              setFields(fieldValues);\n              ids.current = fieldValues.map(generateId);\n            }\n          }\n        },\n      }).unsubscribe,\n    [control, name],\n  );\n\n  const updateValues = React.useCallback(\n    <\n      T extends Partial<\n        FieldArrayWithId<TFieldValues, TFieldArrayName, TKeyName>\n      >[],\n    >(\n      updatedFieldArrayValues: T,\n    ) => {\n      _actioned.current = true;\n      control._setFieldArray(name, updatedFieldArrayValues);\n    },\n    [control, name],\n  );\n\n  const append = (\n    value:\n      | Partial<FieldArray<TFieldValues, TFieldArrayName>>\n      | Partial<FieldArray<TFieldValues, TFieldArrayName>>[],\n    options?: FieldArrayMethodProps,\n  ) => {\n    const appendValue = convertToArrayPayload(cloneObject(value));\n    const updatedFieldArrayValues = appendAt(\n      control._getFieldArray(name),\n      appendValue,\n    );\n    control._names.focus = getFocusFieldName(\n      name,\n      updatedFieldArrayValues.length - 1,\n      options,\n    );\n    ids.current = appendAt(ids.current, appendValue.map(generateId));\n    updateValues(updatedFieldArrayValues);\n    setFields(updatedFieldArrayValues);\n    control._setFieldArray(name, updatedFieldArrayValues, appendAt, {\n      argA: fillEmptyArray(value),\n    });\n  };\n\n  const prepend = (\n    value:\n      | Partial<FieldArray<TFieldValues, TFieldArrayName>>\n      | Partial<FieldArray<TFieldValues, TFieldArrayName>>[],\n    options?: FieldArrayMethodProps,\n  ) => {\n    const prependValue = convertToArrayPayload(cloneObject(value));\n    const updatedFieldArrayValues = prependAt(\n      control._getFieldArray(name),\n      prependValue,\n    );\n    control._names.focus = getFocusFieldName(name, 0, options);\n    ids.current = prependAt(ids.current, prependValue.map(generateId));\n    updateValues(updatedFieldArrayValues);\n    setFields(updatedFieldArrayValues);\n    control._setFieldArray(name, updatedFieldArrayValues, prependAt, {\n      argA: fillEmptyArray(value),\n    });\n  };\n\n  const remove = (index?: number | number[]) => {\n    const updatedFieldArrayValues: Partial<\n      FieldArrayWithId<TFieldValues, TFieldArrayName, TKeyName>\n    >[] = removeArrayAt(control._getFieldArray(name), index);\n    ids.current = removeArrayAt(ids.current, index);\n    updateValues(updatedFieldArrayValues);\n    setFields(updatedFieldArrayValues);\n    !Array.isArray(get(control._fields, name)) &&\n      set(control._fields, name, undefined);\n    control._setFieldArray(name, updatedFieldArrayValues, removeArrayAt, {\n      argA: index,\n    });\n  };\n\n  const insert = (\n    index: number,\n    value:\n      | Partial<FieldArray<TFieldValues, TFieldArrayName>>\n      | Partial<FieldArray<TFieldValues, TFieldArrayName>>[],\n    options?: FieldArrayMethodProps,\n  ) => {\n    const insertValue = convertToArrayPayload(cloneObject(value));\n    const updatedFieldArrayValues = insertAt(\n      control._getFieldArray(name),\n      index,\n      insertValue,\n    );\n    control._names.focus = getFocusFieldName(name, index, options);\n    ids.current = insertAt(ids.current, index, insertValue.map(generateId));\n    updateValues(updatedFieldArrayValues);\n    setFields(updatedFieldArrayValues);\n    control._setFieldArray(name, updatedFieldArrayValues, insertAt, {\n      argA: index,\n      argB: fillEmptyArray(value),\n    });\n  };\n\n  const swap = (indexA: number, indexB: number) => {\n    const updatedFieldArrayValues = control._getFieldArray(name);\n    swapArrayAt(updatedFieldArrayValues, indexA, indexB);\n    swapArrayAt(ids.current, indexA, indexB);\n    updateValues(updatedFieldArrayValues);\n    setFields(updatedFieldArrayValues);\n    control._setFieldArray(\n      name,\n      updatedFieldArrayValues,\n      swapArrayAt,\n      {\n        argA: indexA,\n        argB: indexB,\n      },\n      false,\n    );\n  };\n\n  const move = (from: number, to: number) => {\n    const updatedFieldArrayValues = control._getFieldArray(name);\n    moveArrayAt(updatedFieldArrayValues, from, to);\n    moveArrayAt(ids.current, from, to);\n    updateValues(updatedFieldArrayValues);\n    setFields(updatedFieldArrayValues);\n    control._setFieldArray(\n      name,\n      updatedFieldArrayValues,\n      moveArrayAt,\n      {\n        argA: from,\n        argB: to,\n      },\n      false,\n    );\n  };\n\n  const update = (\n    index: number,\n    value: FieldArray<TFieldValues, TFieldArrayName>,\n  ) => {\n    const updateValue = cloneObject(value);\n    const updatedFieldArrayValues = updateAt(\n      control._getFieldArray<\n        FieldArrayWithId<TFieldValues, TFieldArrayName, TKeyName>\n      >(name),\n      index,\n      updateValue as FieldArrayWithId<TFieldValues, TFieldArrayName, TKeyName>,\n    );\n    ids.current = [...updatedFieldArrayValues].map((item, i) =>\n      !item || i === index ? generateId() : ids.current[i],\n    );\n    updateValues(updatedFieldArrayValues);\n    setFields([...updatedFieldArrayValues]);\n    control._setFieldArray(\n      name,\n      updatedFieldArrayValues,\n      updateAt,\n      {\n        argA: index,\n        argB: updateValue,\n      },\n      true,\n      false,\n    );\n  };\n\n  const replace = (\n    value:\n      | Partial<FieldArray<TFieldValues, TFieldArrayName>>\n      | Partial<FieldArray<TFieldValues, TFieldArrayName>>[],\n  ) => {\n    const updatedFieldArrayValues = convertToArrayPayload(cloneObject(value));\n    ids.current = updatedFieldArrayValues.map(generateId);\n    updateValues([...updatedFieldArrayValues]);\n    setFields([...updatedFieldArrayValues]);\n    control._setFieldArray(\n      name,\n      [...updatedFieldArrayValues],\n      <T>(data: T): T => data,\n      {},\n      true,\n      false,\n    );\n  };\n\n  React.useEffect(() => {\n    control._state.action = false;\n\n    isWatched(name, control._names) &&\n      control._subjects.state.next({\n        ...control._formState,\n      } as FormState<TFieldValues>);\n\n    if (\n      _actioned.current &&\n      (!getValidationModes(control._options.mode).isOnSubmit ||\n        control._formState.isSubmitted) &&\n      !getValidationModes(control._options.reValidateMode).isOnSubmit\n    ) {\n      if (control._options.resolver) {\n        control._runSchema([name]).then((result) => {\n          control._updateIsValidating([name]);\n          const error = get(result.errors, name);\n          const existingError = get(control._formState.errors, name);\n\n          if (\n            existingError\n              ? (!error && existingError.type) ||\n                (error &&\n                  (existingError.type !== error.type ||\n                    existingError.message !== error.message))\n              : error && error.type\n          ) {\n            error\n              ? set(control._formState.errors, name, error)\n              : unset(control._formState.errors, name);\n            control._subjects.state.next({\n              errors: control._formState.errors as FieldErrors<TFieldValues>,\n            });\n          }\n        });\n      } else {\n        const field: Field = get(control._fields, name);\n        if (\n          field &&\n          field._f &&\n          !(\n            getValidationModes(control._options.reValidateMode).isOnSubmit &&\n            getValidationModes(control._options.mode).isOnSubmit\n          )\n        ) {\n          validateField(\n            field,\n            control._names.disabled,\n            control._formValues,\n            control._options.criteriaMode === VALIDATION_MODE.all,\n            control._options.shouldUseNativeValidation,\n            true,\n          ).then(\n            (error) =>\n              !isEmptyObject(error) &&\n              control._subjects.state.next({\n                errors: updateFieldArrayRootError(\n                  control._formState.errors as FieldErrors<TFieldValues>,\n                  error,\n                  name,\n                ) as FieldErrors<TFieldValues>,\n              }),\n          );\n        }\n      }\n    }\n\n    control._subjects.state.next({\n      name,\n      values: cloneObject(control._formValues) as TFieldValues,\n    });\n\n    control._names.focus &&\n      iterateFieldsByAction(control._fields, (ref, key: string) => {\n        if (\n          control._names.focus &&\n          key.startsWith(control._names.focus) &&\n          ref.focus\n        ) {\n          ref.focus();\n          return 1;\n        }\n        return;\n      });\n\n    control._names.focus = '';\n\n    control._setValid();\n    _actioned.current = false;\n  }, [fields, name, control]);\n\n  React.useEffect(() => {\n    !get(control._formValues, name) && control._setFieldArray(name);\n\n    return () => {\n      const updateMounted = (name: InternalFieldName, value: boolean) => {\n        const field: Field = get(control._fields, name);\n        if (field && field._f) {\n          field._f.mount = value;\n        }\n      };\n\n      control._options.shouldUnregister || shouldUnregister\n        ? control.unregister(name as FieldPath<TFieldValues>)\n        : updateMounted(name, false);\n    };\n  }, [name, control, keyName, shouldUnregister]);\n\n  return {\n    swap: React.useCallback(swap, [updateValues, name, control]),\n    move: React.useCallback(move, [updateValues, name, control]),\n    prepend: React.useCallback(prepend, [updateValues, name, control]),\n    append: React.useCallback(append, [updateValues, name, control]),\n    remove: React.useCallback(remove, [updateValues, name, control]),\n    insert: React.useCallback(insert, [updateValues, name, control]),\n    update: React.useCallback(update, [updateValues, name, control]),\n    replace: React.useCallback(replace, [updateValues, name, control]),\n    fields: React.useMemo(\n      () =>\n        fields.map((field, index) => ({\n          ...field,\n          [keyName]: ids.current[index] || generateId(),\n        })) as FieldArrayWithId<TFieldValues, TFieldArrayName, TKeyName>[],\n      [fields, keyName],\n    ),\n  };\n}\n","import type { NodeType } from '@tiptap/pm/model'\nimport type { Transaction } from '@tiptap/pm/state'\nimport { canJoin } from '@tiptap/pm/transform'\n\nimport { findParentNode } from '../helpers/findParentNode.js'\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport { isList } from '../helpers/isList.js'\nimport type { RawCommands } from '../types.js'\n\nconst joinListBackwards = (tr: Transaction, listType: NodeType): boolean => {\n  const list = findParentNode(node => node.type === listType)(tr.selection)\n\n  if (!list) {\n    return true\n  }\n\n  const before = tr.doc.resolve(Math.max(0, list.pos - 1)).before(list.depth)\n\n  if (before === undefined) {\n    return true\n  }\n\n  const nodeBefore = tr.doc.nodeAt(before)\n  const canJoinBackwards = list.node.type === nodeBefore?.type && canJoin(tr.doc, list.pos)\n\n  if (!canJoinBackwards) {\n    return true\n  }\n\n  tr.join(list.pos)\n\n  return true\n}\n\nconst joinListForwards = (tr: Transaction, listType: NodeType): boolean => {\n  const list = findParentNode(node => node.type === listType)(tr.selection)\n\n  if (!list) {\n    return true\n  }\n\n  const after = tr.doc.resolve(list.start).after(list.depth)\n\n  if (after === undefined) {\n    return true\n  }\n\n  const nodeAfter = tr.doc.nodeAt(after)\n  const canJoinForwards = list.node.type === nodeAfter?.type && canJoin(tr.doc, after)\n\n  if (!canJoinForwards) {\n    return true\n  }\n\n  tr.join(after)\n\n  return true\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    toggleList: {\n      /**\n       * Toggle between different list types.\n       * @param listTypeOrName The type or name of the list.\n       * @param itemTypeOrName The type or name of the list item.\n       * @param keepMarks Keep marks when toggling.\n       * @param attributes Attributes for the new list.\n       * @example editor.commands.toggleList('bulletList', 'listItem')\n       */\n      toggleList: (\n        listTypeOrName: string | NodeType,\n        itemTypeOrName: string | NodeType,\n        keepMarks?: boolean,\n        attributes?: Record<string, any>,\n      ) => ReturnType\n    }\n  }\n}\n\nexport const toggleList: RawCommands['toggleList'] =\n  (listTypeOrName, itemTypeOrName, keepMarks, attributes = {}) =>\n  ({ editor, tr, state, dispatch, chain, commands, can }) => {\n    const { extensions, splittableMarks } = editor.extensionManager\n    const listType = getNodeType(listTypeOrName, state.schema)\n    const itemType = getNodeType(itemTypeOrName, state.schema)\n    const { selection, storedMarks } = state\n    const { $from, $to } = selection\n    const range = $from.blockRange($to)\n\n    const marks = storedMarks || (selection.$to.parentOffset && selection.$from.marks())\n\n    if (!range) {\n      return false\n    }\n\n    const parentList = findParentNode(node => isList(node.type.name, extensions))(selection)\n\n    if (range.depth >= 1 && parentList && range.depth - parentList.depth <= 1) {\n      // remove list\n      if (parentList.node.type === listType) {\n        return commands.liftListItem(itemType)\n      }\n\n      // change list type\n      if (isList(parentList.node.type.name, extensions) && listType.validContent(parentList.node.content) && dispatch) {\n        return chain()\n          .command(() => {\n            tr.setNodeMarkup(parentList.pos, listType)\n\n            return true\n          })\n          .command(() => joinListBackwards(tr, listType))\n          .command(() => joinListForwards(tr, listType))\n          .run()\n      }\n    }\n    if (!keepMarks || !marks || !dispatch) {\n      return (\n        chain()\n          // try to convert node to default node if needed\n          .command(() => {\n            const canWrapInList = can().wrapInList(listType, attributes)\n\n            if (canWrapInList) {\n              return true\n            }\n\n            return commands.clearNodes()\n          })\n          .wrapInList(listType, attributes)\n          .command(() => joinListBackwards(tr, listType))\n          .command(() => joinListForwards(tr, listType))\n          .run()\n      )\n    }\n\n    return (\n      chain()\n        // try to convert node to default node if needed\n        .command(() => {\n          const canWrapInList = can().wrapInList(listType, attributes)\n\n          const filteredMarks = marks.filter(mark => splittableMarks.includes(mark.type.name))\n\n          tr.ensureMarks(filteredMarks)\n\n          if (canWrapInList) {\n            return true\n          }\n\n          return commands.clearNodes()\n        })\n        .wrapInList(listType, attributes)\n        .command(() => joinListBackwards(tr, listType))\n        .command(() => joinListForwards(tr, listType))\n        .run()\n    )\n  }\n","import type { NodeType } from '@tiptap/pm/model'\n\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport { isNodeActive } from '../helpers/isNodeActive.js'\nimport type { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    toggleWrap: {\n      /**\n       * Wraps nodes in another node, or removes an existing wrap.\n       * @param typeOrName The type or name of the node.\n       * @param attributes The attributes of the node.\n       * @example editor.commands.toggleWrap('blockquote')\n       */\n      toggleWrap: (typeOrName: string | NodeType, attributes?: Record<string, any>) => ReturnType\n    }\n  }\n}\n\nexport const toggleWrap: RawCommands['toggleWrap'] =\n  (typeOrName, attributes = {}) =>\n  ({ state, commands }) => {\n    const type = getNodeType(typeOrName, state.schema)\n    const isActive = isNodeActive(state, type, attributes)\n\n    if (isActive) {\n      return commands.lift(type)\n    }\n\n    return commands.wrapIn(type, attributes)\n  }\n","import type { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    undoInputRule: {\n      /**\n       * Undo an input rule.\n       * @example editor.commands.undoInputRule()\n       */\n      undoInputRule: () => ReturnType\n    }\n  }\n}\n\nexport const undoInputRule: RawCommands['undoInputRule'] =\n  () =>\n  ({ state, dispatch }) => {\n    const plugins = state.plugins\n\n    for (let i = 0; i < plugins.length; i += 1) {\n      const plugin = plugins[i]\n      let undoable\n\n      // @ts-ignore\n      // eslint-disable-next-line\n      if (plugin.spec.isInputRules && (undoable = plugin.getState(state))) {\n        if (dispatch) {\n          const tr = state.tr\n          const toUndo = undoable.transform\n\n          for (let j = toUndo.steps.length - 1; j >= 0; j -= 1) {\n            tr.step(toUndo.steps[j].invert(toUndo.docs[j]))\n          }\n\n          if (undoable.text) {\n            const marks = tr.doc.resolve(undoable.from).marks()\n\n            tr.replaceWith(undoable.from, undoable.to, state.schema.text(undoable.text, marks))\n          } else {\n            tr.delete(undoable.from, undoable.to)\n          }\n        }\n\n        return true\n      }\n    }\n\n    return false\n  }\n","import React from 'react';\n\nimport getProxyFormState from './logic/getProxyFormState';\nimport deepEqual from './utils/deepEqual';\nimport isFunction from './utils/isFunction';\nimport { createFormControl } from './logic';\nimport type {\n  FieldValues,\n  FormState,\n  UseFormProps,\n  UseFormReturn,\n} from './types';\nimport { useIsomorphicLayoutEffect } from './useIsomorphicLayoutEffect';\n\n/**\n * Custom hook to manage the entire form.\n *\n * @remarks\n * [API](https://react-hook-form.com/docs/useform) • [Demo](https://codesandbox.io/s/react-hook-form-get-started-ts-5ksmm) • [Video](https://www.youtube.com/watch?v=RkXv4AXXC_4)\n *\n * @param props - form configuration and validation parameters.\n *\n * @returns methods - individual functions to manage the form state. {@link UseFormReturn}\n *\n * @example\n * ```tsx\n * function App() {\n *   const { register, handleSubmit, watch, formState: { errors } } = useForm();\n *   const onSubmit = data => console.log(data);\n *\n *   console.log(watch(\"example\"));\n *\n *   return (\n *     <form onSubmit={handleSubmit(onSubmit)}>\n *       <input defaultValue=\"test\" {...register(\"example\")} />\n *       <input {...register(\"exampleRequired\", { required: true })} />\n *       {errors.exampleRequired && <span>This field is required</span>}\n *       <button>Submit</button>\n *     </form>\n *   );\n * }\n * ```\n */\nexport function useForm<\n  TFieldValues extends FieldValues = FieldValues,\n  TContext = any,\n  TTransformedValues = TFieldValues,\n>(\n  props: UseFormProps<TFieldValues, TContext, TTransformedValues> = {},\n): UseFormReturn<TFieldValues, TContext, TTransformedValues> {\n  const _formControl = React.useRef<\n    UseFormReturn<TFieldValues, TContext, TTransformedValues> | undefined\n  >(undefined);\n  const _values = React.useRef<typeof props.values>(undefined);\n  const [formState, updateFormState] = React.useState<FormState<TFieldValues>>({\n    isDirty: false,\n    isValidating: false,\n    isLoading: isFunction(props.defaultValues),\n    isSubmitted: false,\n    isSubmitting: false,\n    isSubmitSuccessful: false,\n    isValid: false,\n    submitCount: 0,\n    dirtyFields: {},\n    touchedFields: {},\n    validatingFields: {},\n    errors: props.errors || {},\n    disabled: props.disabled || false,\n    isReady: false,\n    defaultValues: isFunction(props.defaultValues)\n      ? undefined\n      : props.defaultValues,\n  });\n\n  if (!_formControl.current) {\n    if (props.formControl) {\n      _formControl.current = {\n        ...props.formControl,\n        formState,\n      };\n\n      if (props.defaultValues && !isFunction(props.defaultValues)) {\n        props.formControl.reset(props.defaultValues, props.resetOptions);\n      }\n    } else {\n      const { formControl, ...rest } = createFormControl(props);\n\n      _formControl.current = {\n        ...rest,\n        formState,\n      };\n    }\n  }\n\n  const control = _formControl.current.control;\n  control._options = props;\n\n  useIsomorphicLayoutEffect(() => {\n    const sub = control._subscribe({\n      formState: control._proxyFormState,\n      callback: () => updateFormState({ ...control._formState }),\n      reRenderRoot: true,\n    });\n\n    updateFormState((data) => ({\n      ...data,\n      isReady: true,\n    }));\n\n    control._formState.isReady = true;\n\n    return sub;\n  }, [control]);\n\n  React.useEffect(\n    () => control._disableForm(props.disabled),\n    [control, props.disabled],\n  );\n\n  React.useEffect(() => {\n    if (props.mode) {\n      control._options.mode = props.mode;\n    }\n    if (props.reValidateMode) {\n      control._options.reValidateMode = props.reValidateMode;\n    }\n  }, [control, props.mode, props.reValidateMode]);\n\n  React.useEffect(() => {\n    if (props.errors) {\n      control._setErrors(props.errors);\n      control._focusError();\n    }\n  }, [control, props.errors]);\n\n  React.useEffect(() => {\n    props.shouldUnregister &&\n      control._subjects.state.next({\n        values: control._getWatch(),\n      });\n  }, [control, props.shouldUnregister]);\n\n  React.useEffect(() => {\n    if (control._proxyFormState.isDirty) {\n      const isDirty = control._getDirty();\n      if (isDirty !== formState.isDirty) {\n        control._subjects.state.next({\n          isDirty,\n        });\n      }\n    }\n  }, [control, formState.isDirty]);\n\n  React.useEffect(() => {\n    if (props.values && !deepEqual(props.values, _values.current)) {\n      control._reset(props.values, {\n        keepFieldsRef: true,\n        ...control._options.resetOptions,\n      });\n      if (!control._options.resetOptions?.keepIsValid) {\n        control._setValid();\n      }\n      _values.current = props.values;\n      updateFormState((state) => ({ ...state }));\n    } else {\n      control._resetDefaultValues();\n    }\n  }, [control, props.values]);\n\n  React.useEffect(() => {\n    if (!control._state.mount) {\n      control._setValid();\n      control._state.mount = true;\n    }\n\n    if (control._state.watch) {\n      control._state.watch = false;\n      control._subjects.state.next({ ...control._formState });\n    }\n\n    control._removeUnmounted();\n  });\n\n  _formControl.current.formState = React.useMemo(\n    () => getProxyFormState(formState, control),\n    [control, formState],\n  );\n\n  return _formControl.current;\n}\n","import { wrapIn as originalWrapIn } from '@tiptap/pm/commands'\nimport type { NodeType } from '@tiptap/pm/model'\n\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport type { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    wrapIn: {\n      /**\n       * Wraps nodes in another node.\n       * @param typeOrName The type or name of the node.\n       * @param attributes The attributes of the node.\n       * @example editor.commands.wrapIn('blockquote')\n       */\n      wrapIn: (typeOrName: string | NodeType, attributes?: Record<string, any>) => ReturnType\n    }\n  }\n}\n\nexport const wrapIn: RawCommands['wrapIn'] =\n  (typeOrName, attributes = {}) =>\n  ({ state, dispatch }) => {\n    const type = getNodeType(typeOrName, state.schema)\n\n    return originalWrapIn(type, attributes)(state, dispatch)\n  }\n","import type { NodeType } from '@tiptap/pm/model'\nimport { wrapInList as originalWrapInList } from '@tiptap/pm/schema-list'\n\nimport { getNodeType } from '../helpers/getNodeType.js'\nimport type { RawCommands } from '../types.js'\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    wrapInList: {\n      /**\n       * Wrap a node in a list.\n       * @param typeOrName The type or name of the node.\n       * @param attributes The attributes of the node.\n       * @example editor.commands.wrapInList('bulletList')\n       */\n      wrapInList: (typeOrName: string | NodeType, attributes?: Record<string, any>) => ReturnType\n    }\n  }\n}\n\nexport const wrapInList: RawCommands['wrapInList'] =\n  (typeOrName, attributes = {}) =>\n  ({ state, dispatch }) => {\n    const type = getNodeType(typeOrName, state.schema)\n\n    return originalWrapInList(type, attributes)(state, dispatch)\n  }\n","import type {\n  FieldPath,\n  FieldValues,\n  WatchProps,\n  WatchRenderValue,\n} from './types';\nimport { useWatch } from './useWatch';\n\n/**\n * Watch component that subscribes to form field changes and re-renders when watched fields update.\n *\n * @param control - The form control object from useForm\n * @param name - Can be field name, array of field names, or undefined to watch the entire form\n * @param disabled - Disable subscription\n * @param exact - Whether to watch exact field names or not\n * @param defaultValue - The default value to use if the field is not yet set\n * @param compute - Function to compute derived values from watched fields\n * @param render - The function that receives watched values and returns ReactNode\n * @returns The result of calling render function with watched values\n *\n * @example\n * The `Watch` component only re-render when the values of `foo`, `bar`, and `baz.qux` change.\n * The types of `foo`, `bar`, and `baz.qux` are precisely inferred.\n *\n * ```tsx\n * const { control } = useForm();\n *\n * <Watch\n *   control={control}\n *   names={['foo', 'bar', 'baz.qux']}\n *   render={([foo, bar, baz_qux]) => <div>{foo}{bar}{baz_qux}</div>}\n * />\n * ```\n */\nexport const Watch = <\n  TFieldValues extends FieldValues = FieldValues,\n  const TFieldName extends\n    | FieldPath<TFieldValues>\n    | FieldPath<TFieldValues>[]\n    | readonly FieldPath<TFieldValues>[]\n    | undefined = undefined,\n  TContext = any,\n  TTransformedValues = TFieldValues,\n  TComputeValue = undefined,\n>(\n  props: WatchProps<\n    TFieldName,\n    TFieldValues,\n    TContext,\n    TTransformedValues,\n    TComputeValue\n  >,\n) =>\n  props.render(\n    useWatch({ name: props.names, ...(props as any) }) as WatchRenderValue<\n      TFieldName,\n      TFieldValues,\n      TComputeValue\n    >,\n  );\n"],"names":["setCustomValidity","ref","fieldPath","error","get","errors","message","reportValidity","validateFieldsNatively","options","fields","field","refs","forEach","toNestErrors","shouldUseNativeValidation","fieldErrors","path","Object","assign","isNameInFieldArray","keys","fieldArrayErrors","set","name","names","some","escapeBrackets","n","match","input","replace","areArraysEqualDefault","areDatesEqualDefault","areFunctionsEqualDefault","areMapsEqualDefault","areObjectsEqualStrictDefault","areNumbersEqualDefault","areObjectsEqualDefault","arePrimitiveWrappersEqualDefault","areSetsEqualDefault","areTypedArraysEqualDefault","mergeAttributes","NodeSelection","insertAt","insert"],"mappings":"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","ignoreList":[1,3,4,7,9,10,11,12,13,14,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,68,69,70,71,72,73,74,75,76,77,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267]}