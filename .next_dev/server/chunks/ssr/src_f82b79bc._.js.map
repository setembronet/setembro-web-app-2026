{"version":3,"sources":["../../../../src/components/ui/input.tsx","../../../../node_modules/radix-ui/node_modules/%40radix-ui/react-label/dist/index.mjs","../../../../src/components/ui/label.tsx","../../../../src/components/ui/textarea.tsx","../../../../src/app/admin/categories/_components/CategoryForm.tsx","../../../../src/app/admin/categories/data%3Aa5b7b2%20%3Ctext/javascript%3E","../../../../src/app/admin/categories/data%3A50010c%20%3Ctext/javascript%3E"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n","\"use client\";\n\n// src/label.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"Label\";\nvar Label = React.forwardRef((props, forwardedRef) => {\n  return /* @__PURE__ */ jsx(\n    Primitive.label,\n    {\n      ...props,\n      ref: forwardedRef,\n      onMouseDown: (event) => {\n        const target = event.target;\n        if (target.closest(\"button, input, select, textarea\")) return;\n        props.onMouseDown?.(event);\n        if (!event.defaultPrevented && event.detail > 1) event.preventDefault();\n      }\n    }\n  );\n});\nLabel.displayName = NAME;\nvar Root = Label;\nexport {\n  Label,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\n\nimport * as React from \"react\"\nimport { Label as LabelPrimitive } from \"radix-ui\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n","\r\n'use client'\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { useActionState } from \"react\";\r\nimport { createCategory, updateCategory } from \"../actions\";\r\nimport { useEffect } from \"react\";\r\nimport { toast } from \"sonner\";\r\n\r\ntype CategoryFormProps = {\r\n    category?: {\r\n        id: string;\r\n        name: string;\r\n        slug: string;\r\n        description?: string;\r\n    };\r\n};\r\n\r\nconst initialState = {\r\n    message: \"\",\r\n    errors: {} as Record<string, string[]>,\r\n};\r\n\r\nexport function CategoryForm({ category }: CategoryFormProps) {\r\n    const action = category ? updateCategory.bind(null, category.id) : createCategory;\r\n    const [state, formAction] = useActionState(action, initialState);\r\n\r\n    useEffect(() => {\r\n        if (state.message && !state.errors) {\r\n            // Success handled by redirect in action, but we can toast\r\n            // Actually redirect prevents this toast usually, unless we use sessions.\r\n            // But error messages we show.\r\n            if (state.message.includes(\"Erro\")) {\r\n                toast.error(state.message);\r\n            }\r\n        }\r\n    }, [state]);\r\n\r\n    return (\r\n        <form action={formAction} className=\"space-y-6 max-w-xl\">\r\n            <div className=\"space-y-2\">\r\n                <Label htmlFor=\"name\">Nome da Categoria</Label>\r\n                <Input\r\n                    id=\"name\"\r\n                    name=\"name\"\r\n                    defaultValue={category?.name}\r\n                    placeholder=\"Ex: Desenvolvimento Web\"\r\n                    required\r\n                />\r\n                {state.errors?.name && (\r\n                    <p className=\"text-sm text-red-500\">{state.errors.name.join(\", \")}</p>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n                <Label htmlFor=\"slug\">Slug (URL)</Label>\r\n                <Input\r\n                    id=\"slug\"\r\n                    name=\"slug\"\r\n                    defaultValue={category?.slug}\r\n                    placeholder=\"Ex: desenvolvimento-web\"\r\n                    required\r\n                    pattern=\"^[a-z0-9-]+$\"\r\n                    title=\"Apenas letras minúsculas, números e hífens\"\r\n                />\r\n                {state.errors?.slug && (\r\n                    <p className=\"text-sm text-red-500\">{state.errors.slug.join(\", \")}</p>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n                <Label htmlFor=\"description\">Descrição (Opcional)</Label>\r\n                <Textarea\r\n                    id=\"description\"\r\n                    name=\"description\"\r\n                    defaultValue={category?.description}\r\n                    placeholder=\"Descrição para SEO e listagens\"\r\n                    rows={4}\r\n                />\r\n            </div>\r\n\r\n            <div className=\"flex gap-4\">\r\n                <Button type=\"submit\">\r\n                    {category ? \"Salvar Alterações\" : \"Criar Categoria\"}\r\n                </Button>\r\n                <Button variant=\"outline\" type=\"button\" onClick={() => window.history.back()}>\r\n                    Cancelar\r\n                </Button>\r\n            </div>\r\n\r\n            {state.message && state.message.includes(\"Erro\") && (\r\n                <div className=\"p-3 bg-red-50 text-red-600 rounded-md text-sm\">\r\n                    {state.message}\r\n                </div>\r\n            )}\r\n        </form>\r\n    );\r\n}\r\n","/* __next_internal_action_entry_do_not_use__ [{\"60e032e4ad3428ad4c41d34cf778e66e72756322a2\":\"createCategory\"},\"src/app/admin/categories/actions.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";const $$RSC_SERVER_ACTION_0=/*#__PURE__*/createServerReference(\"60e032e4ad3428ad4c41d34cf778e66e72756322a2\",callServer,void 0,findSourceMapURL,\"createCategory\");export{$$RSC_SERVER_ACTION_0 as createCategory};","/* __next_internal_action_entry_do_not_use__ [{\"701d083ef2585eb92680ba107f33a961429728ad23\":\"updateCategory\"},\"src/app/admin/categories/actions.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";const $$RSC_SERVER_ACTION_1=/*#__PURE__*/createServerReference(\"701d083ef2585eb92680ba107f33a961429728ad23\",callServer,void 0,findSourceMapURL,\"updateCategory\");export{$$RSC_SERVER_ACTION_1 as updateCategory};"],"names":[],"mappings":"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","ignoreList":[1]}