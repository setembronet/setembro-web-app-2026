(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,11795,e=>{"use strict";e.i(29225);var a=e.i(72390);function r(){return(0,a.createBrowserClient)("https://gpgeexulpyuwomgfcpfl.supabase.co","sb_publishable_fUkyxILv3lYC8lySFVvapg_GNRD1lIi")}e.s(["createClient",()=>r])},15288,e=>{"use strict";var a=e.i(43476),r=e.i(71645),i=e.i(75157);let t=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));t.displayName="Card";let s=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...r}));s.displayName="CardHeader";let l=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));l.displayName="CardTitle";let n=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...r}));n.displayName="CardDescription";let o=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...r}));o.displayName="CardContent";let d=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...r}));d.displayName="CardFooter",e.s(["Card",()=>t,"CardContent",()=>o,"CardDescription",()=>n,"CardFooter",()=>d,"CardHeader",()=>s,"CardTitle",()=>l])},93479,e=>{"use strict";var a=e.i(43476),r=e.i(75157);function i({className:e,type:i,...t}){return(0,a.jsx)("input",{type:i,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...t})}e.s(["Input",()=>i])},10204,e=>{"use strict";var a=e.i(43476),r=e.i(71645),i=e.i(48425),t=r.forwardRef((e,r)=>(0,a.jsx)(i.Primitive.label,{...e,ref:r,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(e.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));t.displayName="Label",e.s(["Label",()=>t,"Root",()=>t],44461);var s=e.i(44461),s=s,l=e.i(75157);function n({className:e,...r}){return(0,a.jsx)(s.Root,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}e.s(["Label",()=>n],10204)},24687,e=>{"use strict";var a=e.i(43476),r=e.i(75157);function i({className:e,...i}){return(0,a.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...i})}e.s(["Textarea",()=>i])},84677,e=>{"use strict";var a=e.i(43476),r=e.i(71645),i=e.i(18566),t=e.i(11795),s=e.i(19455),l=e.i(93479),n=e.i(10204),o=e.i(24687),d=e.i(15288),c=e.i(46696),m=e.i(31278);let u=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var p=e.i(22016);function x({initialData:e}){let x=(0,i.useRouter)(),f=(0,t.createClient)(),[h,g]=(0,r.useState)(!1),[v,b]=(0,r.useState)({name:e?.name||"",role:e?.role||"",content:e?.content||"",image_url:e?.image_url||"",link:e?.link||"",order:e?.order||0}),j=e=>{let{name:a,value:r}=e.target;b(e=>({...e,[a]:"order"===a?parseInt(r)||0:r}))},y=async a=>{a.preventDefault(),g(!0);try{let a,r={...v,role:v.role||null,image_url:v.image_url||null,link:v.link||null};if(e){let{error:i}=await f.from("testimonials").update(r).eq("id",e.id);a=i}else{let{error:e}=await f.from("testimonials").insert([r]);a=e}a?c.toast.error("Erro ao salvar: "+a.message):(c.toast.success(e?"Depoimento atualizado!":"Depoimento criado!"),x.push("/admin/testimonials"),x.refresh())}catch(e){console.error(e),c.toast.error("Erro inesperado ao salvar.")}finally{g(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(p.default,{href:"/admin/testimonials",children:(0,a.jsx)(s.Button,{variant:"outline",size:"icon",children:(0,a.jsx)(u,{className:"h-4 w-4"})})}),(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:e?"Editar Depoimento":"Novo Depoimento"})]}),(0,a.jsxs)(d.Card,{children:[(0,a.jsx)(d.CardHeader,{children:(0,a.jsx)(d.CardTitle,{children:"Informações do Depoimento"})}),(0,a.jsx)(d.CardContent,{children:(0,a.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"name",children:"Nome do Cliente *"}),(0,a.jsx)(l.Input,{id:"name",name:"name",placeholder:"Ex: Ana Silva",value:v.name,onChange:j,required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"role",children:"Cargo / Empresa"}),(0,a.jsx)(l.Input,{id:"role",name:"role",placeholder:"Ex: CEO da TechSolution",value:v.role,onChange:j})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"content",children:"Depoimento *"}),(0,a.jsx)(o.Textarea,{id:"content",name:"content",placeholder:"O que o cliente disse...",className:"min-h-[100px]",value:v.content,onChange:j,required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"image_url",children:"URL da Foto (Avatar)"}),(0,a.jsx)(l.Input,{id:"image_url",name:"image_url",placeholder:"https://...",value:v.image_url,onChange:j})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"link",children:"Link de Destino (Site do Cliente)"}),(0,a.jsx)(l.Input,{id:"link",name:"link",placeholder:"https://...",value:v.link,onChange:j})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Label,{htmlFor:"order",children:"Ordem de Exibição"}),(0,a.jsx)(l.Input,{id:"order",name:"order",type:"number",value:v.order,onChange:j,className:"w-24"})]}),(0,a.jsx)("div",{className:"flex justify-end pt-4",children:(0,a.jsxs)(s.Button,{type:"submit",disabled:h,children:[h&&(0,a.jsx)(m.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Salvar Depoimento"]})})]})})]})]})}e.s(["TestimonialForm",()=>x],84677)}]);